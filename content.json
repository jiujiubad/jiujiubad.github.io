{"meta":{"title":"Hexo","subtitle":null,"description":null,"author":"John Doe","url":"http://yoursite.com"},"pages":[],"posts":[{"title":"tool-hexo-hexoä¸»é¢˜ç¯‡ä¹‹Next","slug":"tool-hexo-hexoä¸»é¢˜ç¯‡ä¹‹Next","date":"2018-11-11T16:10:00.000Z","updated":"2018-01-14T09:43:37.000Z","comments":true,"path":"posts/3b27e0ef/","link":"","permalink":"http://yoursite.com/posts/3b27e0ef/","excerpt":"","text":"ä¸ºä»€ä¹ˆé€‰æ‹©hexoè€Œä¸ç”¨vpsæ­å»ºåšå®¢ï¼Ÿæ¯”èµ·wpæ¥è¯´ï¼Œhexoè½»é‡çº§çš„å¤šï¼Œè€Œä¸”æ˜“éƒ¨ç½²ï¼ˆæŒ‡é€Ÿåº¦ä¼˜åŒ–æ–¹é¢ï¼‰ï¼Œä¹Ÿä¸éœ€è¦ä¸€ä¸ªä¸“é—¨çš„æœåŠ¡å™¨æ¥æ”¾ç½®ï¼ˆè¿™ä¸ªå…¶å®æ˜¯æˆ‘é€‰æ‹©hexoçš„æœ€ç»ˆåŸå› ã€‚æ‰‹é‡Œè™½ç„¶æœ‰vpsï¼Œä½†æ˜¯å› ä¸ºè·‘ç€ssåŠ ä¸Šå›½å†…pingå€¼å¤ªé«˜ï¼Œæœ€ç»ˆè‚¯å®šå½±å“å›½å†…é€Ÿåº¦ï¼Œæ‰€ä»¥å°±ä¸€ç›´æ²¡ç”¨æ¥æ”¾blogï¼‰å½“ç„¶æ²¡æœ‰åå°ä¹Ÿå°±æ„å‘³ç€ä¸èƒ½éšæ—¶éšåœ°å†™äº†å°±å‘ï¼Œè¿™ä¸ªç›¸å¯¹WPæ¥è¯´æ˜¯å¼±åŠ¿ï¼Œä½†æˆ‘æ„Ÿè§‰è¿˜å¥½ï¼Œæ¯•ç«Ÿä¸ä¼šå¸¸å¸¸åœ¨å¤–é¢è·‘ï¼Œè€Œä¸”å†™åšå®¢åŸºæœ¬éƒ½æ˜¯åœ¨ç”µè„‘å‰ï¼Œå†ä¸æµä¹Ÿå¯ä»¥å…ˆæŠŠMDæ–‡ä»¶å†™å®Œåæ‹·å›å»å‘å¸ƒã€‚ css1ï¼‰ä¸¤ç§åœ¨æ–‡å­—å‰åŠ çº¢ç«–çº¿ï¼šbox-shadow: -20px 0px 0px -10px red;ï¼Œæˆ–border-left: 3px solid #FF1700; 2ï¼‰ 1![](./pic/pic1_50.png =100x100) æ ‡ç­¾ç”¨å“ªäº›ruby on railsã€markdownã€typoraã€vpsã€atomã€bugã€iterm ã€é—®é¢˜ã€‘åŸŸåå®åè®¤è¯æ˜¯ä¸æ˜¯å°±æ˜¯å·²ç»å¤‡æ¡ˆï¼Ÿä¸æ˜¯çš„ã€‚å®åè®¤è¯æ˜¯åœ¨ç½‘ç«™å¦‚é˜¿é‡Œäº‘é‡Œè®¤è¯ï¼Œè€Œå¤‡æ¡ˆæ˜¯å›½å®¶å¤‡æ¡ˆå±€çš„ã€‚ ChinaZåŸŸåå¤‡æ¡ˆæ‰¹é‡æŸ¥è¯¢ ICPå¤‡æ¡ˆæŸ¥è¯¢ ã€é—®é¢˜ã€‘å¦‚æœæ²¡æœ‰åŸŸåè§£æä¼šæ€æ ·ï¼Ÿ99åˆæ­¥ç†è§£ï¼Œè®¿é—®jiujiubad.github.io.æ—¶ä¼šè§£ææˆè´­ä¹°çš„jiujiuba.topã€‚ ã€é—®é¢˜ã€‘åŸŸåè§£æè¦é¢å¤–çš„é’±å—ï¼Ÿä¸ç”¨ï¼Œè´­ä¹°é˜¿é‡Œäº‘åŸŸåçš„åŸŸåå°±å¯ä»¥é…ç½®è§£æã€‚ ã€é—®é¢˜ã€‘ç”¨vpsä»å¤´æ­å»ºåšå®¢å¥½ï¼Œè¿˜æ˜¯ç”¨hexoï¼Ÿç”¨hexoå¥½ï¼Œå› ä¸ºæ­å»ºå¾ˆå®¹æ˜“ï¼Œåšå®¢èƒ½ç”¨å°±è¡Œæ²¡å¿…è¦å ç”¨å¤ªå¤šæ³¨æ„åŠ›ã€‚å¦å¤–ï¼Œhexoéƒ¨ç½²å¯ä»¥é€‰åœ¨åœ¨gihubï¼Œä¹Ÿå¯ä»¥é€‰åœ¨éƒ¨ç½²åœ¨vpsæœåŠ¡å™¨ä¸Šã€‚ ã€é—®é¢˜ã€‘åšå®¢æ–‡ä»¶å¼€å¤´é™¤äº†titleã€categoriesï¼Œè¿˜è¦æ·»åŠ ä»€ä¹ˆä¿¡æ¯ï¼Ÿåˆ«æé‚£ä¹ˆå¤æ‚ï¼Œå†™å‡ ä¸ªå¸¸ç”¨çš„å°±å¥½ï¼ŒåŒ…æ‹¬å››ä¸ªï¼štitleã€dateã€categoriesã€tagsï¼ŒæŒ‡å®šæ–‡ç« å†åŠ ä¸Štopã€‚ å…¶ä»–è¯¸å¦‚ç‰ˆæƒã€è¯„è®ºã€å¯†ç ï¼Œè¿˜æ˜¯ç®—äº†ï¼Œå¤ªå ç”¨æ³¨æ„åŠ›ã€‚ 1234567891011121314---title: &apos;20171014 æ­å»ºhexoåšå®¢&apos;date: 2017-12-08 12:06categories: #åˆ†ç±»tags: #æ ‡ç­¾ - æ–¹æ³•- ä½†æ˜¯top: #ç½®é¡¶ï¼Œéœ€è¦å…ˆé…ç½®comments: true #è¯„è®ºcopyright: true #ç‰ˆæƒä¿¡æ¯ï¼Œéœ€è¦å…ˆé…ç½®password: #å¯†ç ï¼Œéœ€è¦å…ˆé…ç½®--- Macä¸Šæ­å»ºHexoåšå®¢ï¼šå…¥é—¨ç¯‡å‚è€ƒé“¾æ¥ï¼šã€è½¬å‘ã€‘Macä¸Šæ­å»ºåŸºäºGitHubçš„Hexoåšå®¢ Hexoå®˜ç½‘ hexoä¸‹çš„nextä¸»é¢˜é…ç½®å®˜æ–¹æ–‡æ¡£ ã€è½¬å‘ã€‘Macä¸Šæ­å»ºåŸºäºGitHubçš„Hexoåšå®¢ Hexoå®˜ç½‘ åºç¬¬ä¸€åˆ°ç¬¬å››æ­¥ï¼Œæ˜¯hexoåšå®¢åŠnextä¸»é¢˜çš„å®‰è£…ã€‚å‰©ä¸‹çš„æ­¥éª¤æ˜¯ä¸»é¢˜ç»†èŠ‚é…ç½®ï¼ŒæŒ‰è‡ªå·±çš„ä½¿ç”¨ä¹ æƒ¯é€‰æ‹©ã€‚ ä¸€ã€ç¯å¢ƒé…ç½®1.Node.jsç”¨æ¥ç”Ÿæˆé™æ€é¡µé¢ã€‚ç§»æ­¥Node.jså®˜ç½‘ï¼Œä¸‹è½½v5.5.0 Stable ä¸€è·¯å®‰è£…å³å¯ã€‚ 2.Gitç”¨æ¥å°†æœ¬åœ°Hexoå†…å®¹æäº¤åˆ°Githubä¸Šã€‚Xcodeè‡ªå¸¦Gitï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚å¦‚æœæ²¡æœ‰Xcodeå¯ä»¥å‚è€ƒHexoå®˜ç½‘ä¸Šçš„å®‰è£…æ–¹æ³•ã€‚ äºŒã€å®‰è£…Hexoå½“Node.jså’ŒGitéƒ½å®‰è£…å¥½åå°±å¯ä»¥æ­£å¼å®‰è£…Hexoäº†ï¼Œç»ˆç«¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š 1$ sudo npm install -g hexo è¾“å…¥ç®¡ç†å‘˜å¯†ç ï¼ˆMacç™»å½•å¯†ç ï¼‰å³å¼€å§‹å®‰è£… (sudo:linuxç³»ç»Ÿç®¡ç†æŒ‡ä»¤ -g:å…¨å±€å®‰è£…) æ³¨æ„å‘ä¸€ï¼šHexoå®˜ç½‘ä¸Šçš„å®‰è£…å‘½ä»¤æ˜¯$ npm install -g hexo-cliï¼Œå®‰è£…æ—¶ä¸è¦å¿˜è®°å‰é¢åŠ ä¸Šsudoï¼Œå¦åˆ™ä¼šå› ä¸ºæƒé™é—®é¢˜æŠ¥é”™ã€‚ åˆå§‹åŒ–ç»ˆç«¯cdåˆ°ä¸€ä¸ªä½ é€‰å®šçš„ç›®å½•ï¼Œæ‰§è¡Œhexo initå‘½ä»¤ï¼š 1$ hexo init blog blogæ˜¯ä½ å»ºç«‹çš„æ–‡ä»¶å¤¹åç§°ã€‚cdåˆ°blogæ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå®‰è£…npmï¼š 1$ npm install æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå¼€å¯hexoæœåŠ¡å™¨ï¼š 1$ hexo s æ­¤æ—¶ï¼Œæµè§ˆå™¨ä¸­æ‰“å¼€ç½‘å€http://localhost:4000ï¼Œèƒ½çœ‹åˆ°å¦‚ä¸‹é¡µé¢ï¼š æœ¬åœ°è®¾ç½®å¥½åï¼Œæ¥ä¸‹æ¥å¼€å§‹å…³è”Githubã€‚ ä¸‰ã€å…³è”Github1ã€éƒ¨ç½²githubStep1 æ–°å»ºä»“åº“1ï¼‰ç™»å½•ä½ çš„Githubå¸å·ï¼Œæ–°å»ºä»“åº“ï¼Œåä¸ºç”¨æˆ·å.github.ioå›ºå®šå†™æ³•ï¼Œå¦‚ä¸‹å›¾ä¸­1æ‰€ç¤ºï¼š 2ï¼‰PSï¼šæœ¬åœ°çš„blogæ–‡ä»¶å¤¹ä¸‹å†…å®¹ä¸ºï¼š 1234567_config.yml db.json node_modules package.jsonscaffoldssourcethemes Step2 ä¿®æ”¹ç«™ç‚¹é…ç½®ç»ˆç«¯cdåˆ°blogæ–‡ä»¶å¤¹ä¸‹ï¼Œvimæ‰“å¼€ç«™ç‚¹é…ç½®æ–‡ä»¶_config.ymlï¼Œç”¨atomç¼–è¾‘æˆ–ç”¨linuxå‘½ä»¤vim _config.ymlã€‚ æ‰“å¼€ä¸‹æ»‘åˆ°æœ€åï¼Œä¿®æ”¹æˆä¸‹è¾¹çš„æ ·å­ï¼š 1234deploy: type: git repository: https://github.com/jiujiubad/jiujiubad.github.io.git branch: master ä½ éœ€è¦å°†repositoryågonghonglouæ¢æˆä½ è‡ªå·±çš„ç”¨æˆ·åï¼Œåœ°å€åœ¨ä¸Šå›¾2ä½ç½®è·å–ã€‚ æ³¨æ„å‘äºŒï¼šåœ¨é…ç½®æ‰€æœ‰çš„_config.ymlæ–‡ä»¶æ—¶ï¼ˆåŒ…æ‹¬themeä¸­çš„ï¼‰ï¼Œåœ¨æ‰€æœ‰çš„å†’å·:åè¾¹éƒ½è¦åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œå¦åˆ™æ‰§è¡Œhexoå‘½ä»¤ä¼šæŠ¥é”™ï¼Œåˆ‡è®° åˆ‡è®° Step3 ç”Ÿæˆé™ç½‘ç«™å¹¶éƒ¨ç½²1ï¼‰ 1hexo g //ç”Ÿæˆé™æ€ç½‘ç«™ï¼Œå¯¹åº”ä¸“æ¡ˆä¸‹çš„publicæ–‡ä»¶å¤¹ æ­¤æ—¶è‹¥å‡ºç°å¦‚ä¸‹æŠ¥é”™ï¼šERROR Local hexo not found in ~/blogERROR Try runing: â€˜npm install hexo â€“saveâ€™ åˆ™æ‰§è¡Œå‘½ä»¤ï¼šnpm install hexo â€“save è‹¥æ— æŠ¥é”™ï¼Œè‡ªè¡Œå¿½ç•¥æ­¤æ­¥éª¤ã€‚ 2ï¼‰æ‰§è¡Œé…ç½®å‘½ä»¤ï¼š 1hexo d //éƒ¨ç½²åˆ°github æ³¨æ„å‘ä¸‰ï¼šè‹¥æ‰§è¡Œå‘½ä»¤hexo dä»ç„¶æŠ¥é”™ï¼šæ— æ³•è¿æ¥gitæˆ–æ‰¾ä¸åˆ°gitï¼Œåˆ™æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥å®‰è£…hexo-deployer-git 12&gt; npm install hexo-deployer-git --save &gt; &gt; å†æ¬¡æ‰§è¡Œhexo gå’Œhexo då‘½ä»¤ã€‚ è‹¥ä½ æœªæ·»åŠ Githubçš„SSH keyï¼Œåˆ™æ‰§è¡Œhexo då‘½ä»¤æ—¶ç»ˆç«¯ä¼šæç¤ºä½ è¾“å…¥Githubçš„ç”¨æˆ·åå’Œå¯†ç ï¼Œå³ 12Username for &apos;https://github.com&apos;: è¾“å…¥githubç”¨æˆ·åPassword for &apos;https://github.com&apos;: è¾“å…¥githubå¯†ç  hexo då‘½ä»¤æ‰§è¡ŒæˆåŠŸåï¼Œæµè§ˆå™¨ä¸­æ‰“å¼€ç½‘å€http://gonghonglou.github.ioï¼ˆå°†gonghonglouæ¢æˆä½ çš„ç”¨æˆ·åï¼‰èƒ½çœ‹åˆ°å’Œæ‰“å¼€http://localhost:4000æ—¶ä¸€æ ·çš„é¡µé¢ã€‚ 2ã€æ·»åŠ å…¬é’¥ssh keyï¼ˆéƒ¨ç½²githubä¸ç”¨è¾“å…¥è´¦å·å¯†ç ï¼‰Step1 æ£€æŸ¥SSH keysæ˜¯å¦å­˜åœ¨Githubæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œæ£€æŸ¥SSH keysæ˜¯å¦å­˜åœ¨ã€‚å¦‚æœæœ‰æ–‡ä»¶id_rsa.pubæˆ–id_dsa.pubï¼Œåˆ™ç›´æ¥è¿›å…¥æ­¥éª¤1.3å°†SSH keyæ·»åŠ åˆ°Githubä¸­ï¼Œå¦åˆ™è¿›å…¥ä¸‹ä¸€æ­¥ç”ŸæˆSSH keyã€‚ 1$ ls -al ~/.ssh Step2 ç”Ÿæˆæ–°çš„ssh keyæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ç”Ÿæˆpublic/private rsa key pairï¼Œæ³¨æ„å°†your_email@example.comæ¢æˆä½ è‡ªå·±æ³¨å†ŒGithubçš„é‚®ç®±åœ°å€ã€‚ 1$ ssh-keygen -t rsa -C &quot;your_email@example.com&quot; é»˜è®¤ä¼šåœ¨ç›¸åº”è·¯å¾„ä¸‹ï¼ˆ~/.ssh/id_rsa.pubï¼‰ç”Ÿæˆid_rsaå’Œid_rsa.pubä¸¤ä¸ªæ–‡ä»¶ã€‚ Step3 å°†ssh keyæ·»åŠ åˆ°Githubä¸­ Findå‰å¾€æ–‡ä»¶å¤¹~/.ssh/id_rsa.pubæ‰“å¼€id_rsa.pubæ–‡ä»¶ï¼Œé‡Œé¢çš„ä¿¡æ¯å³ä¸ºSSH keyï¼Œå°†è¿™äº›ä¿¡æ¯å¤åˆ¶åˆ°Githubçš„Add SSH keyé¡µé¢å³å¯ã€‚ macæ˜¾ç¤ºéšè—æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ 1defaults write com.apple.finder AppleShowAllFiles -boolean true ; killall Finder å†æ¬¡éšè—è¾“å…¥ 1defaults write com.apple.finder AppleShowAllFiles -boolean false ; killall Finder id_rsa.pubè¿™ç§pubç»“å°¾çš„æ–‡ä»¶æ€ä¹ˆæ‰“å¼€ï¼Ÿ ç”¨atomç­‰ç¼–è¾‘å™¨ï¼Œæ‰“å¼€åå…¨éƒ¨å¤åˆ¶ç²˜è´´åˆ°githubçš„sshè®¾ç½®ä¸­ è¿›å…¥Github â€“&gt; Settings â€“&gt; SSH keys â€“&gt; add SSH key: Titleé‡Œä»»æ„æ·»ä¸€ä¸ªæ ‡é¢˜ï¼ˆæˆ–ä¸æ·»åŠ ï¼‰ï¼Œå°†å¤åˆ¶çš„å†…å®¹ç²˜è´´åˆ°Keyé‡Œï¼Œç‚¹å‡»ä¸‹æ–¹Add keyç»¿è‰²æŒ‰é’®å³å¯ã€‚ 3ã€å‘å¸ƒæ–‡ç« ç»ˆç«¯cdåˆ°blogæ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ–°å»ºæ–‡ç« ï¼š 1$ hexo new &quot;postName&quot; åä¸ºpostName.mdçš„æ–‡ä»¶ä¼šå»ºåœ¨ç›®å½•/blog/source/_postsä¸‹ï¼ŒpostNameæ˜¯æ–‡ä»¶åï¼Œä¸ºæ–¹ä¾¿é“¾æ¥ä¸å»ºè®®æºæ‚æ±‰å­—ã€‚ä½ å½“ç„¶å¯ä»¥ç”¨vimæ¥ç¼–è¾‘æ–‡ç« ã€‚æˆ‘åœ¨ç”¨Mouç¼–è¾‘å™¨ï¼Œæ”¯æŒé¢„è§ˆï¼Œè™½ç„¶å…¶é¢„è§ˆä¸»é¢˜å¹¶éæˆ‘å–œæ¬¢ï¼Œå¦‚æœä½ æœ‰å¥½ç”¨çš„markdownç¼–è¾‘å™¨è¯·æ¨èç»™æˆ‘ï¼Œæ„Ÿæ¿€ä¸å°½ï¼ æ–‡ç« ç¼–è¾‘å®Œæˆåï¼Œç»ˆç«¯cdåˆ°blogæ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥å‘å¸ƒï¼š 123hexo generate //ç”Ÿæˆé™æ€é¡µé¢hexo deploy //å°†æ–‡ç« éƒ¨ç½²åˆ°Github è‡³æ­¤ï¼ŒMacä¸Šæ­å»ºåŸºäºGithubçš„Hexoåšå®¢å°±å®Œæˆäº†ã€‚ä¸‹é¢çš„å†…å®¹æ˜¯ä»‹ç»å®‰è£…themeå’Œç»‘å®šä¸ªäººåŸŸåï¼Œå¦‚æœæœ‰å…´è¶£ä¸”è¿˜æœ‰è€å¿ƒçš„è¯ï¼Œè¯·ç»§ç»­å§ã€‚ Macæ­å»ºHexoåšå®¢ï¼šè¿›é˜¶ç¯‡ä¸€ã€å®‰è£…ä¸»é¢˜ä½ å¯ä»¥åˆ°Hexoå®˜ç½‘ä¸»é¢˜é¡µå»æœå¯»è‡ªå·±å–œæ¬¢çš„themeã€‚æœ€å¸¸ç”¨æœ€å¤šäººç”¨çš„æ˜¯hexo-theme-nextï¼Œä»¥æ­¤ä¸ºä¾‹ã€‚ Step1ç»ˆç«¯cdåˆ° blog ç›®å½•ä¸‹æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š 1$ git clone https://github.com/iissnan/hexo-theme-next themes/next Step2å°†blogç›®å½•ä¸‹_config.ymlé‡Œthemeçš„åç§°landscapeä¿®æ”¹ä¸ºnext Step3ç»ˆç«¯cdåˆ°blogç›®å½•ä¸‹æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤(æ¯æ¬¡éƒ¨ç½²æ–‡ç« çš„æ­¥éª¤)ï¼š 123456hexo clean //åˆ é™¤ç½‘ç«™ï¼Œå³åˆ é™¤publicæ–‡ä»¶å¤¹hexo g //ç”Ÿæˆç½‘ç«™ï¼Œå³ç”Ÿæˆpublicæ–‡ä»¶å¤¹hexo d //éƒ¨ç½²åˆ°githubï¼Œè¦å…ˆç«™ç‚¹é…ç½®æ·»åŠ githubåœ°å€hexo s //è¿è¡Œhexoï¼Œæ‰“å¼€ç½‘å€http://localhost:4000/æŸ¥çœ‹åšå®¢ctrl+c //åœæ­¢hexo s è‡³äºæ›´æ”¹themeå†…å®¹æ¯”å¦‚åç§°ã€æè¿°ã€å¤´åƒç­‰å»ä¿®æ”¹blog/_config.ymlæ–‡ä»¶å’Œblog/themes/next/_config.ymlæ–‡ä»¶ä¸­å¯¹åº”çš„å±æ€§åç§°å³å¯ï¼Œ ä¸è¦å¿˜è®°å†’å·:ååŠ ç©ºæ ¼ã€‚ NexT ä½¿ç”¨æ–‡æ¡£é‡Œæœ‰æè¯¦ç»†çš„ä»‹ç»ã€‚ ã€bugã€‘ã€è§£å†³ deploy ååšå®¢ç©ºç™½é—®é¢˜æ˜¨æ™šæ›´æ–°äº†ä¸€ä¸‹ blog åšäº†ä¸ªéƒ¨ç½²ï¼Œç»“æœblogå°±æŒ‚äº†ï¼Œæ‰“å¼€ gonghonglou.com é¡µé¢æ˜¾ç¤ºä¸€ç‰‡ç©ºç™½ã€‚ç„¶è€Œ hexo så¼€å¯æœ¬åœ°æœåŠ¡å™¨ localhost:4000 è®¿é—®æ˜¯æ²¡é—®é¢˜çš„ã€‚ä¸Šç½‘æŸ¥äº†ä¸€ä¸‹ï¼ŒåŸæ¥æ˜¯ GitHub Pages ç¦æ­¢äº† source/vendors ç›®å½•çš„è®¿é—®ã€‚Github åœ¨ 11 æœˆ 3 æ—¥æ›´æ–°äº†ç‰ˆæœ¬ã€‚å…¶ä¸­åŒ…æ‹¬å‡çº§äº† Jekyll åˆ° 3.3ã€‚Jekyll ä¸ºäº†åŠ å¿«æ„å»ºé€Ÿåº¦ï¼Œå¿½ç•¥ vendor å’Œ node_modules æ–‡ä»¶å¤¹ã€‚æ‰€ä»¥éƒ¨ç½²åˆ° GitHub åï¼Œè¯†åˆ«ä¸åˆ°æœ¬åœ°ä¸‹çš„çš„è¿™ä¸ªæ–‡ä»¶å¤¹ blog/themes/next/source/vendorï¼Œä½ åªéœ€è¦ç»™è¿™ä¸ªæ–‡ä»¶å¤¹æ¢ä¸ªåå­—å†é‡æ–°éƒ¨ç½²ä¸€æ¬¡å°± OK äº†ã€‚nexT åœ¨ GitHub ä¸Šçš„ isusses å·²ç»ç»™å‡ºäº†è§£å†³æ–¹æ¡ˆï¼š#1214 è¿˜æœ‰å¦ä¸€ç§è§£å†³æ–¹æ¡ˆå°±æ˜¯å‡çº§ nexT ä¸»é¢˜ï¼Œcd åˆ° blog/themes/next/ ä¸‹æ‰§è¡Œå‘½ä»¤ git pull æ›´æ–°ã€‚ç„¶è€Œï¼Œæœ‰å¯èƒ½å‡çº§åå¤šè¯´è¯„è®ºç­‰ç¬¬ä¸‰æ–¹å·¥å…·ä¼šå¤±æ•ˆï¼Œæ…ç”¨ã€‚ è¿›é˜¶å‰ã€éœ€è¦çŸ¥é“çš„å‘½ä»¤ï¼šâ‘ ã€ä¿®æ”¹æœ¬åœ°é…ç½®åè¦ctrl+cå…³é—­hexo sçš„çª—å£ï¼Œå†é‡æ–°hexo sæ‰ä¼šåœ¨localhost:4000/ä¸Šç”Ÿæ•ˆã€‚â‘¡ã€å¦‚æœæ˜¯ç»§ç»­ä¸Šä¼ æ›´å¤šæ–‡ä»¶ï¼ŒæŠŠæ–‡ä»¶æ”¾å…¥ä¸“æ¡ˆ/source/_postsæ–‡ä»¶å¤¹ä¸­ï¼Œç„¶åhexo gï¼Œé‡æ–°hexo såœ¨localhost:4000ä¸Šå¯ä»¥æŸ¥çœ‹æœ¬åœ°æ•ˆæœã€‚æœ€åhexo d ä¸Šä¼ åˆ°githubã€‚â‘¢ã€å¦‚æœæƒ³æ¸…ç©ºæ–‡ç« é‡æ–°ä¸Šä¼ ï¼Œå…ˆhexo cleanï¼ŒæŠŠæ–‡ä»¶æ”¾å…¥ä¸“æ¡ˆ/source/_postsæ–‡ä»¶å¤¹ä¸­ï¼Œç„¶åhexo gï¼Œé‡æ–°hexo såœ¨localhost:4000ä¸Šå¯ä»¥æŸ¥çœ‹æœ¬åœ°æ•ˆæœã€‚æœ€åhexo d ä¸Šä¼ åˆ°githubã€‚è¿›é˜¶ä¸€ã€ç»‘å®šä¸ªäººåŸŸåç°åœ¨ä½¿ç”¨çš„åŸŸåæ˜¯Githubæä¾›çš„äºŒçº§åŸŸåï¼Œä¹Ÿå¯ä»¥ç»‘å®šä¸ºè‡ªå·±çš„ä¸ªæ€§åŸŸåã€‚è´­ä¹°åŸŸåï¼Œå¯ä»¥åˆ°GoDaddyå®˜ç½‘ï¼Œç½‘å‹äº²åˆ‡ç§°å‘¼ä¸ºï¼šç‹—çˆ¹ï¼Œä¹Ÿå¯ä»¥åˆ°é˜¿é‡Œä¸‡ç½‘è´­ä¹°ã€‚æˆ‘æ˜¯åœ¨ä¸‡ç½‘ä¹°çš„ï¼Œå¯ç›´æ¥åœ¨å…¶ç½‘ç«™åšåŸŸåè§£æã€‚ 1.Githubç«¯Step1 æ–°å»ºCNAME1ï¼‰touch source/CNAMEï¼Œæœ€å¥½ç”¨touchæ–°å»ºï¼Œè¯•è¿‡åœ¨atomç”¨å³é”®æ–°å»ºæ–‡ä»¶ç±»å‹ä¸ä¸€æ ·ã€‚ 2ï¼‰CNAMEå†™å…¥ä½ çš„åŸŸåï¼Œå¦‚jiujiubad.topã€‚ 3ï¼‰é‡æ–°éƒ¨ç½²ã€‚æ³¨æ„ä¸‰ä¸ªå‘½ä»¤éƒ½è¦æ‰§è¡Œï¼Œå¦åˆ™CNAMEä¸ä¼šéƒ¨ç½²åˆ°githubã€‚ 123hexo cleanhexo ghexo d æ³¨æ„å‘å››ï¼šç½‘ä¸Šè®¸å¤šéƒ½æ˜¯è¯´åœ¨Githubä¸Šç›´æ¥æ–°å»ºCNAMEæ–‡ä»¶ï¼Œå¦‚æœè¿™æ ·çš„è¯ï¼Œåœ¨ä½ ä¸‹ä¸€æ¬¡æ‰§è¡Œhexo déƒ¨ç½²å‘½ä»¤åCNAMEæ–‡ä»¶å°±æ¶ˆå¤±äº†ï¼Œå› ä¸ºæœ¬åœ°æ²¡æœ‰æ­¤æ–‡ä»¶å˜›ã€‚ 2.åŸŸåè§£æå¦‚æœå°†åŸŸåæŒ‡å‘ä¸€ä¸ªåŸŸåï¼Œå®ç°ä¸è¢«æŒ‡å‘åŸŸåç›¸åŒçš„è®¿é—®æ•ˆæœï¼Œéœ€è¦å¢åŠ CNAMEè®°å½•ã€‚ç™»å½•ä¸‡ç½‘ï¼Œåœ¨ä½ è´­ä¹°çš„åŸŸååè¾¹ç‚¹å‡»ï¼šè§£æ â€“&gt; æ·»åŠ è§£æ è®°å½•ç±»å‹ï¼šCNAME ä¸»æœºè®°å½•ï¼šå°†åŸŸåè§£æä¸ºexample.comï¼ˆä¸å¸¦wwwï¼‰ï¼Œå¡«å†™@æˆ–è€…ä¸å¡«å†™ è®°å½•å€¼ï¼šgonghonglou.github.io. (ä¸è¦å¿˜è®°æœ€åçš„.ï¼Œgonghonglouæ”¹ä¸ºä½ è‡ªå·±çš„ç”¨æˆ·å)ï¼Œç‚¹å‡»ä¿å­˜å³å¯ï¼Œå¦‚ä¸‹å›¾ï¼š æ­¤æ—¶ï¼Œç‚¹å‡»è®¿é—®http://gonghonglou.comå’Œè®¿é—®http://gonghonglou.github.ioæ•ˆæœä¸€è‡´ã€‚ å¤§åŠŸå‘Šæˆï¼ è¿›é˜¶äºŒã€å°†ä¸ªäººåšå®¢åŒæ—¶éƒ¨ç½²åˆ° GitHub å’Œ Codingï¼ï¼ï¼ä¸è¦æŠ˜è…¾äº†ï¼ŒCodingæœ‰å¹¿å‘Šä¸å¥½ç”¨1ã€é¦–å…ˆåˆ° Coding ä¸Šæ³¨å†Œå¹¶å¼€ä¸€ä¸ªé¡¹ç›®ï¼Œé¡¹ç›®åç§°å’Œç”¨æˆ·ä¸ªæ€§åç¼€ç›¸åŒï¼ˆæ–¹ä¾¿äºŒçº§åŸŸåè®¿é—®åšå®¢ï¼‰ï¼Œæ‹¿åˆ°é¡¹ç›®çš„ https åœ°å€ 2ã€æ‰“å¼€æœ¬åœ° blog ç›®å½•ä¸‹çš„ _config.yml æ–‡ä»¶ï¼Œä¿®æ”¹å¦‚ä¸‹ 123456deploy: type: git repository: github: https://github.com/gonghonglou/gonghonglou.github.io.git coding: https://git.coding.net/gonghonglou/gonghonglou.git branch: master 3ã€cd åˆ°æœ¬åœ° blog/source ç›®å½•ä¸‹æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ–°å»º Staticfile æ–‡ä»¶ 1$ touch Staticfile #åå­—å¿…é¡»æ˜¯Staticfile åŸå› æ˜¯ coding.net éœ€è¦ä»¥è¿™ä¸ªæ–‡ä»¶æ¥ä½œä¸ºé™æ€æ–‡ä»¶éƒ¨ç½²çš„æ ‡å¿—ï¼Œå°±æ˜¯è¯´çœ‹åˆ°è¿™ä¸ª Staticfile å°±çŸ¥é“æŒ‰ç…§é™æ€æ–‡ä»¶æ¥å‘å¸ƒã€‚ 4ã€æ‰§è¡Œå‘å¸ƒå‘½ä»¤ hexo g ã€ hexo d 5ã€ä¸ªäººåŸŸåæ·»åŠ ä¸¤æ¡ CNAME è§£æã€‚å°† gonghonglou.github.io. è§£æä¸º [æµ·å¤–] ï¼Œå°† gonghonglou.coding.me. è§£æä¸º [é»˜è®¤] è¿™æ ·å°±æ˜¯ä¸ºäº†ä»å›½å†…è®¿é—® gonghonglou.com å°±æ˜¯è®¿é—® Coding ä¸Šçš„åšå®¢é¡¹ç›®ï¼Œä»å›½å¤–è®¿é—® gonghonglou.comå°±æ˜¯è®¿é—® GitHub ä¸Šçš„åšå®¢é¡¹ç›®ã€‚ 6ã€åˆ° Coding ä¸Šçš„åšå®¢é¡¹ç›®ä¸»é¡µï¼Œç‚¹å‡» PagesæœåŠ¡ è¾“å…¥éƒ¨ç½²åˆ†æ”¯ master ç«‹å³å¼€å¯ è¿™æ ·å°±å¯ä»¥è®¿é—®è‡ªå·±åœ¨ Coding ä¸Šçš„ä¸ªäººåšå®¢äº† gonghonglou.coding.me/gonghonglou å¦‚æœåƒè¿™æ ·ä½ çš„ç”¨æˆ·åç¼€åä¸åšå®¢é¡¹ç›®åç§°ç›¸åŒä½ è¿˜å¯ä»¥çœç•¥é¡¹ç›®åç§°ç›´æ¥è®¿é—® gonghonglou.coding.me ã€bugã€‘æ˜¾ç¤ºä»“åº“å°šæœªåˆå§‹åŒ–ï¼Œä¸èƒ½é€‰æ‹©éƒ¨ç½²åˆ†æ”¯ï¼Ÿ è§£å†³åŠæ³•ï¼šåŸå› æ˜¯ä»£ç è¿˜æ²¡ä¸Šä¼ ï¼Œå›åˆ°ç»ˆç«¯æˆ–itemçœ‹çœ‹ï¼Œå‘ç°æ²¡æœ‰ç™»å½•ã€‚ 7ã€æ·»åŠ åŸŸåç»‘å®šï¼Œè¾“å…¥ä¸ªäººåŸŸåå°± OK äº†ï¼Œå¯èƒ½éœ€è¦è€å¿ƒç­‰å¾…å‡ åˆ†é’Ÿï¼Œè¿™æ ·åœ¨å›½å†…è®¿é—®è‡ªå·±çš„åšå®¢å°±å¿«å¾—å¤šäº†ã€‚ è¯•äº†ä¸€ä¸‹åœ¨å›½å†…è®¿é—® gonghonglou.com æ‹¦ä¸ä½ è¦é£èµ·æ¥äº†ğŸ˜‚ ã€bugã€‘è¿™ä¸€æ­¥æ²¡åšï¼Œç›´æ¥è¾“å…¥ç½‘å€å‡ºç°404 è§£å†³åŠæ³•ï¼šå‡çº§é“¶ç‰Œä¼šå‘˜ï¼ˆè¡¥å……ä¸ªäººèµ„æ–™å³å¯ï¼‰æ³¨æ„åˆ«æ¼å¡«äº†æœ€ä¸Šæ–¹çš„æ‰‹æœºå·ï¼Œç„¶åç»‘å®šåŸŸåã€‚ 8ã€å¯ä»¥ä¸ºcoding.netä¸Šçš„è®¾ç½®ï¼Œä¹Ÿæ·»åŠ SSHå…¬é’¥ï¼Œæ–¹æ³•è·Ÿä¸Šé¢githubçš„æ“ä½œä¸€æ ·ï¼Œå› ä¸ºä¸€å°ç”µè„‘ç”¨ä¸€ä¸ªå…¬é’¥æ‰€ä»¥ä¸ç”¨é‡å¤ç”Ÿæˆï¼Œç›´æ¥å¤åˆ¶ä»£ç å³å¯ã€‚ æ­å»ºåçš„ç¾åŒ–ï¼ˆåªé€‰å‚è€ƒé“¾æ¥ä¸­è‡ªå·±éœ€è¦çš„åŠŸèƒ½ï¼‰å‚è€ƒé“¾æ¥ï¼šhexoåšå®¢çš„èƒŒæ™¯è®¾ç½® 5. ä¿®æ”¹æ–‡ç« å†…é“¾æ¥æ–‡æœ¬æ ·å¼å®ç°æ•ˆæœå›¾ å…·ä½“å®ç°æ–¹æ³•ä¿®æ”¹æ–‡ä»¶ themes\\next\\source\\css\\_common\\components\\post\\post.stylï¼Œåœ¨æœ«å°¾æ·»åŠ å¦‚ä¸‹cssæ ·å¼ï¼Œï¼š 12345678910// æ–‡ç« å†…é“¾æ¥æ–‡æœ¬æ ·å¼.post-body p a&#123; color: #0593d3; border-bottom: none; &amp;:hover &#123; color: #fc6423; border-bottom: none; border-bottom: 1px solid #fc6423; &#125;&#125; å…¶ä¸­é€‰æ‹©.post-body æ˜¯ä¸ºäº†ä¸å½±å“æ ‡é¢˜ï¼Œé€‰æ‹© p æ˜¯ä¸ºäº†ä¸å½±å“é¦–é¡µâ€œé˜…è¯»å…¨æ–‡â€çš„æ˜¾ç¤ºæ ·å¼,é¢œè‰²å¯ä»¥è‡ªå·±å®šä¹‰ã€‚ border-bottom: 1px solid #fc6423;è¿™ä¸€è¡Œæ˜¯ä¸‹åˆ’çº¿ã€‚ æ³¨æ„ï¼šè¿™æ ·è®¾ç½®åæ˜¯ä¸èƒ½åœ¨é“¾æ¥å‰åŠ  çš„ï¼ŒåŠ åé¢œè‰²ä¸èƒ½æ”¹å˜ã€‚ 9. åšæ–‡å‹ç¼©ï¼ï¼ä¸è¦æŠ˜è…¾äº†ï¼Œæ²¡åµç”¨æ„Ÿè§‰æ›´æ…¢ä½œç”¨æ˜¯å»æ‰å¤šä½™ä»£ç ï¼ŒåŠ é€Ÿç½‘ç«™ã€‚åœ¨ç«™ç‚¹çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š 12$ npm install gulp -g$ npm install gulp-minify-css gulp-uglify gulp-htmlmin gulp-htmlclean gulp --save åœ¨å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ–°å»º gulpfile.js ï¼Œå¹¶å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š 123456789101112131415161718192021222324252627282930313233var gulp = require(&apos;gulp&apos;);var minifycss = require(&apos;gulp-minify-css&apos;);var uglify = require(&apos;gulp-uglify&apos;);var htmlmin = require(&apos;gulp-htmlmin&apos;);var htmlclean = require(&apos;gulp-htmlclean&apos;);// å‹ç¼© public ç›®å½• cssgulp.task(&apos;minify-css&apos;, function() &#123; return gulp.src(&apos;./public/**/*.css&apos;) .pipe(minifycss()) .pipe(gulp.dest(&apos;./public&apos;));&#125;);// å‹ç¼© public ç›®å½• htmlgulp.task(&apos;minify-html&apos;, function() &#123; return gulp.src(&apos;./public/**/*.html&apos;) .pipe(htmlclean()) .pipe(htmlmin(&#123; removeComments: true, minifyJS: true, minifyCSS: true, minifyURLs: true, &#125;)) .pipe(gulp.dest(&apos;./public&apos;))&#125;);// å‹ç¼© public/js ç›®å½• jsgulp.task(&apos;minify-js&apos;, function() &#123; return gulp.src(&apos;./public/**/*.js&apos;) .pipe(uglify()) .pipe(gulp.dest(&apos;./public&apos;));&#125;);// æ‰§è¡Œ gulp å‘½ä»¤æ—¶æ‰§è¡Œçš„ä»»åŠ¡gulp.task(&apos;default&apos;, [ &apos;minify-html&apos;,&apos;minify-css&apos;,&apos;minify-js&apos;]); ç”Ÿæˆåšæ–‡æ˜¯æ‰§è¡Œ hexo g &amp;&amp; gulp å°±ä¼šæ ¹æ® gulpfile.js ä¸­çš„é…ç½®ï¼Œå¯¹ public ç›®å½•ä¸­çš„é™æ€èµ„æºæ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼ˆä»¥åä½¿ç”¨hexo gå¯ä»¥çœ‹åˆ°æ¯ä¸ªæ–‡ä»¶åœ¨å‹ç¼©çš„è¿›åº¦ç™¾åˆ†ä¹‹å¤šå°‘ï¼‰ã€‚ 10. ä¿®æ”¹â€œä»£ç å—è‡ªå®šä¹‰æ ·å¼å®ç°æ•ˆæœå›¾ å…·ä½“å®ç°æ–¹æ³• æ‰“å¼€\\themes\\next\\source\\css\\_custom\\custom.styl,å‘é‡Œé¢åŠ å…¥ï¼š(é¢œè‰²å¯ä»¥è‡ªå·±å®šä¹‰) 123456789101112131415// å°ä»£ç å—çš„æ ·å¼code &#123; color: #ff7600; background-color: rgba(255,255,255,0.1); font-size: 16px;&#125;// å¤§ä»£ç å—çš„è‡ªå®šä¹‰æ ·å¼.highlight, pre &#123; margin: 5px 0; padding: 5px; border-radius: 3px;&#125;.highlight, code, pre &#123; border: 1px solid #d6d6d6;&#125; 16. æ·»åŠ  README.md æ–‡ä»¶æ¯ä¸ªé¡¹ç›®ä¸‹ä¸€èˆ¬éƒ½æœ‰ä¸€ä¸ª README.md æ–‡ä»¶ï¼Œä½†æ˜¯ä½¿ç”¨ hexo éƒ¨ç½²åˆ°ä»“åº“åï¼Œé¡¹ç›®ä¸‹æ˜¯æ²¡æœ‰ README.mdæ–‡ä»¶çš„ã€‚ åœ¨ Hexo ç›®å½•ä¸‹çš„ source æ ¹ç›®å½•ä¸‹æ·»åŠ ä¸€ä¸ª README.md æ–‡ä»¶ï¼Œä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.ymlï¼Œå°†skip_render å‚æ•°çš„å€¼è®¾ç½®ä¸º 1skip_render: README.md ä¿å­˜é€€å‡ºå³å¯ã€‚å†æ¬¡ä½¿ç”¨ hexo d å‘½ä»¤éƒ¨ç½²åšå®¢çš„æ—¶å€™å°±ä¸ä¼šåœ¨æ¸²æŸ“ README.md è¿™ä¸ªæ–‡ä»¶äº†ã€‚ 18. å®ç°ç»Ÿè®¡åŠŸèƒ½å®ç°æ•ˆæœå›¾ å…·ä½“å®ç°æ–¹æ³• åœ¨æ ¹ç›®å½•ä¸‹å®‰è£… hexo-wordcount,è¿è¡Œï¼š 1$ npm install hexo-wordcount --save ç„¶ååœ¨ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œé…ç½®å¦‚ä¸‹ï¼š 123456# Post wordcount display settings# Dependencies: https://github.com/willin/hexo-wordcountpost_wordcount: item_text: true wordcount: true min2read: true 20. åœ¨æ–‡ç« åº•éƒ¨å¢åŠ ç‰ˆæƒä¿¡æ¯ 1ã€ä¸»é¢˜é»˜è®¤çš„ç‰ˆæƒå£°æ˜é…ç½®åœ¨themes\\next\\_config.ymlæ–‡ä»¶ä¸­ï¼Œè®¾ç½®å¦‚ä¸‹ï¼š 12345# Declare license on postspost_copyright: enable: false license: CC BY-NC-SA 3.0 license_url: https://creativecommons.org/licenses/by-nc-sa/3.0/ 2ã€æ‰“å¼€next\\layout/_macro/ï¼Œæ–°å»ºmy-copyright.swigï¼š 1234567891011121314&#123;% if page.copyright %&#125;&lt;div class=&quot;my_post_copyright&quot;&gt; &lt;script src=&quot;//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js&quot;&gt;&lt;/script&gt; &lt;!-- JSåº“ sweetalert å¯ä¿®æ”¹è·¯å¾„ --&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;http://jslibs.wuxubj.cn/sweetalert_mini/jquery-1.7.1.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.min.js&quot;&gt;&lt;/script&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.mini.css&quot;&gt; &lt;p&gt;&lt;span&gt;æ–‡ç« ä½œè€…:&lt;/span&gt;&lt;a href=&quot;/&quot; title=&quot;è®¿é—® &#123;&#123; theme.author &#125;&#125; çš„ä¸ªäººåšå®¢&quot;&gt;&#123;&#123; theme.author &#125;&#125;&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;span&gt;æœ€åæ›´æ–°:&lt;/span&gt;&#123;&#123; page.updated.format(&quot;YYYYå¹´MMæœˆDDæ—¥ HH:MM:ss&quot;) &#125;&#125;&lt;/p&gt; &lt;p&gt;&lt;span&gt;åŸå§‹é“¾æ¥:&lt;/span&gt;&lt;a href=&quot;&#123;&#123; url_for(page.path) &#125;&#125;&quot; title=&quot;&#123;&#123; page.title &#125;&#125;&quot;&gt;&#123;&#123; page.permalink &#125;&#125;&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;span&gt;ç‰ˆæƒå£°æ˜:&lt;/span&gt;æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ &lt;i class=&quot;fa fa-creative-commons&quot;&gt;&lt;/i&gt; &lt;a rel=&quot;license&quot; href=&quot;https://creativecommons.org/licenses/by-nc-sa/3.0/&quot; target=&quot;_blank&quot; title=&quot;Attribution-NonCommercial-ShareAlike 3.0 Unported (CC BY-NC-SA 3.0)&quot;&gt; BY-NC-SA 3.0 è®¸å¯åè®®&lt;/a&gt;ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼&lt;/p&gt; &lt;/div&gt;&#123;% endif %&#125; 3ã€æ‰“å¼€/next/source/css/_common/components/post/ï¼Œ æ·»åŠ my-post-copyright.stylï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445.my_post_copyright &#123; width: 96%; max-width: 65em; margin: 2.8em auto 0; padding: 0.5em 1.0em; border-left: 3px solid #FF0000; font-size: 0.85rem; line-height: 1.6em; word-break: break-all; background: rgba(255,255,255,0.4);&#125;.my_post_copyright p&#123;margin:0;&#125;.my_post_copyright span &#123; display: inline-block; width: 5.2em; color: #000000; font-weight: normal;&#125;.my_post_copyright .raw &#123; margin-left: 1em; width: 5em;&#125;.my_post_copyright a &#123; color: #808080; border-bottom:0;&#125;.my_post_copyright a:hover &#123; color: #a3d2a3; text-decoration: underline;&#125;.my_post_copyright:hover .fa-clipboard &#123; color: #000;&#125;.my_post_copyright .post-url:hover &#123; font-weight: normal;&#125;.my_post_copyright .copy-path &#123; margin-left: 1em; width: 1em; +mobile()&#123;display:none;&#125;&#125;.my_post_copyright .copy-path:hover &#123; color: #808080; cursor: pointer;&#125; å¦‚æœæƒ³è¦æ›´æ”¹ç‰ˆæƒæ¨¡å—çš„çº¢æ¡é¢œè‰²ã€èƒŒæ™¯é¢œè‰²ã€é€æ˜åº¦ç­‰ï¼Œå¯ä»¥åœ¨.my_post_copyrightæ ‡ç­¾é‡Œæ›´æ”¹ã€‚ 4ã€ä¿®æ”¹next/layout/_macro/post.swigï¼Œåœ¨ä»£ç  12345&#123;% if theme.wechat_subscriber.enabled and not is_index %&#125; &lt;div&gt; &#123;% include &apos;wechat-subscriber.swig&apos; %&#125; &lt;/div&gt;&#123;% endif %&#125; ä¹‹å‰æ·»åŠ å¢åŠ å¦‚ä¸‹ä»£ç ï¼š 12345&lt;div&gt; &#123;% if not is_index %&#125; &#123;% include &apos;my-copyright.swig&apos; %&#125; &#123;% endif %&#125;&lt;/div&gt; 5ã€ä¿®æ”¹ next/source/css/_common/components/post/post.stylæ–‡ä»¶ï¼Œåœ¨æœ€åä¸€è¡Œå¢åŠ ä»£ç ï¼š 1@import &quot;my-post-copyright&quot; 6ã€PSï¼šå¦‚æœè¦åœ¨è¯¥åšæ–‡ä¸‹é¢å¢åŠ ç‰ˆæƒä¿¡æ¯çš„æ˜¾ç¤ºï¼Œéœ€è¦åœ¨æ–‡ç« å¤´éƒ¨ä¸­å¢åŠ copyright: trueçš„è®¾ç½®ï¼Œç±»ä¼¼ï¼š 1234567---title: date: tags: categories: copyright: true--- å¦‚æœä½ æ„Ÿè§‰æ¯æ¬¡æ–°å»ºæ–‡ç« éƒ½è¦æ·»åŠ æ¯”è¾ƒéº»çƒ¦ï¼Œå¯ä»¥ç›´æ¥æ›´æ”¹æ–‡ç« çš„æ¨¡æ¿æ–‡ä»¶ï¼Œè¿™æ ·æ–°å»ºæ–‡ç« æ—¶å°±ä¼šè‡ªåŠ¨æ·»åŠ copyright: trueã€‚ æ‰“å¼€æ ¹ç›®å½•/scaffolds/post.mdï¼Œ åšç±»ä¼¼è®¾ç½®ï¼š 1234567title: &#123;&#123; title &#125;&#125;date: &#123;&#123; date &#125;&#125;tags:categories:comments: password: copyright: true 22. éšè—ç½‘é¡µåº•éƒ¨powered By Hexo / å¼ºåŠ›é©±åŠ¨æ‰“å¼€themes/next/layout/_partials/footer.swig,ä½¿ç”¨â€â€éšè—ä¹‹é—´çš„ä»£ç å³å¯ï¼Œæˆ–è€…ç›´æ¥åˆ é™¤ã€‚ä½ç½®å¦‚å›¾ï¼š ç”¨è°·æ­Œæ£€æŸ¥å’Œcommand+shift+få…¨å±€æœç´¢ï¼Œæ›¿æ¢æˆè‡ªå·±å–œæ¬¢çš„æ–‡å­—ã€‚ 24. æ–‡ç« åŠ å¯†è®¿é—®å®ç°æ•ˆæœå›¾ å…·ä½“å®ç°æ–¹æ³• æ‰“å¼€themes-&gt;next-&gt;layout-&gt;_partials-&gt;head.swigæ–‡ä»¶,åœ¨ä»¥ä¸‹ä½ç½®æ’å…¥è¿™æ ·ä¸€æ®µä»£ç ï¼š ä»£ç å¦‚ä¸‹ï¼š 12345678910&lt;script&gt; (function()&#123; if(&apos;&#123;&#123; page.password &#125;&#125;&apos;)&#123; if (prompt(&apos;è¯·è¾“å…¥æ–‡ç« å¯†ç &apos;) !== &apos;&#123;&#123; page.password &#125;&#125;&apos;)&#123; alert(&apos;å¯†ç é”™è¯¯ï¼&apos;); history.back(); &#125; &#125; &#125;)();&lt;/script&gt; ç„¶ååœ¨æ–‡ç« ä¸Šå†™æˆç±»ä¼¼è¿™æ ·ï¼š 25. æ·»åŠ jiathisåˆ†äº«åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ï¼Œjiathisä¸ºtrueï¼Œå°±è¡Œäº†ï¼Œå¦‚ä¸‹å›¾ é»˜è®¤æ˜¯è¿™æ ·å­çš„ï¼šå¦‚æœä½ æƒ³è‡ªå®šä¹‰è¯ï¼Œæ‰“å¼€themes/next/layout/_partials/share/jiathis.swigä¿®æ”¹ç”»çº¢çº¿éƒ¨åˆ†å°±å¯ä»¥äº† 26. åšæ–‡ç½®é¡¶ä¿®æ”¹ hero-generator-index æ’ä»¶ï¼ŒæŠŠæ–‡ä»¶ï¼šnode_modules/hexo-generator-index/lib/generator.js å†…çš„ä»£ç æ›¿æ¢ä¸ºï¼š 12345678910111213141516171819202122232425262728&apos;use strict&apos;;var pagination = require(&apos;hexo-pagination&apos;);module.exports = function(locals)&#123; var config = this.config; var posts = locals.posts; posts.data = posts.data.sort(function(a, b) &#123; if(a.top &amp;&amp; b.top) &#123; // ä¸¤ç¯‡æ–‡ç« topéƒ½æœ‰å®šä¹‰ if(a.top == b.top) return b.date - a.date; // è‹¥topå€¼ä¸€æ ·åˆ™æŒ‰ç…§æ–‡ç« æ—¥æœŸé™åºæ’ else return b.top - a.top; // å¦åˆ™æŒ‰ç…§topå€¼é™åºæ’ &#125; else if(a.top &amp;&amp; !b.top) &#123; // ä»¥ä¸‹æ˜¯åªæœ‰ä¸€ç¯‡æ–‡ç« topæœ‰å®šä¹‰ï¼Œé‚£ä¹ˆå°†æœ‰topçš„æ’åœ¨å‰é¢ï¼ˆè¿™é‡Œç”¨å¼‚æˆ–æ“ä½œå±…ç„¶ä¸è¡Œ233ï¼‰ return -1; &#125; else if(!a.top &amp;&amp; b.top) &#123; return 1; &#125; else return b.date - a.date; // éƒ½æ²¡å®šä¹‰æŒ‰ç…§æ–‡ç« æ—¥æœŸé™åºæ’ &#125;); var paginationDir = config.pagination_dir || &apos;page&apos;; return pagination(&apos;&apos;, posts, &#123; perPage: config.index_generator.per_page, layout: [&apos;index&apos;, &apos;archive&apos;], format: paginationDir + &apos;/%d/&apos;, data: &#123; __index: true &#125; &#125;);&#125;; åœ¨æ–‡ç« ä¸­æ·»åŠ  top å€¼ï¼Œæ•°å€¼è¶Šå¤§æ–‡ç« è¶Šé å‰ï¼Œå¦‚ 12345678---title: è§£å†³Charlesä¹±ç é—®é¢˜date: 2017-05-22 22:45:48tags: æŠ€å·§categories: æŠ€å·§copyright: truetop: 100--- Hexo NexT Disqus è¯„è®ºæ’ä»¶æ³¨å†ŒDisqusè´¦å· ç™»é™†disqus.comæ³¨å†Œè´¦å·ã€‚æ³¨å†Œè¿‡ç¨‹ï¼Œä¸å¤šåšè¯´æ˜ã€‚ è¿›è¡Œé‚®ç®±ç¡®è®¤ æ³¨å†Œäº†disqusè´¦å·ä¹‹åï¼Œä¸€å®šè¦å»é‚®ç®±ç‚¹å‡»ä¸€ä¸‹ç¡®è®¤ã€‚æˆ‘å½“æ—¶å°±æ˜¯æ²¡æœ‰ç‚¹å‡»ç¡®è®¤ï¼Œå¥½åƒå°±æ²¡æœ‰è¿›è¡Œä¸‹å»ï¼Œè¿˜æ˜¯åŒºç‚¹å‡»ä¸€ä¸‹ç¡®è®¤å§ã€‚ è¿›å…¥ Disqus Home é¡µåº”è¯¥åœ¨disqus.com/home ä¹‹åç‚¹å‡»å³ä¸Šè§’çš„é½¿è½®ï¼Œå†ç‚¹å‡» Add Disqus To Siteã€‚æ‰¾åˆ°é¡µé¢æœ€ä¸‹è¾¹çš„ Get Started æŒ‰é’®ã€‚ ä¹‹åç‚¹å‡»ä¸‹é¢çš„install Disqusã€‚ æ³¨æ„WebsiteNameï¼Œè¿™ä¸ªåå­—è¦ç”¨åˆ°é…ç½®æ–‡ä»¶ä¸­çš„ã€‚èµ·ä¸€ä¸ªä½ å–œæ¬¢çš„ã€‚ è®¾ç½®ä¸»é¢˜é…ç½®æ–‡ä»¶ æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ã€‚æ‰¾åˆ°å¦‚ä¸‹çš„ä½ç½®ï¼š 12345# Disqusdisqus: enable: true shortname: ****** count: true shortnameçš„ä½ç½®å°±å¡«å†™åˆšåˆšçš„ WebSite Name çš„åå­—ã€‚è¿™æ ·å°±é…ç½®å¥½äº†ã€‚ é‡æ–°éƒ¨ç½²123hexo cleanhexo ghexo d PS ä¸è¿‡ï¼ŒDisquså¢™æ²¡å¢™æ‰æˆ‘ä¹Ÿä¸å¤ªæ¸…æ¥šï¼Œè®©æˆ‘å¾ˆæ˜¯æ— å¥ˆã€‚ ã€ã€‘å‚è€ƒé“¾æ¥http://www.cnblogs.com/MuYunyun/p/6919600.html#_label1 1ï¼‰æ–‡ç« é“¾æ¥å”¯ä¸€åŒ–ä¹Ÿè®¸ä½ ä¼šæ•°æ¬¡æ›´æ”¹æ–‡ç« é¢˜ç›®æˆ–è€…å˜æ›´æ–‡ç« å‘å¸ƒæ—¶é—´ï¼Œåœ¨é»˜è®¤è®¾ç½®ä¸‹ï¼Œæ–‡ç« é“¾æ¥éƒ½ä¼šæ”¹å˜ï¼Œä¸åˆ©äºæœç´¢å¼•æ“æ”¶å½•ï¼Œä¹Ÿä¸åˆ©äºåˆ†äº«ã€‚å”¯ä¸€æ°¸ä¹…é“¾æ¥æ‰æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚ å®‰è£… npm install hexo-abbrlink --save åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­æŸ¥æ‰¾ä»£ç permalinkï¼Œå°†å…¶æ›´æ”¹ä¸º: permalink: posts/:abbrlink/ # â€œposts/â€ å¯è‡ªè¡Œæ›´æ¢ è¿™é‡Œæœ‰ä¸ªçŸ¥è¯†ç‚¹ï¼š ç™¾åº¦èœ˜è››æŠ“å–ç½‘é¡µçš„è§„åˆ™: å¯¹äºèœ˜è››è¯´ç½‘é¡µæƒé‡è¶Šé«˜ã€ä¿¡ç”¨åº¦è¶Šé«˜æŠ“å–è¶Šé¢‘ç¹ï¼Œä¾‹å¦‚ç½‘ç«™çš„é¦–é¡µå’Œå†…é¡µã€‚èœ˜è››å…ˆæŠ“å–ç½‘ç«™çš„é¦–é¡µï¼Œå› ä¸ºé¦–é¡µæƒé‡æ›´é«˜ï¼Œå¹¶ä¸”å¤§éƒ¨åˆ†çš„é“¾æ¥éƒ½æ˜¯æŒ‡å‘é¦–é¡µã€‚ç„¶åé€šè¿‡é¦–é¡µæŠ“å–ç½‘ç«™çš„å†…é¡µï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰å†…é¡µèœ˜è››éƒ½ä¼šå»æŠ“å–ã€‚ æœç´¢å¼•æ“è®¤ä¸ºå¯¹äºä¸€èˆ¬çš„ä¸­å°å‹ç«™ç‚¹ï¼Œ3å±‚è¶³å¤Ÿæ‰¿å—æ‰€æœ‰çš„å†…å®¹äº†ï¼Œæ‰€ä»¥èœ˜è››ç»å¸¸æŠ“å–çš„å†…å®¹æ˜¯å‰ä¸‰å±‚ï¼Œè€Œè¶…è¿‡ä¸‰å±‚çš„å†…å®¹èœ˜è››è®¤ä¸ºé‚£äº›å†…å®¹å¹¶ä¸é‡è¦ï¼Œæ‰€ä»¥ä¸ç»å¸¸çˆ¬å–ã€‚å‡ºäºè¿™ä¸ªåŸå› æ‰€ä»¥permalinkåé¢è·Ÿç€çš„æœ€å¥½ä¸è¦è¶…è¿‡2ä¸ªæ–œæ ã€‚ ç„¶ååœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç : 1234# abbrlink configabbrlink: alg: crc32 # ç®—æ³•ï¼šcrc16(default) and crc32 rep: hex # è¿›åˆ¶ï¼šdec(default) and hex å¯é€‰æ‹©æ¨¡å¼ï¼š crc16 &amp; hex crc16 &amp; dec crc32 &amp; hex crc32 &amp; dec 2ï¼‰æ–°å»ºæ–‡ä»¶æ—¶ï¼Œæ€ä¹ˆåœ¨mdå³markdownæ–‡ä»¶çš„å¼€å¤´åŠ å…¥æ ‡é¢˜ç­‰ä¿¡æ¯æ‰“å¼€scaffolds/post.mdï¼Œä¿®æ”¹å¦‚ä¸‹ï¼š 123456789---title: &#123;&#123; title &#125;&#125;date: &#123;&#123; date &#125;&#125;categories: æœªåˆ†ç±» #åˆ†ç±»ï¼Œè®¾ä¸ºæœªåˆ†ç±»ï¼Œä»¥åæ‰¾åˆ°ç»Ÿä¸€æ›´æ”¹tags: #æ ‡ç­¾copyright: true #ç‰ˆæƒä¿¡æ¯ï¼Œè½¬å‘çš„æ–‡ç« å†æ‰‹åŠ¨å»æ‰truepassword: #å¯†ç ï¼Œéœ€è¦å°±åŠ æ•°å­—top: #ç½®é¡¶ï¼Œéœ€è¦å°±åŠ æ•°å­—ï¼Œè¶Šå¤§è¶Šé å‰--- 3ï¼‰æ·»åŠ é…·ç‚«çš„\b\bæ‰“èµäºŒç»´ç çœ‹äº†å¥½äº›åšå®¢ï¼Œæ”¯ä»˜å®çš„\bæ”¶æ¬¾ç å’Œå¾®ä¿¡çš„æ”¶æ¬¾ç éƒ½æ˜¯åˆ†å¼€çš„ï¼Œä¸”æ˜¯æ²¡æœ‰ç¾åŒ–è¿‡çš„äºŒç»´ç ï¼Œè®©äºº\bæ‰“èµçš„æ¬²æœ›è‡ªç„¶å°±ä¸‹é™äº†ã€‚æ¥çœ‹ä¸€ä¸‹æˆ‘çš„èµèµäºŒç»´ç (æ”¯æŒ\bå¾®ä¿¡å’Œæ”¯ä»˜å®æ”¯ä»˜å“Ÿ) å®ç°è¿™ä¸ªé…·ç‚«äºŒç»´ç çš„æµç¨‹\bå¦‚ä¸‹ï¼š é¦–å…ˆï¼Œåˆ†åˆ«è·å¾—æ”¯ä»˜å®å’Œå¾®ä¿¡çš„æ”¶æ¬¾ç  æ¥ç€åˆ°èŠéº»äºŒç»´ç é‡Œå°†ä¸¤å¼ äºŒç»´ç åˆå¹¶ æœ€ååˆ°ç¬¬ä¹å·¥åœºç”Ÿæˆè‡ªå·±å–œæ¬¢çš„é€ å‹ è®²ç”Ÿæˆçš„å›¾ç‰‡pay.pngæ”¾åˆ°æ ¹ç›®å½•çš„sourceæ–‡ä»¶ä¸­ï¼Œå¹¶åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­åŠ ä¸Š alipay: /pay.png æ‰“èµå­—ä½“ä¸é—ªåŠ¨\bä¿®æ”¹æ–‡ä»¶next/source/css/_common/components/post/post-reward.stylï¼Œç„¶åæ³¨é‡Šå…¶ä¸­çš„å‡½æ•°wechat:hoverå’Œalipay:hoverï¼Œå¦‚ä¸‹ï¼š 123456789101112/* æ³¨é‡Šæ–‡å­—é—ªåŠ¨å‡½æ•° #wechat:hover p&#123; animation: roll 0.1s infinite linear; -webkit-animation: roll 0.1s infinite linear; -moz-animation: roll 0.1s infinite linear;&#125; #alipay:hover p&#123; animation: roll 0.1s infinite linear; -webkit-animation: roll 0.1s infinite linear; -moz-animation: roll 0.1s infinite linear;&#125;*/ åœ¨ä¸åŒç”µè„‘ä¸Šè¿›è¡ŒHexoå†™ä½œä¸åŒæ­¥ ã€é—®é¢˜4ã€‘hexo nextæ€ä¹ˆåšæ–‡ç« ç®¡ç†ï¼Œå¦‚æœç”µè„‘åæ‰çš„è¯ï¼Ÿç§äººæ–‡ç« ä¼šä¸ä¼šæ³„éœ²? â‘ ã€æœ¬åœ°æ–‡ä»¶å¤¹åšåˆ†ç±»ï¼Œä¸€æ˜¯æ–­ç½‘çš„æ—¶å€™å¯ä»¥æŸ¥æ‰¾ã€‚ â‘¡ã€ä¿è¯ç”µè„‘åäº†postsä¹Ÿä¸ä¼šä¸¢å¤±ï¼Œå®šæœŸæ‰“åŒ…æ”¾åˆ°googleã€‚å¦‚æœgoogleä¹Ÿåäº†ï¼Œé‚£å°±æ²¡æœ‰æºæ–‡ä»¶äº†ï¼Œä½†èµ·ç hexoä¸Šè¿˜æœ‰æ–‡ç« å¯ä»¥æ…¢æ…¢å¤åˆ¶ã€‚ â‘¢ã€1ï¼‰githubå¹²è„†ä¸è¦æ”¾postsäº†ï¼Œæœ‰äº›ç§äººæ–‡ç« ã€‚2ï¼‰æˆ–æ˜¯æŠŠæ‰€æœ‰ç§äººæ–‡ç« éƒ½åŠ ä¸€ä¸ªç»Ÿä¸€å‰ç¼€å’Œå¯†ç ï¼Œåœ¨pushåˆ°githubå‰æŠŠå®ƒä»¬ä»postæ–‡ä»¶å¤¹ç§»åˆ°å…¶ä»–ä½ç½®ï¼Œpushåå†ç§»åŠ¨å›postæ–‡ä»¶å¤¹æ‰§è¡Œhexo gå’Œhexo dã€‚3ï¼‰ç§äººæ–‡ç« åŠ ç»Ÿä¸€å‰ç¼€ï¼Œè‡ªå·±åœ¨ç”µè„‘å’Œgoogleæ”¾ç€ï¼Œä¸å‘å¸ƒã€‚â€”â€”åå‘ç¬¬2ç§ï¼Œå› ä¸ºå…¬å¼€çš„æ–‡ç« åœ¨githubå’Œhexoéƒ½èƒ½è¢«å¤åˆ¶èµ°ï¼Œéšè—çš„æ–‡ç« åŠ å¯†ç åœ¨æ‰‹æœºæˆ–å…¶ä»–è®¾å¤‡è¿˜èƒ½æŸ¥çœ‹ï¼Œåˆä¸ä¼šåœ¨githubä¸Šç›´æ¥æ³„éœ²å¯†ç ã€‚ä½†æ˜¯ï¼Œå¦‚æœé¢‘ç¹æ›´æ”¹hexoé…ç½®ï¼Œå°±å…ˆç”¨ç¬¬3ç§ï¼Œç­‰åˆ°é…ç½®å®Œæˆäº†å†ç”¨å›ç¬¬2ç§æ–¹æ³•ã€‚ â‘¡ã€githubå¤‡ä»½ä¸“æ¡ˆï¼Œæ–¹ä¾¿æ¢ç”µè„‘å†™æ–‡ç« ã€‚æŠŠpostæ–‡ä»¶å¤¹é‡Œçš„ç§äººæ–‡ä»¶ç§»å¼€ï¼ˆç•™å‡ ç¯‡å…¬å¼€æ–‡ç« ï¼‰ã€ç„¶ågit pushåˆ°githubï¼ˆæœ€å¥½å…ˆæ£€æŸ¥_config.ymlé‡Œæœ‰æ²¡æœ‰å¯†é’¥ï¼Œæœ‰å°±å…ˆç§»å¼€ï¼‰ï¼Œpushåå†æŠŠç§äººæ–‡ä»¶ç§»å›å»æ‰§è¡Œhexo gå’Œhexo dã€‚å¦‚æœæ²¡æœ‰æ›´æ”¹é…ç½®ï¼Œå°±ä¸è¦éšä¾¿git pushäº†ï¼Œæ¯æ¬¡éƒ½è¦ç§»åŠ¨ç§äººæ–‡ä»¶å¤ªéº»çƒ¦ã€‚ 12345678910.gitignore.DS_StoreThumbs.dbdb.json*.lognode_modules/public/.deploy*/_config.yml ã€é—®é¢˜1ã€‘å›¾ç‰‡äºŒç»´ç æ’å…¥ï¼Ÿã€é—®é¢˜4ã€‘èƒŒæ™¯ç™½è‰²æ”¹æˆç”¨å›¾ç‰‡ï¼Ÿ é¦–å…ˆæ‰¾åˆ°ä¸€ä¸ªèƒŒæ™¯å›¾ç‰‡æ”¾åˆ° hexoï¼ˆhexoå·¥ç¨‹æ–‡ä»¶ï¼‰-&gt; themes -&gt; next -&gt; source -&gt; images çš„è·¯å¾„ä¸‹ï¼› hexoï¼ˆhexoå·¥ç¨‹æ–‡ä»¶ï¼‰-&gt; themes -&gt; next -&gt; source -&gt; css -&gt; _custom ï¼Œæ‰“å¼€\\themes\\next\\source\\css\\_custom\\custom.stylï¼ŒåŠ ä¸Šä¸€ä»£ç  body { background:url(/images/backGround.jpgï¼ˆèƒŒæ™¯å›¾ç‰‡çš„åå­—ï¼‰);} æ•ˆæœå›¾ï¼š ã€é—®é¢˜3ã€‘èƒŒæ™¯è‰²ä¿®æ”¹åœ¨ source/css/_variables/base.styl ä¸­ï¼š 12// Background color for &lt;body&gt;$body-bg-color = white ä¿®æ”¹themes/next/source/css/_schemes/Mist/_header.stylæ–‡ä»¶ä¸­å¤´éƒ¨çš„èƒŒæ™¯è‰²ä¸ºbase.stylå®šä¹‰çš„èƒŒæ™¯è‰² 1234567891011.header &#123; background: $whitesmoke; &#125; #åœ¨è¿™é‡Œæ”¹é¢œè‰².header-inner &#123; padding: 40px 0 40px; #è¿™é‡Œæ”¹headerçš„å¤§å° clearfix(); +mobile() &#123; width: auto; margin-bottom: 50px; padding: 10px; &#125;&#125; ä¿®æ”¹themes/next/source/css/_schemes/Mist/index.stylä¸­footerç›¸å…³å®šä¹‰ï¼Œå¯ä»¥ä¿®æ”¹footeré¢œè‰²å€¼ 123456789101112131415.footer &#123; margin-top: 80px; padding: 10px 0; background: $whitesmoke; #è¿™é‡Œæ”¹é¢œè‰² color: $grey-dim;&#125;.footer-inner &#123; margin: 0 auto; text-align: left; +mobile() &#123; width: auto; text-align: center; &#125;&#125; ã€é—®é¢˜5ã€‘headeré‡Œçš„æ–‡å­—æ”¹æˆè‹±æ–‡ï¼Ÿä¿®æ”¹themes/next/languages/zh-Hans.ymlï¼ŒæŠŠå¯¹åº”çš„é¦–é¡µã€æ ‡ç­¾ã€å…³äºã€åˆ†ç±»ç­‰æ”¹æˆè‹±æ–‡ã€‚ 27. ä¿®æ”¹æ–‡ç« æ­£æ–‡å­—ä½“å¤§å°æ‰“å¼€\\themes\\next\\source\\css\\ _variables\\base.stylæ–‡ä»¶ï¼Œå°†$font-size-baseæ”¹æˆ16pxï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1$font-size-base =16px ã€é—®é¢˜8ã€‘æ–‡ç« é¢˜ç›®ã€æ ‡é¢˜h1/h2/h3åŠ æ¨ªçº¿/è‰²å—/å¤§å°/é¢œè‰²/å­—ä½“ç­‰ï¼Ÿ1.1ã€æ”¹æ ‡é¢˜h1/h2/h3å­—ä½“æ‰“å¼€themes/next/source/css/_schemes/Mist/_base.stylï¼ŒåŸæ¥çš„æ ·å¼æ˜¯h1, h2, h3, h4, h5, h6 { margin: 20px 0 10px; }ï¼Œä¿®æ”¹æ ·å¼ä¸ºï¼š 1234567891011121314151617181920h4, h5, h6 &#123; margin: 10px 0 0; &#125;h1 &#123; margin: 60px 0 10px; font-size: 2em; background-color: rgba(211,211,211,0.2); &#125;h2 &#123; margin: 20px 0 10px; font-size: 1.8em; border-bottom: 1px #d8d8d8 solid; &#125;h3 &#123; margin: 20px 0 0; font-size: 1.4em; box-shadow: -20px 0px 0px -10px red;&#125;h4 &#123; margin: 10px 0 0; font-size: 1.1em;&#125;p &#123; margin: 0; padding: 17px 0 1px; letter-spacing: 0.08em;&#125;ul li &#123; letter-spacing: 0.08em;&#125;a &#123; border-bottom-color: $grey-light; &#125;hr &#123; margin: 20px 0; height: 2px;&#125; å°æŠ€å·§ï¼šä¸çŸ¥é“æ–‡ä»¶ä½ç½®ï¼Œå¯ä»¥ç”¨chromeçš„æŸ¥æ‰¾ï¼Œç”¨cssä»£ç åœ¨atomé‡Œå…¨æ–‡æœç´¢shift+command+f 1.2ã€æ”¹æ–‡ç« é¢˜ç›®å­—ä½“è¿˜æ˜¯åœ¨themes/next/source/css/_schemes/Mist/_base.stylåŠ å…¥ï¼š 1234567//æ–‡ç« é¢˜ç›®/å¤§æ ‡é¢˜æ ·å¼.posts-expand .post-title &#123; position: relative; font-size: 36px; font-weight: 400; background-color: rgba(255,255,255,0);&#125; ã€é—®é¢˜10ã€‘å­—ä½“font-familyæ€ä¹ˆæ”¹ï¼Ÿâ€”â€”åªèƒ½æ”¹æ ‡é¢˜æ‰“å¼€themes/next/source/css/_variables/custom.stylï¼Œè¾“å…¥ 12$font-family-headings = KaiTi,&quot;Microsoft YaHei&quot;,Georgia, sans // æ ‡é¢˜ï¼Œä¿®æ”¹æˆä½ æœŸæœ›çš„å­—ä½“æ—$font-family-base = KaiTi // ä¿®æ”¹æˆä½ æœŸæœ›çš„å­—ä½“æ— ä½†æ˜¯ï¼Œåªæœ‰æ ‡é¢˜å­—ä½“æ”¹å˜äº†ï¼Œæ­£æ–‡çš„å­—ä½“è¿˜æ˜¯ä¸å˜ã€‚ã€‚ã€‚ Lato,â€PingFang SCâ€,â€Microsoft YaHeiâ€,sans-serif font-sans = â€œHelvetica Neueâ€, â€œHelveticaâ€, â€œHiragino Sans GBâ€, â€œMicrosoft YaHeiâ€, â€œSource Han Sans CNâ€, â€œWenQuanYi Micro Heiâ€, Arial, sans-serif å‚è€ƒèµ„æ–™https://maoao530.github.io/2017/01/25/hexo-blog-seo/ 1ã€å†…å®¹å®½åº¦themes/next/source/css/_variables/custom.styl 1234// ä¿®æ”¹æˆä½ æœŸæœ›çš„å®½åº¦$content-desktop = 900px// å½“è§†çª—è¶…è¿‡ 1600px åçš„å®½åº¦$content-desktop-large = 1100px 2ã€æ— åºåˆ—è¡¨ulæ˜¾ç¤ºä¸ºå®å¿ƒï¼Œliæ˜¾ç¤ºä¸ºç©ºå¿ƒæ‰“å¼€themes/next/source/css/_common/components/post/post-expand.stylï¼Œåˆ é™¤ul li { list-style: circle; }ã€‚ å¦‚æœæƒ³è¦ulã€liå…¨éƒ½æ”¹ä¸ºå®å¿ƒï¼Œç”¨ul li { list-style: disc; } ã€é—®é¢˜7ã€‘æ‰“èµç›´æ¥åœ¨å›ºå®šä½ç½®æ’å…¥å›¾ç‰‡ï¼Œæ€ä¹ˆåšï¼Ÿâ€”â€”å…ˆä¸æã€é—®é¢˜9ã€‘ä¾§è¾¹æ æ–‡ç« ç›®å½•æ å¤§å­—ä½“å·¦å¯¹é½ï¼Ÿå·¦å¯¹é½æ‰“å¼€themes/next/source/css/_common/components/sidebar/sidebar.stylï¼Œæœç´¢.sidebar-innerï¼Œåˆ é™¤text-align: center; å»æ‰è‡ªåŠ¨åºåˆ—å·æ•°å­—ç¼–è¾‘ä¸»é¢˜ä¸‹çš„ _config.yml æ–‡ä»¶ï¼ŒæŠŠ number çš„ true æ”¹æˆ falseã€‚ 123456# TOC in the Sidebartoc: enable: true # Automatically add list number to toc. number: true ã€é—®é¢˜11ã€‘å¤§ä»£ç å—æ ·å¼ï¼Ÿhugo å¥½ç”¨å¤šäº†ï¼ ã€é—®é¢˜12ã€‘å›½å†…è®¿é—®é€Ÿåº¦ä¼˜åŒ–ï¼Ÿè½¬ GitHub Pages å§ï¼Œéè£¸åŸŸ CNAME çš„è¯æœ‰ Fastly CDN åŠ æˆï¼Œé€Ÿåº¦ä¹Ÿä¸å·®ï¼Œæ— æ•°çš„å¼€æºé¡¹ç›®éƒ½åœ¨ç”¨ï¼Œå¯ç”¨æ€§é«˜ã€‚ ã€é—®é¢˜13ã€‘seoæœç´¢å¼•æ“è®¿é—®ä¼˜åŒ–ï¼Ÿã€é—®é¢˜14ã€‘æ•°æ®ç»Ÿè®¡ï¼Ÿ ã€é—®é¢˜15ã€‘å›¾æ ‡ä¼˜åŒ–æˆç½‘ç«™é£æ ¼çš„ï¼Ÿ ã€é—®é¢˜16ã€‘é¦–é¡µæ˜¾ç¤ºçš„æ–‡ç« æ•°é‡ï¼Œé¦–é¡µæ˜¾ç¤ºçš„æ–‡ç« å­—æ•°ï¼Ÿ 1ï¼‰ä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶çš„per_page: 10ï¼Œæ•°å­—å°±æ˜¯æ–‡ç« æ•°é‡ã€‚ 2ï¼‰ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶auto_excerptä¸‹çš„length: 250ï¼Œæ•°å­—å°±æ˜¯æ–‡ç« å­—æ•°ã€‚ ã€é—®é¢˜17ã€‘ä»€ä¹ˆæ—¶å€™hexo cleanã€hexo gã€hexo sã€hexo dçš„ï¼Ÿ1ï¼‰æ›´æ”¹ç›®å½•å±‚æ–‡ä»¶ï¼Œå¦‚ç«™ç‚¹é…ç½®æ–‡ä»¶_config.ymlæ—¶ï¼Œéœ€è¦ç”¨ctrl+cå…³é—­hexo så†é‡å¯ï¼› 2ï¼‰æ›´æ”¹themes/nexté‡Œçš„æ–‡ä»¶ï¼Œå¦‚ä¸»é¢˜é…ç½®æ–‡ä»¶ã€htmlã€cssç­‰ï¼Œç›´æ¥åˆ·æ–°é¡µé¢å°±èƒ½çœ‹åˆ°ç»“æœï¼› 3ï¼‰ç»§ç»­å‘å¸ƒæ–°æ–‡ç« ã€æˆ–æ›´æ”¹æ—§æ–‡ç« ï¼ˆå…ˆæ”¾åˆ°source/_postsæ–‡ä»¶å¤¹é‡Œï¼‰ï¼Œç›´æ¥hexo gå¯ä»¥åœ¨http://localhost:4000/çœ‹åˆ°ç»“æœï¼› 4ï¼‰åˆ é™¤åšå®¢ä¸Šçš„æ–‡ç« ï¼Œç”¨hexo clean 5ï¼‰åœ¨æœ¬åœ°è°ƒè¯•å¥½åï¼Œä¸Šä¼ åˆ°githubç”¨hexo d ã€é—®é¢˜18ã€‘å¦‚ä½•æ³¨è§£ä»£ç ï¼Ÿ 1ï¼‰stylæ–‡ä»¶ç”¨// 2ï¼‰ymlæ–‡ä»¶ç”¨# å‚è€ƒæå®‰ã€anndoã€å·§ç‰ã€éŸµå„¿çˆ¸çˆ¸çš„åšå®¢ï¼Œä¿®æ”¹åå¯ä»¥ä¸Šä¼ ä¸€æ¬¡åˆ†æ”¯ã€bugã€‘ç«™å†…æœç´¢ç¬¬äºŒæ¬¡å¤±æ•ˆï¼ï¼pubilcæ˜¯æœ‰ç”Ÿæˆsearch.xmlæ–‡ä»¶ï¼Œä¹Ÿæœ‰å†™å…¥æ–‡ç« å†…å®¹ï¼Œä½†æ˜¯åœ¨ç½‘é¡µä¸Šä¸€ç›´æ˜¾ç¤ºåŠ è½½ä¸­ï¼Œåè¡€ï¼ï¼ï¼ï¼ï¼ æ–¹æ³•ä¸€ï¼šæœç´¢å¼•å¯¼åˆ°site:jiujiubad.top æ–¹æ³•äºŒï¼šç«™å†…åœ°å›¾sitemap æ–¹æ³•ä¸‰ï¼šé‡æ–°åšä¸€ä¸ªhexoâ€”â€”è‰è‰è‰ï¼ï¼ï¼è¿™ä¸ªæŠ˜è…¾æ ¹æœ¬å°±ä¸æƒ³å»æä»€ä¹ˆå¤‡ä»½ï¼Œå¦‚æœç”µè„‘åäº†ä¸å¦‚ç›´æ¥é‡æ–°æ­ä¸€ä¸ªï¼Œå¤ªå¤šä¸œè¥¿ææ¥æå»ä¼šæåï¼Œç›¸å½“ä¸è‡ªç”±ã€‚å¾ˆæœ‰ç”¨vpsè‡ªå·±æ­ä¸€ä¸ªçš„æƒ³æ³•ã€‚ psï¼šæŒ‰ç…§anndoçš„åšå®¢ï¼Œçœ‹ä¸‹æœ‰å“ªäº›è¿˜è¦æµ‹è¯•çš„æ¯”å¦‚font-familyã€jsè½½å…¥ä¼˜åŒ–çš„å¸–å­ï¼Œç„¶åé‡æ–°æ­ä¸€ä¸ªã€‚ ã€bugã€‘ç«™å†…æœç´¢ç¬¬ä¸‰æ¬¡å¤±è´¥ï¼ï¼ä»å¤´å¼€å§‹é‡æ–°åšäº†ä¸€ä¸ªä¸“æ¡ˆï¼Œç®€å•3ä¸ªpostæ–‡ä»¶æµ‹è¯•æˆåŠŸåã€‚ 1ï¼‰åˆåŠ å…¥10ä¸ªå¹³æ—¶å†™çš„mdæ–‡ä»¶ï¼Œhexo gä¸Šä¼ åæœç´¢åˆç‚¸äº†ã€‚ã€‚ã€‚ã€‚ 2ï¼‰æŠŠæ–°åŠ å…¥çš„å…¨éƒ¨æ–‡æ¡£ç§»èµ°ï¼Œæœç´¢åˆèƒ½æ­£å¸¸ä½¿ç”¨ã€‚ç¡®å®šæ˜¯æ–‡ç« çš„é—®é¢˜ã€‚ 3ï¼‰é—®é¢˜å‡ºåœ¨å¤šè¡Œä»£ç å—ä¸­çš„htmlä»£ç ä¸Šï¼Œå¤šå‡ºäº†ä¸€ä¸ªä¼šéšè—çš„ç‚¹*ã€‚å¾ˆæœ‰å¯èƒ½æ˜¯typoraç¼–è¾‘å™¨å¯¹ä»£ç çš„å¤„ç†é—®é¢˜ã€‚","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/å·¥å…·/"},{"name":"hexo","slug":"hexo","permalink":"http://yoursite.com/tags/hexo/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}]},{"title":"tool-hexo-hexoä¸»é¢˜ç¯‡ä¹‹Asnippet","slug":"tool-hexo-hexoä¸»é¢˜ç¯‡ä¹‹Asnippet","date":"2018-01-12T16:10:00.000Z","updated":"2018-01-14T09:43:31.000Z","comments":true,"path":"posts/8d89ee75/","link":"","permalink":"http://yoursite.com/posts/8d89ee75/","excerpt":"","text":"ï¼ï¼ä¸è¦æƒ³ç€ç”¨gitï¼Œé¡¹ç›®ç›´æ¥é”™ä¹±æ‰ï¼ï¼ä¸è¦æƒ³ç€æ‹·è´åˆ«äººçš„é¡¹ç›®ï¼Œé‡å®šå‘é—®é¢˜ï¼ï¼ä¸è¦æƒ³ç€ä»githubä¸Šé¢cloneä¸‹æ¥ï¼ŒåŒ…æ‹¬è‡ªå·±çš„åšå®¢ï¼Œcloneä¸‹æ¥ä¸èƒ½ç”¨çš„ï¼ï¼ä»¥ä¸Šæ¯ä¸€ä¸ªé—®é¢˜ï¼Œéƒ½è¶³å¤ŸæŠ˜è…¾ä¸€å¤©è€Œæ²¡æœ‰ç»“æœï¼Œå¿ƒä¸­æ—©å·²åƒä¸‡åªè‰æ³¥é©¬å¥”è…¾ã€‚hexoçš„è·¯ä¸Šï¼Œæœ€è®¨åŒçš„å°±æ˜¯æœ‰æ—¶åŒæ ·çš„æ“ä½œï¼Œç°åœ¨èƒ½ç”Ÿæ•ˆï¼Œç­‰ä¸‹åˆä¸èƒ½ç”Ÿæ•ˆï¼Œéå¸¸åäººç±»ã€‚é‡åˆ°çš„bug1ï¼‰hexo gæ—¶æŠ¥é”™ï¼Œå› ä¸ºmdæ–‡ç« å†…å‡ºç°ä¸æ”¯æŒçš„å­—ç¬¦ï¼Œæ¯”å¦‚å¤§å°æ‹¬å·æœ€å¥½æ”¾åœ¨å¤šè¡Œä»£ç å†…ï¼Œæ”¾åœ¨æ–‡å­—ä¸­å¯èƒ½ä¼šæŠ¥é”™ã€‚ å…³äºå¤‡ä»½1ï¼‰githubçš„teståˆ†æ”¯åªæ˜¯ç”¨æ¥é¢„é˜²ä¸‡ä¸€æ–‡ç« ä¸¢å¤±ï¼Œä¸è¦è€ƒè™‘æŠŠå®ƒå…‹éš†ä¸‹æ¥ï¼Œè¯•è¿‡å…‹éš†ä¸èƒ½è¿è¡Œã€‚è€Œä¸”ç§äººæ–‡ç« ä¸ä¾¿åœ¨ä¸Šè¾¹å‘å¸ƒã€‚ 2ï¼‰æ‰€ä»¥ï¼Œä¸»è¦å¤‡ä»½åœ¨è°·æ­Œç¡¬ç›˜ã€ç™¾åº¦äº‘ç›˜ã€‚è¿™æ ·å°±æœ‰äº†ä¸¤æ‰‹å‡†å¤‡ã€‚ åº1ã€hexoä¸‰ç¯‡æ•™ç¨‹æ€ä¹ˆç”¨ï¼Ÿ å…ˆå¿«é€Ÿè¿‡ä¸€éè§†é¢‘ç¯‡ï¼Œç„¶åæŒ‰Snippetç¯‡åšï¼Œé‡åˆ°é—®é¢˜åœ¨Nextç¯‡æŸ¥ã€‚ 2ã€ä¸»é¢˜æ€ä¹ˆé€‰ï¼Ÿ é€‰æ‰‹æœºç”µè„‘è‡ªé€‚åº”çš„ï¼Œå› ä¸ºæ‰‹æœºç»é€¼ä¸»æµã€‚ Nextæ˜¯æœ€å¤šäººç”¨çš„ï¼Œä½†99åšå†³ä¸é€‰Nextï¼Œåœ¨Nextç¯‡è¸©äº†æ— æ•°å‘ï¼Œæœ€ç»ˆè¿˜åšä¸å‡ºæ¥ä»€ä¹ˆæ•ˆæœã€‚å—å¤Ÿäº†è¿™ä¸ªä¸»é¢˜ã€‚ è¿›å»githubçœ‹çœ‹ï¼Œé€‰é‚£äº›ä¸€å¹´å†…è¿˜æœ‰åœ¨æ›´æ–°çš„ã€‚é€‰è¿™ç±»ä¸»é¢˜æ›´æœ‰å¯èƒ½æŒ‘åˆ°é…ç½®ç®€å•ç²—æš´çš„ï¼Œè€Œä¸”å‘ä¼šå°‘å› ä¸ºæœ‰äº›æ’ä»¶å·²ç»è¢«æ·˜æ±°ã€‚ ä¸€ã€ä»å¤´å¼€å§‹ç”¨Asnippetä¸»é¢˜1ã€å®‰è£…hexoåŠä¸»é¢˜1ï¼‰æŒ‰hexoè§†é¢‘ç¯‡å®‰è£…hexoåŠä¸»é¢˜ 2ï¼‰ã€Asnippetä¸»é¢˜ã€å¿…é¡»å®‰è£…çš„ç»„ä»¶ï¼Œä¹Ÿå¯è¯¦è§https://github.com/shenliyang/hexo-theme-snippet 123npm install hexo-renderer-ejs --savenpm install hexo-renderer-less --savenpm install hexo-deployer-git --save 2ã€ç»‘å®šgithubï¼Œæ”¹ç«™ç‚¹é…ç½®ï¼Œç„¶åhexoä¸‰å…„å¼Ÿ123hexo cleanhexo ghexo d 3ã€ç»‘å®šåŸŸåtouch source/CNAMEï¼Œå¡«ä¸ŠåŸŸåjiujiubad.topã€‚ç„¶åhexoä¸‰å…„å¼Ÿã€‚ 4ã€å®‰è£…gitï¼ï¼æµ‹è¯•å‘ç°åªä¼šè¿½è¸ªé…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥æ²¡åµç”¨ï¼Œè¿˜ä¸å¦‚ç”¨mdæ–‡æ¡£è®°å½•123456git initgit remote add origin https://github.com/jiujiubad/jiujiubad.github.iogit checkout -b test //å› ä¸ºmasterè¦ç”¨æ¥æ”¾é™æ€ç½‘ç«™ï¼Œæ–°å»ºåˆ†æ”¯æ¥æ”¾ç«™ç‚¹é…ç½®å’Œä¸»é¢˜é…ç½®æ–‡ä»¶ã€‚git add .git commit -m &quot;git init&quot;git push origin test //éƒ¨ç½²åˆ°githubã€‚ äºŒã€ä¸»é¢˜åŠŸèƒ½ï¼ˆä¸»ï¼‰å¼€å§‹å‰ï¼Œä¸€å®šè¦æƒ³æ¸…æ¥šï¼ˆå‰ç«¯å¥—è·¯æ·±ï¼Œä¸è¦çæŠ˜è…¾ï¼‰ï¼š 1ã€æ­åšå®¢çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿã€é›†åˆæ–‡æ¡£ï¼Œå†™è¿‡çš„ä¸œè¥¿åœ¨åšå®¢é‡Œéƒ½èƒ½æœç´¢åˆ°ã€‚æå°‘æœºä¼šå¯èƒ½åˆ†äº«ä¸€ä¸¤ç¯‡ç»™å°ä¼™ä¼´ã€ã€‚ 2ã€ç›®çš„ä¸»è¦æ˜¯è®©è‡ªå·±æ”¾æ–‡ç« ã€èƒ½æœç´¢ã€‚é‚£ä¹ˆæœ€æœ€å¿…è¦çš„åŠŸèƒ½æ˜¯ï¼šã€æœç´¢ã€ä»£ç é«˜äº®ã€ç½®é¡¶ã€æ–‡ç« é“¾æ¥å”¯ä¸€åŒ–ã€ã€‚ 3ã€å…¶ä»–åŠŸèƒ½ç‰¹åˆ«æ˜¯åªå…³ä¹å‰ç«¯æ˜¾ç¤ºçš„ï¼Œä¸è¦ç¢°ï¼ï¼ç­‰åˆ°æŠŠæ–‡ç« æ•´ç†å®Œæˆï¼Œæœ‰æ—¶é—´å†åšã€‚ 1ã€æœ¬åœ°ç«™å†…æœç´¢1ï¼‰å®‰è£…æ’ä»¶ 1npm i hexo-generator-json-content@2.2.0 -S 2ï¼‰ã€ä¸»é¢˜é…ç½®ã€ï¼ŒæŠŠjsonContentä¸‹searchLocal: true 2ã€æ–‡ç« é“¾æ¥å”¯ä¸€åŒ–é»˜è®¤ç”¨æ—¶é—´/æ ‡é¢˜æ¥åšé“¾æ¥ï¼Œå¦‚æœæ—¶é—´/æ ‡é¢˜ä¿®æ”¹äº†ï¼Œåˆ†äº«å‡ºå»çš„é“¾æ¥å°±å¤±æ•ˆã€‚ å¯ç”¨æ’ä»¶è¦æ±‚æ–‡ç« å¿…é¡»å†™å¼€å¤´æ ‡ç­¾titleç­‰ï¼Œå¦åˆ™ä¼šå› ä¸ºabbrlink:0è€Œå¯¼å…¥å¤±è´¥ã€‚ 1ï¼‰å®‰è£…æ’ä»¶ 1npm install hexo-abbrlink --save 2ï¼‰ç«™ç‚¹é…ç½®ï¼Œä¿®æ”¹permalinkå¹¶å¢åŠ abbrlinkã€‚é…ç½®å®Œè®°å¾—é‡å¯hexo s 123456permalink: posts/:abbrlink/ #åŸè®¾ç½® :year/:month/:day/:title/permalink_defaults:# abbrlink configabbrlink: alg: crc32 # ç®—æ³•ï¼šcrc16(default) and crc32 rep: hex # è¿›åˆ¶ï¼šdec(default) and hex æŸ¥çœ‹sources/_postsæ–‡ä»¶å¤¹å†…æ–‡ç« å¼€å¤´æ ‡ç­¾é‡Œï¼Œä¼šå¤šä¸€ä¸ªabbrlink: xxxxxxxã€‚ 3ã€ä»£ç é«˜äº®1ï¼‰è¯¥ä¸»é¢˜å·²è‡ªå¸¦ï¼Œåœ¨markdownæ–‡ä»¶é‡Œçš„ä»£ç åŠ åœ¨codeblockä¸­é—´ 1234&#123;% codeblock lang:objc %&#125;langæ˜¯æŒ‡è¦ä»£ç çš„ç§ç±»ï¼Œæ¯”å¦‚htomã€cssã€jdã€‚è¿™é‡Œå†™æƒ³è¦é«˜äº®çš„ä»£ç &#123;% endcodeblock %&#125; 2ï¼‰å­—çš„æ ·å¼å¤ªæš—ï¼Œç”¨googleæ£€æŸ¥æ‰¾åˆ°æ ·å¼ã€‚ atomæœç´¢æ¯”å¦‚.post-content preï¼ŒæŠŠcoloræ”¹ä¸º#eee 4ã€ç½®é¡¶æ–‡ç« style=â€background-color:#eee;margin-left:20px;margin-right:20px;â€ 12345678910111213&lt;body class=&quot;container-fluid&quot;&gt; &lt;%- partial(&apos;_partial/header&apos;) %&gt; &lt;%- partial(&apos;_partial/nav&apos;) %&gt; &lt;section class=&quot;content-wrap&quot;&gt; &lt;div class=&quot;container&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;main class=&quot;col-md-9 main-content &lt;%if(is_post())&#123;%&gt;m-post&lt;%&#125;%&gt;&quot;&gt; &lt;%- body %&gt; &lt;/main&gt; &lt;%- partial(&apos;_partial/sidebar&apos;, null, &#123;cache: !config.relative_link&#125;) %&gt; &lt;/div&gt; &lt;/div&gt; &lt;/section&gt; ä¸‰ã€é‡è¦cssä¿®æ”¹åæ³¨æ„å¯¹æ¯”æ‰‹æœºè‡ªé€‚åº” 1ï¼‰ 2ï¼‰ä¸»é¡µå·¦å³ç©ºç™½é—´è·ã€‚themes/snippet/layout/layout.ejs 123456789101112131415&lt;body&gt; &lt;div class=&quot;container-fluid&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;%- partial(&apos;_partial/header&apos;) %&gt; &lt;%- partial(&apos;_partial/nav&apos;) %&gt; &lt;section class=&quot;content-wra aa99&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;main class=&quot;col-md-9 main-content &lt;%if(is_post())&#123;%&gt;m-post&lt;%&#125;%&gt;&quot;&gt; &lt;%- body %&gt; &lt;/main&gt; &lt;%- partial(&apos;_partial/sidebar&apos;, null, &#123;cache: !config.relative_link&#125;) %&gt; &lt;/div&gt; &lt;/section&gt; &lt;/div&gt; &lt;/div&gt; ç”¨åª’ä½“ç›‘å¬æ§åˆ¶å¤§å°å±å¹•ä¸¤è¾¹è·ã€‚themes/snippet/source/css/style.css 12345@media (min-width: 600px) &#123; .aa99 &#123; padding: 0 30px; &#125;&#125; 3ï¼‰æ–‡ç« å·¦å³ç©ºç™½é—´è·ã€‚themes/snippet/layout/post.ejsçš„&lt;article class=&quot;post&quot;&gt; 1&lt;article class=&quot;post pp99&quot;&gt; ç”¨åª’ä½“ç›‘å¬æ§åˆ¶å¤§å°å±å¹•å·¦è¾¹è·ã€‚themes/snippet/source/css/style.css 12345@media (min-width: 600px) &#123; .pp99 &#123; padding-left: 35px; &#125;&#125; 3ï¼‰è£å‰ªxæ–¹å‘å¤šå‡ºçš„é¡µé¢ã€‚themes/snippet/source/css/style.css 123body &#123; overflow-x: hidden; &#125; 4ï¼‰æ”¹é¦–é¡µæ–‡ç« å›¾ç‰‡å¤§å°ã€‚themes/snippet/source/css/style.css 12 å››ã€ä¸»é¢˜åŠŸèƒ½ï¼ˆæ¬¡ï¼‰ä¸è’œå­ æ¯”å¦‚ï¼Œç»Ÿè®¡å­—æ•°å’Œé˜…è¯»é‡ æ¥å¿…åŠ›è¯„è®º æ ‡ç­¾äº‘ googleåˆ†ææˆ–ç™¾åº¦ç»Ÿè®¡ å¯¼èˆª readme è®¾è®¡æ–‡ç« å‘½åè§„åˆ™ï¼šè‹±æ–‡å¼€å¤´+xxx+è¦ä¸è¦åŠ æ—¶é—´ æ‰“èµäºŒç»´ç  ä¿®æ”¹å®Œæˆåï¼Œæ‰“åŒ…åˆ°googleç¡¬ç›˜ 2ã€è¯„è®ºæ¥å¿…åŠ›ï¼ï¼å¤±è´¥äº†ç™»å½•æ˜¾ç¤ºæˆåŠŸå®é™…å´æ²¡æœ‰ç™»å½•1ï¼‰å®˜ç½‘æ³¨å†Œhttps://livere.com/ 2ï¼‰å¤´åƒ-ç®¡ç†é¡µé¢-Cityç‰ˆå®‰è£…-å¡«å†™ç½‘ç«™é“¾æ¥ã€åç§°ã€ç±»å‹-åœ¨ä¸€èˆ¬ä»£ç ä¸€æ æ‰¾åˆ°data-uid=&quot;*********&quot; 3ï¼‰ã€ä¸»é¢˜é…ç½®ã€ï¼Œlivere_uid: **********","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/å·¥å…·/"},{"name":"hexo","slug":"hexo","permalink":"http://yoursite.com/tags/hexo/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}]},{"title":"tool-hexo-(è§†é¢‘)hexoè§†é¢‘ç¯‡ä¹‹å¿«é€Ÿä½¿ç”¨hexoæ­å»ºä¸ªäººåšå®¢","slug":"tool-hexo-(è§†é¢‘)hexoè§†é¢‘ç¯‡ä¹‹å¿«é€Ÿä½¿ç”¨hexoæ­å»ºä¸ªäººåšå®¢","date":"2018-01-10T16:10:00.000Z","updated":"2018-01-14T09:43:24.000Z","comments":true,"path":"posts/eea95795/","link":"","permalink":"http://yoursite.com/posts/eea95795/","excerpt":"","text":"å‚è€ƒèµ„æ–™å¿«é€Ÿä½¿ç”¨ Hexo æ­å»ºä¸ªäººåšå®¢ Hexoå®˜ç½‘ä¸­æ–‡ç«™ç‚¹ æ¨¡æ¿åšå®¢-å¥½è®°æ€§ä¸å¦‚çƒ‚é”®ç›˜ åºå¼€å§‹ä¹‹å‰ï¼Œå…ˆå¼ºè°ƒå‡ ç‚¹ï¼š hexoåšå®¢æ­å»ºåˆ°èƒ½ç”¨çš„ç¨‹åº¦ï¼Œéå¸¸ç®€å•ã€‚ä½†æ˜¯ä¸»é¢˜ç­‰ç»†èŠ‚é…ç½®ä¼šæœ‰å„ç§å‘ï¼Œå¦‚æœçº ç»“å…¶ä¸­ï¼Œå¯èƒ½ä¸‰äº”å¤©æ‰èƒ½é…ç½®å®Œã€‚ æœ€å¥½çš„æ–¹å¼ï¼Œæ˜¯æ‹·è´åˆ«äººåšå®¢ï¼Œç›´æ¥ä½¿ç”¨ã€‚ ä¸€ã€Hexo æ¡†æ¶ä»‹ç»äºŒã€æ¡†æ¶çš„æœ¬åœ°å®‰è£…ä¸è¿è¡Œ1ã€å®‰è£…å‘½ä»¤12345npm install hexo-cli -g //å®‰è£…hexoæ¡†æ¶hexo init blog //æ³¨æ„ï¼šè¿™é‡Œçš„blogæ˜¯ç¤ºä¾‹æ–‡ä»¶å¤¹ï¼Œå¯ä»¥æ”¹æˆè‡ªå·±æƒ³è¦çš„åç§°å’Œä½ç½®cd blog //è¿›å…¥æ–‡ä»¶å¤¹npm installhexo server 2ã€æ•ˆæœå›¾ ä¸‰ã€æ¡†æ¶çš„åŸºæœ¬ç»“æ„ä¸æ‰“åŒ…åçš„æ–‡ä»¶ä»‹ç»1ã€æ¡†æ¶çš„åŸºæœ¬ç»“æ„å¦‚ä¸‹å›¾ 2ã€å¸¸ç”¨å‘½ä»¤1ï¼‰æœ€æœ€å¸¸ç”¨çš„å¦‚ä¸‹ï¼Œè¯¦è§å®˜æ–¹æ–‡æ¡£hexo-æ–‡æ¡£-å‘½ä»¤https://hexo.io/zh-cn/docs/commands.html 12345hexo clean //åˆ é™¤ç½‘ç«™ï¼Œå³åˆ é™¤publicæ–‡ä»¶å¤¹hexo g //ç”Ÿæˆç½‘ç«™ï¼Œå³ç”Ÿæˆpublicæ–‡ä»¶å¤¹hexo s //è¿è¡Œhexoï¼Œæ‰“å¼€ç½‘å€http://localhost:4000/æŸ¥çœ‹åšå®¢ctrl+c //åœæ­¢hexo shexo d //éƒ¨ç½²åˆ°githubï¼Œè¦å…ˆç«™ç‚¹é…ç½®æ·»åŠ githubåœ°å€ 2ï¼‰ç‰¹åˆ«æ³¨æ„ ã€ç«™ç‚¹é…ç½®æ–‡ä»¶ã€ï¼ˆè§ä¸Šå›¾ï¼‰æ›´æ”¹åï¼Œä¸€å®šè¦é‡å¯hexoï¼ˆå…ˆctrl+cåœæ­¢hexo sï¼Œå†é‡æ–°hexo sï¼‰æ‰èƒ½ç”Ÿæ•ˆã€‚ ã€ä¸»é¢˜é…ç½®æ–‡ä»¶ã€ï¼ˆè§ä¸Šå›¾ï¼‰æ›´æ”¹åï¼Œç›´æ¥åˆ·æ–°http://localhost:4000/å³å¯ã€‚ å››ã€4 - Hexo åšå®¢ä¸»é¢˜çš„å®‰è£…ä¸æ¨è1ã€å®˜ç½‘ä¸»é¢˜è§https://hexo.io/themes/1ï¼‰ç‚¹å‡»ä¸»é¢˜å›¾ç‰‡å¯ä»¥é¢„è§ˆï¼Œå¦‚http://haojen.github.io/ 2ï¼‰ç‚¹å‡»æ ‡é¢˜è¿›å…¥ä¸»é¢˜çš„githubï¼Œå¦‚https://github.com/haojen/hexo-theme-Anisina 2ã€ä¸»é¢˜çš„å®‰è£…è¿›å…¥ä¸»é¢˜githubï¼Œé‡Œè¾¹æœ‰è¯¦ç»†çš„å®‰è£…æ•™ç¨‹ï¼Œä¸»é¢˜å®‰è£…åŸºæœ¬éƒ½æ˜¯ä¸‹è¾¹ä¸¤æ­¥ï¼š Step1ã€å…‹éš†ä¸»é¢˜1git clone https://github.com/Haojen/hexo-theme-Anisina.git themes/Anisina Step2ã€ä¿®æ”¹ç«™ç‚¹é…ç½®1ï¼‰æ‰“å¼€ã€ç«™ç‚¹é…ç½®æ–‡ä»¶ã€_config.ymlï¼Œç„¶åä¿®æ”¹ä¸»é¢˜theme: Anisinaã€‚ 2ï¼‰é‡å¯hexoï¼ˆctrl+cï¼Œå†hexo sï¼‰ï¼Œæ‰“å¼€http://localhost:4000/ï¼Œå¯ä»¥çœ‹åˆ°ä¸»é¢˜å·²æ›´æ”¹ã€‚ äº”ã€å¦‚ä½•è‡ªå®šä¹‰ä½ çš„åšå®¢ç»“æ„1ï¼‰æ¨èç™½è‰²èƒŒæ™¯ä¸»é¢˜ï¼Œæœ€å¥½æ‰‹æœºè‡ªé€‚åº”ï¼šLightã€Anisina 2ï¼‰æ¯”å¦‚è¿™ä¸ªLightåšå®¢ã€‚åˆ†ç±»ã€æ ‡ç­¾äº‘ã€ç»Ÿè®¡http://blog.parryqiu.com/ å…­ã€å¦‚ä½•å¼€å§‹å†™åšå®¢æ–‡ç« ä»¥åŠæ–‡ç« çš„åˆ†ç±»ä¸æ ‡ç­¾1ã€æ–‡ç« å¼€å¤´æ ‡ç­¾å†™æ³•1ï¼‰hexoå®˜æ–¹æ–‡æ¡£hexo-æ–‡æ¡£-Front-matterï¼Œhttps://hexo.io/zh-cn/docs/front-matter.html 2ï¼‰ç¤ºä¾‹ï¼ˆæ ‡é¢˜ã€æ—¥æœŸã€åˆ†ç±»ã€æ ‡ç­¾ï¼‰ 12345678910---title: hexoè§†é¢‘æ•™ç¨‹date: 2018-01-11 09:00categories:- åšå®¢tags:- è§†é¢‘æ•™ç¨‹- hexo- åšå®¢--- 2ã€å°æŠ€å·§ï¼š1ï¼‰ç”¨markdownå†™æ—¶è¦å®šä¹‰h1ã€h2ã€h3å¤šçº§æ ‡é¢˜ï¼Œä¸»é¢˜ä¼šå¸®æˆ‘ä»¬ç”Ÿæˆç›®å½•ï¼Œæé«˜é˜…è¯»ä½“éªŒã€‚ ä¸ƒã€å¦‚ä½•è®©ä»£ç åœ¨ Hexo ä¸‹æ˜¾ç¤ºçš„æ›´åŠ ç¾è§‚1ã€ä»£ç é«˜äº®å¦‚ä½•å†™hexoå®˜æ–¹æ–‡æ¡£hexo-æ–‡æ¡£-æ ‡ç­¾æ’ä»¶Tag Pluginsï¼Œhttps://hexo.io/zh-cn/docs/tag-plugins.html Step1ã€åœ¨markdownæ–‡æ¡£é‡ŒåŠ å…¥ä»£ç ï¼Œå¦‚ä¸‹ Step2ã€ä¿®æ”¹ä¸»é¢˜1ï¼‰æ‰“å¼€themes/ä¸»é¢˜æ–‡ä»¶å¤¹/layout/_partial/head.ejsï¼Œå¼•å…¥cssä»£ç ã€‚ å…«ã€æœ¬åœ°å†™ä½œæ—¶å›¾åºŠçš„æœ€ä½³è§£å†³æ–¹æ¡ˆ1ã€ä¸ƒç‰›äº‘1ï¼‰æ•ˆæœè·Ÿipicç±»ä¼¼ï¼Œå¤åˆ¶å›¾ç‰‡æˆ–æˆªå›¾åï¼Œç›´æ¥åœ¨typoraç²˜è´´ä¼šè‡ªåŠ¨ä¸Šä¼ æˆå›¾åºŠç½‘å€ã€‚ 2ï¼‰ä½†æ˜¯ï¼Œæ„Ÿè§‰ä¸ƒç‰›äº‘éœ€è¦ç®¡ç†éº»çƒ¦ã€‚ 2ã€ipicï¼ˆ99ç°ç”¨ï¼‰1ï¼‰æˆªå›¾ï¼Œæˆ–å¤åˆ¶ç½‘ç«™ä¸Šçš„å›¾ç‰‡åï¼Œshift+command+uä¸Šä¼  2ï¼‰æœ¬åœ°å›¾ç‰‡ï¼Œç‚¹å‡»åcommand+uä¸Šä¼  3ï¼‰typoraè®¾ç½®ç²˜è´´å›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ ï¼ˆç¼–è¾‘-å›¾ç‰‡å·¥å…·-å½“æ’å…¥æœ¬åœ°å›¾ç‰‡æ—¶-ä½¿ç”¨ipicä¸Šä¼ ï¼‰ã€‚ å¦‚æœéœ€è¦å¤‡ä»½æœ¬åœ°å›¾ç‰‡ï¼Œå¯ä»¥è¿™æ ·ä¿®æ”¹ï¼š â‘ ã€ç¼–è¾‘-å›¾ç‰‡å·¥å…·-å½“æ’å…¥æœ¬åœ°å›¾ç‰‡æ—¶-æ‹·è´åˆ°æ–‡ä»¶å¤¹ â‘¡ã€å½“æ–‡ç« å†™å¥½åï¼Œç¼–è¾‘-å›¾ç‰‡å·¥å…·-ä½¿ç”¨ipicä¸Šä¼ æœ¬åœ°å›¾ç‰‡ 4ï¼‰å›¾ç‰‡ç”¨imgæ ‡ç­¾ï¼Œå¯ä»¥æ”¹å¤§å°&lt;img src=&quot;&quot; width=&quot;500&quot;&gt; ä¹ã€æ’ä»¶çš„å®‰è£…ä¸å¿…å¤‡æ’ä»¶ä»‹ç»1ã€ç»Ÿè®¡å­—æ•°/é˜…è¯»æ•°1ï¼‰ä½¿ç”¨ã€ä¸è’œå­ ä¸å¦‚ã€è„šæœ¬http://ibruce.info/2015/04/04/busuanzi/ 2ï¼‰ä¿®æ”¹themes/ä¸»é¢˜æ–‡ä»¶å¤¹/layout/_partial/after-footer.ejs 2ã€æ›´å¤šæ’ä»¶1ï¼‰hexoå®˜æ–¹æ–‡æ¡£hexo-Pluginsæ’ä»¶ï¼Œhttps://hexo.io/plugins/ 2ï¼‰æ¯”å¦‚ï¼š hexo-all-minifierï¼Œåšå…¨å±€htmlã€cssã€jsçš„å‹ç¼© hexo-cdnifyï¼Œæœ¬åœ°å‰ªåˆ‡æ¿å›¾ç‰‡urlä¸Šä¼ åˆ°å›¾åºŠ hexo-disqus-prxoyï¼Œè§£å†³Disuqså›½å†…ä¸èƒ½è®¿é—®æ—¶çš„ä»£ç† hexo-helper-qrcodeï¼ŒäºŒç»´ç  å»ºè®®ç®€æ´ï¼Œæ’ä»¶å¤ªå¤šä¼šå½±å“åšå®¢åŠ è½½ã€‚åº”è¯¥æŠŠä¸»è¦ç²¾åŠ›æ”¾åœ¨æé«˜æ–‡ç« è´¨é‡ä¸Šã€‚ åã€å¦‚ä½•è®©ä½ çš„åšå®¢æ¥å…¥è¯„è®ºç³»ç»Ÿ1ã€Disquså›½å†…è¢«å¢™ï¼Œå›½å†…ç”¨æˆ·çœ‹ä¸åˆ°ã€‚ 2ã€æ¥å¿…åŠ›æ”¯æŒå¾®ä¿¡ã€å¾®ä¿¡ç™»å½•ã€‚ 3ã€ç•…è¨€éœ€è¦åšå®¢å¤‡æ¡ˆã€‚ ã€æ€»ç»“ã€ï¼š1ï¼‰å¦‚æœè¦ç”¨ï¼Œæ¨èæ¥å¿…åŠ›ã€‚é’ˆå¯¹å›½å¤–ç”¨æˆ·å¯ç”¨Disqusã€‚ 2ï¼‰æˆ–å¹²è„†ä¸ç”¨ï¼Œæ‰“æ³¨æ„åŠ›ç”¨åœ¨å†™åšå®¢ï¼Œäº¤æµæ”¾åœ¨å¾®ä¿¡ã€QQã€‚ åä¸€ã€å¦‚ä½•ç»™ä½ çš„åšå®¢å¢åŠ æœç´¢åŠŸèƒ½é™æ€ç½‘ç«™æ²¡æœ‰æ•°æ®åº“ï¼Œä¸èƒ½å†åç«¯å†™æœç´¢åŠŸèƒ½ã€‚åªèƒ½å˜ç›¸å®ç°æœç´¢ï¼š 1ã€æ ‡ç­¾äº‘ç±»ä¼¼äºåˆ†ç±»çš„æ•ˆæœï¼Œä¸èƒ½åšå…¨æ–‡å…³é”®è¯æ£€ç´¢ã€‚ 2ã€swifttypeæ”¶è´¹ã€‚åŸç†æ˜¯æŠŠæˆ‘ä»¬çš„æ–‡ç« ä¸Šä¼ åˆ°å®ƒçš„æ•°æ®åº“ï¼Œç„¶åæä¾›æ¥å£ç½‘å€ç»™æˆ‘ä»¬ä½¿ç”¨ã€‚ 3ã€ç™¾åº¦/googleçš„siteè¯­æ³•æ¯”å¦‚æœç´¢site: blog.parryqiu.com/ã€‚æœç´¢ç»“æœå–å†³äºç™¾åº¦/googleæ”¶å½•äº†å¤šå°‘ä½ çš„æ–‡ç« ã€‚ 4ã€æœ¬åœ°ç«™å†…æœç´¢ã€æ€»ç»“æ¨èã€1ï¼‰åŠ å…¥æ ‡ç­¾äº‘ 2ï¼‰ç”¨æœ¬åœ°æœç´¢ åäºŒã€å¤šä¸ªåšå®¢ç»Ÿè®¡ç³»ç»Ÿçš„æ¥å…¥æ–¹æ¡ˆåˆ†ææ¥å…¥æ–¹æ¡ˆä¸»è¦æ˜¯jsçš„éƒ¨ç½²ï¼Œåªè¦æŠŠç»Ÿè®¡å¹³å°çš„jséƒ¨ç½²åˆ°é¡µè„šå°±å¯ä»¥ã€‚ ç»Ÿè®¡çš„é‡è¦æ€§ï¼šæµé‡æ¥æºã€æœç´¢å…³é”®å­—ã€é˜…è¯»é‡ã€‚ 1ã€å‹ç›Ÿu-webçƒ­ç‚¹å›¾ï¼Œç”¨æˆ·ç‚¹å‡»æœ€å¤šçš„ä½ç½®ã€‚ 2ã€ç™¾åº¦ç»Ÿè®¡3ã€googleç»Ÿè®¡åä¸‰ã€éƒ¨ç½²åšå®¢åˆ° GitHub çš„æŠ€å·§1ã€Github pagesæ˜¯ä»€ä¹ˆï¼Ÿ1ï¼‰æ¯ä¸ªgithubçš„é¡¹ç›®ï¼Œæä¾›ä¸€ä¸ªé¡µé¢ç”¨æ¥å±•ç¤ºä½ çš„é¡¹ç›®ã€‚ æ³¨æ„ï¼šgithub pagesåšä¸ªäººä¸»é¡µåªèƒ½ç”¨&lt;username&gt;.github.ioï¼Œåšé¡¹ç›®ä¸»é¡µæ˜¯ç”¨&lt;usernmae&gt;.github.io/&lt;projectname&gt;ã€‚ è¯¦è§ã€å•ä¸ªGitHubå¸å·ä¸‹æ·»åŠ å¤šä¸ªGitHub Pagesçš„ç›¸å…³é—®é¢˜ã€http://chitanda.me/2015/11/03/multiple-git-pages-in-one-github-account/ 2ï¼‰Github pagesç½‘å€éƒ½æ˜¯é¡¹ç›®å.github.ioã€‚æœ‰è‡ªå·±çš„åŸŸåå¯ä»¥ç»‘å®šï¼Œå¹¶é…ç½®CNAMEã€‚é…ç½®æ–¹æ³•è§ã€Github Page ç»‘å®šåŸŸåã€http://justcoding.iteye.com/blog/1959736 2ã€ä¹Ÿå¯ä»¥éƒ¨ç½²åˆ°è‡ªå·±çš„æœåŠ¡å™¨åå››ã€Hexo å…¶ä»–èµ„æºçš„ä»‹ç»ä¸åˆ†äº«1ã€99æ–‡å­—ç‰ˆæ•™ç¨‹2ã€çŸ¥ä¹å…³äºhexoä¸»é¢˜çš„å¸–å­ï¼Œ99å–œæ¬¢snippet","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/å·¥å…·/"},{"name":"hexo","slug":"hexo","permalink":"http://yoursite.com/tags/hexo/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}]},{"title":"tool-mac-ä¸‹è½½ç½‘ç«™å·¥å…·offline pages proä½¿ç”¨æ–¹æ³•","slug":"tool-mac-ä¸‹è½½ç½‘ç«™å·¥å…·offline pages proä½¿ç”¨æ–¹æ³•","date":"2018-01-09T16:10:00.000Z","updated":"2018-01-14T06:53:03.000Z","comments":true,"path":"posts/8f82da10/","link":"","permalink":"http://yoursite.com/posts/8f82da10/","excerpt":"","text":"5000é¡µçº¦1.1Gï¼Œä¸å¤Ÿæ”¾ï¼Œé‡æ–°ä¸‹è½½ äºŒã€99æ€»ç»“-å»ºè®®è‡ªå®šä¹‰1ã€é…ç½®è¯¦è§£1ï¼‰é»˜è®¤5ä¸ªé€‰é¡¹è·Ÿè‡ªå®šä¹‰5ä¸ªé€‰é¡¹ï¼Œçœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼ˆå®æµ‹ç»“æœä¹Ÿç±»ä¼¼ï¼‰ï¼Œé™¤äº†ç¬¬ä¸€é¡¹ä¸‹è½½åª’ä½“æ–‡ä»¶æ²¡æµ‹è¯•è¿‡ã€‚ 2ï¼‰ä¸‹è½½é¡µæ•°ï¼Œæµ‹è¯•è¿‡å¯ä»¥ä¸€æ¬¡æ€§å†™å¤šç‚¹å¦‚20000é¡µã€‚ ä»¥å‰æ‹…å¿ƒå†™å¤šäº†ä¼šå¸®æˆ‘ä»¬ä¹±ä¸‹è½½ï¼Œå®æµ‹ä¸ä¼šã€‚ 3ï¼‰levelåªæœ‰websiteè¿™ä¸ªè®¾ç½®ä¸é™çº§ï¼Œå…¶ä»–å‡ ä¸ªé»˜è®¤level1ã€‚ æµ‹è¯•å­¦ä¹ ä¸­å¿ƒï¼ˆæ­£å¸¸æœ‰ä¸€ä¸¤åƒé¡µï¼‰ï¼Œlevels1åªä¸‹è½½83é¡µã€‚ 4ï¼‰Follow links toçš„ä¸‰ä¸ªé€‰é¡¹ï¼šå¤–çˆ¶ç›®å½•ã€å…¶ä»–å­åŸŸã€å…¶ä»–ç½‘ç«™ã€‚ 1ï¼‰å¤–çˆ¶ç›®å½•æ˜¯æœ€æœ€é‡è¦çš„ï¼Œä¸€å®šè¦å‹¾é€‰ã€‚æµ‹è¯•äº†1000é¡µçš„Websiteï¼Œé»˜è®¤åªå‹¾é€‰è¿™ä¸€é¡¹ï¼Œå¥½åƒè¯¥æœ‰çš„ç½‘é¡µéƒ½æœ‰ã€‚ 2ï¼‰å…¶ä»–å­åŸŸï¼Œé™¤éä¸€äº›ç‰¹å®šçš„æ–‡æ¡£æˆ–é“¾æ¥ï¼Œä¸€èˆ¬å°ç‚¹çš„ç½‘ç«™éƒ½æ²¡æœ‰ç”¨å­åŸŸåã€‚å»ºè®®ä¸å‹¾é€‰ï¼Œä¸‹è½½å‰å¯ä»¥å…ˆçœ‹çœ‹åŸŸåï¼Œå¯¹ä¸ªåˆ«åŸŸåä¸åŒçš„æ–‡æ¡£æˆ–é“¾æ¥å•ç‹¬ä¸‹è½½ã€‚ 3ï¼‰å…¶ä»–ç½‘ç«™ï¼Œå»ºè®®ä¸å‹¾é€‰ï¼Œä¸‹è½½å…¶ä»–ç½‘ç«™çš„èµ„æºç¬¬ä¸€ä¼šå¾ˆå¤§ï¼Œç¬¬äºŒæ²¡å¿…è¦å› ä¸ºå¯èƒ½å‹æ ¹å°±ä¸ä¼šç‚¹è¿›å»çœ‹ã€‚ 2ã€æ€»ç»“ï¼šç›´æ¥æŒ‰è¿™æ ·é…ç½® å†è¡¥å……æ“ä½œåŠ¨å›¾ ä¸€ã€ä¸‹è½½çš„é»˜è®¤é€‰é¡¹1ã€Page and Mediaï¼Œç½‘é¡µ+åª’ä½“æ–‡ä»¶2ã€Page and Important Linksï¼Œç½‘é¡µ+é‡è¦é“¾æ¥3ã€Page and All Linksï¼Œç½‘é¡µ+æ‰€æœ‰é“¾æ¥4ã€Website(1000 Pages)ï¼Œç½‘é¡µ1000ä¸ª5ã€Advancedï¼Œè‡ªå®šä¹‰æŒ‰ç…§ä¸‹è½½é“¾æ¥åˆ†ä¸º 1ï¼‰Noneï¼Œä¸‹è½½1000é¡µï¼Œlevelç¬¬ä¸€çº§ã€‚ä¸ä¸‹è½½å¤–çˆ¶ç›®å½•ã€å…¶ä»–å­åŸŸã€å…¶ä»–ç½‘ç«™ã€‚ 2ï¼‰Intelligentï¼Œä¸‹è½½50é¡µï¼Œlevelç¬¬ä¸€çº§ã€‚ä¸‹è½½å¤–çˆ¶ç›®å½•ã€å…¶ä»–å­åŸŸã€å…¶ä»–ç½‘ç«™ã€‚ 3ï¼‰First Levelï¼Œä¸‹è½½1000é¡µï¼Œlevelç¬¬ä¸€çº§ã€‚ä¸‹è½½å¤–çˆ¶ç›®å½•ã€å…¶ä»–å­åŸŸã€å…¶ä»–ç½‘ç«™ã€‚ 4ï¼‰Websiteï¼Œä¸‹è½½1000é¡µï¼Œlevelä¸é™çº§ã€‚ä¸‹è½½å¤–çˆ¶ç›®å½•ï¼Œä¸ä¸‹è½½å…¶ä»–å­åŸŸã€å…¶ä»–ç½‘ç«™ã€‚ 5ï¼‰customï¼Œè‡ªå®šä¹‰ã€‚","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/å·¥å…·/"},{"name":"mac","slug":"mac","permalink":"http://yoursite.com/tags/mac/"},{"name":"ä¸‹è½½","slug":"ä¸‹è½½","permalink":"http://yoursite.com/tags/ä¸‹è½½/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}]},{"title":"www-orid-month-å¸¸ç”¨blogåˆ†ç±»æ ¼å¼ã€æ ‡ç­¾æ ¼å¼ã€æ–‡ä»¶åæ ¼å¼","slug":"www-orid-month-å¸¸ç”¨blogåˆ†ç±»æ ¼å¼ã€æ ‡ç­¾æ ¼å¼ã€æ–‡ä»¶åæ ¼å¼","date":"2018-01-09T16:10:00.000Z","updated":"2018-01-14T09:43:03.000Z","comments":true,"path":"posts/d16694c4/","link":"","permalink":"http://yoursite.com/posts/d16694c4/","excerpt":"","text":"ä¸€ã€æ–‡ä»¶å+æ ‡ç­¾+æ–‡ä»¶å¤¹æ ‡ç­¾ã€è½¬å‘ã€ã€å¸¸ç”¨ã€ï¼Œæ ‡ç­¾æ ¹æ®è‡ªå·±éœ€è¦ç»§ç»­æ·»åŠ ã€‚1ã€ror-systemâ€”â€”rorç³»ç»Ÿ ==rorç³»ç»Ÿhttps://ws4.sinaimg.cn/large/006tNc79gy1fnfep1kp2qj30jk0dtwez.jpg 1234567title: date: &apos;2018-01- 00:10&apos;categories:- rorç³»ç»Ÿtags:- rorç³»ç»Ÿimg: &apos;https://ws4.sinaimg.cn/large/006tNc79gy1fnfep1kp2qj30jk0dtwez.jpg&apos; 2ã€ror-tipsâ€”â€”rorçŸ¥è¯†ç‚¹==rorçŸ¥è¯†ç‚¹https://ws1.sinaimg.cn/large/006tNc79gy1fnfwh0s580j305k050a9w.jpg 1234567title:date: &apos;2018-01- 00:10&apos;categories:- rorçŸ¥è¯†ç‚¹tags:- rorçŸ¥è¯†ç‚¹img: &apos;https://ws1.sinaimg.cn/large/006tNc79gy1fnfwh0s580j305k050a9w.jpg&apos; 3ã€ror-functionâ€”â€”roråŠŸèƒ½ ==roråŠŸèƒ½https://ws3.sinaimg.cn/large/006tNc79gy1fnfvqdlgzej30d608s74i.jpg 1234567title: date: &apos;2018-01- 00:10&apos;categories:- roråŠŸèƒ½tags:- roråŠŸèƒ½img: &apos;https://ws3.sinaimg.cn/large/006tNc79gy1fnfvqdlgzej30d608s74i.jpg&apos; 4ã€web-pageâ€”â€”webé¡µé¢ ==webé¡µé¢https://ws2.sinaimg.cn/large/006tNc79gy1fnfvej9iydj30ci08z3yo.jpg 1234567title: date: &apos;2018-01- 00:10&apos;categories:- webé¡µé¢tags:- webé¡µé¢img: &apos;https://ws2.sinaimg.cn/large/006tNc79gy1fnfvej9iydj30ci08z3yo.jpg&apos; 5ã€wx-functionâ€”â€”å¾®ä¿¡åŸºç¡€ã€åŠŸèƒ½ã€é¡µé¢ ==å¾®ä¿¡å°ç¨‹åº1ï¼‰wx-systemï¼Œhttps://ws1.sinaimg.cn/large/006tNc79gy1fng5pmwdonj30cd08u0sx.jpg 1234567title: date: &apos;2018-01- 00:10&apos;categories:- å¾®ä¿¡å°ç¨‹åºtags:- å¾®ä¿¡ç³»ç»Ÿimg: &apos;https://ws1.sinaimg.cn/large/006tNc79gy1fng5pmwdonj30cd08u0sx.jpg&apos; 2ï¼‰wx-functionï¼Œhttps://ws1.sinaimg.cn/large/006tNc79gy1fnfwxbwogcj30dy0ccwer.jpg 1234567title: date: &apos;2018-01- 00:10&apos;categories:- å¾®ä¿¡å°ç¨‹åºtags:- å¾®ä¿¡åŠŸèƒ½img: &apos;https://ws1.sinaimg.cn/large/006tNc79gy1fnfwxbwogcj30dy0ccwer.jpg&apos; 3ï¼‰wx-pageï¼Œhttps://ws3.sinaimg.cn/large/006tNc79gy1fnfuf5yqi5j30di09sq34.jpg 1234567title: date: &apos;2018-01- 00:10&apos;categories:- å¾®ä¿¡å°ç¨‹åºtags:- å¾®ä¿¡é¡µé¢img: &apos;https://ws3.sinaimg.cn/large/006tNc79gy1fnfuf5yqi5j30di09sq34.jpg&apos; 7ã€bugâ€”â€”bug==rorçŸ¥è¯†ç‚¹https://ws1.sinaimg.cn/large/006tNc79gy1fnfw7fgtkoj30dv0dh0sq.jpg 1234567title: date: &apos;2018-01- 00:10&apos;categories:- rorçŸ¥è¯†ç‚¹tags:- bugimg: &apos;https://ws1.sinaimg.cn/large/006tNc79gy1fnfw7fgtkoj30dv0dh0sq.jpg&apos; 8ã€tool-vps/hexoâ€”â€”å·¥å…·ã€vpa/hexo/atom ==å·¥å…·1ï¼‰tool-macï¼Œhttps://ws2.sinaimg.cn/large/006tKfTcgy1fnfcwsitmgj30da08pjrg.jpg 12345678title: date: &apos;2018-01- 00:10&apos;categories:- å·¥å…·tags:- å·¥å…·- macimg: &apos;https://ws2.sinaimg.cn/large/006tKfTcgy1fnfcwsitmgj30da08pjrg.jpg&apos; 2ï¼‰tool-atomï¼Œhttps://ws4.sinaimg.cn/large/006tKfTcgy1fnfd8csp18j308506wdfq.jpg 12345678title: date: &apos;2018-01- 00:10&apos;categories:- å·¥å…·tags:- å·¥å…·- atomimg: &apos;https://ws4.sinaimg.cn/large/006tKfTcgy1fnfd8csp18j308506wdfq.jpg&apos; 3ï¼‰tool-hexoï¼Œhttps://ws3.sinaimg.cn/large/006tNc79gy1fng9zj56ukj30d909st8n.jpg 12345678title: date: &apos;2018-01- 00:10&apos;categories:- å·¥å…·tags:- å·¥å…·- hexoimg: &apos;https://ws3.sinaimg.cn/large/006tNc79gy1fng9zj56ukj30d909st8n.jpg&apos; 4ï¼‰tool-vpsï¼Œhttps://ws4.sinaimg.cn/large/006tNc79gy1fnfdhnbgrrj308506bmx2.jpg 12345678title: date: &apos;2018-01- 00:10&apos;categories:- å·¥å…·tags:- å·¥å…·- vpsimg: &apos;https://ws4.sinaimg.cn/large/006tNc79gy1fnfdhnbgrrj308506bmx2.jpg&apos; 5ï¼‰tool-mobile phoneï¼Œhttps://ws3.sinaimg.cn/large/006tNc79gy1fng6b0212hj30ce09mjre.jpg 12345678title: date: &apos;2018-01- 00:10&apos;categories:- å·¥å…·tags:- å·¥å…·- æ‰‹æœºimg: &apos;https://ws3.sinaimg.cn/large/006tNc79gy1fng6b0212hj30ce09mjre.jpg&apos; 6ï¼‰typoraï¼Œhttps://ws3.sinaimg.cn/large/006tNc79gy1fng7a0vzibj30bg08tdfn.jpg 12345678title: date: &apos;2018-01- 00:10&apos;categories:- å·¥å…·tags:- å·¥å…·- typoraimg: &apos;https://ws3.sinaimg.cn/large/006tNc79gy1fng7a0vzibj30bg08tdfn.jpg&apos; 9ã€wwwâ€”â€”å¿ƒå¾—ï¼Œorid-day/orid-week/orid-month/æ ¸èšç¼–ç¨‹/interview ==å¿ƒå¾—1ï¼‰www-orid-dayï¼Œhttps://ws2.sinaimg.cn/large/006tNc79gy1fnfy9z9yw2j30hc0dcdfy.jpg 12345678title: date: &apos;2018-01- 00:10&apos;categories:- å¿ƒå¾—tags:- å¿ƒå¾—- orid-dayimg: &apos;https://ws2.sinaimg.cn/large/006tNc79gy1fnfy9z9yw2j30hc0dcdfy.jpg&apos; 2ï¼‰www-orid-weekï¼Œhttps://ws2.sinaimg.cn/large/006tNc79gy1fnfy67kwelj30bt06874q.jpg 12345678title: date: &apos;2018-01- 00:10&apos;categories:- å¿ƒå¾—tags:- å¿ƒå¾—- orid-weekimg: &apos;https://ws2.sinaimg.cn/large/006tNc79gy1fnfy67kwelj30bt06874q.jpg&apos; 3ï¼‰www-orid-monthï¼Œè‡ªç”±å‘æŒ¥ 12345678title: date: &apos;2018-01- 00:10&apos;categories:- å¿ƒå¾—tags:- å¿ƒå¾—- orid-monthimg: è‡ªç”±å‘æŒ¥ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ 4ï¼‰www-æ ¸èšç¼–ç¨‹ï¼Œhttps://ws1.sinaimg.cn/large/006tNc79gy1fnfyh7ii9cj307d079jrd.jpg 12345678title: date: &apos;2018-01- 00:10&apos;categories:- å¿ƒå¾—tags:- å¿ƒå¾—- æ ¸èšç¼–ç¨‹img: &apos;https://ws1.sinaimg.cn/large/006tNc79gy1fnfyh7ii9cj307d079jrd.jpg&apos; 5ï¼‰www-interviewï¼Œhttps://ws1.sinaimg.cn/large/006tNc79gy1fnfx150oqcj30nw0i6mxx.jpg 12345678title: date: &apos;2018-01- 00:10&apos;categories:- å¿ƒå¾—tags:- å¿ƒå¾—- interviewimg: &apos;https://ws1.sinaimg.cn/large/006tNc79gy1fnfx150oqcj30nw0i6mxx.jpg&apos; 10ã€investâ€”â€”æ¬ç –ï¼ŒåŒºå—é“¾==æŠ•èµ„1ï¼‰invest-æ¬ç –ï¼Œhttps://ws4.sinaimg.cn/large/006tNc79gy1fnfzg8vkijj3064064jra.jpg 12345678title: date: &apos;2018-01- 00:10&apos;categories:- æŠ•èµ„tags:- æŠ•èµ„- æ¬ç –img: &apos;https://ws4.sinaimg.cn/large/006tNc79gy1fnfzg8vkijj3064064jra.jpg&apos; 2ï¼‰invest-åŒºå—é“¾ï¼Œhttps://ws4.sinaimg.cn/large/006tNc79gy1fnfzk9lmhtj30ik0cnq3i.jpg 12345678title: date: &apos;2018-01- 00:10&apos;categories:- æŠ•èµ„tags:- æŠ•èµ„- åŒºå—é“¾img: &apos;https://ws4.sinaimg.cn/large/006tNc79gy1fnfzk9lmhtj30ik0cnq3i.jpg&apos; å³ 1234567891011åšå®¢ä»‹ç»ï¼š### åˆ†ç±»rorç³»ç»ŸrorçŸ¥è¯†ç‚¹roré¡µé¢roråŠŸèƒ½å¾®ä¿¡é¡µé¢å¾®ä¿¡åŠŸèƒ½å·¥å…·ï¼ˆæŒ‰æ ‡ç­¾åˆ†ç±»ï¼Œmacï¼Œatomï¼Œhexoï¼Œvpsï¼‰å¿ƒå¾—ï¼ˆæŒ‰æ ‡ç­¾åˆ†ç±»ï¼Œorid-dayã€orid-weekã€orid-monthï¼Œinteviewï¼Œæ ¸èšç¼–ç¨‹ï¼‰æŠ•èµ„","categories":[{"name":"å¿ƒå¾—","slug":"å¿ƒå¾—","permalink":"http://yoursite.com/categories/å¿ƒå¾—/"}],"tags":[{"name":"å¸¸ç”¨","slug":"å¸¸ç”¨","permalink":"http://yoursite.com/tags/å¸¸ç”¨/"},{"name":"å¿ƒå¾—","slug":"å¿ƒå¾—","permalink":"http://yoursite.com/tags/å¿ƒå¾—/"},{"name":"orid-month","slug":"orid-month","permalink":"http://yoursite.com/tags/orid-month/"}],"keywords":[{"name":"å¿ƒå¾—","slug":"å¿ƒå¾—","permalink":"http://yoursite.com/categories/å¿ƒå¾—/"}]},{"title":"www-orid-month-å¸¸ç”¨blogæ–‡ç« æ ¼å¼","slug":"www-orid-month-å¸¸ç”¨blogæ–‡ç« æ ¼å¼","date":"2018-01-09T16:10:00.000Z","updated":"2018-01-14T06:04:54.000Z","comments":true,"path":"posts/da6a027e/","link":"","permalink":"http://yoursite.com/posts/da6a027e/","excerpt":"","text":"ä¸€ã€é€»è¾‘æ¸…æ™°ï¼ˆç›®çš„æ˜¯è®©ç›®å½•æ›´æ¸…æ™°ï¼‰ç”¨ä¸ŠStepï¼Œæ³¨æ„åºå·1ã€2ã€3ï¼Œæ— åº*ï¼Œæ­¥éª¤Stepçš„ä¸åŒä½¿ç”¨é€»è¾‘è¦å¾ˆæ¸…æ™°ã€‚ åºå·1ã€2ã€3ã€ï¼Œ1ï¼‰2ï¼‰3ï¼‰ç”¨äºç½—åˆ—ç¬¬ä¸€ç§ç¬¬äºŒç§ç¬¬ä¸‰ç§ï¼Œé…åˆã€æ€»ç»“ã€ æ— åº*ï¼Œç”¨äºå°å·æ ‡é¢˜1ï¼‰2ï¼‰3ï¼‰ä¸‹ç½—åˆ—ç¬¬ä¸€ç§ç¬¬äºŒç§ç¬¬ä¸‰ç§ Step1Step2ï¼Œç”¨äºæ­¥éª¤ï¼Œä¸€èˆ¬ç”¨ä¸‰å·å­—ä¸€å®šè¦åŠ ç²— äºŒã€è¡¥å……è¯´æ˜ å¼•ç”¨ç”¨äºè¡¥å……è¯´æ˜ åŒ…å«å…ƒç´ ï¼š 1ã€æ ‡é¢˜ã€‚æŒ‰æœ¬æ–‡æ ¼å¼å†™ï¼Œç”¨typoraï¼Œæˆ–hexoåšå®¢æŸ¥çœ‹ï¼Œéƒ½èƒ½ç”Ÿæˆç›®å½•ã€‚ 2ã€å‚è€ƒèµ„æ–™çš„é“¾æ¥ã€‚è¾¹æŸ¥èµ„æ–™è¾¹é™„ä¸Šï¼Œè¿™æ ·å³ä¾¿æ²¡æœ‰æ”¶è—ä¹Ÿæ²¡å…³ç³»ã€‚ 3ã€gifåŠ¨å›¾ï¼Œä¸€äº›æŒ‰æ­¥éª¤æ“ä½œçš„ä¸œè¥¿ï¼Œç”¨gifæ›´ç›´è§‚ï¼Œä¹Ÿçœå¾—å†™ä¸€å †æ–‡å­—å’Œæˆªå›¾è¿˜è§£é‡Šä¸æ¸…æ¥šã€‚ 4ã€å›¾ç‰‡å¤§å°ï¼Œ&lt;img src=&quot;&quot; width=&quot;500&quot;&gt; 5ã€å¸¸ç”¨ç¬¦å·ã€å†…å®¹åŠ ç²—ã€ã€‚ 6ã€åˆ—è¡¨ï¼Œå¯ä»¥ä»excelæ‹·è´è¿‡æ¥ã€‚ å…¶ä»–ï¼Œæœ‰æ—¶é—´çš„è¯ï¼Œçœ‹ä¸‹è‡ªå®šä¹‰cssã€‚ å‚è€ƒèµ„æ–™å‚è€ƒæ–‡æ¡£1 å‚è€ƒæ–‡æ¡£2 ä¸€ã€ç¬¬ä¸€ç« 1ã€ç¬¬ä¸€æ¬¡1.1 å‡†å¤‡1ï¼‰å‘æ‰¥æ‰“å‘åŠ¨å•Šé¥­æ‡‚å•Šåˆ†æ‡‚å•Šåˆ†å¤§æ£®å¤§æ£®æ‰¥å¤§ 2ï¼‰å‘æ‰¥æ‰“å‘åŠ¨å•Šé¥­æ‡‚å•Šåˆ†æ‡‚å•Šåˆ†å¤§æ£®å¤§æ£®æ‰¥å¤§ 1.2 ç„¶å1ï¼‰å‘æ‰¥æ‰“å‘åŠ¨å•Šé¥­æ‡‚å•Šåˆ†æ‡‚å•Šåˆ†å¤§æ£®å¤§æ£®æ‰¥å¤§ å‘æ‰¥æ‰“å‘åŠ¨å•Šé¥­æ‡‚å•Šåˆ†æ‡‚å•Šåˆ†å¤§æ£®å¤§æ£®æ‰¥å¤§ éæ‰“æ­»åˆ†æ‡‚å•Šæ”¾å¤§æ’’å‘åŠ¨å•Š å‘åŠ¨å•Šæˆ¿ä¸œå¡äº†å‘åŠ¨æœºé˜¿ç¦æ‡‚å•Šå‘åŠ¨å•Š éæ‰“æ­» éæ‰“æ­»é¥­æ‡‚å•Šåˆ†æ‡‚å•Šæ‡‚å•Š 2ï¼‰å‘æ‰¥æ‰“å‘åŠ¨å•Šé¥­æ‡‚å•Šåˆ†æ‡‚å•Šåˆ†å¤§æ£®å¤§æ£®æ‰¥å¤§ 1.3 å¼€å§‹1ï¼‰éæ‰“æ­»åˆ†æ‡‚å•Šåˆ†æ‡‚å•Šåˆ†æ‡‚å•Šå‘åŠ¨å•Šåˆ†å¤§èµ›å‘åŠ¨ 2ï¼‰å‘æ‰¥æ‰“å‘åŠ¨å•Šé¥­æ‡‚å•Šåˆ†æ‡‚å•Šåˆ†å¤§æ£®å¤§æ£®æ‰¥å¤§ äºŒã€ç¬¬äºŒç« 2ã€ç¬¬ä¸€æ¬¡Step1 å‡†å¤‡1ï¼‰å‘æ‰¥æ‰“å‘åŠ¨å•Šé¥­æ‡‚å•Šåˆ†æ‡‚å•Šåˆ†å¤§æ£®å¤§æ£®æ‰¥å¤§ 2ï¼‰å‘æ‰¥æ‰“å‘åŠ¨å•Šé¥­æ‡‚å•Šåˆ†æ‡‚å•Šåˆ†å¤§æ£®å¤§æ£®æ‰¥å¤§ 3ï¼‰å‘æ‰¥æ‰“å‘åŠ¨å•Šé¥­æ‡‚å•Šåˆ†æ‡‚å•Šåˆ†å¤§æ£®å¤§æ£®æ‰¥å¤§ Step2 ç„¶å1ï¼‰å‘æ‰¥æ‰“å‘åŠ¨å•Šé¥­æ‡‚å•Šåˆ†æ‡‚å•Šåˆ†å¤§æ£®å¤§æ£®æ‰¥å¤§ å‘æ‰¥æ‰“å‘åŠ¨å•Šé¥­æ‡‚å•Šåˆ†æ‡‚å•Šåˆ†å¤§æ£®å¤§æ£®æ‰¥å¤§ éæ‰“æ­»åˆ†æ‡‚å•Šæ”¾å¤§æ’’å‘åŠ¨å•Š å‘åŠ¨å•Šæˆ¿ä¸œå¡äº†å‘åŠ¨æœºé˜¿ç¦æ‡‚å•Šå‘åŠ¨å•Š éæ‰“æ­» éæ‰“æ­»é¥­æ‡‚å•Šåˆ†æ‡‚å•Šæ‡‚å•Š 2ï¼‰å‘æ‰¥æ‰“å‘åŠ¨å•Šé¥­æ‡‚å•Šåˆ†æ‡‚å•Šåˆ†å¤§æ£®å¤§æ£®æ‰¥å¤§ Step3 å¼€å§‹1ï¼‰éæ‰“æ­»åˆ†æ‡‚å•Šåˆ†æ‡‚å•Šåˆ†æ‡‚å•Šå‘åŠ¨å•Šåˆ†å¤§èµ›å‘åŠ¨ 2ï¼‰å‘æ‰¥æ‰“å‘åŠ¨å•Šé¥­æ‡‚å•Šåˆ†æ‡‚å•Šåˆ†å¤§æ£®å¤§æ£®æ‰¥å¤§","categories":[{"name":"å¿ƒå¾—","slug":"å¿ƒå¾—","permalink":"http://yoursite.com/categories/å¿ƒå¾—/"}],"tags":[{"name":"å¸¸ç”¨","slug":"å¸¸ç”¨","permalink":"http://yoursite.com/tags/å¸¸ç”¨/"},{"name":"å¿ƒå¾—","slug":"å¿ƒå¾—","permalink":"http://yoursite.com/tags/å¿ƒå¾—/"},{"name":"orid-month","slug":"orid-month","permalink":"http://yoursite.com/tags/orid-month/"}],"keywords":[{"name":"å¿ƒå¾—","slug":"å¿ƒå¾—","permalink":"http://yoursite.com/categories/å¿ƒå¾—/"}]},{"title":"ror-function-æœç´¢(å¤§æ•°æ®é‡)å¦‚elasticï¼šgem searchkick","slug":"ror-function-æœç´¢(å¤§æ•°æ®é‡)å¦‚elasticï¼šgem searchkick","date":"2018-01-09T16:10:00.000Z","updated":"2018-01-14T08:19:19.000Z","comments":true,"path":"posts/c8b6f8d4/","link":"","permalink":"http://yoursite.com/posts/c8b6f8d4/","excerpt":"","text":"ä¸€ã€å‚è€ƒèµ„æ–™1ã€ç”¨gem elasticsearch-railsè¿˜æ˜¯searchkickï¼Ÿ1ï¼‰searchkickæœ‰æ›´å¤šçš„åŸºäºä¸ªäººç”¨æˆ·çš„å®šåˆ¶ï¼Œgem elasticsearch-railsåªæ˜¯ElasticSearchå›¢é˜Ÿçš„ä¸€ä¸ªè¯­è¨€åº“ã€‚å‚è€ƒèµ„æ–™ç‚¹å‡»ã€‚ 2ã€Ruby on rails å®æˆ˜åœ£ç»ActiveReord: åŠ å¼ºæœå¯» Ransackå¯ä»¥å¾ˆå¿«çš„é’ˆå¯¹ActiveRecordåšå‡ºæ’åºå’Œå¤æ‚çš„æ¡ä»¶æœå¯»ã€‚ä¸è¿‡ ransack å¹¶ä¸å¤ªè€ƒè™‘æ•ˆèƒ½é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯æ–‡å­—æ¨¡ç³Šæœå¯»ï¼Œè¿™éƒ¨ä»½ç½‘ç«™é•¿å¤§åä¼šæ”¹ç”¨å…¨æ–‡æœå¯»å¼•æ“ï¼Œä¾‹å¦‚ ElasticSearch 3ã€Ruby on rails å®æˆ˜åœ£ç»å…¨æ–‡æœå°‹Full-text search engine å¦‚æœéœ€è¦æœå°‹textæ¬„ä½ï¼Œå› ç‚ºè³‡æ–™åº«æ²’è¾¦æ³•åŠ ç´¢å¼•ï¼Œæ‰€ä»¥æœƒé€ æˆtable scanæŠŠè³‡æ–™è¡¨æ‰€æœ‰è³‡æ–™éƒ½æƒæä¸€æ¬¡ï¼Œæ•ˆèƒ½æœƒéå¸¸ä½è½ã€‚é€™æ™‚å€™å¯ä»¥ä½¿ç”¨å¤–éƒ¨çš„å…¨æ–‡æœå°‹ä¼ºæœå™¨ä¾†åšç´¢å¼•ï¼Œç›®å‰å¸¸è¦‹æœ‰ä»¥ä¸‹é¸æ“‡ï¼š Elasticsearchå…¨æ–‡æœå°‹å¼•æ“å’Œelasticsearch-rails gem Apache Solr(Lucenel)å…¨æ–‡æœå°‹å¼•æ“å’ŒSunspot gem PostgreSQLå…§å»ºæœ‰å…¨æ–‡æœå°‹åŠŸèƒ½ï¼Œå¯ä»¥æ­é… texticle gemæˆ– pg_search gem Sphinxå…¨æ–‡æœå°‹å¼•æ“å’Œthinking_sphinx gem äºŒã€æœç´¢gemé€‰å“ªä¸ªï¼Ÿ1ã€ç»“è®º1ï¼‰æ•ˆèƒ½è¦æ±‚è¾ƒä½ï¼Œä¸€ä¸‡ç¬”ä»¥å†…çš„æ•°æ®ï¼Œç”¨gem ransackï¼› 2ï¼‰å‡ ä¸‡ç¬”å±äºï¼Œç”¨elasticsearchï¼Œå…¶ä¸­æœ€å¥½ç”¨çš„æ˜¯gem searchkickï¼› searchkickå»ºç«‹åœ¨elasticsearch-transportå’Œelasticsearch-apiä¹‹ä¸Šï¼Œè¯¦è§gem elasticsearch-rubyçš„READMEçš„Usageã€‚ äºŒã€searchkickå®ä½œgem â€˜searchkickâ€˜ Railsï¼ŒElasticSearchå’ŒSearchKickæ·±å…¥ï¼Œè¿›é˜¶ç”¨æ³•ã€‚ è§†é¢‘+ä»£ç æ•™ç¨‹Searchkick and Elasticsearch | Drifting Ruby åˆ˜é²é¹åŒå­¦çš„blog elasticsearchéƒ¨ç½²linode åˆ˜é²é¹ä½œå“Pharmabook è§†é¢‘ä¾‹å­ Ruby on Rails - Railscasts #306 Elasticsearch Part 1 gem â€˜searchkickâ€™æœç´¢åŠŸèƒ½ by-æ¯›å°§å‰ ç”¨searchkickæ¥å®ç°æ•æ·æœç´¢ by-yammy å¦‚ä½•åœ¨linodeæœåŠ¡å™¨ç«¯ï¼Œå®ç°elasticsearchæ•æ·æœç´¢ by-LIULUPENG Elasticsearch å¯¦æˆ°ç­†è¨˜ by-StevenTTuD ä¼˜å…ˆæŒ‰åˆ˜é²é¹ï¼Œå…¶æ¬¡æ¯›å°§å‰ã€yammyå®ä½œå¸–å­ å®˜ç½‘searchkickï¼Œä»¥åŠtransportå’Œapi å¾®ä¿¡æ±‚åŠ© ä¸€ã€å¤±è´¥ï¼ï¼ç¬¬ä¸€æ¬¡æµ‹è¯•gem &#39;searchkick&#39; brew cask install caskroom/versions/java8ï¼Œå®‰è£…å¥½ä¹…30åˆ†é’Ÿã€‚ brew install elasticsearchï¼Œå®‰è£…å¥½ä¹…15åˆ†é’Ÿã€‚ brew info elasticsearchï¼ŒæŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸã€‚ launchctl load ~/Library/LaunchAgents/homebrew.mxcl.postgresql.plistï¼Œã€‚ã€‚æ²¡æœ‰æ˜¾ç¤º äºŒã€å¼€å¯elasticsearchåï¼Œçœ‹æ˜¯å¦æœ‰æ•°æ®http://localhost:9200/?pretty 1ã€ç¬¬ä¸€æ¬¡ç”¨Job.reindex 12345678 apple@apple-2 â®€ ~/rails/job-listing1129 â®€ â­  masterÂ± â®€ rails cRunning via Spring preloader in process 3835Loading development environment (Rails 5.0.6)2.3.1 :001 &gt; Job.reindex Job Load (5.0ms) SELECT &quot;jobs&quot;.* FROM &quot;jobs&quot; ORDER BY &quot;jobs&quot;.&quot;id&quot; ASC LIMIT ? [[&quot;LIMIT&quot;, 1000]] Job Import (1808.1ms) &#123;&quot;count&quot;:998&#125; =&gt; true2.3.1 :002 &gt; exit æ‰§è¡Œrake searchkick:reindex CLASS=JobæŠ¥é”™ï¼Œå†æ¬¡Job.reindexæŠ¥é”™ 1234567891011121314151617181920212223242526272829303132333435 âœ˜ apple@apple-2 â®€ ~/rails/job-listing1129 â®€ â­  masterÂ± â®€ rails cRunning via Spring preloader in process 3905Loading development environment (Rails 5.0.6)2.3.1 :001 &gt; Job.reindex Job Load (3.7ms) SELECT &quot;jobs&quot;.* FROM &quot;jobs&quot; ORDER BY &quot;jobs&quot;.&quot;id&quot; ASC LIMIT ? [[&quot;LIMIT&quot;, 1000]] Job Import (892.0ms) &#123;&quot;count&quot;:998&#125;Elasticsearch::Transport::Transport::Errors::Forbidden: [403] &#123;&quot;error&quot;:&#123;&quot;root_cause&quot;:[&#123;&quot;type&quot;:&quot;cluster_block_exception&quot;,&quot;reason&quot;:&quot;blocked by: [FORBIDDEN/12/index read-only / allow delete (api)];&quot;&#125;],&quot;type&quot;:&quot;cluster_block_exception&quot;,&quot;reason&quot;:&quot;blocked by: [FORBIDDEN/12/index read-only / allow delete (api)];&quot;&#125;,&quot;status&quot;:403&#125; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/elasticsearch-transport-6.0.0/lib/elasticsearch/transport/transport/base.rb:202:in `__raise_transport_error&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/elasticsearch-transport-6.0.0/lib/elasticsearch/transport/transport/base.rb:319:in `perform_request&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/elasticsearch-transport-6.0.0/lib/elasticsearch/transport/transport/http/faraday.rb:20:in `perform_request&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/elasticsearch-transport-6.0.0/lib/elasticsearch/transport/client.rb:131:in `perform_request&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/elasticsearch-api-6.0.0/lib/elasticsearch/api/namespace/common.rb:21:in `perform_request&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/elasticsearch-api-6.0.0/lib/elasticsearch/api/actions/indices/update_aliases.rb:43:in `update_aliases&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/searchkick-2.4.0/lib/searchkick/index.rb:70:in `promote&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/searchkick-2.4.0/lib/searchkick/index.rb:244:in `reindex_scope&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/searchkick-2.4.0/lib/searchkick/model.rb:72:in `searchkick_reindex&apos; from (irb):1 from /Users/apple/.rvm/gems/ruby-2.3.1/gems/railties-5.0.6/lib/rails/commands/console.rb:65:in `start&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/railties-5.0.6/lib/rails/commands/console_helper.rb:9:in `start&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/railties-5.0.6/lib/rails/commands/commands_tasks.rb:78:in `console&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/railties-5.0.6/lib/rails/commands/commands_tasks.rb:49:in `run_command!&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/railties-5.0.6/lib/rails/commands.rb:18:in `&lt;top (required)&gt;&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:293:in `require&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:293:in `block in require&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:259:in `load_dependency&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:293:in `require&apos; from /Users/apple/rails/job-listing1129/bin/rails:9:in `&lt;top (required)&gt;&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:287:in `load&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:287:in `block in load&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:259:in `load_dependency&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:287:in `load&apos; from /Users/apple/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in `require&apos; from /Users/apple/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in `require&apos; from -e:1:in `&lt;main&gt;&apos;2.3.1 :002 &gt; exit 2ã€åˆ é™¤commité‡æ–°æ“ä½œï¼ŒJob.reindexè¿˜æ˜¯æŠ¥é”™ 12345678910111213141516171819202122232425262728293031323334 apple@apple-2 â®€ ~/rails/job-listing1129 â®€ â­  masterÂ± â®€ rails cRunning via Spring preloader in process 4765Loading development environment (Rails 5.0.6)2.3.1 :001 &gt; Job.reindex Job Load (0.4ms) SELECT &quot;jobs&quot;.* FROM &quot;jobs&quot; ORDER BY &quot;jobs&quot;.&quot;id&quot; ASC LIMIT ? [[&quot;LIMIT&quot;, 1000]]Elasticsearch::Transport::Transport::Errors::Forbidden: [403] &#123;&quot;error&quot;:&#123;&quot;root_cause&quot;:[&#123;&quot;type&quot;:&quot;cluster_block_exception&quot;,&quot;reason&quot;:&quot;blocked by: [FORBIDDEN/12/index read-only / allow delete (api)];&quot;&#125;],&quot;type&quot;:&quot;cluster_block_exception&quot;,&quot;reason&quot;:&quot;blocked by: [FORBIDDEN/12/index read-only / allow delete (api)];&quot;&#125;,&quot;status&quot;:403&#125; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/elasticsearch-transport-6.0.0/lib/elasticsearch/transport/transport/base.rb:202:in `__raise_transport_error&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/elasticsearch-transport-6.0.0/lib/elasticsearch/transport/transport/base.rb:319:in `perform_request&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/elasticsearch-transport-6.0.0/lib/elasticsearch/transport/transport/http/faraday.rb:20:in `perform_request&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/elasticsearch-transport-6.0.0/lib/elasticsearch/transport/client.rb:131:in `perform_request&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/elasticsearch-api-6.0.0/lib/elasticsearch/api/namespace/common.rb:21:in `perform_request&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/elasticsearch-api-6.0.0/lib/elasticsearch/api/actions/indices/update_aliases.rb:43:in `update_aliases&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/searchkick-2.4.0/lib/searchkick/index.rb:70:in `promote&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/searchkick-2.4.0/lib/searchkick/index.rb:244:in `reindex_scope&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/searchkick-2.4.0/lib/searchkick/model.rb:72:in `searchkick_reindex&apos; from (irb):1 from /Users/apple/.rvm/gems/ruby-2.3.1/gems/railties-5.0.6/lib/rails/commands/console.rb:65:in `start&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/railties-5.0.6/lib/rails/commands/console_helper.rb:9:in `start&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/railties-5.0.6/lib/rails/commands/commands_tasks.rb:78:in `console&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/railties-5.0.6/lib/rails/commands/commands_tasks.rb:49:in `run_command!&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/railties-5.0.6/lib/rails/commands.rb:18:in `&lt;top (required)&gt;&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:293:in `require&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:293:in `block in require&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:259:in `load_dependency&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:293:in `require&apos; from /Users/apple/rails/job-listing1129/bin/rails:9:in `&lt;top (required)&gt;&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:287:in `load&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:287:in `block in load&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:259:in `load_dependency&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:287:in `load&apos; from /Users/apple/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in `require&apos; from /Users/apple/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in `require&apos; from -e:1:in `&lt;main&gt;&apos;2.3.1 :002 &gt; 12345Elasticsearch transport error 403, when Product.reindex in the localWhen &quot;Add data to the search index&quot;, I run &quot;Job. reindex&quot; in `rails c`, then return an error as follows.â€‹ apple@apple-2 â®€ ~/rails/job-listing1129 â®€ â­  masterÂ± â®€ rails cRunning via Spring preloader in process 4765Loading development environment (Rails 5.0.6)2.3.1 :001 &gt; Job.reindex Job Load (0.4ms) SELECT â€œjobsâ€.* FROM â€œjobsâ€ ORDER BY â€œjobsâ€.â€idâ€ ASC LIMIT ? [[â€œLIMITâ€, 1000]]Elasticsearch::Transport::Transport::Errors::Forbidden: [403] {â€œerrorâ€:{â€œroot_causeâ€:[{â€œtypeâ€:â€cluster_block_exceptionâ€,â€reasonâ€:â€blocked by: [FORBIDDEN/12/index read-only / allow delete (api)];â€}],â€typeâ€:â€cluster_block_exceptionâ€,â€reasonâ€:â€blocked by: [FORBIDDEN/12/index read-only / allow delete (api)];â€},â€statusâ€:403} from /Users/apple/.rvm/gems/ruby-2.3.1/gems/elasticsearch-transport-6.0.0/lib/elasticsearch/transport/transport/base.rb:202:in __raise_transport_error&#39; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/elasticsearch-transport-6.0.0/lib/elasticsearch/transport/transport/base.rb:319:inperform_requestâ€™ from /Users/apple/.rvm/gems/ruby-2.3.1/gems/elasticsearch-transport-6.0.0/lib/elasticsearch/transport/transport/http/faraday.rb:20:in perform_request&#39; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/elasticsearch-transport-6.0.0/lib/elasticsearch/transport/client.rb:131:inperform_requestâ€™ from /Users/apple/.rvm/gems/ruby-2.3.1/gems/elasticsearch-api-6.0.0/lib/elasticsearch/api/namespace/common.rb:21:in perform_request&#39; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/elasticsearch-api-6.0.0/lib/elasticsearch/api/actions/indices/update_aliases.rb:43:inupdate_aliasesâ€™ from /Users/apple/.rvm/gems/ruby-2.3.1/gems/searchkick-2.4.0/lib/searchkick/index.rb:70:in promote&#39; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/searchkick-2.4.0/lib/searchkick/index.rb:244:inreindex_scopeâ€™ from /Users/apple/.rvm/gems/ruby-2.3.1/gems/searchkick-2.4.0/lib/searchkick/model.rb:72:in searchkick_reindex&#39; from (irb):1 from /Users/apple/.rvm/gems/ruby-2.3.1/gems/railties-5.0.6/lib/rails/commands/console.rb:65:instartâ€™ from /Users/apple/.rvm/gems/ruby-2.3.1/gems/railties-5.0.6/lib/rails/commands/console_helper.rb:9:in start&#39; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/railties-5.0.6/lib/rails/commands/commands_tasks.rb:78:inconsoleâ€™ from /Users/apple/.rvm/gems/ruby-2.3.1/gems/railties-5.0.6/lib/rails/commands/commands_tasks.rb:49:in run_command!&#39; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/railties-5.0.6/lib/rails/commands.rb:18:inâ€˜ from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:293:in require&#39; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:293:inblock in requireâ€™ from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:259:in load_dependency&#39; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:293:inrequireâ€™ from /Users/apple/rails/job-listing1129/bin/rails:9:in &lt;top (required)&gt;&#39; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:287:inloadâ€™ from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:287:in block in load&#39; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:259:inload_dependencyâ€™ from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies.rb:287:in load&#39; from /Users/apple/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:inrequireâ€™ from /Users/apple/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in require&#39; from -e:1:inâ€˜2.3.1 :002 &gt;â€‹1234I try to find solution in Google and stackoverflow, but did not find it.I am very new to be a coder. I use ruby on rails.I hope I didn&apos;t bring trouble to you.","categories":[{"name":"roråŠŸèƒ½","slug":"roråŠŸèƒ½","permalink":"http://yoursite.com/categories/roråŠŸèƒ½/"}],"tags":[{"name":"roråŠŸèƒ½","slug":"roråŠŸèƒ½","permalink":"http://yoursite.com/tags/roråŠŸèƒ½/"}],"keywords":[{"name":"roråŠŸèƒ½","slug":"roråŠŸèƒ½","permalink":"http://yoursite.com/categories/roråŠŸèƒ½/"}]},{"title":"ror-system-ç™¾å®ç®±æ‰€æœ‰åŠŸèƒ½ä¸€è§ˆ","slug":"ror-system-ç™¾å®ç®±æ‰€æœ‰åŠŸèƒ½ä¸€è§ˆ","date":"2018-01-08T16:10:00.000Z","updated":"2018-01-14T06:53:03.000Z","comments":true,"path":"posts/5ee8c435/","link":"","permalink":"http://yoursite.com/posts/5ee8c435/","excerpt":"","text":"luccakeæœ€å¿…è¦ï¼š13. Rich Editorï¼Œ10åµŒå¥—è¡¨å•+19å¤šå›¾ å°é‘«æ•°æ®é¡¹ç›®ï¼š 2. è‡ªå®šä¹‰ Model ç½‘å€1ï¼‰æ•°å­—åŠ æ–‡å­—IDã€ä¹±æ•°token IDã€ç”¨æˆ·è‡ªå®šä¹‰ID 3. å¤šè¯­è¨€è®¾ç½®4. æ—¶åŒºè®¾ç½®5. æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´ã€æ—¶åŒº6. è¡¨å•å•é€‰ UI 7. è¡¨å•å•é€‰ UI å’Œ Select2 Plugin 8. è¡¨å•å¤šé€‰ UI å’Œ Select2 Plugin 9. åµŒå¥—è¡¨å•(1-to-1) 10. åµŒå¥—è¡¨å•(1-to-many) 11. é€‰æ—¥æœŸæ—¶é—´çš„ UI1ã€åº”ç”¨åœºæ™¯1ï¼‰é¢„çº¦åšè›‹ç³•ã€‚ 12. æ‹†å¼€å‰åå°çš„ CSS å’Œ JS1ã€åº”ç”¨åœºæ™¯1ï¼‰é¡¹ç›®å¼€å§‹æ—¶å°±å¯ä»¥åšï¼Œæ‹†åˆ†ååå°ä»£ç ä¸ç”¨è®©ç”¨æˆ·ä¸‹è½½ã€‚ 13. Rich Editor å›¾æ–‡ç¼–è¾‘å™¨ä¹‹ckeditor1ã€åº”ç”¨åœºæ™¯1ï¼‰å›¾æ–‡ç¼–è¾‘ç”¨äºå‘å¸ƒæ–‡ç« ï¼Œæ”¯æŒè¾“å…¥htmlã€‚ 2ï¼‰å•†å“è¯¦æƒ…é¡µå‘å¸ƒå•†å“å›¾æ–‡ä¿¡æ¯ã€‚ 14. æ‰¹æ¬¡ç¼–è¾‘ (Bulk Editing)1ã€åº”ç”¨åœºæ™¯1ï¼‰åå°ç¼–è¾‘å¤šç¬”èµ„æ–™ï¼Œé€šè¿‡æ ¸é€‰æ¡†æ‰¹é‡åˆ é™¤ã€æ‰¹é‡ä¿®æ”¹ã€‚ 15. è‡ªè®¢åˆ—è¡¨é¡ºåº1ã€åº”ç”¨åœºæ™¯1ï¼‰åå°å•†å“ã€åˆ†ç±»ä¿®æ”¹idè¿›è¡Œæ’åºï¼Œå¯ä»¥åŠ å…¥ajaxæ‹–åŠ¨æ’åºæ•ˆæœã€‚ 16. å¤šæ­¥éª¤è¡¨å•1ã€åº”ç”¨åœºæ™¯1ï¼‰ç”¨æˆ·æ³¨å†Œæ—¶ï¼Œè¦å¡«å†™ä¿¡æ¯é‡è¿‡å¤šè€Œæ‹†åˆ†ã€‚ 2ï¼‰è´­ç‰©æµç¨‹ï¼Œç¬¬ä¸€æ­¥é€‰ç¥¨ç§/ç³»ç»Ÿubuntuï¼Œç¬¬äºŒéƒ¨å¡«æ”¶è´§äºº/å¥—é¤æˆ–çº¿è·¯ã€‚ 3ï¼‰æŠ¥åè¡¨å•ã€‚ 17. æ˜¾ç¤ºèµ„æ–™éªŒè¯é”™è¯¯è®¯æ¯1ã€åº”ç”¨åœºæ™¯1ï¼‰å¡«å†™è¡¨å•æ ¼å¼ä¸ç¬¦æ—¶ï¼Œæç¤ºé”™è¯¯ã€‚ 18. èµ„æ–™ç­›é€‰ã€æœç´¢1ã€åº”ç”¨åœºæ™¯1ï¼‰é€‰æ‹©ä¸åŒçš„æ ‡ç­¾ã€æˆ–æ ¸é€‰æ–¹å—ç­›é€‰èµ„æ–™ã€‚ 2ï¼‰æ¨¡ç³Šæœç´¢ransackã€‚å¦‚æœæ•°æ®é‡ä¸Šä¸‡ç¬”ï¼Œç”¨Elasticsearchã€‚ 19. å¤šæ¡£æ¡ˆä¸Šä¼ 1ã€åº”ç”¨åœºæ™¯ï¼ˆé…åˆ10çš„åµŒå¥—è¡¨å•UIï¼‰1ï¼‰å•†å“è¯¦æƒ…é¡µå°å›¾ç‰‡ã€‚ 2ï¼‰å•†å“è¯¦æƒ…é¡µæè¿°ã€‚ 20. å›¾è¡¨æ•°æ®åˆ†æ1ã€åº”ç”¨åœºæ™¯1ï¼‰æ•°æ®åˆ†æã€‚ 21. è½¯åˆ é™¤å’Œç‰ˆæœ¬æ§åˆ¶1ã€åº”ç”¨åœºæ™¯1ï¼‰å›æ”¶ç«™åŠŸèƒ½ï¼Œä¸Šçº¿çš„ç½‘ç«™è¦ç”¨ã€‚ 22. æ•°æ®å¯¼å‡ºCSV/EXCEL1ã€åº”ç”¨åœºæ™¯1ï¼‰èµ„æ–™è½¬ç§»ã€å¤‡ä»½ã€‚ 23. ç”¨æˆ·æƒé™æ§ç®¡1ã€åº”ç”¨åœºæ™¯1ï¼‰ç”¨æˆ·ç®¡ç†ã€‚ç¼–è¾‘ç”¨æˆ·æƒé™ã€è®¾ç½®ç®¡ç†å‘˜æƒé™ã€‚ 2ï¼‰æ´»åŠ¨/å•†å“ç®¡ç†ã€‚ å¤šè§’è‰²ã€å¤šæƒé™ç®¡ç†ç”¨gem pundit å’Œ gem cancancan 24. æœ¬åœ° E-mail å¯„é€1ã€åº”ç”¨åœºæ™¯1ï¼‰æœ¬åœ°æµ‹è¯•ç”¨å³ç”¨gem letter_openerã€‚ 25. æ•°æ®å¯¼å…¥1ã€åº”ç”¨åœºæ™¯1ï¼‰ç”¨rakeå¯¼å…¥å¤šç¬”æ•°æ®ï¼Œå†ç”¨CSV.parseè§£æ 26. å¼‚æ­¥å¤„ç†ä»»åŠ¡1ã€åº”ç”¨åœºæ™¯1ï¼‰å¯¼å…¥æˆ–å¯¼å‡ºä¸Šä¸‡ç¬”èµ„æ–™æ—¶ï¼Œè®©è¿™ä¸ªè¿›ç¨‹åœ¨åå°å¤„ç†ã€‚","categories":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}],"tags":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/tags/rorç³»ç»Ÿ/"}],"keywords":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}]},{"title":"vps-ç§‘å­¦ä¸Šç½‘ssæ¥å…¥æŒ‡å—","slug":"vps-ç§‘å­¦ä¸Šç½‘ssæ¥å…¥æŒ‡å—","date":"2018-01-08T16:00:00.000Z","updated":"2018-01-14T05:33:33.000Z","comments":true,"path":"posts/2baabef/","link":"","permalink":"http://yoursite.com/posts/2baabef/","excerpt":"","text":"ç§‘å­¦ä¸Šç½‘SSæ¥å…¥æŒ‡å—ä¸€ã€å®‰è£…SSå®¢æˆ·ç«¯1ã€SSæ‰‹æœºç«¯/å¹³æ¿ç«¯ï¼š1ï¼‰å®‰å“ï¼šshadowsocks-nightly-4.2.5 ç‚¹å‡»ä¸‹è½½ 2ï¼‰è‹¹æœï¼šPotatso Lite å…ˆç™»é™†ä¸€ä¸ªéå¤§é™†apple ID æä¾›ä¸€ä¸ªï¼šm2c9642s@icloud.com / Xiaoming88 å¦‚æœå¤±æ•ˆäº†ï¼Œä¸Šæ·˜å®æœç´¢é¦™æ¸¯apple id ç§Ÿç”¨ï¼Œå¤§æ¦‚ ï¿¥2ã€‚ æå®šIDåï¼Œç‚¹å‡»ä¸‹è½½ 2ã€SSç”µè„‘ç«¯ï¼š1ï¼‰Mac: ShadowsocksX-NG-1.6.1 ç‚¹å‡»ä¸‹è½½ æˆ–å®˜ç½‘çš„githubhttps://github.com/shadowsocks/ShadowsocksX-NG/releases/ 2ï¼‰Windows: Shadowsocks-4.0.6 ç‚¹å‡»ä¸‹è½½ äºŒã€å¼€å§‹æ¥å…¥ï¼š1ã€æ‰‹æœºå®¢æˆ·ç«¯SSæŒ‰ä¸‹å›¾ï¼š1.1ã€æ‰«æäºŒç»´ç åä¼šåœ¨ssé‡Œè‡ªåŠ¨è½½å…¥é…ç½®ï¼Œæ¯”å¦‚å›¾ç‰‡é‡Œçš„443ä¸€è¡Œã€‚ 1.2ã€é€‰ä¸­åˆšåˆšè½½å…¥çš„è¿™è¡Œé…ç½®ï¼Œå·¦ä¾§å˜æˆç»¿è‰²å¦‚å›¾ã€‚ 1.3ã€ç‚¹å‡»å³ä¸‹è§’çš„æŒ‰é’®å¯åŠ¨ã€‚OKäº†ï¼Œå¯ä»¥ç§‘å­¦ä¸Šç½‘ï¼ï¼ï¼åˆ«ç€æ€¥ï¼Œå†è®¾ç½®æ­¥éª¤1.4ä¼šæ›´å¥½ã€‚ PSï¼šä»¥åé‡å¤ç¬¬1.2ã€1.3æ­¥å°±å¯ä»¥ç§‘å­¦ä¸Šç½‘ã€‚ 1.4ã€æ›´å¥½åœ°é…ç½®ï¼ˆä»¥å®‰å“æœºä¸ºä¾‹ï¼‰ã€‚è¿™ä¸€æ­¥å¯ä»¥é¿å…ç™»å½•æ·˜å®ã€çŸ¥ä¹ç­‰å¹³å°ï¼Œæ‰‹æœºæç¤ºipæ˜¯å¤–å›½ipï¼Œå¹¶ä¸”é¿å…å›½å†…ç½‘ç«™è®¿é—®é€Ÿåº¦å› ä¸ºSSè€Œå˜æ…¢ã€‚ â‘ ã€å¦‚ä¸Šå›¾ï¼Œæ‰“å¼€ç¬¬å››æ­¥çš„é“…ç¬”å›¾æ ‡è¿›å…¥è®¾ç½®ï¼› â‘¡ã€å¦‚ä¸‹å›¾ï¼ŒæŠŠåŠŸèƒ½è®¾ç½®é‡Œçš„ã€è·¯ç”±ã€ï¼Œæ”¹ä¸ºã€ç»•è¿‡å±€åŸŸç½‘åŠä¸­å›½å¤§é™†ç½‘å€ã€ã€‚ æå®šäº†ï¼ï¼ï¼è¿™æ ·ä¸Šå›½å†…ç½‘ç«™å°±ä¸ä¼šå—SSçš„å½±å“äº†ï¼Œæ‰€ä»¥è®¾ç½®å®Œå°±å¯ä»¥ä¿æŒSSä¸€ç›´æ‰“å¼€ã€‚ æ³¨æ„ï¼šéƒ¨åˆ†æ‰‹æœºå¯èƒ½æ²¡æœ‰è·¯ç”±çš„é…ç½®ï¼Œè¯·æ‰¾ä¸€ä¸‹æœ‰æ²¡ã€è‡ªåŠ¨ä»£ç†æ¨¡å¼ã€ï¼Œç›´æ¥é€‰æ‹©ã€è‡ªåŠ¨ä»£ç†æ¨¡å¼ã€ã€‚ 2ã€ç”µè„‘ç«¯SSé€‰æ‹©æœåŠ¡å™¨ï¼Œä»¥åŠPACè‡ªåŠ¨æ¨¡å¼ã€‚2.1ã€ç‚¹å‡»SSï¼Œé€‰æ‹©ã€æ‰«æå±å¹•ä¸Šçš„äºŒç»´ç ã€ã€‚ ï¼ï¼ï¼æ³¨æ„ï¼šç”µè„‘ä¸Šçš„äºŒç»´ç è¦æ”¾å¤§ä¸€ç‚¹ï¼Œå¦åˆ™æ‰«ææ—¶å¯èƒ½ä¼šè¯†åˆ«ä¸åˆ°ã€‚ 2.1ã€ç‚¹å‡»æœåŠ¡å™¨ä¸€è¡Œï¼Œåœ¨å¼¹å‡ºçª—å£ä¸Šå‹¾é€‰æˆ‘ä»¬åˆšåˆšæ‰«ææ·»åŠ çš„æœåŠ¡å™¨ã€‚æ¯”å¦‚æˆ‘çš„443ï¼ˆåé¢å¯¹åº”çš„æ˜¯ipåœ°å€ï¼‰ã€‚ 2.3ã€é€‰æ‹©PACè‡ªåŠ¨æ¨¡å¼ã€‚OKï¼ï¼ï¼å¼€å§‹ç§‘å­¦ä¸Šç½‘ï¼ï¼ OKï¼ï¼ï¼è¯•è¯• www.google.com ä¸‰ã€æ³¨æ„ï¼Œé‡è¦æç¤ºï¼š1ï¼‰ä½ çš„ç«¯å£æ˜¯ç‹¬äº«çš„ï¼Œä¸è¦åˆ†äº«åˆ°ç¾¤é‡Œï¼Œäººå¤šå®¹æ˜“è¢«å¢™ã€‚ä¸è¦åˆ†äº«ä¸è¦åˆ†äº«ã€‚ 2ï¼‰ç”µè„‘ç«¯SSï¼Œå¹³æ—¶éƒ½æ˜¯ç”¨ã€PACè‡ªåŠ¨æ¨¡å¼ã€ã€‚ PACæ¨¡å¼çš„æ„æ€æ˜¯ï¼Œå±€åŸŸç½‘å’Œä¸­å›½å¤§é™†çš„ç½‘å€ä¸é€šè¿‡SSä¸Šç½‘ï¼Œåªæœ‰å›½å¤–ç½‘å€æ‰ä¼šé€šè¿‡SSä¸Šç½‘ã€‚ å¦‚æœé€‰æ‹©ã€å…¨å±€æ¨¡å¼ã€ï¼Œä¸­å›½å¤§é™†ç½‘å€ä¼šå˜å¾—è¶…æ…¢ã€‚ 3ï¼‰ç”µè„‘ç«¯SSï¼Œåªæœ‰åœ¨ä¸ªåˆ«ç½‘ç«™ä½¿ç”¨SSåä»æ— æ³•è®¿é—®ï¼ˆè¢«å¢™ï¼‰æ—¶ï¼Œæ‰åˆ‡æ¢ä¸ºã€å…¨å±€æ¨¡å¼ã€ï¼Œæµè§ˆå®Œè®°å¾—åˆ‡å›ã€PACè‡ªåŠ¨æ¨¡å¼ã€ã€‚ å¯¹äºåªæœ‰ã€å…¨å±€æ¨¡å¼ã€æ‰èƒ½è®¿é—®çš„ç½‘ç«™ï¼Œå¦‚æœéœ€è¦ç»å¸¸è®¿é—®ï¼Œå¯ä»¥åŠ åœ¨SSçš„ç™½åå•ä¸­ï¼Œä»¥åå°±å¯ä»¥åœ¨ã€PACè‡ªåŠ¨æ¨¡å¼ã€ä¸‹è®¿é—®è¿™ä¸ªè¢«å¢™çš„ç½‘ç«™äº†ã€‚å¦‚ä¸‹ï¼š","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/å·¥å…·/"},{"name":"vps","slug":"vps","permalink":"http://yoursite.com/tags/vps/"},{"name":"ç§‘å­¦ä¸Šç½‘","slug":"ç§‘å­¦ä¸Šç½‘","permalink":"http://yoursite.com/tags/ç§‘å­¦ä¸Šç½‘/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}]},{"title":"vps-ç§‘å­¦ä¸Šç½‘vpsæœåŠ¡ç«¯ï¼ˆæ¯”å¦‚vultrï¼‰","slug":"vps-ç§‘å­¦ä¸Šç½‘vpsæœåŠ¡ç«¯ï¼ˆæ¯”å¦‚vultrï¼‰","date":"2018-01-08T15:30:00.000Z","updated":"2018-01-14T05:33:43.000Z","comments":true,"path":"posts/abf78efa/","link":"","permalink":"http://yoursite.com/posts/abf78efa/","excerpt":"","text":"è´­ä¹°vultrç›´æ¥çœ‹â€œVultræ­å»ºvpnæ•™ç¨‹â€éƒ¨åˆ†é…ç½®ç§‘å­¦ä¸Šç½‘ç›´æ¥çœ‹â€œæ–¹æ³•ä¸‰â€é…ç½®åŠ é€ŸåŠvultrå¤‡ä»½çœ‹â€œè¿›é˜¶ä¸€/äºŒ/ä¸‰â€åœ¨linuxé‡Œï¼Œç§»åŠ¨å…‰æ ‡å¯ä»¥è¾¹æŒ‰ä½å·¦æˆ–å³é”®ï¼Œè¾¹æŒ‰ctrlæˆ–shiftï¼Œå®ç°å…‰æ ‡å¿«é€Ÿç§»åŠ¨ã€‚ å…³é”®è¯ï¼šâ€œ vpsæ­å»ºvpnè¢«å¢™ â€ pinginfoview for mac superping pro mac å•ä½æ¢ç®—ï¼š1Gbps=1000Mbpsï¼Œ1000Mbps/8=å®½å¸¦125å…†å®½å¸¦ï¼ˆæ¯”å¦‚vultrçš„1Gbpsï¼‰ï¼Œ10Mbps/8=1.25å…†å®½å¸¦ï¼ˆæ¯”å¦‚DGCHostï¼‰ ã€é—®é¢˜1ã€‘ä¸€ä¸ªä¸»æµçš„vpsï¼Œ5ç¾å…ƒæ¯æœˆï¼Œæ­å»ºçš„vpnå¯ä»¥å¤šå°‘ä¸ªäººä¸€èµ·ç”¨ï¼Ÿæ˜¯ä¸æ˜¯ç‹¬ç«‹ipï¼Ÿâ€”â€”ç‹¬ç«‹ipåº”è¯¥åªæœ‰ä¸€ä¸ªï¼Œå¯ä»¥ç”¨ç«¯å£æ¥å…±äº«ã€‚ ã€é—®é¢˜2ã€‘ä¹°virmachï¼Œè¿˜æ˜¯digitaloceanï¼Œè¿˜æ˜¯ï¼Ÿâ€”â€”æœ€å¥½çš„ä¸‰å®¶æ˜¯vultrã€linodeã€digitaloceanã€‚digitaloceanåŒç­‰é…ç½®çš„è¿å­˜æœ€å°‘ï¼›linodeè¾“å…¥å¸¦å®½40Gè¾“å‡ºå¸¦å®½1Gï¼Œè¾“å…¥å¸¦å®½æ¯”å…¶ä»–å®¶å¤šå¾ˆå¤šï¼Œæ—¥æœ¬çš„è¿‘ï¼› ã€é—®é¢˜3ã€‘é™¤äº†æœåŠ¡å™¨å½±å“vpné€Ÿåº¦ï¼Œvpsçš„é…ç½®ä¼šä¸ä¼šå½±å“ï¼Ÿâ€”â€”æœåŠ¡å™¨åœ°å€å½±å“æœ€å¤§ï¼Œæœ€å¥½é€‰é¦™æ¸¯ã€æ–°åŠ å¡ã€æ—¥æœ¬çš„ï¼Œå…¶æ¬¡vpsçš„å¸¦å®½å½±å“å¤šç”¨æˆ·æ•°æ®ä¼ è¾“é‡ã€‚ ã€é—®é¢˜4ã€‘é˜²DDOSæœ‰æ²¡æœ‰å¿…è¦ï¼Œé™¤äº†virmachã€1ozoomå…¶ä»–çš„æœ‰æ²¡æœ‰é˜²ï¼Ÿâ€”â€”ä¸æ¸…æ¥šï¼Œå¥½åƒä¹Ÿåªæœ‰virmachæœ‰æåˆ°ï¼Œæ—¢ç„¶ä¸‰å¤§å®¶éƒ½æ²¡æè¿™å›äº‹ï¼Œå°±ä¸ç®¡äº†ã€‚ ã€é—®é¢˜5ã€‘500Gæ¯æœˆå¤Ÿä¸å¤Ÿç”¨ï¼Ÿâ€”â€”æµ‹è¯•virmachï¼Œåå¤šä¸ªäººç”¨ä¸€ä¸ªæœˆæ‰ç”¨äº†25Gï¼Œä½†æ˜¯é€Ÿåº¦çœŸå¿ƒæ…¢ã€‚ ã€é—®é¢˜6ã€‘ubuntuå’Œcentoså“ªä¸ªæ­å»ºvpnå¥½ï¼Ÿâ€”â€”ubuntuå¥½ï¼Œæ®è¯´æ¯”è¾ƒäººæ€§åŒ–ã€‚centosåœ¨é…ç½®å¤šç”¨æˆ·ç«¯å£åï¼Œè¿˜è¦æŠŠåˆ›å»ºçš„ç«¯å£åŠ å…¥é˜²ç«å¢™çš„ç™½åå•ï¼Œå¦åˆ™å…¶ä»–ç«¯å£ä¸èƒ½ç§‘å­¦ä¸Šç½‘ã€‚ ã€é—®é¢˜7ã€‘åŠ å¯†æ–¹å¼å“ªç§å¥½aes-256-cfbã€aes-256-gcmã€rc4-md5ï¼Ÿç”¨çš„æœ€å¤šçš„æ˜¯aes-256-cfbï¼Œç›´æ¥ä»ä¼—å§ã€‚ ã€é—®é¢˜8ã€‘åŠ é€Ÿç”¨è°·æ­ŒBBRè¿˜æ˜¯é”é€Ÿï¼Ÿâ€”â€”ä¸¤ä¸ªè¦è‡ªå·±æµ‹è¯•ã€‚é”é€Ÿæœ‰å†…æ ¸ä¸åŒ¹é…çš„é—®é¢˜ï¼Œè°·æ­ŒåŠ é€Ÿå®‰è£…ç®€å•ã€‚ linodeå¹³ã€ä¸‹è½½ã€ä¸Šä¼ ï¼š16ã€2.02Mbpsã€1.99 ubuntu1127å¹³ã€ä¸‹è½½ã€ä¸Šä¼ ï¼š17ã€2.06ã€1.92 Virmachï¼Œç”¨è¾¾æ‹‰æ–¯ vultrï¼Œæ—¥æœ¬140ï¼Œæ–°åŠ å¡220-400ï¼Œç¡…è°·280ï¼Œæ´›æ‰çŸ¶350ï¼Œ linodeï¼Œ350 hostensï¼Œå¹´29.32æ¬§å…ƒï¼Œ231å…ƒï¼Œä¼˜æƒ å—bookworm DigitalOceanï¼Œæœˆ5â€”â€”æœ‰å­¦ç”Ÿä¼˜æƒ  virmachï¼ŒSSD512å«DDOSï¼Œä¼˜æƒ ç LEB30ï¼Œå¹´17.5ï¼Œäººæ°‘å¸116å…ƒã€‚SSD256ï¼Œä¼˜æƒ ç zhujiceping25ï¼Œ9.37USDï¼Œå³62å…ƒã€‚ vultrï¼Œåªå‰©æ¯æœˆ5 æ¬ç“¦å·¥ï¼Œåªå‰©æ¯æœˆ5ï¼Œå¹´47ï¼Œæœ‰ä¸€ä¸ªV3æ˜¯å¹´28ï¼Œä¼˜æƒ ç  digitaloceanï¼Œæœˆ5 hostUSï¼Œæœˆ2ï¼Œå¹´16æ˜¯æ™®é€šçš„ä¸æ˜¯KVM host1plusï¼Œæœˆ6 AlphaRacksï¼Œæœˆ5å·® pzeaï¼Œæœˆ10 linodeï¼Œæœˆ5 iozoomï¼Œæœˆ5â€”â€”ç­”ä¸»åœ¨ç”¨ Vultræ­å»ºvpnæ•™ç¨‹ç°æœ‰ 5$é…ç½®é™ä»·ä¸º 2.5$æ¯æœˆçš„æ­£ç¡®åšæ³•ï¼š 1.åå°æ–°å»ºä¸€ä¸ªå¿«ç…§2.å°†å½“å‰ IP è¿›è¡Œä¿ç•™3.å°† 5$æœºå™¨åˆ é™¤4.é‡æ–°å¼€ä¸€å° 2.5$æœºå™¨ï¼Œç³»ç»Ÿé€‰æ‹©åˆšåˆ›å»ºçš„å¿«ç…§ï¼Œ IP é€‰æ‹©åˆšä¿ç•™çš„ IP ï¼Œæœ€ååˆ é™¤é¢„ç•™ IP5.å¤§åŠŸå‘Šæˆï¼Œæ•°æ®æ²¡æœ‰ä¸¢å¤±ï¼Œ IP æ²¡æœ‰å˜åŒ–ï¼Œç®€å•çœäº‹ã€‚è¯¦æƒ…è§ï¼šVultr:åŸ5$å¥—é¤é™çº§2.5$çš„æ­£ç¡®åšæ³• Vulträ¿ç•™IP å¥—é¤é™çº§çš„æ–¹æ³• æ‰€ç”¨é…ç½®ï¼šç”µè„‘Mac pro 2015ï¼ŒVultræ—¥æœ¬æœåŠ¡å™¨ï¼Œå¼€äº†ä¸¤å°ä¸»æœºåˆ†åˆ«æµ‹è¯•ubuntu14.04 X64ç³»ç»Ÿå®‰è£…è°·æ­ŒBBRåŠ é€Ÿã€ centos7ç³»ç»Ÿå®‰è£…é”é€ŸåŠ é€Ÿ å‚è€ƒæ•™ç¨‹ï¼š Vulträ¼˜æƒ é“¾æ¥https://www.vultr.com/?ref=7272972 Vultrå®˜ç½‘ ç™»å½•å æ³¨æ„ï¼š â‘ ã€Vultrçš„æ¶ˆè´¹æ–¹å¼ï¼Œæ˜¯å…ˆå……å€¼åæ¶ˆè´¹ï¼Œè‡³å°‘å……å€¼10ç¾å…ƒã€‚æ¯æœˆæœˆç»“æ—¥ï¼ˆå¥½åƒæ˜¯æœˆåº•ï¼‰æ‰£è´¹ã€‚ â‘¡ã€paypalæ”¯æŒå‚¨è“„å¡ã€ä¿¡ç”¨å¡ï¼Œç›¸å½“äºæ˜¯ä¸­å›½çš„æ”¯ä»˜å®ï¼Œå¾ˆå¤šè´­ç‰©ç½‘éƒ½å¯ä»¥ç”¨ã€‚ â‘¢ã€Vultréƒ½æ˜¯æŒ‰å°æ—¶è®¡è´¹ã€‚å¦‚æœé€‰çš„æ˜¯$5æ¯æœˆçš„æœåŠ¡å™¨ï¼Œæ­å»ºä¸»æœºåæŒ‰0.007$/å°æ—¶è®¡è´¹ï¼Œæ¯æœˆæœ€å¤šæ¶ˆè´¹0.007*30*24 â‰ˆ $5 â‘£ã€æ­å»ºä¸»æœºåï¼Œåœç”¨ã€æˆ–å¯ç”¨éƒ½ä¼šæ‰£è´¹ï¼Œåªæœ‰æŠŠä¸»æœºåˆ é™¤äº†æ‰åœæ­¢æ‰£è´¹ã€‚ â‘¤ã€åˆ é™¤ä¸»æœºåï¼Œå¯ä»¥éšæ„é‡è£…cenosã€ubuntuç­‰ç³»ç»Ÿï¼Œé‡æ–°é€‰æ‹©æœºæˆ¿æœåŠ¡å™¨åœ°å€ã€‚ â‘¥ã€æ­å»ºå¤šä¸ªä¸»æœºï¼Œè®¡è´¹ä¼šæŒ‰æ¯å°ä¸»æœº0.007$/å°æ—¶ç´¯åŠ ã€‚è¿™é‡Œè¦ç‰¹åˆ«æ³¨æ„ï¼ŒåºŸå¼ƒçš„ä¸»æœºä¸€å®šè¦åˆ æ‰ï¼Œä¸ç„¶ä¼šç»§ç»­è®¡è´¹ã€‚ ç‚¹å‡»pay with paypalåè¿›å…¥å®˜ç½‘ï¼Œç‚¹å‡»â€œåˆ›å»ºè´¦æˆ·â€ï¼Œç„¶åå¡«å†™ä¸ªäººä¿¡æ¯ã€‚ ä»˜æ¬¾å®Œæˆåï¼Œä¼šè·³è½¬åˆ°ä»¥ä¸‹é¡µé¢ã€‚æˆ–è€…ç‚¹å‡»å·¦ä¾§Billingï¼Œç„¶åç‚¹å‡»åŠ å·ã€‚ é…ç½®ä¸»æœºï¼Œè¿™é‡Œé€‰æ‹©Centosç³»ç»Ÿã€‚ ç‚¹å‡»Deploy Nowåï¼Œå¦‚æœæ˜¾ç¤ºè´¦å·æ²¡æœ‰éªŒè¯ï¼Œä¼šå‡ºç°ä¸‹å›¾ã€‚ç‚¹å‡»Click here to send a verification e-mailï¼Œç„¶ååˆ°æ³¨å†Œé‚®ç®±å»éªŒè¯ã€‚ ç­‰å¾…ç³»ç»Ÿå®‰è£…ï¼Œå¤§çº¦2-5åˆ†é’Ÿï¼ˆæˆ‘çš„ç”¨äº†2åˆ†é’Ÿï¼‰ï¼Œå®‰è£…å®Œæˆåï¼ŒStatusæ ä¼šæ˜¾ç¤ºä¸ºç»¿è‰²çš„Running ç‚¹å‡»ä½ çš„ä¸»æœºåå­—å¦‚99-oneï¼Œè¿›å…¥ä¸‹å›¾ï¼Œä¼šç”¨åˆ°çš„å‚æ•°æœ‰IP Addressã€Password ssh root@45.76.104.195ï¼Œç”¨rootæƒé™è¿æ¥ä¸»æœº å¦‚æœè¾“å…¥åæ²¡æœ‰ååº”ï¼Œå¯èƒ½æ˜¯è¿æ¥è¶…æ—¶ï¼Œå¯ä»¥åœ¨ç»ˆç«¯é‡Œè¾“å…¥ping ä½ çš„ipçœ‹æœ‰æ²¡æœ‰time= å¤šå°‘ mså‡ºç°ï¼Œå¦‚æœæ²¡æœ‰å¾ˆæœ‰å¯èƒ½è¿™ä¸ªipè¢«å¢™äº†ï¼Œè¦åˆ æ‰ä¸»æœºï¼Œéœ€è¦åˆ é™¤ä¸»æœºé‡æ–°å®‰è£…ã€‚ æ³¨æ„ï¼šVultrçš„ä¸»æœºæ–°å»º5åˆ†é’Ÿåæ‰èƒ½åˆ é™¤ã€‚ æ–¹æ³•ä¸€ï¼ˆ1-6æ­¥ï¼‰ï¼šå¤±è´¥äº†ï¼Œåœ¨å¤šç”¨æˆ·é…ç½®çš„æ—¶å€™å¤±è´¥ssh root@207.246.102.156 æç¤ºæ˜¯å¦ç»§ç»­ï¼Œè¾“å…¥yes æ¥ç€åœ¨Vultrå¤åˆ¶å¯†ç ç²˜è´´è¿‡æ¥ 1ã€VPSå¯ä»¥å…ˆå‡çº§ï¼Œçº¦5åˆ†é’Ÿ1yum -y update 2ã€æœ‰äº›VPS æ²¡æœ‰wgetï¼Œè¿™ç§è¦å…ˆè£…1yum -y install wget 3ã€ å®‰è£…è¿›å…¥è¿œç¨‹æœåŠ¡å™¨åï¼ŒæŒ‰é¡ºåºä¾æ¬¡æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼ˆæ³¨æ„ä¸€æ¡ä¸€æ¡æ‰§è¡Œï¼Œä¸è¦ä¸€æ¬¡æ€§å…¨å¤åˆ¶è¿›å»ï¼‰ã€‚ç¬¬ä¸€è¡Œæ˜¯ä¸‹è½½å‘½ä»¤ï¼Œä¸‹è½½ä¸œè¥¿ï¼Œç¬¬äºŒè¡Œæ˜¯ä¿®æ”¹æƒé™ï¼Œç¬¬ä¸‰è¡Œæ˜¯å®‰è£…å‘½ä»¤ã€‚ ä»¥ä¸‹ï¼Œå®Œæˆäº†æœåŠ¡å™¨ç«¯Shadowsocksçš„å®‰è£…ï¼Œå¹¶å°†å…¶åŠ å…¥å¼€æœºå¯åŠ¨ã€‚ wget â€“no-check-certificate https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-go.sh chmod +x shadowsocks-go.sh ./shadowsocks-go.sh 2&gt;&amp;1 | tee shadowsocks-go.log æŒ‰ä»»æ„é”®ï¼Œä¼šè‡ªåŠ¨å¼€å§‹å®‰è£…ssï¼Œå®‰è£…å®Œå¦‚ä¸‹å›¾ã€‚ æ³¨æ„ï¼šç”¨æ–‡æ¡£ä¿å­˜ã€æˆ–å›¾ç‰‡ä¿å­˜ä¸‹å›¾ä¿¡æ¯ã€‚ 4ã€å®¢æˆ·ç«¯è®¾ç½®æ‰“å¼€å®¢æˆ·ç«¯æ•ˆæœå›¾å¦‚ä¸‹ï¼šæŠŠç¬¬4æ­¥æä¾›ç»™ä½ çš„æœåŠ¡å™¨åœ°å€å¯†ç ç­‰ä¿¡æ¯å¡«å…¥å³å¯ï¼Œæ³¨æ„addressåé¢å†’å·åæ˜¯ç«¯å£å·ã€‚ é…ç½®åå³å¯ç§‘å­¦ä¸Šç½‘ã€‚ 5ã€è¿›é˜¶ï¼šå¤šç”¨æˆ·é…ç½® vi /etc/shadowsocks/config.json ç„¶åæŒ‰é”®ç›˜ä¸Šçš„iï¼Œå³å¯è¿›å…¥ç¼–è¾‘æ¨¡å¼ã€‚ ä¿®æ”¹åï¼ŒæŒ‰ä¸‹escï¼Œç„¶åé”®ç›˜è¾“å…¥:wqä¿å­˜æ–‡ä»¶å¹¶é€€å‡ºvi ã€‚ PSï¼šå¦‚æœè¾“å…¥:q!ï¼Œæ˜¯ä¸ä¿å­˜æ–‡ä»¶å¹¶é€€å‡ºvi å•ç”¨æˆ·é…ç½® {â€œserverâ€:â€207.246.102.156â€,â€œserver_portâ€: 5566,â€œlocal_portâ€:1080,â€œpasswordâ€:â€Qq112233â€,â€œmethodâ€:â€aes-256-cfbâ€,â€œtimeoutâ€:600} å¤šç”¨æˆ·é…ç½®ã€‚å…¶ä¸­&quot;13839&quot;:&quot;abcde1&quot;ï¼Œ13839æ˜¯ç«¯å£ï¼Œabcde1æ˜¯å¯†ç ã€‚ 1234567891011121314&#123; &quot;server&quot;:&quot;207.246.102.156&quot;ï¼Œ &quot;local_address&quot;: &quot;127.0.0.1&quot;, &quot;local_port&quot;:1080, &quot;port_password&quot;: &#123; &quot;8381&quot;: &quot;foobar1&quot;, &quot;8382&quot;: &quot;foobar2&quot;, &quot;8383&quot;: &quot;foobar3&quot;, &quot;8384&quot;: &quot;foobar4&quot; &#125;, &quot;timeout&quot;:300, &quot;method&quot;:&quot;aes-256-cfb&quot;, &quot;fast_open&quot;: false &#125; 6ã€è®¾ç½®é˜²ç«å¢™yum install net-toolsï¼Œå®‰è£…æç¤ºæ—¶è¾“å…¥y netstat -antuï¼Œå¯ä»¥æŸ¥çœ‹å„ä¸ªç«¯å£çš„è¿è¡Œæƒ…å†µ ç”¨ä»¥ä¸‹æ–¹æ³•ï¼ŒæŠŠæˆ‘ä»¬è‡ªå®šä¹‰çš„ç«¯å£åŠ å…¥é˜²ç«å¢™ç™½åå•ï¼š 123456firewall-cmd --zone=public --add-port=9001/tcp --permanent # å¼€23331 TCPç«¯å£firewall-cmd --zone=public --add-port=9001/udp --permanent # å¼€23331 UDPç«¯å£firewall-cmd --zone=public --add-port=9002/tcp --permanent # å¼€23333 TCPç«¯å£firewall-cmd --zone=public --add-port=9002/udp --permanent # å¼€23333 UDPç«¯å£firewall-cmd --reload # é‡è½½é…ç½®iptables -L -n # æŸ¥è¯¢é˜²ç«å¢™è§„åˆ™ Vultræœ€æ–°ä¿ƒé”€æ´»åŠ¨ï¼šæ¨ç‰¹å…³æ³¨é€3åˆ€ï¼ŒèšŠå­å†å°ä¹Ÿæ˜¯è‚‰å•Šæ“ä½œéå¸¸ç®€å•ï¼Œåªéœ€4æ­¥å³å¯ï¼Œä½ è·å¾—èµ é€åå¦‚æœè§‰å¾—ä¸çˆ½ï¼Œå¯ä»¥éšæ—¶å–æ¶ˆå…³æ³¨å˜›ï¼Œè¿˜æ˜¯é‚£å¥è¯ï¼ŒèšŠå­å†å°ä¹Ÿæ˜¯è‚‰å•Šï¼Œèƒ½çœä¸€å—æ˜¯ä¸€å—ã€‚ã€‚ã€‚ã€‚ ç‚¹å‡»ç½‘å€ï¼šhttps://my.vultr.com/promo/ éªŒè¯æ‚¨çš„Twitterå¸æˆ·å¹¶è·å¾—1ç¾å…ƒçš„ä¿¡ç”¨ - éªŒè¯å°†å…è®¸è®¿é—®å…¶ä»–Twitterå®£ä¼ ï¼ åœ¨Twitterä¸Šå…³æ³¨@Vultrå¹¶è·å¾—$ 1çš„ä¿¡ç”¨ï¼ å…³äºVultrï¼Œå¹¶è·å¾—$ 1çš„ä¿¡ç”¨ï¼ ä¾æ¬¡ç‚¹å‡»ç½‘å€åŠVulträ¸Šçš„ä¸‰ä¸ªæ¨ç‰¹æ“ä½œæŒ‰é’®å³å¯ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•å‘¢ï¼Ÿï¼å°±è¿™æ ·3ç¾å…ƒåˆ°æ‰‹äº†ï¼Œè¿˜ä¸èµ¶ç´§è¯•è¯•çœ‹å•Šï¼æ•ˆæœå¦‚ä¸‹ï¼š ã€bugã€‘ä½¿ç”¨Vultrçš„Server Reinstallï¼Œé‡å¯ä¸»æœºåæŠ¥é”™â€”â€”è§£å†³sshç™»å½•Host key verification failedä½¿ç”¨SSHç™»å½•æŸå°æœºå™¨ï¼Œæœ‰æ—¶å› ä¸ºserverç«¯çš„ä¸€äº›å˜åŠ¨ï¼Œä¼šå‡ºç°ä»¥ä¸‹ä¿¡æ¯ï¼š @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED! @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!Someone could be eavesdropping on you right now (man-in-the-middle attack)!It is also possible that the RSA host key has just been changed.The fingerprint for the RSA key sent by the remote host is50:e6:cb:58:bc:b7:a3:f6:e8:8f:46:a7:c1:5f:c2:df.Please contact your system administrator.Add correct host key in /home/cobyeah/.ssh/known_hosts to get rid of this message.Offending key in /home/cobyeah/.ssh/known_hosts:7RSA host key for 192.168.0.4 has changed and you have requested strict checking.Host key verification failed. ï¼ˆæ­¤å¤„å…ˆä¸æåŠåŸç†ï¼Œåªè®²å¤„ç†æ–¹æ³•ï¼Œéœ€è¦äº†è§£åŸå› çš„è¯·ç•™è¨€æˆ–æ‰¾å…¶ä»–èµ„æ–™ï¼‰ è¿™æ—¶å€™çš„å¤„ç†æ–¹æ³•ï¼Œæœ‰3ç§ï¼š åˆ é™¤æç¤ºä¿¡æ¯ä¸­ï¼Œå¯¹åº”çš„è¡Œæ•°ï¼Œä¾‹å¦‚ä¸Šä¾‹ï¼Œéœ€è¦åˆ é™¤vi /home/cobyeah/.ssh/known_hostsæ–‡ä»¶çš„ç¬¬7è¡Œã€‚ åˆ é™¤æ•´ä»½/home/cobyeah/.ssh/known_hostsæ–‡ä»¶ã€‚ ä¿®æ”¹/etc/ssh/ssh_configæ–‡ä»¶çš„é…ç½®ï¼Œä»¥ååˆ™ä¸ä¼šå†å‡ºç°æ­¤é—®é¢˜StrictHostKeyChecking noUserKnownHostsFile /dev/null ã€bugã€‘vi /etc/shadowsocks.jsonæ‰“å¼€æ–‡ä»¶ï¼Œç”¨iè¿›è¡Œç¼–è¾‘åï¼Œä¸èƒ½åˆ é™¤ã€è€Œä¸”ä¸Šä¸‹é”®æ‰“å‡ºæ¥å˜æˆAå’ŒBæŒ‰ä½esc+shiftï¼Œè¿ç»­æŒ‰ä¸¤ä¸‹zï¼Œå¯ä»¥é€€å‡ºviæ¨¡å¼ã€‚ sudo apt-get install vimï¼Œå› ä¸ºç¼ºçœæ˜¯å®‰è£…çš„ä¸å®Œå…¨vimï¼Œç”¨è¿™æ¡å‘½ä»¤è¡¥å…¨ã€‚ æ–¹æ³•äºŒï¼šå¤±è´¥äº†ï¼Œå•ç”¨æˆ·ç§‘å­¦ä¸Šç½‘å¤±è´¥ssh root@45.77.183.251 12345678&#123; &quot;server&quot;:&quot;45.77.183.251&quot;, &quot;server_port&quot;:5566, &quot;local_port&quot;:1080, &quot;password&quot;:&quot;Qq112233&quot;, &quot;timeout&quot;:600, &quot;method&quot;:&quot;aes-256-cfb&quot;&#125; ï¼ï¼å¤±è´¥äº†ï¼Œæ•™ç¨‹åœ°å€ï¼šhttp://hunao.info/2016/05/30/%E6%95%99%E4%BD%A030%E5%9D%97%E8%BD%BB%E6%9D%BE%E6%90%9E%E5%AE%9A%E4%B8%80%E5%B9%B4%E7%9A%84vps%E5%92%8Cshadowsocks/?nsukey=eF8UUR%2BbN3WQCywYoNqb%2Fj9ojBpgiayFKkF4U7f%2F7QXUgM1%2FshY8doiDbvadPOqtsDocFicB6sHsEG5zwnEd8V8l%2FwXlp8KAD4rpBeA1%2BHIc3sFILDXhdvgD2BmEOFfWXpG%2FV5i3rL28oXmtqApTv%2FPRjGB1%2FtKqF1nsSVPiX8jFZrHznYa6tKg26fPzyIO%2FFcH1I87jsC%2FZO8iGJ%2FbVbQ%3D%3Dæ–¹æ³•ä¸‰ï¼šæˆåŠŸï¼Œubuntu16.04 X64å’Œcentos7å¤šç”¨æˆ·é…ç½®ç§‘å­¦ä¸Šç½‘ï¼ï¼æˆåŠŸäº†å¤šç”¨æˆ·https://teddysun.com/342.htmlç³»ç»Ÿæ”¯æŒï¼šCentOS 6ï¼Œ7ï¼ŒDebianï¼ŒUbuntuShadowsocks æœåŠ¡ç«¯å¤§ä½“ä¸Šæœ‰ 4 ç§ç‰ˆæœ¬ï¼ŒæŒ‰ç…§ç¨‹åºè¯­è¨€åˆ’åˆ†ï¼Œåˆ†åˆ«ä¸º Python ï¼Œlibev ï¼ŒGo ï¼Œ Nodejs ï¼Œç›®å‰ä¸»æµä½¿ç”¨å‰ 3 ç§ã€‚ æ—¥æœŸï¼š2017 å¹´ 11 æœˆ 28 æ—¥ é»˜è®¤é…ç½®ï¼š æœåŠ¡å™¨ç«¯å£ï¼šè‡ªå·±è®¾å®šï¼ˆå¦‚ä¸è®¾å®šï¼Œé»˜è®¤ä¸º 8989ï¼‰å¯†ç ï¼šè‡ªå·±è®¾å®šï¼ˆå¦‚ä¸è®¾å®šï¼Œé»˜è®¤ä¸º teddysun.comï¼‰åŠ å¯†æ–¹å¼ï¼šè‡ªå·±è®¾å®šï¼ˆå¦‚ä¸è®¾å®šï¼Œé»˜è®¤ä¸º aes-256-gcmï¼‰å¤‡æ³¨ï¼šè„šæœ¬é»˜è®¤åˆ›å»ºå•ç”¨æˆ·é…ç½®æ–‡ä»¶ï¼Œå¦‚éœ€é…ç½®å¤šç”¨æˆ·ï¼Œå®‰è£…å®Œæ¯•åå‚ç…§ä¸‹é¢çš„æ•™ç¨‹ç¤ºä¾‹æ‰‹åŠ¨ä¿®æ”¹é…ç½®æ–‡ä»¶åé‡å¯å³å¯ã€‚ 2017.12.17æ–°getåˆ°çš„ç‚¹ï¼šç³»ç»Ÿï¼šåªæ¨èUbuntu 16.04 x86_64 åœ¨linuxå¦‚æœç¼–è¾‘æ–‡ä»¶é‡åˆ°æŠ¥é”™ï¼Œæ— éœ€çº ç»“ï¼ŒæŒ‰Eé”®ç»§ç»­ç¼–è¾‘ã€‚ Ctrl+Insertï¼Œä»VPSé‡Œå¤åˆ¶æ–‡å­—å‡ºæ¥åˆ°ä½ çš„ç”µè„‘ã€‚macçš„insertæ˜¯fn+enterã€‚ Shift+Insertï¼ŒæŠŠä½ ç”µè„‘é‡Œçš„æ–‡å­—ç²˜è´´è¿›å…¥VPSé‡Œã€‚ æåŠ›æ¨èç«¯å£ï¼š80ã€443 ç«¯å£å®˜æ–¹æ–‡æ¡£ç”¨8381ã€8382ã€8383ã€8384 åè®®æ¨èï¼šauth chain bï¼Œéiosæˆ–macosè®¾å¤‡åˆ™ç”¨auth chain d åŠ å¯†æ¨èï¼šchacha20-ietf æ··æ·†æ¨èï¼štls1.2_ticket_auth 1ã€ä½¿ç”¨æ–¹æ³•ï¼šssh root@ä½ çš„ipåœ°å€ï¼Œä½¿ç”¨rootç”¨æˆ·ç™»å½• ä¸€æ¡ä¸€æ¡è¿è¡Œï¼Œä»¥ä¸‹3ä¸ªå‘½ä»¤ï¼Œç¬¬3ä¸ªå‘½ä»¤è¦ç­‰5åˆ†é’Ÿå·¦å³ï¼š 12345wget --no-check-certificate -O shadowsocks.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks.shchmod +x shadowsocks.sh./shadowsocks.sh 2&gt;&amp;1 | tee shadowsocks.log å®‰è£…å®Œæˆåï¼Œè„šæœ¬æç¤ºå¦‚ä¸‹ï¼š 12345678Congratulations, Shadowsocks-python server install completed!Your Server IP :your_server_ipYour Server Port :your_server_portYour Password :your_passwordYour Encryption Method:your_encryption_methodWelcome to visit:https://teddysun.com/342.htmlEnjoy it! å¸è½½æ–¹æ³•ï¼ˆè¿™é‡Œä¸éœ€è¦æ‰§è¡Œï¼‰ï¼šä½¿ç”¨rootç”¨æˆ·ç™»å½•ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š 1./shadowsocks.sh uninstall 2ã€å•ç”¨æˆ·é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼ˆ2017 å¹´ 11 æœˆ 28 æ—¥ä¿®æ­£ï¼‰ï¼šé…ç½®æ–‡ä»¶ï¼š`vi /etc/shadowsocks.json`` åªéœ€ä¿®æ”¹passwordã€‚ ä¿®æ”¹æ–‡ä»¶åé‡å¯shadowsocksï¼š/etc/init.d/shadowsocks restartï¼Œå³å¯ç§‘å­¦ä¸Šç½‘ã€‚ 12345678910&#123; &quot;server&quot;:&quot;0.0.0.0&quot;, &quot;server_port&quot;:443, &quot;local_address&quot;:&quot;127.0.0.1&quot;, &quot;local_port&quot;:1080, &quot;password&quot;:&quot;Qq112233&quot;, &quot;timeout&quot;:300, &quot;method&quot;:&quot;chacha20-ietf&quot;, &quot;fast_open&quot;:false&#125; è¡¥å……ï¼šviå¸¸ç”¨å‘½ä»¤ï¼šåˆ é™¤ï¼šç”¨ctrl+uï¼Œå¯ä»¥ä¸€è¡Œä¸€è¡Œåˆ  ç¼–è¾‘ï¼šé”®ç›˜i ä¿å­˜å¹¶é€€å‡ºï¼ˆä¸¤ç§æ–¹æ³•ï¼‰ï¼šâ‘ ã€æŒ‰ä¸€ä¸‹escï¼Œè¾“å…¥:wqï¼Œå›è½¦ï¼›â‘¡ã€æŒ‰ä½esc+shiftï¼Œå†æŒ‰ä¸¤ä¸‹z ä¸ä¿å­˜é€€å‡ºï¼šæŒ‰ä¸€ä¸‹escï¼Œè¾“å…¥:q!ï¼Œå›è½¦ 3ã€å¤šç”¨æˆ·å¤šç«¯å£é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼ˆ2017 å¹´ 11 æœˆ 28 æ—¥ä¿®æ­£ï¼‰ï¼šâ‘ ã€å®‰è£…vimï¼ˆviæ¨¡å¼ä¸‹å¯ä»¥ç¼–è¾‘ï¼Œå¦åˆ™æ— æ³•è¾“å…¥ï¼ŒæŒ‰æ–¹å‘é”®ä¼šå˜æˆAã€Bå­—å¹•ï¼‰ï¼šsudo apt-get install vim â‘¡ã€é…ç½®æ–‡ä»¶ï¼švi /etc/shadowsocks.jsonï¼Œæœ€å¥½å…ˆåœ¨å…¶ä»–æ–‡æ¡£ä¸Šç¼–è¾‘å¥½å†ç²˜è´´è¿›å»ã€‚ åªéœ€ä¿®æ”¹port_passwordï¼Œå³ç«¯å£å’Œå¯†ç å³å¯ï¼Œä»£ç å¦‚ä¸‹ã€‚ â‘¢ã€ä¿®æ”¹æ–‡ä»¶åé‡å¯shadowsocksï¼š/etc/init.d/shadowsocks restart æ³¨æ„ï¼šé‡å¯åï¼Œä¸€å¼€å§‹æ˜¯ä¸èƒ½ç§‘å­¦ä¸Šç½‘çš„ï¼Œè¦ç¨ç­‰3-10åˆ†é’Ÿï¼Œé…ç½®æ‰ä¼šç”Ÿæ•ˆã€‚ï¼ˆç­‰å¾…æ—¶é—´å¯ä»¥å…ˆé…ç½®å¥½ä¸‹é¢ä¸‹è½½çš„shadowsockså®¢æˆ·ç«¯ï¼‰ 12345678910111213141516171819&#123; &quot;server&quot;:&quot;0.0.0.0&quot;, &quot;server_port&quot;:443, &quot;local_address&quot;:&quot;127.0.0.1&quot;, &quot;local_port&quot;:1080, &quot;port_password&quot;:&#123; &quot;80&quot;:&quot;123456&quot;, &quot;443&quot;:&quot;123456&quot;, &quot;8381&quot;:&quot;123456&quot;, &quot;8382&quot;:&quot;123456&quot;, &quot;8383&quot;:&quot;123456&quot;, &quot;8384&quot;:&quot;123456&quot; &#125;, &quot;timeout&quot;:300, &quot;method&quot;:&quot;chacha20-ietf&quot;, &quot;fast_open&quot;:false, &quot;protocol&quot;:&quot;auth_chain_b&quot;, &quot;obfs&quot;:&quot;tls1.2_ticket_auth&quot;&#125; â‘¢ã€å¦‚æœæ˜¯Centosç³»ç»Ÿï¼Œé…ç½®å¤šç”¨æˆ·ç«¯å£åï¼Œè¿˜è¦åœ¨é˜²ç«å¢™å¼€æ”¾ç«¯å£ï¼ˆæ¯ä¸ªç«¯å£å¦‚ä¸‹è´´ä¸¤è¡Œä»£ç ï¼‰ï¼Œæ‰èƒ½ç§‘å­¦ä¸Šç½‘ã€‚ubuntuç³»ç»Ÿæ— è§†è¿™ä¸€æ­¥ã€‚123456firewall-cmd --zone=public --add-port=9001/tcp --permanent # å¼€9001 TCPç«¯å£firewall-cmd --zone=public --add-port=9001/udp --permanent # å¼€9001 UDPç«¯å£firewall-cmd --zone=public --add-port=9002/tcp --permanent # å¼€9002 TCPç«¯å£firewall-cmd --zone=public --add-port=9002/udp --permanent # å¼€9002 UDPç«¯å£firewall-cmd --reload # é‡è½½é…ç½®iptables -L -n # æŸ¥è¯¢é˜²ç«å¢™è§„åˆ™ è¡¥å……ï¼šshadowsockså¸¸ç”¨å‘½ä»¤ï¼šå¯åŠ¨ï¼š/etc/init.d/shadowsocks startåœæ­¢ï¼š/etc/init.d/shadowsocks stopé‡å¯ï¼š/etc/init.d/shadowsocks restartçŠ¶æ€ï¼š/etc/init.d/shadowsocks status 4ã€ç”¨http://ip111.cn/æµ‹è¯•vpsçŠ¶æ€æ˜¯å¦ç§‘å­¦ä¸Šç½‘ï¼Œè°·æ­Œç½‘ç«™ä¸€è¡Œæœ‰å‡ºç°ipå°±æ˜¯å¯ä»¥ç§‘å­¦ä¸Šç½‘å‚è€ƒç½‘ç«™ï¼š[https://shadowsocks.be/1.html æ›´å¤šç‰ˆæœ¬ Shadowsocks æœåŠ¡ç«¯ä¸€é”®å®‰è£…è„šæœ¬ï¼š shadowsockså¸¸è§é—®é¢˜ ShadowsocksR ç‰ˆä¸€é”®å®‰è£…è„šæœ¬ï¼ˆCentOSï¼ŒDebianï¼ŒUbuntuï¼‰CentOS ä¸‹ Shadowsocks-libev ä¸€é”®å®‰è£…è„šæœ¬Debian ä¸‹ Shadowsocks-libev ä¸€é”®å®‰è£…è„šæœ¬Shadowsocks-go ä¸€é”®å®‰è£…è„šæœ¬ï¼ˆCentOSï¼ŒDebianï¼ŒUbuntuï¼‰ CentOSä¸‹pipå’Œshadowsocksçš„å®‰è£…ä½¿ç”¨ è¿›é˜¶1ï¼švultræ€ä¹ˆå¤‡ä»½ï¼Ÿç”¨å¿«ç…§snapshotså‚è€ƒæ•™ç¨‹https://www.duoluodeyu.com/2481.html 1ï¼‰è¿›å…¥ä¸»æœºï¼Œé€‰æ‹©Snapshotsæ ï¼Œç‚¹å‡»Add SnapshotsæŒ‰é’®ï¼Œè¾“å…¥åå­—æ–°å»ºå¤‡ä»½ã€‚ 2ï¼‰å¦‚æœå½“å‰ipä¸æ»¡æ„æˆ–è¢«å¢™ï¼Œç‚¹å‡»æ–°å»ºä¸€ä¸ªipä¸»æœºï¼Œåœ¨é€‰æ‹©é¡µé¢çš„Server Typeä¸æ˜¯é€‰ubuntuæˆ–centosäº†ï¼Œè€Œæ˜¯é€‰æ‹©Snapshotï¼Œé€‰æ‹©ä¸Šè¾¹åšçš„é‚£ä¸ªå¤‡ä»½ï¼Œå³å¯æŠŠæ—§ä¸»æœºçš„æ•°æ®è¿ç§»åˆ°æ–°ä¸»æœºã€‚ è¿›é˜¶1ï¼šfast_openã€é‡å¯è‡ªåŠ¨å¯ç”¨shadowsocksè¿›é˜¶2ï¼šåŠ é€Ÿå™¨â˜ubuntuå®‰è£…è°·æ­ŒRRSå‚è€ƒç½‘ç«™ http://yangteng.me/blog/2017/05/03/cj879gh7m000cy2tgojdcogpz/ https://www.mostxw.com/rj/3699.htmlã€Mostå›¾æ–‡ã€‘ https://www.youtube.com/watch?v=oYyUkkIF1p4ã€Mostè§†é¢‘ã€‘ è°·æ­Œ TCP BBRå…ˆæ¥ç®€å•è¯´ä¸€ä¸‹è¿™ä¸ªä¸œè¥¿å§ï¼Œå°±æ˜¯Googleå¼€å‘çš„æ–°çš„æ‹¥å¡æ§åˆ¶ç®—æ³•ï¼Œæ®è¯´æ˜¯ç”¨åœ¨YouTubeä¸Šï¼Œå¹¶ä¸”åœ¨å»å¹´9æœˆå¼€æºå¹¶ä¸”ç°åœ¨å·²ç»é›†æˆåˆ°Linux 4.9-rc8ä¹‹åç‰ˆæœ¬ çš„å†…æ ¸ä¸­ã€‚å®˜æ–¹è®ºå›å®˜æ–¹Start Guide å› æ­¤ï¼Œæˆ‘ä»¬è¿™æ¬¡å¾ˆé‡è¦çš„ä¸€é¡¹æ­¥éª¤å°±æ˜¯æ›´æ¢Linuxçš„å†…æ ¸ã€‚è¿™é‡Œè¦æé†’çš„æ˜¯ï¼Œå¦‚æœä½ çš„VPSä½¿ç”¨çš„æ˜¯OpenVZçš„è™šæ‹ŸæŠ€æœ¯ï¼Œæ˜¯ä¸èƒ½ä½¿ç”¨BBRçš„ã€‚å¹¶ä¸”ï¼Œç³»ç»Ÿè¦æ±‚åœ¨ CentOS 6+ï¼ŒDebian 7+ï¼ŒUbuntu 12+ã€‚ å¼€å§‹å‰å…ˆè¯´ä¸€å£°ï¼Œæˆ‘ä½¿ç”¨çš„ç³»ç»Ÿæ˜¯Ubuntu Server 14.04 x86-64ï¼Œå¹¶ä¸”ä½¿ç”¨rootç”¨æˆ·æ“ä½œ 1ã€æ›´æ¢Linuxå†…æ ¸æŒ‰ç…§æƒ¯ä¾‹æˆ‘ä»¬å…ˆæ›´æ–°ä¸€ä¸‹aptæºï¼šâ‘ ã€ubuntuç³»ç»Ÿ 1apt-get update â‘¡ã€å¦‚æœæ˜¯ CentOS ç³»ç»Ÿï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å³å¯å‡çº§å†…æ ¸ï¼š 1yum --enablerepo=elrepo-kernel -y install kernel-ml kernel-ml-devel â€‹ CentOS 6 çš„è¯ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š 1sed -i &apos;s/^default=.*/default=0/g&apos; /boot/grub/grub.conf â€‹ CentOS 7 çš„è¯ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š 1grub2-set-default 0 ç„¶åæˆ‘ä»¬è¦ä¸‹è½½Ubuntuçš„å†…æ ¸ï¼Œåœ¨è°·æ­Œå†…æ ¸åº“ï¼Œæ‰¾åˆ°æˆ‘ä»¬éœ€è¦çš„å†…æ ¸æ–‡ä»¶ï¼Œå…ˆä¸‹è½½åˆ° /tmp æ–‡ä»¶å¤¹ä¸­ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªæŒ‡ä»¤ 12cd /tmpwget http://kernel.ubuntu.com/~kernel-ppa/mainline/v4.12.4/linux-image-4.12.4-041204-generic_4.12.4-041204.201707271932_amd64.deb ç„¶åæ‰§è¡Œå®‰è£… æ–‡ä»¶åä½ å¯ä»¥åªè¾“å…¥å‰å‡ ä¸ªå­—æ¯ç„¶åæŒ‰tabé”®è‡ªåŠ¨è¡¥é½ 1dpkg -i linux-image-4.12.4-041204-generic_4.12.4-041204.201707271932_amd64.deb è£…å®Œä»¥åï¼Œæˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸‹å·²å®‰è£…çš„å†…æ ¸åˆ—è¡¨1dpkg -l | grep linux-image å¦‚æœåˆ—è¡¨ä¸­å‡ºç°äº†ä½ åˆšæ‰å®‰è£…çš„å†…æ ¸ï¼Œé‚£ä¹ˆè¯æ˜å·²ç»å®‰è£…æˆåŠŸäº†ã€‚ ç„¶åæˆ‘ä»¬æ‰§è¡Œå†…æ ¸æ›´æ–°ï¼Œå®Œæˆåé‡å¯ã€‚12345update-grub## ç­‰å¾…è¾“å‡º done åé‡å¯ç³»ç»Ÿreboot ##å®Œæˆåé‡å¯ï¼Œè¿™é‡Œæ“ä½œåä¼šé€€å‡ºrootæƒé™éœ€è¦é‡æ–°ç™»å½•`ssh root@ä½ çš„ipåœ°å€` é‡å¯ä»¥åï¼Œæˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹ç³»ç»Ÿå†…æ ¸æ˜¯å¦æ­£ç¡®åˆ‡æ¢1uname -a å¦‚æœè¾“å‡ºçš„ç»“æœæ˜¯ä½ åˆšæ‰å®‰è£…çš„ç³»ç»Ÿå†…æ ¸ï¼Œåˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸäº†ã€‚ 2ã€å¼€å¯BBRåˆ†åˆ«æ‰§è¡Œä¸‹é¢è¿™ä¸¤æ¡è„šæœ¬ 12echo &quot;net.core.default_qdisc=fq&quot; &gt;&gt; /etc/sysctl.confecho &quot;net.ipv4.tcp_congestion_control=bbr&quot; &gt;&gt; /etc/sysctl.conf ä¿å­˜ç”Ÿæ•ˆ 1sysctl -p æ‰§è¡Œè„šæœ¬ 1sysctl net.ipv4.tcp_available_congestion_control å¦‚æœåˆšæ‰çš„ä¿å­˜å’Œæ‰§è¡Œè„šæœ¬ç»“æœéƒ½æœ‰ bbr é‚£ä¹ˆä»£è¡¨ä½ çš„å†…æ ¸å·²ç»å¼€å¯äº†BBR æ‰§è¡Œè„šæœ¬ 1lsmod | grep bbr å¦‚æœç»“æœä¸­æœ‰tcp_bbr ï¼Œåˆ™è¯´æ˜bbrå·²ç»å¯åŠ¨ã€‚ 3ã€æ£€æŸ¥BBRå¯åŠ¨1ã€æ£€æŸ¥æ ¸å¿ƒ uname -r æ£€æŸ¥å†…æ ¸æ˜¯ä¸æ˜¯4.10ï¼Œæ£€æµ‹åçœ‹åˆ°çš„æ˜¯â€4.10.5-1.el6.elrepo.x86_64â€ã€‚ 2ã€sysctl net.ipv4.tcp_available_congestion_control æ‰§è¡Œåçœ‹çœ‹è¿”å›â€net.ipv4.tcp_available_congestion_control = bbr cubic renoâ€ 3ã€sysctl net.ipv4.tcp_congestion_control çœ‹åˆ°è¿”å›å€¼â€net.ipv4.tcp_congestion_control = bbrâ€ 4ã€sysctl net.core.default_qdisc æŸ¥çœ‹è¿”å›å€¼â€net.core.default_qdisc = fqâ€ 5ã€lsmod | grep bbr ç„¶åå¯ä»¥çœ‹åˆ°æœ‰BBRä¿¡æ¯ã€‚è¯´æ˜å®‰è£…æˆåŠŸäº†ã€‚ è¿™æ ·ï¼Œåœ¨å®‰è£…å®Œæ¯•BBRä¹‹åï¼Œæˆ‘ä»¬å»å»ºç«™ç­‰ç”¨é€”çš„æ—¶å€™ï¼Œåº”è¯¥æ˜¯é€Ÿåº¦æœ‰æé«˜çš„ã€‚ 3.è¿›é˜¶3ï¼šåŠ é€Ÿå™¨â˜centoså®‰è£…é”é€Ÿç ´è§£ç‰ˆï¼ï¼å¤±è´¥ï¼Œä»¥ä¸‹æ–¹æ³•æç¤ºâ€œæ²¡å–åˆ°é”é€Ÿç‰ˆæœ¬â€3.1æ›´æ¢CentOSå†…æ ¸(Debianè·³è¿‡æ­¤æ­¥éª¤): 1rpm -ivh http://soft.91yun.org/ISO/Linux/CentOS/kernel/kernel-3.10.0-229.1.2.el7.x86_64.rpm --force æŸ¥çœ‹æ˜¯å¦æˆåŠŸ: 1rpm -qa | grep kernel é‡å¯: 1reboot æŸ¥çœ‹å½“å‰å†…æ ¸: 1uname -r 3.2 å®‰è£…é”é€Ÿ 1wget -N --no-check-certificate https://raw.githubusercontent.com/91yun/serverspeeder/master/serverspeeder-all.sh &amp;&amp; bash serverspeeder-all.sh å¯èƒ½ä¼šæç¤ºå†…æ ¸ç‰ˆæœ¬é—®é¢˜ï¼Œé€‰æ‹©ä¸€ä¸ªæœ€æ¥è¿‘çš„ç‰ˆæœ¬å³å¯ å¦‚éœ€è¦å¸è½½é”é€Ÿ: 1chattr -i /serverspeeder/etc/apx* &amp;&amp; /serverspeeder/bin/serverSpeeder.sh uninstall -f ï¼ï¼æˆåŠŸâ€”â€”ä»¥ä¸‹æ–¹æ³•ï¼Œä¸€æ¡å‘½ä»¤æå®šå‚è€ƒé“¾æ¥ï¼š https://github.com/91yun/serverspeeder ç‰¹åˆ«è¯´æ˜å¦å¤–ï¼šé‡è¦çš„äº‹æƒ…è¯´ä¸‰éï¼ï¼ï¼ é”é€Ÿä¸æ”¯æŒOpenvzï¼ï¼ï¼é”é€Ÿä¸æ”¯æŒOpenvzï¼ï¼ï¼é”é€Ÿä¸æ”¯æŒOpenvzï¼ï¼ï¼ ä½ å¯èƒ½éœ€è¦ï¼š å¦‚æœä½ ä¸çŸ¥é“ä½ çš„æœºå­åˆ°åº•æ˜¯ä¸æ˜¯Openvzï¼Œè¯·é£Ÿç”¨ã€Šæ•™ç¨‹ï¼šä¸€é”®æ£€æµ‹VPSæ˜¯Openvzè¿˜æ˜¯KVMè¿˜æ˜¯Xenã€‹ å¦‚æœä½ çš„å†…æ ¸ä¸å¯¹ï¼Œæ˜¯Centosçš„è¯è¯·é£Ÿç”¨ã€Šæ•™ç¨‹ï¼šCentOSæ›´æ¢å†…æ ¸ï¼Œæä¾›é”é€Ÿå¯ç”¨çš„å†…æ ¸ä¸‹è½½ã€‹ã€‚debianå’Œubuntuæˆ‘ä¸ç†Ÿï¼Œæš‚æ—¶è¿˜æ²¡ä¸€é”®åŒ…ï¼Œè¯·è‡ªè¡Œç™¾åº¦googleã€‚ã€‚ å¦‚æœä½ å«Œéº»çƒ¦ï¼Œåªæ˜¯æƒ³æ‰¾ä¸ªå¥½ç”¨çš„SSï¼Œå«Œéº»çƒ¦åˆä¸æƒ³èŠ±å¤ªå¤šé’±ï¼Œä½ å¯ä»¥å’Œæˆ‘åˆç§Ÿæˆ‘çš„è‡ªç”¨ç²¾é€‰çº¿è·¯ã€‚ã€‚ã€‚æƒ³ç§ŸSSçš„è¿› å¦‚æœä½ æƒ³çŸ¥é“ä¸€äº›æœåŠ¡å™¨æ˜¯å¦é€‚åˆä½ ï¼Œè¯·é£Ÿç”¨ å„ç§è¯„æµ‹æŠ¥å‘Šã€‚æˆ‘æ¯å¤©éƒ½ä¼šæŠŠæˆ‘å°è¯•çš„ä¸€äº›vpsè¯„æµ‹æŠ¥å‘Šå‘å‡ºæ¥ï¼Œå¤§å®¶å¯ä»¥æ”¶è—å¥½æœ¬ç«™ï¼ŒåŠæ—¶å…³æ³¨ã€‚ é”é€Ÿç ´è§£ç‰ˆå®‰è£…æ–¹æ³•ï¼šâ€”â€”ï¼ï¼ä¸€æ¡å‘½ä»¤æå®š1wget -N --no-check-certificate https://github.com/91yun/serverspeeder/raw/master/serverspeeder.sh &amp;&amp; bash serverspeeder.sh é”é€Ÿç ´è§£ç‰ˆå¸è½½æ–¹æ³•ï¼š1chattr -i /serverspeeder/etc/apx* &amp;&amp; /serverspeeder/bin/serverSpeeder.sh uninstall -f é”é€Ÿç ´è§£ç‰ˆåŠŸèƒ½ï¼š å¦‚æœå†…æ ¸å®Œå…¨åŒ¹é…å°±ä¼šè‡ªåŠ¨ä¸‹è½½å®‰è£…ã€‚ å¦‚æœæ²¡æœ‰å®Œå…¨åŒ¹é…çš„å†…æ ¸ï¼Œä¼šåœ¨ç•Œé¢æç¤ºå¯é€‰å†…æ ¸ï¼Œå¯ä»¥æ‰‹åŠ¨é€‰ä¸ªæœ€æ¥è¿‘çš„å°è¯• è‡ªåŠ¨ä¸‹è½½æˆæƒæ–‡ä»¶ è‡ªåŠ¨ä¿®æ”¹é…ç½®æ–‡ä»¶ å·²chattr +i /serverspeeder/etc/apx*ç¦æ­¢ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥ä¸ç”¨åŠ hostsäº† ç›®å‰åªæ”¯æŒCentOSï¼Œubuntuå’Œdebianã€‚å¦‚æœæœ‰å…¶ä»–ç³»ç»Ÿæ”¯æŒï¼Œå¯ä»¥åˆ°91yun.orgæˆ‘çš„åšå®¢æ‰‹åŠ¨ä¸‹è½½å…¶ä»–ç³»ç»Ÿçš„å®‰è£…åŒ… è¿›é˜¶ï¼šé‡è£…ç³»ç»Ÿ æµ‹é€Ÿ1ã€å‘½ä»¤æµ‹é€Ÿ1curl -s https://raw.githubusercontent.com/sivel/speedtest-cli/master/speedtest.py | python - â‘ ã€centos+é”é€Ÿçš„æ–¹æ¡ˆé€Ÿåº¦å¾ˆæ…¢ï¼Œ ç”¨æ·±åœ³ç½—æ¹–å›¾ä¹¦é¦†çš„çƒ‚ç½‘ç»œï¼Œä¸‹è½½124Mbit/sï¼Œä¸Šä¼ 78Mbit/s ç”¨è”é€š4Gï¼Œä¸‹è½½301Mbit/sï¼Œä¸Šä¼ 166Mbit/s â‘¡ã€ubuntu+è°·æ­ŒBBRçš„æ–¹æ¡ˆé€Ÿåº¦å¾ˆå¿«ï¼Œ ç”¨æ·±åœ³ç½—æ¹–å›¾ä¹¦é¦†çš„çƒ‚ç½‘ç»œï¼Œä¸‹è½½2228Mbit/sï¼Œä¸Šä¼ 2008Mbit/s ç”¨è”é€š4Gï¼Œä¸‹è½½2585Mbit/sï¼Œä¸Šä¼ 1802Mbit/s â‘¢ã€centosé‡è£…æˆubuntuï¼Œè¿˜æ²¡å®‰è£…åŠ é€Ÿå™¨ï¼š ç”¨æ·±åœ³ç½—æ¹–å›¾ä¹¦é¦†çš„çƒ‚ç½‘ç»œï¼Œä¸‹è½½287Mbit/sï¼Œä¸Šä¼ 160Mbit/s å®‰è£…è°·æ­ŒBBRåŠ é€Ÿå™¨åï¼Œé€Ÿåº¦å˜æ…¢ï¼š ç”¨æ·±åœ³ç½—æ¹–å›¾ä¹¦é¦†çš„çƒ‚ç½‘ç»œï¼Œä¸‹è½½6Mbit/sï¼Œä¸Šä¼ 146Mbit/s 2ã€è§†é¢‘æµ‹é€Ÿhttps://www.youtube.com/watch?v=ss7EJ-PW2Uk&amp;t=1288s ä»¥ä¸‹å…¨éƒ¨ç”¨è”é€š4Gæ‰‹æœºå¡æµ‹è¯•ï¼Œmacç”µè„‘ï¼Œvultrï¼Œè‡ªåŠ¨ã€æ™šä¸Š10ï¼š30æµ‹è¯•ã€vultrçš„æ—¥æœ¬æœåŠ¡å™¨ï¼š 500ï¼ˆvirmachï¼‰ 3500ï¼Œæ‰çº¿ä¸€æ¬¡ï¼ˆlinodeï¼‰ 1000-1600ã€1100ã€1500ï¼ˆubuntuï¼‰ 1200ã€1000-1800ã€1200ï¼ˆcentosï¼‰ 480pã€æ™šä¸Š12ç‚¹æµ‹è¯•ã€vultrçš„æ—¥æœ¬æœåŠ¡å™¨ï¼š 1000ï¼ˆvirmachï¼‰ 10000ï¼ˆlinodeï¼‰ 3500ã€2000ï¼ˆubuntuï¼‰ 650ï¼ˆcentosï¼‰ 480pã€æ™šä¸Š01:30ç‚¹æµ‹è¯•ã€vultrçš„æ—¥æœ¬æœåŠ¡å™¨ï¼šubuntuå®‰è£…è°·æ­ŒBBRå 500ï¼ˆvirmachï¼‰ 5000ï¼ˆlinodeï¼‰ 14000ï¼ˆubuntuï¼‰ 3000ï¼ˆcentosï¼‰ 480pã€æ™šä¸Š02:00ç‚¹æµ‹è¯•ã€vultrçš„æ—¥æœ¬æœåŠ¡å™¨ï¼šcentoså®‰è£…é”é€Ÿå 500ï¼ˆvirmachï¼‰ 9000ï¼ˆlinodeï¼‰ 17000ï¼ˆubuntuï¼‰ 17000ï¼ˆcentosï¼‰ 1128ï¼š 480pã€æ™šä¸Š21ç‚¹æµ‹è¯•ã€vultrçš„æ—¥æœ¬æœåŠ¡å™¨ï¼š 150ï¼ˆvirmachï¼‰ 2000ï¼ˆlinodeï¼Œping450ï¼‰ 2000ï¼ˆubuntuï¼Œping450ï¼‰ 3500ï¼ˆcentosï¼Œping500ï¼‰","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/å·¥å…·/"},{"name":"vps","slug":"vps","permalink":"http://yoursite.com/tags/vps/"},{"name":"ç§‘å­¦ä¸Šç½‘","slug":"ç§‘å­¦ä¸Šç½‘","permalink":"http://yoursite.com/tags/ç§‘å­¦ä¸Šç½‘/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}]},{"title":"wx-page-å¾ªç¯wx:forä¸€è¡Œæ˜¾ç¤ºä¸¤ä¸ªå•†å“çš„wxmlå’Œcss","slug":"wx-page-å¾ªç¯wx:forä¸€è¡Œæ˜¾ç¤ºä¸¤ä¸ªå•†å“çš„wxmlå’Œcss","date":"2018-01-07T16:10:00.000Z","updated":"2018-01-14T08:19:19.000Z","comments":true,"path":"posts/f342d2d/","link":"","permalink":"http://yoursite.com/posts/f342d2d/","excerpt":"","text":"ä¸€ã€æ¡ˆä¾‹1æˆåŠŸwxml 1234567&lt;view class=&quot;items&quot;&gt; &lt;view class=&quot;item&quot; wx:for=&quot;&#123;&#123;weldata&#125;&#125;&quot;&gt; &lt;image src=&apos;&#123;&#123;item.photos[0].avatar.url&#125;&#125;&apos;&gt;&lt;/image&gt; &lt;view&gt;&#123;&#123;item.title&#125;&#125;&lt;/view&gt; &lt;view&gt;&#123;&#123;item.price&#125;&#125;&lt;/view&gt; &lt;/view&gt;&lt;/view&gt; js 123456789.items &#123; display: flex; flex-flow: row wrap; justify-content: center;//å¯åˆ ï¼Œç”¨äºå±…ä¸­&#125;.item &#123; width:49%; margin: 0 auto;//å¯åˆ ï¼Œç”¨äºå±…ä¸­&#125; äºŒã€æ¡ˆä¾‹2å¤±è´¥â€”â€”ä¸èƒ½ç”¨scroll-viewæŠŠæ¡ˆä¾‹1æœ€å¤–å±‚çš„viewæ”¹æˆscroll-viewï¼Œçºµå‘scroll-yæˆ–æ¨ªå‘scroll-x 1234567&lt;scroll-view class=&quot;items&quot; scroll-y&gt; &lt;view class=&quot;item&quot; wx:for=&quot;&#123;&#123;weldata&#125;&#125;&quot;&gt; &lt;image src=&quot;&#123;&#123;item.photos[0].avatar.url&#125;&#125;&quot;&gt;&lt;/image&gt; &lt;text&gt;&#123;&#123;item.title&#125;&#125;&lt;/text&gt; &lt;text&gt;&#123;&#123;item.price&#125;&#125;&lt;/text&gt; &lt;/view&gt;&lt;/scroll-view&gt; åˆ†æï¼šå¦‚æœæŒ‰æ¡ˆä¾‹1çš„åšæ³•ï¼Œåº”è¯¥ç”¨scroll-xï¼Œä½†æ˜¯viewå’Œscroll-viewåŸç†ä¸åŒï¼ŒåŒæ ·è®¾ç½®wrapå¤šè¡Œï¼Œå¯èƒ½viewçš„å¤šè¡Œæ˜¯å¾€ä¸‹å †ç Œï¼Œè€Œscroll-xæ˜¯å¾€å³å †ç Œã€scroll-yæ˜¯å‘ä¸‹å †ç Œä½†åˆåªèƒ½æ˜¾ç¤ºä¸€åˆ—ã€‚ æ‰€ä»¥ï¼Œscroll-xå’Œscroll-yéƒ½æ²¡æ³•å®ç°ã€æŒ‰è¡Œæ’åˆ—+å¤šè¡Œæ’åˆ—ã€ï¼Œå³flex-flow: row wrap;æˆ–åˆ†å¼€å†™flex-direction: row; flex-wrap:wrap; ã€‚ ä¸‰ã€æ¡ˆä¾‹3â€”â€”èƒ½ä¸èƒ½åœ¨wx:forä¸ŠåŠ ä¸€å±‚navigator1ã€å¤±è´¥123456789&lt;view class=&quot;items&quot;&gt; &lt;navigator url=&apos;../p_goods/p_goods&apos; &gt; &lt;view class=&quot;item&quot; wx:for=&quot;&#123;&#123;weldata&#125;&#125;&quot;&gt; &lt;image src=&quot;&#123;&#123;item.photos[0].avatar.url&#125;&#125;&quot;&gt;&lt;/image&gt; &lt;text&gt;&#123;&#123;item.title&#125;&#125;&lt;/text&gt; &lt;text&gt;&#123;&#123;item.price&#125;&#125;&lt;/text&gt; &lt;/view&gt; &lt;/navigator&gt;&lt;/view&gt; 2ã€æˆåŠŸ-æ”¹å˜class=â€itemsâ€çš„ä½ç½®1234567&lt;navigator class=&quot;items&quot; url=&apos;../p_goods/p_goods&apos;&gt; &lt;view class=&quot;item&quot; wx:for=&quot;&#123;&#123;weldata&#125;&#125;&quot;&gt; &lt;image src=&quot;&#123;&#123;item.photos[0].avatar.url&#125;&#125;&quot;&gt;&lt;/image&gt; &lt;text&gt;&#123;&#123;item.title&#125;&#125;&lt;/text&gt; &lt;text&gt;&#123;&#123;item.price&#125;&#125;&lt;/text&gt; &lt;/view&gt;&lt;/navigator&gt; 3ã€å¤±è´¥-æ”¹å˜wx:forçš„ä½ç½®123456789&lt;view class=&quot;items&quot;&gt; &lt;navigator url=&apos;../p_goods/p_goods&apos; wx:for=&quot;&#123;&#123;weldata&#125;&#125;&quot;&gt; &lt;view class=&quot;item&quot; &gt; &lt;image src=&quot;&#123;&#123;item.photos[0].avatar.url&#125;&#125;&quot;&gt;&lt;/image&gt; &lt;text&gt;&#123;&#123;item.title&#125;&#125;&lt;/text&gt; &lt;text&gt;&#123;&#123;item.price&#125;&#125;&lt;/text&gt; &lt;/view&gt; &lt;/navigator&gt;&lt;/view&gt; æ€»ç»“ä»¥ä¸Šä¸‰ä¸ªæ¡ˆä¾‹ï¼š1ã€ç”¨viewï¼Œè€Œä¸è¦ç”¨scroll-viewã€‚ 2ã€è¦ç”¨navigatorï¼Œå¦‚æœæœ‰wx:forå¾ªç¯ï¼Œåˆ™æŠŠnavigatoræ”¾åœ¨ç¬¬äºŒå±‚ç›’å­å³äº§å“ç›’å­ä¸Š&lt;navigator class=&quot;item&quot; url=&quot;../../goods/goods/id?=&quot; wx:for=&quot;&quot;&gt;ï¼Œæœ€å¤–å±‚å¤§ç›’å­ç”¨&lt;view class=&quot;items&quot;&gt;ã€‚ 3ã€wx:forçš„åŒä¸ªæ ‡ç­¾å†…æ”¾å•†å“ç›’å­class=&quot;item&quot; PSï¼šå¦‚æœå®åœ¨æä¸å®šï¼Œä¹Ÿå¯ä»¥å…ˆç”¨float:leftã€‚","categories":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}],"tags":[{"name":"å¾®ä¿¡é¡µé¢","slug":"å¾®ä¿¡é¡µé¢","permalink":"http://yoursite.com/tags/å¾®ä¿¡é¡µé¢/"}],"keywords":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}]},{"title":"wx-system-å¾®ä¿¡å°ç¨‹åº(è§†é¢‘)æ¡ˆä¾‹ç²¾è®²-ç”µå•†ç±»ï¼šä»¿äº¬ä¸œè´­ç‰©å¾®ä¿¡å°ç¨‹åºï¼ˆç¬¬ä¸ƒé›†ï¼‰","slug":"wx-system-å¾®ä¿¡å°ç¨‹åº(è§†é¢‘)æ¡ˆä¾‹ç²¾è®²-ç”µå•†ç±»ï¼šä»¿äº¬ä¸œè´­ç‰©å¾®ä¿¡å°ç¨‹åºï¼ˆç¬¬ä¸ƒé›†ï¼‰","date":"2018-01-05T16:10:00.000Z","updated":"2018-01-14T08:19:19.000Z","comments":true,"path":"posts/24e38dd5/","link":"","permalink":"http://yoursite.com/posts/24e38dd5/","excerpt":"","text":"å‚è€ƒèµ„æ–™è§†é¢‘â€”â€”å¾®ä¿¡å°ç¨‹åºæ¡ˆä¾‹ç²¾è®²-ç”µå•†ç±»ï¼šä»¿äº¬ä¸œè´­ç‰©å¾®ä¿¡å°ç¨‹åºï¼ˆç¬¬ä¸ƒé›†ï¼‰ å¾®ä¿¡å°ç¨‹åºæ¡ˆä¾‹ç²¾è®²ï¼ˆåŸºç¡€+èœè°±ç²¾çµ+ä»Šæ—¥å¤´æ¡+çˆ±é²œèœ‚+æ·˜ç¥¨ç¥¨+é…·ç‹—éŸ³ä¹+äº¬ä¸œè´­ç‰©+æ‹‰å‹¾ç½‘+çŒ¿é¢˜åº“ï¼‰ å¯¹äºé¡µé¢å¸ƒå±€ï¼Œå…ˆç”¨å›¾ç‰‡ã€æ–‡å­—å†™æ­»ï¼Œå†é€šè¿‡jså»æ”¹æˆå˜é‡ã€‚ å¥½çš„æ¡ˆä¾‹è§†é¢‘è¦åå¤çœ‹ã€åå¤ç»ƒå‡ éã€‚ è¿™ä¸ªè¯¾çš„csså‘½åï¼Œä»å¸ƒå±€åˆ°åŠŸèƒ½éƒ½å¾ˆæ¸…æ™°ã€‚ ä¸€ã€éœ€æ±‚æè¿°åŠäº¤äº’åˆ†æè§è¯¾ä»¶ç™¾åº¦é™„ä»¶ã€‚ äºŒã€è®¾è®¡æ€è·¯å’Œç›¸å…³çŸ¥è¯†ç‚¹1ï¼‰tabbar 2ï¼‰åŸºæœ¬ç»„ä»¶ 3ï¼‰wx.setStrorageSyncï¼Œå­˜å‚¨æ•°æ®ã€‚ 4ï¼‰wx.getStorageSyncï¼Œè·å–æ•°æ®ã€‚ 5ï¼‰wx.navigateToã€wx.navigatoBackï¼Œå¯¼èˆªè·³è½¬ã€‚wx.setNavigationBarTitleï¼Œæ–°é¡µé¢æ ‡é¢˜ã€‚ 6ï¼‰swiper ä¸‰ã€æœç´¢å•†å“é¦–ç•Œé¢é¡µé¢è®¾è®¡ 1ã€å¸¸ç”¨css1ï¼‰è§£å†³é—®é¢˜ï¼šå¦‚ä½•ä¸€è¡Œæ”¾ä¸¤ä¸ªæˆ–ä¸‰ä¸ªå•†å“ï¼Ÿâ€”â€”é‡æ–°æ•´ç†è§ã€Šå¾ªç¯ä¸€è¡Œæ˜¾ç¤ºä¸¤ä¸ªå•†å“ã€‹ width:47%;ï¼ˆå®½åº¦å¸¸ç”¨ç™¾åˆ†æ¯”ï¼‰ height:100rpx;ï¼ˆé«˜åº¦å¸¸ç”¨rpxï¼‰ margin:0 auto;ï¼ˆå±…ä¸­ï¼Œå¥½åƒæ¯”text-aligné€‚ç”¨èŒƒå›´æ›´å¹¿ï¼‰ 2ï¼‰æœç´¢æ¡†çš„æ–‡å­—ä¸Šä¸‹ä½ç½® line-height:80rpx;ï¼ˆç”¨è¡Œé«˜èƒ½è¾¾åˆ°paddingçš„æ•ˆæœï¼‰ å››ã€æœç´¢å•†å“é€»è¾‘è®¾è®¡ 1ã€å¸¸ç”¨css1ï¼‰å¤–è¾¹çš„viewå¸¸ç”¨css display:flex; flex-direction:row; padding:10px;ï¼ˆæ’‘å¼€ç©ºç™½é—´éš™ï¼Œå¾ˆå¥½ç”¨ï¼‰ 2ï¼‰æ¨èçƒ­è¯æ¢è¡Œcssã€‚æ¨èè®¾ç½®å¥½å³è¾¹è·ã€å®½åº¦ï¼Œç„¶åç”¨floatã€‚â€”â€”é‡æ–°æ•´ç†è§ã€Šå¾ªç¯ä¸€è¡Œæ˜¾ç¤ºä¸¤ä¸ªå•†å“ã€‹ margin-right:10px; padding:1%;ï¼ˆæˆ–è€…padding-left:10px; padding:right:10px;ï¼‰â€”â€”å¦‚æœå®šä¹‰å®½åº¦widthï¼Œå­—æ•°è¾ƒå¤šæ—¶ä¼šè·‘å‡ºæ¥ã€‚ float:left;ï¼ˆå› ä¸ºå¾®ä¿¡æœ‰rpxï¼Œæ‰€ä»¥ç”¨floatä¹Ÿèƒ½å¤§å°å±å¹•è‡ªé€‚åº”ï¼‰ ä¹Ÿå¯ä»¥å…ˆè®¾ç½®å³è¾¹è·ã€å®½å¹…ï¼Œç„¶åç”¨ display: flex; flex-flow: row wrap;ï¼ˆç›¸å½“äºflex-direction:row; flex-wrap:wrap;ï¼‰ 3ï¼‰æ–°çš„viewè¦æ¸…é™¤æµ®åŠ¨æ‰ä¼šæ¢è¡Œï¼Œä¸ç„¶ä¼šè·Ÿç€ä¸Šé¢çš„float clear:both; 4ï¼‰hré€æ˜åº¦ opacity:50%; 2ã€é€»è¾‘1ï¼‰å¯¹è¾“å…¥å€¼ï¼Œåœ¨ç³»ç»Ÿçš„å…³é”®è¯æ•°ç»„é‡Œæ£€ç´¢ï¼Œçœ‹å“ªäº›æ˜¯åŒ¹é…çš„ 123456for (var i = 0; i &lt; goods.length; i++) &#123; var good = goods[i]; if (good.indexOf(name) &gt; -1) &#123; result.push(good); &#125;&#125; var good = goos[i];ï¼Œæ‹¿åˆ°å½“å‰ç³»ç»Ÿå…³é”®è¯ good.indexOf(name)ï¼Œ0æ˜¯å…³é”®è¯åŒ¹é…ï¼Œ1æ˜¯ä¸åŒ¹é…ã€‚ result.push(good)ï¼Œå¦‚æœè¾“å…¥è¯ä¸ç³»ç»Ÿå…³é”®è¯åŒ¹é…ï¼ŒæŠŠç³»ç»Ÿå…³é”®è¯åŠ å…¥åˆ°resultæ•°ç»„æœ€å³ä¾§ã€‚ äº”ã€è´­ç‰©è½¦é¡µé¢è®¾è®¡1ï¼‰å¸ƒå±€å…ƒç´ éƒ½ä¼šç»™é‡Œå¤–ä¸¤å±‚ï¼Œå¤–å±‚å®šä½å¦‚flexã€margin+å®šæ€»å¤–å½¢å¦‚heightï¼Œé‡Œå±‚å®šå½¢å¦‚widthã€heightã€‚ å…­ã€è´­ç‰©è½¦é€»è¾‘è®¾è®¡â€”â€”é‡ç‚¹1ã€åˆå§‹é¡µé¢æ—¶è®¡ç®—æ€»ä»·123456789101112onLoad:function()&#123; this.loadGoods();&#125;,loadGoods:function()&#123; var goods = wx.getStorageSync(&quot;goods&quot;); var totalPrice=0; for(var i=0;i&lt;goods.length;i++)&#123; var good = goods[i]; totalPrice += good.price * good.count; &#125; this.setData(&#123;goods: goods, totalPrice: totalPrice&#125;);&#125;, 1ï¼‰æ‹¿åˆ°äº§å“æ•°ç»„ï¼Œç„¶åè®¡ç®—æ€»ä»·ã€‚ 2ã€å•é€‰æ¡†checkboxé€»è¾‘123456789101112131415161718checkboxChange:function(e)&#123; var ids = e.detail.value; //idsæ•°ç»„å¦‚[0,1,2] if(ids.length==0)&#123; this.setData(&#123;selectedAll:false,totalPrice:0&#125;); &#125;else&#123; var goods = wx.getStorageSync(&quot;goods&quot;); var totalPrice = 0; for (var i = 0; i &lt; goods.length; i++) &#123; var good = goods[i]; for (var j = 0; j &lt; ids.length; j++) &#123; if (good.id == ids[j]) &#123; totalPrice += good.price * good.count; &#125; &#125; &#125; this.setData(&#123; selectedAll: true, totalPrice: totalPrice &#125;); &#125; &#125;, 1ï¼‰å¦‚æœidsæ•°ç»„é•¿åº¦ä¸ºé›¶ã€‚ å…¨é€‰æ¡†æ˜¯falseï¼Œä¸”æ€»ä»·ä¸ºé›¶ã€‚ 2ï¼‰å¦‚æœidsæ•°ç»„é•¿åº¦ä¸ä¸ºé›¶ã€‚ æ‹¿å•†å“goodåšå¾ªç¯ï¼Œå¯¹æ¯”idsæ•°ç»„çœ‹idæ˜¯å¦ç›¸åŒï¼Œç›¸åŒåˆ™è®¡ç®—è¯¥å•†å“ä»·æ ¼ã€‚é€šè¿‡+=ä¾æ¬¡å¾ªç¯åˆè®¡å‡ºæ€»ä»·ã€‚ 3ã€å…¨é€‰æ¡†checkAllé€»è¾‘12345678910checkAll:function(e)&#123; var selected = this.data.selected; var result = selected==true?false:true; //å¦‚æœçŠ¶æ€ä¸ºtrueï¼Œç‚¹å‡»åå˜ä¸ºfalseã€‚åä¹‹å˜trueã€‚ this.setData(&#123;selected:result&#125;); if (result==false)&#123; this.setData(&#123;totalPrice:0&#125;); &#125;else&#123; this.loadGoods(); &#125;&#125;, 1ï¼‰å…¨ä¸é€‰ã€‚ æ€»ä»·0ã€‚ 2ï¼‰å…¨é€‰ã€‚ é‡æ–°è®¡ç®—ï¼Œè®¡ç®—æ–¹æ³•åŒç¬¬ä¸€æ­¥çš„åˆå§‹è®¡ç®—æ€»ç»“ã€‚ 4ã€åŠ ä¸€1234567891011121314addGoods:function(e)&#123; var id = e.currentTarget.id; var goods = wx.getStorageSync(&quot;goods&quot;); var addGoods = new Array(); for(var i=0;i&lt;goods.length;i++)&#123; var good = goods[i]; if(good.id == id)&#123; good.count = good.count + 1; &#125; addGoods.push(good); &#125; wx.setStorageSync(&quot;goods&quot;, addGoods); this.loadGoods();&#125;, 1ï¼‰æ‹¿åˆ°äº§å“idï¼Œå¦‚æœäº§å“idç­‰äºå½“å‰ç‚¹å‡»ä½ç½®çš„äº§å“idï¼Œåˆ™æ•°é‡countåŠ ä¸€/å‡ä¸€ 2ï¼‰æ›¿æ¢ç¼“å­˜æ•°ç»„goodsï¼ŒæŠŠç‚¹å‡»ä½ç½®çš„äº§å“pushè¿›å» 3ï¼‰æŒ‰æ­¥éª¤ä¸€çš„æ–¹æ³•é‡æ–°è®¡ç®—æ€»ä»· 5ã€å‡ä¸€1234567891011121314151617minusGoods:function(e)&#123; var id = e.currentTarget.id; var goods = wx.getStorageSync(&quot;goods&quot;); var addGoods = new Array(); for (var i = 0; i &lt; goods.length; i++) &#123; var good = goods[i]; if (good.id == id) &#123; var count = good.count; if(count &gt;= 2)&#123; good.count = good.count - 1; &#125; &#125; addGoods.push(good); &#125; wx.setStorageSync(&quot;goods&quot;, addGoods); this.loadGoods();&#125; 1ï¼‰è·ŸåŠ ä¸€å”¯ä¸€çš„ä¸åŒæ˜¯ï¼Œå¤šäº†ä¸€ä¸ªifåˆ¤æ–­ï¼Œå½“äº§å“æ•°é‡å¤§äº2æ‰æ‰§è¡Œå‡ä¸€ã€‚ ä¸ƒã€æˆ‘çš„è®¢å•é¡µé¢è®¾è®¡å…«ã€ä¼˜æƒ åˆ¸è®¾è®¡1ã€é€»è¾‘1ï¼‰ç”¨currentTabæ¥æ§åˆ¶ç‚¹å‡»æ ‡ç­¾æ”¹å˜é¢œè‰²ï¼Œå…ˆè®¾å®šä¸‰ä¸ªæ ‡ç­¾çš„currenTabçš„å€¼åˆ†åˆ«ä¸º0ã€1ã€2ã€‚ 1class=&quot;&#123;&#123;currentTab==0?&apos;select&apos;:&apos;default&apos;&#125;&#125;&quot; 2ï¼‰ç‚¹å‡»æ ‡ç­¾æ—¶ï¼Œè§¦å‘äº‹ä»¶ï¼Œåœ¨jsæ”¹å˜currenTabçš„ä¸‹æ ‡å€¼indexï¼Œæ­¤æ—¶currentTab=indexå®ç°æ ‡ç­¾å˜è‰²ã€‚ 3ï¼‰ç‚¹å‡»æ—¶ï¼Œjsä¹Ÿæ”¹å˜ä¼˜æƒ åˆ¸æ•°ç»„ï¼Œç”±loadCoupons(0)å˜æˆloadCoupons(index)ã€‚ 2ã€é—®é¢˜ï¼šwxmlä¸­çš„data-current=â€0â€æœ‰ä»€ä¹ˆç”¨ï¼Ÿ3ã€ä¸¤ç§è¿”å›æ•°æ®çš„æ–¹æ³•1ï¼‰this.satData({}) 2ï¼‰result = []; return result; ã€ä¸€ã€‘å¥—è·¯æ€»ç»“ï¼š1ã€jsæ”¾ç½®æµ‹è¯•åˆå§‹æ•°æ®ï¼› 2ã€wxmlå¸ƒå±€ï¼› 3ã€wxssæ·»åŠ ä¸€ç‚¹æ ·å¼ï¼› 4ã€jså†™å˜åŒ–é€»è¾‘ï¼›â€”â€”å³ã€æ‹¿æ•°æ®ã€ 5ã€æŠŠwxssé‡Œçš„æµ‹è¯•æ•°æ®ï¼Œæ›¿æ¢æˆjsé‡Œçš„å˜é‡â€”â€”å³ã€æ˜¾ç¤ºæ•°æ®ã€ å…¶ä¸­ï¼Œç¬¬å››æ­¥ï¼Œjsé€»è¾‘å³æ‹¿æ•°æ®æ˜¯æ ¸å¿ƒã€‚è€Œä¸”é™¤äº†é€»è¾‘è®¾è®¡å¤–ï¼Œè¿˜éšè—åç«¯apiè®¾è®¡è¿™ä¸€æ­¥ã€‚ æ‰€ä»¥ï¼Œæœ‰æ—¶çœ‹èµ·æ¥å¥½åƒå¾ˆç®€å•ï¼Œä½†æ˜¯ã€åç«¯apiè®¾è®¡+å‰åç«¯æ•°æ®è¿æ¥+jsé€»è¾‘è®¾è®¡ã€ç»å¸¸æ¯”é¢„æƒ³è¦å¤šèŠ±å‡ å€æ—¶é—´ã€‚ å› æ­¤ï¼Œcssä¸èƒ½çº ç»“ï¼Œæ›´å¤šæ—¶é—´åº”è¯¥èŠ±åœ¨ç»ƒä¹ åˆšåˆšæåˆ°çš„ã€ã€ã€‚ ä¸€å¼€å§‹åšï¼Œæ‹…å¿ƒä»£ç é‡å¤å¾ˆä¸‘ï¼Œæ‹…å¿ƒcsså‘½åä¸å¥½è¾¨è®¤æˆ–é‡å¤ï¼Œæ‹…å¿ƒåšæŸä¸€éƒ¨åˆ†æ—¶åŠŸèƒ½åšçš„ä¸å…¨ï¼Œä¸€ç³»åˆ—æ‹…å¿ƒã€‚ä½†æ˜¯2018.01.04çœŸæ­£è¿›å…¥çŠ¶æ€åï¼Œå‘ç°æ ¹æœ¬å°±æ²¡æœ‰èµ„æ ¼æ‹…å¿ƒè¿™äº›ä¸œè¥¿ï¼Œå› ä¸ºæœ€æœ€é‡è¦çš„äº‹æƒ…æ˜¯æŠŠä¸œè¥¿åšå‡ºæ¥ï¼Œè¿™æ ·æ‰ä¼šæœ‰å¹²åŠ²ã€‚ è¿™ç¯‡æ•™ç¨‹çš„ã€å°åˆšè€å¸ˆã€ä¹Ÿæ˜¯ï¼Œã€å‰ç±³ã€ä¹Ÿæ˜¯ï¼Œã€ä»0åˆ°1çš„ä½œè€…ã€ä¹Ÿæ˜¯ï¼Œéƒ½æ˜¯ã€å…ˆwxmlæ¡†æ¶ã€å†wxssç©¿è¡£æœã€æœ€åæ¥ç‚¹jsåŠ¨ä½œã€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå…ˆæŠŠé™æ€é¡µé¢å…ˆåšå‡ºæ¥ï¼Œå›¾ç‰‡ã€å›¾æ ‡å…¨éƒ¨ä¸è€ƒè™‘å˜é‡ç›´æ¥ç²˜è´´ç°æˆçš„ï¼ŒæŠŠä½œå“åšå‡ºæ ·å­åï¼Œå°±èƒ½ä¸“æ³¨äºå»æ”¹æ¯ä¸€éƒ¨åˆ†ï¼Œå‰ç±³åšçš„ç½‘ç«™æ­å»ºæ•™ç¨‹å°±æ˜¯ä¸€ä¸ªæœ€å¥½çš„ä¾‹å­ï¼Œç®€å•çš„ç°æˆé™æ€å›¾ç‰‡å´èƒ½æ­å»ºå‡ºæˆç†Ÿç½‘ç«™çš„æ ·å­ã€‚ ã€äºŒã€‘é­”æ”¹ç»ƒä¹ æ³•ï¼š å¦‚æœçœ‹å®Œä¸åšç¬¬äºŒå¤©ç”šè‡³å½“å¤©å°±ä¼šå…¨éƒ¨å¿˜è®°ã€‚ å¦‚æœçœ‹å®ŒæŒ‰ç…§æ•™ç¨‹åšä¼šè‡ªå·±ä¸ºææ‡‚é€»è¾‘ï¼Œè€Œå®é™…ä¸Šè‡ªå·±ç¦»å¼€è¿™ä¸ªæ¡ˆä¾‹å°±ä¸ä¼šç”¨äº†ã€‚ é­”æ”¹çš„å¥½å¤„ï¼š â‘ ã€æŒ‰ç…§æ•™ç¨‹ä»£ç ï¼Œåœ¨è‡ªå·±çš„ä½œå“ä¸Šç«‹å³å‘ˆç°æ•ˆæœï¼Œæœ‰æˆå°±æ„Ÿï¼› â‘¡ã€æŒ‰ç…§æ•™ç¨‹ç»ƒä¹ é€»è¾‘ï¼Œç†ä¸€ç†æ€è·¯ï¼› â‘¢ã€æ ¹æ®è‡ªå·±çš„éœ€æ±‚å»æ”¹ï¼Œè¿™æ—¶æ‰ä¼šæ ¹æ®è‡ªå·±çš„éœ€è¦å»æ€è€ƒæ€ä¹ˆä¿®æ”¹è¿™ä¸ªåŠŸèƒ½ï¼Œè¿‡ç¨‹ä¸­å°±èƒ½çœ‹æ¸…æ¥šè‡ªå·±çœŸæ­£çœ‹æ‡‚çš„æ˜¯å“ªéƒ¨åˆ†ä»£ç ï¼Œçœ‹ä¸æ‡‚çš„åˆæ˜¯å“ªä¸€éƒ¨åˆ†ã€‚ #ã€ä¸‰ã€‘é—®é¢˜ 1ã€æ•°æ®ä¼ é€’æ–¹æ³•1ï¼‰åŒä¸ªjsé¡µé¢ï¼Œä¸åŒfunctionçš„æ•°ç»„å˜é‡ä¼ é€’ æœ€å¸¸ç”¨çš„æ˜¯this.data.xxï¼Œä¼ é€’å˜é‡ã€‚å¦‚æœä»£ç ç»“æ„ç›¸åŒï¼Œé‡æ–°æ‰§è¡Œfunctionå¯ä»¥ç”¨page.function()ã€‚ 2ï¼‰ä¸åŒjsé¡µé¢ï¼Œä¼ é€’æ•°ç»„ã€ä¼ é€’æ•£åˆ—å¯¹è±¡ æ•°æ®é¡µï¼Œå…³é”®ä»£ç JSON.stringify(this.data.testData) 12345678data: &#123; testData:&#123;name:&apos;æˆ‘æ˜¯name&apos;, extra:&apos;æˆ‘æ˜¯extra&apos;&#125; &#125;, next: function(e)&#123; wx.navigateTo(&#123; url: &apos;/pages/test/test?extra=&apos;+JSON.stringify(this.data.testData) &#125;) &#125; æ¥æ”¶é¡µï¼Œå…³é”®ä»£ç JSON.parse(e.extra) 12345678910data:&#123; testData: null &#125;, onLoad:function(e)&#123; console.log(&quot;æ¥æ”¶åˆ°çš„å‚æ•°æ˜¯obj=&quot;+e.extra);//æ­¤å¤„æ‰“å°å‡ºæ¥çš„ä»…ä»…æ˜¯å­—ç¬¦ä¸² éœ€è¦è§£æï¼Œè§£æå¦‚ä¸‹ var testData = JSON.parse(e.extra);//è§£æå¾—åˆ°å¯¹è±¡ this.setData(&#123; testData: testData &#125;)&#125; 3ï¼‰æ‹¿åˆ°apiå›è°ƒå‡½æ•°è¿”å›çš„æ•°æ®ã€‚ï¼ˆsuccess functionç­‰å›è°ƒå‡½æ•°æ˜¯ä¸èƒ½returnè¿”å›æ•°æ®çš„ï¼Œå¯ä»¥é€šè¿‡ç¼“å­˜çš„æ–¹æ³•ï¼‰ åœ¨success functioné‡Œç”¨wx.setstorageSyncï¼Œåœ¨apiè¯·æ±‚å¤–è°ƒç”¨wx.getstorageSyncï¼Œåšä¸€äº›jsç®—æ³•è¿ç®—è¾“å‡ºæ–°æ•°ç»„ã€‚è¯¦è§luccaké¡¹ç›®ï¼Œp_searchçš„loatTips()ã€loadTitles()ä¸¤ä¸ªåŠ è½½æ•°æ®çš„å‡½æ•°ã€‚ 123456789101112131415161718192021loadTips:function(e)&#123; var that = this; var word = []; wx.request(&#123; url: &apos;https://luccake.top/api/v1/products&apos;, header: &#123; &apos;content-type&apos;: &apos;application/json&apos; // é»˜è®¤å€¼ &#125;, success: function (res) &#123; wx.setStorageSync(&apos;word&apos;,res.data.data) &#125; &#125;) var word = wx.getStorageSync(&apos;word&apos;); var out = []; for(var i=0; i&lt;10; i++)&#123; var temp = (Math.random()*word.length)&gt;&gt;0; out.push(word[temp]); &#125; this.setData(&#123;out: out&#125;) console.log(&apos;cccfd&apos;,out)&#125;, 4ï¼‰wxmlé¡µé¢æ‹¿åˆ°jsé¡µé¢çš„æ•°æ®ï¼Œç‰¹åˆ«æ˜¯åŠ¨æ€æ”¹å˜çš„æ•°æ®ï¼Ÿ â‘ ã€å®æµ‹å‘ç°ï¼Œå¿…é¡»åœ¨dataé‡Œå®šä¹‰å˜é‡aï¼Œæ‰èƒ½åœ¨wxmlè°ƒç”¨ã€‚ â‘¡ã€ç”¨åŒæ­¥this.setData()ï¼Œæˆ–å¼‚æ­¥that.setData()ï¼ŒæŠŠå˜é‡aç”±åˆå§‹å€¼æ”¹ä¸ºæ–°å€¼ã€‚ 12345678910Page(&#123; data:&#123; dynamic_name: &apos;&apos;, //ã€é‡è¦æ­¥éª¤ã€dataçš„åˆå§‹å€¼ï¼Œå¯ç”¨æ¥ç»™wxmlæä¾›åˆå§‹çŠ¶æ€ã€‚ &#125;, dynamicInput:function(e)&#123; var name = e.detail.value; //æ ¹æ®å…·ä½“æ¡ˆä¾‹ï¼Œæ‹¿åˆ°åŠ¨æ€è¾“å…¥çš„æ–‡å­— var dynamic_name = &apos;&apos; //å¼•å…¥dynamic_name this.setData(&#123;dynamic_name: name&#125;) //ã€é‡è¦æ­¥éª¤ã€æŠŠdynamic_nameç”±åˆå§‹å€¼æ”¹ä¸ºæ–°å€¼ &#125;&#125;) 5ï¼‰wxmlä¼ æ•°æ®å¦‚idç­‰ç»™jsã€‚ åœ¨æ ‡ç­¾é‡ŒåŠ ä¸Šdata-id=â€â€œã€‚ 2ã€wx:forå¾ªç¯æ€ä¹ˆæ§åˆ¶ä¸ªæ•°åœ¨wxmlç”¨wx:if=&#39;false&#39; 123&lt;view wx:for=&quot;&#123;&#123;word&#125;&#125;&quot; wx:if=&apos;&#123;&#123;index&lt;10&#125;&#125;&apos; class=&quot;tip&quot; &gt; &#123;&#123;item.title&#125;&#125;&lt;/view&gt; 3ã€typeof()æ£€æµ‹æ•°æ®ç±»å‹console.log(&#39;ç±»å‹1&#39;, typeof (utf)) 4ã€ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå°ç¨‹åºçš„utilsè¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæœ¬åœ°çš„æ•°æ®å†™è¿›å»ï¼Œå°è£…æˆ.jsæ–‡ä»¶ï¼Œæä¾›å¯¹å¤–æš´éœ²çš„æ¥å£ï¼Œç„¶åè¯»å–æœ¬åœ°æ•°æ®ï¼Œè¿™äº›åœ¨ä¸Šä¸€ç¯‡åšå®¢ä¸­æœ‰è¯¦ç»†ä»‹ç»ã€‚æˆ‘ä»¬æœ€åè¯´åˆ°å†™å¥½çš„æœ¬åœ°æ•°æ®å¯ä»¥å¦ä¸€ä¸ªé¡µé¢è¯»å–ï¼š5ã€wx:foræ€ä¹ˆå†™åœ¨jsï¼Ÿjsæ‹¿apiæ•°ç»„ï¼Ÿwx.requestå¼‚æ­¥è¯·æ±‚ä¸èƒ½è¿”å›æ•°æ®ï¼Œæ€ä¹ˆå¤„ç†ï¼Ÿå¼‚æ­¥æ¥å£æ€ä¹ˆè¿”å›æ•°æ®ç»™å…¶ä»–å‡½æ•°ï¼Ÿ å¾®ä¿¡å°ç¨‹åº wx.request(æ¥å£è°ƒç”¨æ–¹å¼)è¯¦è§£åŠå®ä¾‹ï¼Œæœ‰requireå†™æ³•ã€‚ä½†ä¸èƒ½è§£å†³å½“å‰é—®é¢˜ã€‚ å¥½åƒjsé‡Œè¿”å›apiæ•°ç»„ä¸æ˜¯å¾ˆå®¹æ˜“å®ç°ã€‚ã€‚ ç”¨ç¼“å­˜ 1&lt;view bindtap=&apos;yy&apos;&gt;æµ‹è¯•æµ‹è¯•&lt;/view&gt; 12345678910111213141516171819202122tt:function(e)&#123; var that = this; //ä¿å­˜thisçš„æ•°æ® wx.request(&#123; url: &apos;https://luccake.top/api/v1/products&apos;, header: &#123; &apos;content-type&apos;: &apos;application/json&apos; // é»˜è®¤å€¼ &#125;, success: function (res) &#123; that.setData(&#123; goods: res.data.data, &#125;) wx.setStorageSync(&apos;e&apos;,res.data.data) &#125; &#125;)&#125;,test:function()&#123; this.tt(); var goods = wx.getStorageSync(&apos;e&apos;); console.log(&apos;æµ‹è¯•&apos;,goods); var qq = goods.title; console.log(&apos;qq&apos;,qq)&#125;, 12 æŠŠç¼“å­˜æ•°æ®ï¼Œç”¨forå¾ªç¯å’ŒsetDataè¾“å‡ºï¼Œreturnè¿”å› 1&lt;view bindtap=&apos;test&apos;&gt;æµ‹è¯•æµ‹è¯•&lt;/view&gt; 123456789101112131415161718192021222324test:function(e)&#123; var that = this; wx.request(&#123; url: &apos;https://luccake.top/api/v1/products&apos;, header: &#123; &apos;content-type&apos;: &apos;application/json&apos; &#125;, success: function (res) &#123; that.setData(&#123; goods: res.data.data, &#125;) wx.setStorageSync(&apos;e&apos;,res.data.data) //æœ€æœ€å…³é”®çš„ä¸€æ­¥ï¼Œä¿å­˜åˆ°ç¼“å­˜ &#125; &#125;) var goods = wx.getStorageSync(&apos;e&apos;); //ä»ç¼“å­˜æ‹¿æ•°ç»„ var titles = []; for (var i = 0; i &lt; goods.length; i++) &#123; //å¾ªç¯apiæ•°ç»„æ‹¿åˆ°titlesæ•°ç»„ var title = goods[i].title; titles.push(title); &#125; this.setData(&#123; titles: titles &#125;) //ä¿å­˜titlesæ•°ç»„ console.log(&quot;æµ‹è¯•&quot;,goods) return titles //è¿”å›titles &#125;, 12 6ã€å¾®ä¿¡å°ç¨‹åºä¸­ä½¿ç”¨Promiseè¿›è¡Œå¼‚æ­¥æµç¨‹å¤„ç† ã€å››ã€‘é­”æ”¹1ã€æœç´¢é¡µ1.1 æ­£åœ¨åš1ï¼‰æŠŠæ£€ç´¢å…³é”®è¯çš„åŠŸèƒ½å…ˆæ‹¿å¼€ï¼Œbindblur=â€searchGoodsâ€ 123456789101112131415161718loadGoods: function () &#123; var goods = [&apos;å¥¶ç²‰æˆäºº&apos;, &apos;å¥¶ç²‰3æ®µ&apos;, &apos;å¥¶ç²‰1æ®µ&apos;, &apos;å¥¶ç²‰2æ®µ&apos;, &apos;å¥¶ç²‰äº¬ä¸œè‡ªè¥&apos;, &apos;å¥¶ç²‰4æ®µ&apos;, &apos;å¥¶ç²‰ç›’&apos;, &apos;å’–å•¡æœº&apos;, &apos;å’–å•¡æ¯&apos;, &apos;å’–å•¡è±†&apos;, &apos;å’–å•¡ä¼´ä¾£&apos;, &apos;å’–å•¡æœºå®¶ç”¨&apos;]; return goods;&#125;,searchGoods: function (e) &#123; var name = e.detail.value; var goods = this.loadGoods(); var result = new Array(); if (name != &apos;&apos;) &#123; for (var i = 0; i &lt; goods.length; i++) &#123; var good = goods[i]; if (good.indexOf(name) &gt; -1) &#123; result.push(good); &#125; &#125; &#125; this.setData(&#123; result: result &#125;);&#125;, 2ï¼‰æ‹¿æ‰ä»¥å‰åšçš„wxmlæœç´¢æ¡†å’Œcssã€‚ 3ï¼‰æœç´¢ç»“æœæƒ³è¦æœ‰è¿”å›æŒ‰é’®ï¼Œæ‰€ä»¥åˆ›å»ºæ–°çš„pages/p_resultã€‚æŠŠwxmlå’Œcssè½¬ç§»è¿‡å»ï¼Œå¹¶navigateToè·³è½¬ã€‚ 4ï¼‰p_searchä¼ é€’cakesæ•°ç»„ç»™p_resultï¼Ÿç”¨JSON.stringfy(arr)å’ŒJSON.parse(arr)ã€‚ 5ï¼‰p_searchè¾“å…¥æ¡†å¤åˆ¶åˆ°p_resultï¼Œå¹¶å¼•ç”¨jså’Œwxssã€‚ ã€é—®é¢˜ã€‘å¼•ç”¨jså¤±è´¥ï¼Œæš‚æ—¶å¤åˆ¶searchçš„jsã€‚ 6ï¼‰p_searchä¼ æ•°æ®ç»™p_resultï¼ŒæŠŠåŸæ¥ä¼ é€’æ•°ç»„cakesï¼Œæ”¹æˆä¼ é€’è¾“å…¥åç§°inputValueã€‚æœç´¢åŠŸèƒ½ç›´æ¥æ”¾åœ¨p_resulté¡µé¢åšã€‚ 7ï¼‰p_resultå¢åŠ æ‰€æœ‰ã€ä»·æ ¼ã€æ—¶é—´æ’åºæŒ‰é’®åŠåŠŸèƒ½ã€‚ 8ï¼‰æƒ³æŠŠp_resultæ•´åˆåˆ°p_searchã€‚åŒ…å«äº”ä¸ªæ¨¡å—ï¼š â‘ ã€è¾“å…¥æ¡†nameï¼›â‘¡ã€å†å²nameï¼›â‘¢ã€çƒ­è¯tipsâ‘£ã€ä¸‹æ‹‰åŒ¹é…ç»“æœresultï¼›â‘¤ã€æ˜¾ç¤ºå•†å“ï¼› 1234567â‘ ä¸€ç›´æ˜¾ç¤ºif è¾“å…¥ä¸ºç©ºname=&apos;&apos; æ˜¾ç¤ºâ‘¡â‘¢else è¾“å…¥ä¸ä¸ºç©º!name=&apos;&apos;ï¼ˆå½“â‘ è¾“å…¥nameã€æˆ–â‘¡â‘¢â‘£æ”¹å˜nameï¼‰ æ˜¾ç¤ºâ‘£ æŒ‰å›è½¦åï¼Œæ˜¾ç¤ºâ‘¤end ï¼ï¼ï¼ä¸ç”¨é‚£ä¹ˆå¤æ‚ 1ã€â‘¡â‘¢â‘£â‘¤éƒ½æ˜¯é wx:forå¾ªç¯æ˜¾ç¤ºå‡ºæ¥çš„ï¼Œå¦‚wx:for=â€â€œåªè¦åœ¨jsé¡µæŠŠcakesæ•°ç»„æ¸…ç©ºï¼Œwxmlå°±ä¸ä¼šæ˜¾ç¤ºã€‚ 2ã€ç”¨&lt;block wx:if=&quot;false&quot;&gt;æ¥åˆ¤æ–­æ˜¯å¦æ˜¾ç¤ºï¼Œå…¶ä»–å‡ ä¸ªåŒç†ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546&lt;block wx:if=&quot;&#123;&#123;result.length &gt; 0&#125;&#125;&quot;&gt; &lt;block wx:for=&quot;&#123;&#123;result&#125;&#125;&quot;&gt; &lt;view class=&quot;item&quot;&gt; &lt;view class=&quot;name&quot; bindtap=&quot;clickTitle&quot; data-title=&quot;&#123;&#123;item&#125;&#125;&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/view&gt; &lt;view class=&quot;hr&quot;&gt;&lt;/view&gt; &lt;/view&gt; &lt;/block&gt;&lt;/block&gt;&lt;block wx:else&gt; &lt;block wx:if=&quot;&#123;&#123;cakes != &apos;&apos;&#125;&#125;&quot;&gt; &lt;view class=&apos;tab&apos;&gt; &lt;view class=&quot;&#123;&#123;currentTab==0?&apos;select&apos;:&apos;default&apos;&#125;&#125;&quot; data-id=&quot;0&quot; bindtap=&apos;switchAll&apos;&gt;æ‰€æœ‰&lt;/view&gt; &lt;view class=&quot;&#123;&#123;currentTab==1?&apos;select&apos;:&apos;default&apos;&#125;&#125;&quot; data-id=&quot;1&quot; bindtap=&apos;switchPrice&apos;&gt;ä»·æ ¼&lt;/view&gt; &lt;view class=&quot;&#123;&#123;currentTab==2?&apos;select&apos;:&apos;default&apos;&#125;&#125;&quot; data-id=&quot;2&quot; bindtap=&apos;switchTime&apos;&gt;æ—¶é—´&lt;/view&gt; &lt;view class=&quot;&#123;&#123;currentTab==3?&apos;select&apos;:&apos;default&apos;&#125;&#125;&quot; data-id=&quot;3&quot; bindtap=&apos;switchTest&apos;&gt;ç­›é€‰&lt;/view&gt; &lt;/view&gt; &lt;view class=&quot;hr&quot;&gt;&lt;/view&gt; &lt;scroll-view class=&apos;p_search-body&apos; scroll-y&gt; &lt;navigator url=&apos;../p_goods/p_goods&apos; wx:for=&quot;&#123;&#123;cakes&#125;&#125;&quot; wx:key=&quot;&quot;&gt; &lt;view class=&apos;p_search-box&apos;&gt; &lt;image src=&quot;&#123;&#123;item.photos[0].avatar.url&#125;&#125;&quot;&gt;&lt;/image&gt; &lt;view class=&apos;p_search-post&apos;&gt; &lt;text class=&apos;title2&apos;&gt;&#123;&#123;item.title&#125;&#125;&lt;/text&gt; &lt;text class=&apos;description&apos;&gt;&#123;&#123;item.description&#125;&#125;&lt;/text&gt; &lt;text class=&apos;price&apos;&gt;Â¥ &#123;&#123;item.price&#125;&#125;&lt;/text&gt; &lt;/view&gt; &lt;/view&gt; &lt;/navigator&gt; &lt;/scroll-view&gt; &lt;/block&gt; &lt;block wx:else&gt; &lt;view class=&quot;hotSearch&quot;&gt; &lt;view class=&quot;title&quot;&gt; &lt;view class=&quot;left&quot;&gt;çƒ­é—¨æœç´¢&lt;/view&gt; &lt;view class=&quot;right&quot;&gt;æ¢ä¸€æ‰¹&lt;/view&gt; &lt;/view&gt; &lt;view class=&quot;tips&quot;&gt; &lt;view wx:for=&quot;&#123;&#123;word&#125;&#125;&quot; bindtap=&apos;clickTip&apos; data-id=&quot;&#123;&#123;item.id&#125;&#125;&quot; data-title=&quot;&#123;&#123;item.title&#125;&#125;&quot;&gt; &lt;view wx:if=&apos;&#123;&#123;index&lt;10&#125;&#125;&apos; class=&quot;tip&quot; &gt; &#123;&#123;item.title&#125;&#125; &lt;/view&gt; &lt;/view&gt; &lt;/view&gt; &lt;/view&gt; &lt;/block&gt;&lt;/block&gt; 9ï¼‰p_searchæ’åº 10ï¼‰p_searchå†å²è¾“å…¥nameï¼Œæ•°ç»„é¡ºåºé¢ å€’ç”¨arr.reverse() 11ï¼‰p_searchæ¢ä¸€æ‰¹ã€‚ jséšæœºè¾“å‡ºæ•°ç»„çš„æ–¹æ³•ï¼š 12345678910111213aaa:function(e)&#123; //åŸæ•°ç»„ var arr = [0,1,2,3,4,5,6,7,8,9,10,11]; //è¾“å‡ºæ•°ç»„ var out = []; //è¾“å‡ºä¸ªæ•° var num = 5; while(out.length &lt; num)&#123; var temp = (Math.random()*arr.length) &gt;&gt; 0; out.push(temp); &#125; console.log(&apos;ccc&apos;,out)&#125;, 12ï¼‰p_searchæŒ‰é’®-æ¸…é™¤è¾“å…¥å†å² 13ï¼‰p_searchæŒ‰é’®-âœ˜ï¼Œæ¸…é™¤è¾“å…¥æ¡†å¹¶é€€å›åˆ°åˆå§‹é¡µé¢ 14ï¼‰p_searchè¾¹è¾“å…¥æ–‡å­—è¾¹åŒ¹é…è¯åº“çš„bindinputæ•ˆæœã€‚ jså¦‚ä½•ç›‘å¬å›è½¦é”®æœç´¢äº‹ä»¶ï¼Ÿâ€”â€”å®˜æ–¹æ–‡æ¡£bindinputé”®ç›˜è¾“å…¥æ—¶è§¦å‘äº‹ä»¶ã€‚ä»¥åŠbindconfirmæŒ‰ä¸‹å›è½¦é”®/ç‚¹å‡»å®ŒæˆæŒ‰é’®è§¦å‘äº‹ä»¶ã€‚ 123456&lt;block wx:if=&quot;&#123;&#123;name == &apos;&apos;&#125;&#125;&quot;&gt; &lt;view class=&quot;btn1&quot; bindtap=&quot;resetSearch&quot;&gt;å–æ¶ˆ&lt;/view&gt;&lt;/block&gt;&lt;block wx:else&gt; &lt;view class=&quot;btn1 btn2&quot; bindtap=&quot;searchTitle&quot; data-name=&quot;&#123;&#123;name&#125;&#125;&quot;&gt;æœç´¢&lt;/view&gt;&lt;/block&gt; 12345.btn2&#123; background-color: red; border-color: red; color: #fff;&#125; é€»è¾‘è®¾è®¡ï¼Œä¸è¦åœ¨è„‘å­é‡Œç©ºæƒ³ï¼Œè¶Šæƒ³è¶Šä¹±ã€‚ å¦‚ä¸‹ï¼Œæ•´ç†å‡ºæ¥ï¼Œå†å»atomå†™ã€‚ 12345678910111213141516171819202122é—®é¢˜1ï¼šä¸ç®¡æœ‰æ²¡æœ‰åŒ¹é…ï¼Œéƒ½åªæ‰§è¡ŒåŒ¹é…ï¼Œä¸æ‰§è¡Œæœç´¢ï¼Ÿé—®é¢˜2ï¼šæ‰§è¡Œæœç´¢åï¼Œåªæ˜¾ç¤ºåŒ¹é…ç»“æœï¼Œä¸æ˜¾ç¤ºæœç´¢ç»“æœï¼Ÿä¸€ã€åŠ¨æ€è¾“å…¥é€»è¾‘ï¼Œæ‰€æœ‰æ¡ä»¶éƒ½ä¸æ‰§è¡Œæœç´¢ã€‚if nameä¸ºç©º è¿”å›else nameä¸ä¸ºç©º è®¡ç®—resultæ•°ç»„ if resultä¸ºç©º è¿”å› else resultä¸ä¸ºç©º æ˜¾ç¤ºåŒ¹é…çš„å…³é”®è¯ï¼Œå³this.setData(&#123;result:result&#125;) endendäºŒã€æœç´¢é€»è¾‘if nameä¸ºç©º è¿”å›else nameä¸ä¸ºç©º ä¿å­˜å†å²æœç´¢è®°å½• æœç´¢ã€å¹¶æ¸…ç©ºçƒ­é—¨æœç´¢åŒ¹é…resutl=&apos;&apos; æ˜¾ç¤ºæ¨èå•†å“ï¼ˆä¸ç®¡æ˜¯å¦æœ‰æœç´¢ç»“æœï¼‰end 15ï¼‰ã€é”™è¯¯æ··ä¹±çš„ä¾‹å­ã€‘æŒ‰é’®âœ˜åœ¨inputæœ‰è¾“å…¥æ—¶ä¸å‡ºç°çš„bugã€‚ ç”¨has_input=â€™â€™æˆ–ç­‰äº1ï¼Œæ¥æ§åˆ¶æŒ‰é’®æ˜¯å¦éšè—ã€‚åœ¨ä¸åŒçš„å‡½æ•°é‡Œåšç›¸åº”çš„setDataã€‚ ä¸ºinputè¾“å…¥æ¡†ç»‘å®šbindfocusäº‹ä»¶ï¼Œå½“å…‰æ ‡èšç„¦æ—¶ï¼Œå¦‚æœnameä¸ä¸ºç©ºåˆ™æ˜¾ç¤ºæŒ‰é’®ã€‚ 12345if has_input=&apos;&apos; éšè—æŒ‰é’®else has_input != &apos;&apos; æ˜¾ç¤ºæŒ‰é’®end 16ï¼‰ã€é”™è¯¯æ··ä¹±çš„ä¾‹å­ã€‘p_searchæŒ‰é’®-å–æ¶ˆ/æœç´¢ï¼ŒåŒä½ç½®ä¸¤æŒ‰é’®ã€‚ è·Ÿæ­¥éª¤15çš„has_inputä¸€æ ·ï¼Œç›´æ¥åœ¨wxmlåŠ ä¸Šhas_inputçš„åˆ¤æ–­ã€‚ 17ï¼‰ã€é”™è¯¯æ··ä¹±çš„ä¾‹å­ã€‘æŒ‰é’®-æœç´¢ï¼Œç‚¹å‡»å¯ä»¥æœç´¢ã€‚æƒ³é€šè¿‡inputæ¡†çš„bindconfirmåŠŸèƒ½å¾—åˆ°æœç´¢ç»“æœï¼Œä½†æ˜¯ç‚¹å‡»æŒ‰é’®å‘ç°æ²¡æœ‰æ•°æ®ä¼ é€’æ€ä¹ˆåŠï¼Ÿ åœ¨dropdownçš„å‡½æ•°å³bindinputå¯¹åº”çš„å‡½æ•°é‡Œå…ˆå®šä¹‰wx.setstorageSyncï¼Œæ‹¿åˆ°è¾“å…¥çš„æ•°æ®eï¼Œç„¶ååœ¨inputçš„bindtapäº‹ä»¶ä¸Šå¼•å…¥æ•°æ®ï¼Œè°ƒç”¨inputæ¡†çš„å‡½æ•°ã€‚ 18ï¼‰ã€é”™è¯¯æ··ä¹±çš„ä¾‹å­ã€‘æŒ‰é’®-å–æ¶ˆï¼Œç‚¹å‡»å¯ä»¥è¿”å›æœç´¢çš„äº§å“é¡µé¢ã€‚ 1234567891011æ‹¿åˆ°æ­¥éª¤17ä¸­å®šä¹‰çš„è¾“å…¥å€¼ç¼“å­˜eåœ¨wxmlé¡µif name=&apos;&apos; æ˜¾ç¤ºæŒ‰é’®elseå½“æŒ‰ä¸‹æŒ‰é’®æ—¶ï¼Œæ‹¿åˆ°æ­¥éª¤17è®¾ç½®çš„è¾“å…¥ç¼“å­˜eif name=&apos;&apos; this.setData(&#123;result:&apos;&apos;, cakes:&apos;&apos;&#125;)end 19ï¼‰ã€15-18é€»è¾‘é‡æ–°æ•´ç†ã€‘ã€é—®é¢˜ã€‘ä¸‰ä¸ªæŒ‰é’®æä¸æ¸…æ¥šé€»è¾‘ï¼Œåˆ†ä¸æ¸…æ¥šå“ªäº›é€»è¾‘åœ¨wxmlåˆ¤æ–­ï¼Œå“ªäº›åœ¨jsåˆ¤æ–­ã€‚ã€‚ã€‚ã€‚ æ¡ˆä¾‹ç”¨çš„ä¸»è¦å˜é‡ï¼šnameè¾“å…¥å†…å®¹ã€resultåŒ¹é…è¾“å…¥å†…å®¹ã€cakeså•†å“ã€searchDataå†å²æœç´¢ã€outçƒ­é—¨æœç´¢ã€‚ 1ã€åœ¨è¾“å…¥æ¡†bindinputçš„å‡½æ•°é‡Œï¼ŒæŒ‰é—®é¢˜1æ•°æ®ä¼ é€’4çš„æ–¹æ³•ï¼ˆwxmlè°ƒç”¨jsï¼‰ï¼Œè®¾ç½® 12345678910Page(&#123; data:&#123; dynamic_name: &apos;&apos;, //ã€é‡è¦æ­¥éª¤ã€dataçš„åˆå§‹å€¼ï¼Œå¯ç”¨æ¥ç»™wxmlæä¾›åˆå§‹çŠ¶æ€ã€‚ &#125;, dynamicInput:function(e)&#123; var name = e.detail.value; var dynamic_name = name; this.setData(&#123;dynamic_name:dynamic_name&#125;) &#125;&#125;) 2ã€åœ¨wxmlç”¨dynamic_nameæ˜¯å¦ä¸ºç©ºï¼Œåˆ¤æ–­ä¸‰ä¸ªæŒ‰é’®çš„æ˜¾ç¤º 3ã€æœç´¢æŒ‰é’®ã€âœ˜æŒ‰é’®ï¼Œè®¾ç½®æˆé¼ æ ‡ç‚¹å‡»æ—¶æ˜¾ç¤ºã€‚è¾“å…¥æ¡†åŠ å…¥bindfocus=â€showIconâ€ 123showIcon:function(e)&#123; this.setData(&#123;dynamic_name:1&#125;)&#125;, 12 4ã€ä¸‰ä¸ªæŒ‰é’®jsäº‹ä»¶ï¼Œåˆ†åˆ«è®¾ç½®this.setaDataï¼Œä¿®æ”¹nameã€resultã€cakesã€searchDataã€outï¼Œè¿™äº›wxmlè°ƒç”¨çš„æ•°æ®ï¼Œçœ‹æ˜¯å¦è®¾ç½®ä¸ºç©ºã€‚ 20ï¼‰p_searchæ˜¾ç¤ºå•†å“ï¼Œåˆ‡æ¢æ ·å¼çš„æŒ‰é’®ï¼Ÿï¼ˆç”¨true_or_falseåˆ¤æ–­ï¼Œç‚¹å‡»æŒ‰é’®ï¼Œå˜é‡å€¼!åè½¬ï¼‰ æ˜¾ç¤º/éšè—çš„åˆ‡æ¢ï¼Œå®šä¹‰ä¸€ä¸ªå˜é‡xï¼Œå€¼æ˜¯trueæˆ–falseæ¥åˆ¤æ–­ã€‚åœ¨jsé‡Œå†™æ³•this.setData({x: !x}) 21ï¼‰å¾ªç¯å•†å“ï¼Œä¸€è¡Œæ˜¾ç¤ºä¸¤ä¸ªçš„cssï¼Ÿâ€”â€”æˆ‘ä»¥ä¸ºæˆ‘ä¼šå†™äº†ï¼Œç»“æœã€‚ã€‚è€Œä¸”æœ‰ä¸¤ä¸ªå‚è€ƒæ¨¡æ¿åœ¨æ‰‹ï¼Œå°±æ˜¯å†™ä¸å‡ºæ¥ï¼ˆæ³¨æ„æ£€æŸ¥æ˜¯å¦å—æœ€å¤–å±‚csså¦‚å°ç¨‹åºçš„pageæˆ–webç«¯çš„bodyå½±å“ï¼‰è§ã€Šå¾ªç¯ä¸€è¡Œæ˜¾ç¤ºä¸¤ä¸ªå•†å“ã€‹ 22ï¼‰p_searchä»·æ ¼ä¸¤ç§æ’åºï¼ˆç”¨true_or_falseåˆ¤æ–­ï¼Œç‚¹å‡»æŒ‰é’®ï¼Œå˜é‡å€¼!åè½¬ï¼‰ wxml 1&lt;view class=&quot;&#123;&#123;currentTab==1?&apos;select&apos;:&apos;default&apos;&#125;&#125;&quot; data-id=&quot;1&quot; bindtap=&apos;switchPrice&apos;&gt;ä»·æ ¼&lt;/view&gt; js 12345678switchPrice:function(e)&#123; var price = this.data.price //é‡è¦çš„ä¸€æ­¥ this.setData(&#123;price: !price&#125;) if(price==true)&#123; var aa = &apos;price+asc&amp;q%5Btitle_or_description_cont%5D=&apos; &#125;else&#123; var aa = &apos;price+desc&amp;q%5Btitle_or_description_cont%5D=&apos; &#125; 23ï¼‰p_searchä»·æ ¼æ’åºå¯¹åº”å›¾æ ‡ï¼Ÿ 1234567&lt;view class=&quot;&#123;&#123;currentTab==1?&apos;select&apos;:&apos;default&apos;&#125;&#125; price common1&quot; bindtap=&apos;switchPrice&apos;&gt; ä»·æ ¼ &lt;view class=&apos;img-pri&apos;&gt; &lt;view class=&quot;&#123;&#123;currentTab==1&amp;price==1?&apos;up&apos;:&apos;ping&apos;&#125;&#125; img1&quot;&gt;â–²&lt;/view&gt; &lt;view class=&quot;&#123;&#123;currentTab==1&amp;price==0?&apos;down&apos;:&apos;ping&apos;&#125;&#125; img2&quot;&gt;â–¼&lt;/view&gt; &lt;/view&gt;&lt;/view&gt; è¯´æ˜ï¼šclassè¦åŒæ—¶æ»¡è¶³currentTab==1&amp;price==1ï¼Œæ‰ä¼šæ˜¾ç¤ºupçš„æ ·å¼ã€‚å…¶ä¸­currentTabæ˜¯è§¦å‘â€œä»·æ ¼â€ä¸¤ä¸ªå­—çš„é¢œè‰²ç”¨çš„jså˜é‡ï¼Œpriceæ˜¯åœ¨æ­¥éª¤22ç”¨æ¥åˆ¤æ–­ä»·æ ¼æ˜¯å‡åºè¿˜æ˜¯é™åºçš„å˜é‡ã€‚ 25ï¼‰æœç´¢æ—¶æ˜¾ç¤ºéšæœºå•†å“æ¨èã€‚è¦åç«¯åšapiï¼Ÿè¿˜æ˜¯åœ¨jséšæœºï¼Ÿè¿˜æ˜¯åœ¨wxmléšæœºï¼Ÿ 26ï¼‰8å·welcomeé¦–é¡µé‡åšã€‚ 27ï¼‰ä¸‹æ‹‰åˆ·æ–° app.jsonå…¨å±€è®¾ç½®å¦‚ä¸‹ã€‚darkçš„é…ç½®æ˜¯ä¸ºäº†ä¸‹æ‹‰æ—¶æ˜¾ç¤ºä¸‰ä¸ªç‚¹ã€‚ 1234&quot;window&quot;:&#123; &quot;backgroundTextStyle&quot;:&quot;dark&quot;, &quot;enablePullDownRefresh&quot;: true&#125;, index.js 123456onPullDownRefresh: function () &#123; wx.showNavigationBarLoading();// æ˜¾ç¤ºå¯¼èˆªæ loading this.onLoad();// è°ƒç”¨æ¥å£åŠ è½½æ•°æ® wx.hideNavigationBarLoading();// éšè—å¯¼èˆªæ loading wx.stopPullDownRefresh();// å½“å¤„ç†å®Œæ•°æ®åˆ·æ–°åï¼Œåœæ­¢å½“å‰é¡µé¢çš„ä¸‹æ‹‰åˆ·æ–° &#125;, 28ï¼‰ä¸Šæ‹‰åŠ è½½æ›´å¤šhttp://blog.csdn.net/michael_ouyang/article/details/56846185 http://www.mntuku.cn/index.php/article/show/id-7581 ç¬¬äº”ç‚¹ï¼šä¸‹æ‹‰çš„é€»è¾‘ï¼Œå°†é¡µæ•°è®¾ç½®ä¸ºä¸€ï¼Œå¹¶æ¸…ç©ºmsgList å†…å®¹ï¼Œå®šä½è·é¡¶éƒ¨0pxï¼Œæœ€åè°ƒç”¨åŠ è½½æ•°æ®çš„æ–¹æ³•ã€‚ç¬¬å…­ç‚¹ï¼šä¸Šæ»‘çš„é€»è¾‘ï¼Œç›´æ¥è°ƒç”¨ã€‚å› ä¸ºå®šä½ç‚¹åœ¨scorllæ–¹æ³•ä¸­å·²ç»èµ‹å€¼ã€‚ 29ï¼‰ä¿®æ”¹æ ‡é¢˜åœ¨jsonæ–‡ä»¶å¢åŠ &quot;navigationBarTitleText&quot;: &quot;å•†å“è¯¦æƒ…&quot;, ã€é—®é¢˜ã€‘jsæ¨¡å—åŒ–ï¼Œthat.setDataæˆ–this.setDataä¼šæŠ¥é”™ï¼Œè€Œä¸”æµ‹è¯•å‘ç°thisæ˜¯æ¨¡å—åŒ–é¡µé¢çš„thisã€‚ 30ï¼‰9å·å®Œæˆè¯¦æƒ…é¡µcssã€‚ item.avatar.medium.url æŒ‰é’®ç½®åº•å¯¼èˆªç½®åº•http://www.wxapp-union.com/article-1029-1.html â‘  ã€æ·»åŠ æŒ‰é’® 1234567&lt;button bindtap=&quot;add&quot; type=&quot;primary&quot; class=&quot;address-add&quot;&gt;æ·»åŠ &lt;/button&gt;/*æ·»åŠ åœ°å€æŒ‰é’®*/.product-btn &#123; position: fixed; bottom: 0; width: 100%;&#125; â‘¡ã€ç»™æŒ‰é’®ä¸Šè¾¹çš„ç‰ˆå—åŠ marginbottom 123.product-detail &#123; margin-bottom: 46px;&#125; 31ï¼‰â–²â–²â–²-â˜…éšæœºå•†å“api å…ˆåœ¨modelå®šä¹‰éšæœºçš„scope 1scope :random8, -&gt; &#123; limit(8).order(&quot;RANDOM()&quot;) &#125; ç„¶ååœ¨controllerè°ƒç”¨ 1@suggests = Product.random8 ï¼ï¼æœåŠ¡å™¨æŠ¥é”™â€”â€”æš‚æ—¶æ²¡æœ‰è§£å†³ï¼Œå…ˆç”¨productsçš„api 123Completed 500 Internal Server Error in 21ms (ActiveRecord: 1.8ms)ActionView::Template::Error (Mysql2::Error: FUNCTION rails_recipes.RANDOM does not exist: SELECT `products`.* FROM `products` ORDER BY RANDOM() LIMIT 8): 32ï¼‰æœç´¢æ²¡æœ‰ç»“æœæ˜¾ç¤ºæç¤ºå›¾æ ‡ã€‚7å°æ—¶ é€»è¾‘ï¼šæ‰€æœ‰çš„æ˜¾ç¤º/éšè—åŸºæœ¬éƒ½æ˜¯åŒç†ï¼Œåœ¨wxmlè®¾ç½®æ¡ä»¶æŸä½ä¸º0æˆ–1ï¼Œç„¶ååœ¨jså®šä¹‰ã€‚ è¿™é‡Œæœ‰ç‚¹ç»•ï¼Œå¤šæ¢³ç†å‡ æ¬¡ã€‚ 123å½“æ²¡æœ‰æœç´¢ç»“æœæ—¶ï¼Œå³cakes==[] ç»™ä¸€ä¸ªå‚æ•°cakes_dataï¼Œå€¼æ˜¯0æˆ–1ã€‚åœ¨wxmlå½“å€¼ä¸º1æ—¶æ˜¾ç¤ºå›¾æ ‡ã€‚ åœ¨jsçš„searchTitleçš„å‡½æ•°é‡Œï¼Œè·å–cakesçš„åŒæ—¶è®¾ç½®cakes_dataä¸º1ï¼ˆæ„æ€æ˜¯æœ‰æœç´¢å°±ä¼šæ˜¾ç¤ºiconï¼ŒåŒæ—¶å—é™äºä¸Šè¾¹ç»™çš„æ¡ä»¶cakes==[]ï¼Œæ‰€ä»¥åªä¼šåœ¨æœç´¢ä¸”æœç´¢ç»“æœä¸º[]æ—¶æ˜¾ç¤ºï¼‰ã€‚ 32ï¼‰â–²â–²â–²-â˜…æœç´¢æ¨èå•†å“ã€è¯¦æƒ…é¡µæœ€åæ¨èå•†å“ ä¸€å¼€å§‹ä»¥ä¸ºå¦‚æœæœç´¢ä¸ºç©ºï¼Œç”¨jså¾ªç¯ä¸ºç©ºï¼Œæ‰€ä»¥æœ€å¥½æ¥apiã€‚ æ›´å¥½çš„åŠæ³•ï¼Œç”¨productsçš„apiåœ¨jséšæœºã€‚ â‘ ã€jså®šä¹‰random_8å‡½æ•°ï¼ˆåŒloadTipså‡½æ•°ï¼‰ â‘¡ã€åœ¨æœç´¢å‡½æ•°searchTitleåŠ å…¥ â‘¢ã€wxmlæ˜¾ç¤º 33ï¼‰â–²â–²â–²-â˜…â˜…é¦–é¡µã€è¯¦æƒ…é¡µå„ç§æŒ‰é’®æ¥å…¥è·³è½¬é“¾æ¥ 34ï¼‰â–²â–²-â˜…â˜…èµ„è®¯é¡µé¢ 35ï¼‰â–²-â˜…â˜…åç‰‡é¡µçš„è®¾è®¡ï¼Œå‚è€ƒæ½˜é¹ä½œå“æµ®èµ·çš„cssã€äºŒç»´ç ã€ç”µè¯ã€åœ°å€ 35ï¼‰â–²-â˜…â˜…â˜…åŠ å…¥è´­ç‰©è½¦çš„é€»è¾‘http://blog.csdn.net/michael_ouyang/article/details/70755892 36ï¼‰â–²-â˜…â˜…â˜…ä¸Šæ‹‰åŠ è½½æ›´å¤šï¼Œä¸€ç§æ˜¯åœ¨apiåšå¥½åˆ†é¡µï¼ˆåˆ†é¡µèƒ½åšä½†æ˜¯å°ç¨‹åºä¸çŸ¥é“æ€ä¹ˆåšï¼‰ï¼Œä¸€ç§æ˜¯æŒ‰è®ºå›æ•™ç¨‹åš 37ï¼‰â–²-â˜…â˜…â˜…æ”¶è—åŠŸèƒ½ å…¶ä»–1ï¼‰æ•´ç†æ‰‹æœºå›¾ç‰‡ç­‰ å…¶ä»–2ï¼‰æ•´ç†å°ç¨‹åºåŠŸèƒ½ å…¶ä»–3ï¼‰æ•´ç†æµè§ˆå™¨æ”¶è— 1.2 å¾…ä¼˜åŒ–1ï¼‰p_searché¡µã€‚æœç´¢æ¡†ç”¨çš„searchçš„jsï¼Œå’Œtipsçƒ­é—¨è¯æœ€åç”¨çš„searchå‡ ä¹ç›¸åŒï¼Œæ€ä¹ˆå†™å¯ä»¥åˆå¹¶æˆä¸€ä¸ªã€‚ 2ï¼‰p_resulté¡µã€‚ä¹Ÿæ˜¯å¤åˆ¶search functionï¼Œå»æ‰å…¶ä¸­çš„navigateToã€‚ 3ï¼‰å†å²è¾“å…¥searchDataçš„ç¼“å­˜ï¼Œåœ¨å››ä¸ªfunctionå†™å…¥åŒæ ·çš„ä»£ç ã€‚clickTip()ã€clickTitle()ã€searchTitle()ã€clickSearchData()ã€‚ æ•´ç†æ•™ç¨‹è·Ÿç€å®ƒåˆ†ç±»http://blog.csdn.net/michael_ouyang/article/details/55215104æ·±åœ³å¸‚é…·ç±³ä»•ç§‘æŠ€æœ‰é™å…¬å¸ shenzhenshikumishikejiyouxiangongsi æœç´¢å¯èƒ½ä¸€å¼€å§‹å°±ä¸è¦ç”¨ç„¶ransackæ¥åšï¼Œå› ä¸ºransackå³ä¾¿å®ç°äº†å¯¼å…¥è¡¨æ ¼ä¼šè‡ªåŠ¨æœç´¢å¡«è¡¨çš„åŠŸèƒ½ï¼Œä½†æ˜¯æ¢ä¸ªgemåˆè¦é‡æ–°åšã€‚å½“ç„¶å¦‚æœå¥½å®ç°çš„è¯ï¼Œäº†è§£ä¸€ä¸‹åŸç†ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ 1ï¼‰â–²â–²â–²-â˜…ç”¨ç™¾å®ç®±ä¸“æ¡ˆæµ‹è¯•å¯¼å‡ºè¡¨æ ¼ï¼› 2ï¼‰â–²â–²â–²-â˜…ç”¨ç™¾å®ç®±ä¸“æ¡ˆæµ‹è¯•å¯¼å…¥è¡¨æ ¼ï¼› 3ï¼‰æ‰¾é¸¿äº®ã€æå®‰ã€éŸµå„¿çˆ¸çˆ¸ã€nicã€ihowerã€ruby chinaäº†è§£åŠŸèƒ½æ€è·¯ 4ï¼‰10å·ï¼Œcsvæ€ä¹ˆç”¨excelæŸ¥çœ‹/ç¼–è¾‘/ä¿å­˜ã€‚ â‘ ã€å®Œæˆcsvã€excelæ•°æ®å¯¼å‡ºã€‚ â‘¡ã€å®Œæˆcsvæ•°æ®å¯¼å…¥ã€‚ â‘¢ã€æ­¦åŸåšcdvå¯¼å…¥çš„modelæ—¶å¯¼å…¥æ•°æ®æ²¡åŠæ³•é¢„è§ˆï¼ˆå¯èƒ½è¦æ‹¿æ•™ç¨‹ä»å¤´åšä¸€éï¼‰å¦å¤–çœ‹nicç›´æ’­ï¼Œby_bugæ–­ç‚¹æµ‹è¯•ã€‚ â‘£ã€æµ‹è¯•è‡ªå·±åšçš„csvæ¡£èƒ½ä¸èƒ½å¯¼å…¥ã€‚ â‘¤ã€æœç´¢ransackæ¥å…¥ã€‚ 62.0.3232.84 ä¸‹è½½å­¦ä¹ ä¸­å¿ƒ æå®‰ç»“æ„äº‘","categories":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}],"tags":[{"name":"å¾®ä¿¡ç³»ç»Ÿ","slug":"å¾®ä¿¡ç³»ç»Ÿ","permalink":"http://yoursite.com/tags/å¾®ä¿¡ç³»ç»Ÿ/"}],"keywords":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}]},{"title":"tool-mobilde phone-æ‰‹æœºæ¢å¤å‡ºå‚è®¾ç½®è¦å¤‡ä»½ä»€ä¹ˆï¼Ÿ","slug":"tool-mobilde phone-æ‰‹æœºæ¢å¤å‡ºå‚è®¾ç½®è¦å¤‡ä»½ä»€ä¹ˆï¼Ÿ","date":"2018-01-04T16:10:00.000Z","updated":"2018-01-14T07:39:07.000Z","comments":true,"path":"posts/74ddd2a3/","link":"","permalink":"http://yoursite.com/posts/74ddd2a3/","excerpt":"","text":"##1ã€é€šè®¯å½•ã€çŸ­ä¿¡ã€é€šè¯è®°å½• å¤‡ä»½åœ¨qqåŒæ­¥åŠ©æ‰‹ ##2ã€ç…§ç‰‡ã€è§†é¢‘ï¼ˆæ‰‹æœºå’Œå¾®ä¿¡ï¼‰æ‰‹æœºè‡ªå¸¦DCIMå›¾ç‰‡æ–‡ä»¶å¤¹Tencent/MicroMsg/WeiXinæ˜¯ä¿å­˜çš„å¾®ä¿¡å›¾ç‰‡å’Œè§†é¢‘Tencent/MicroMsg/Download 3ã€å¾®ä¿¡èŠå¤©è®°å½•æ‰‹æœºä¸macè¿æ¥åŒä¸ªwifiæˆ–çƒ­ç‚¹ï¼Œç”¨macç«¯å¾®ä¿¡å·¥å…·å¤‡ä»½ 4ã€appå¤‡ä»½åœ¨qqåŒæ­¥åŠ©æ‰‹ï¼Œå°±çŸ¥é“ä»¥å‰ç”¨è¿‡å“ªäº›app 5ã€ä¸‹è½½ç±»UCæµè§ˆå™¨ã€chromeæµè§ˆå™¨ç™¾åº¦äº‘ç›˜ ##6ã€éŸ³é¢‘éŸ³ä¹ ç½‘æ˜“äº‘ã€é…·ç‹—ã€é…·æˆ‘ã€QQéŸ³ä¹ï¼Œä¸‹è½½çš„æ–‡ä»¶å¤¹ 7ã€å‡ºè¡Œç™¾åº¦åœ°å›¾æ”¶è—åœ¨è´¦å· 8ã€è¾“å…¥æ³•ç™»å½•å¤‡ä»½è‡ªå·±çš„è®¾ç½®","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/å·¥å…·/"},{"name":"æ‰‹æœº","slug":"æ‰‹æœº","permalink":"http://yoursite.com/tags/æ‰‹æœº/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}]},{"title":"wx-system-è“é¸¥ç³»åˆ—ã€Šå¾®ä¿¡å°ç¨‹åºå…¨æ–¹ä½æ·±åº¦è§£æã€‹åŸºç¡€çŸ¥è¯†è¡¥å……","slug":"wx-system-è“é¸¥ç³»åˆ—ã€Šå¾®ä¿¡å°ç¨‹åºå…¨æ–¹ä½æ·±åº¦è§£æã€‹åŸºç¡€çŸ¥è¯†è¡¥å……","date":"2018-01-02T16:10:00.000Z","updated":"2018-01-14T09:24:27.000Z","comments":true,"path":"posts/e81fc078/","link":"","permalink":"http://yoursite.com/posts/e81fc078/","excerpt":"","text":"å–åå­—æ˜¯æœ€è›‹ç–¼çš„ï¼Œè¿åšè§†é¢‘çš„è€å¸ˆéƒ½è¿™ä¹ˆè¯´ï¼Œæ‰€ä»¥æ›´è¦æƒ³å¥½æ¯ä¸ªæ¨¡å—classå’Œå˜é‡å‘½åå¥—è·¯ã€‚å¸¸ç”¨å…³é”®è¯ï¼šï¼ˆå®šä¹‰æ¨¡å—ï¼‰ã€æ‹¿åˆ°æ•°æ®ã€æ˜¾ç¤ºæ•°æ® å‚è€ƒèµ„æ–™è›®ç‰›æ•™è‚²ã€ç½‘æ˜“äº‘è¯¾å ‚ã€ç™¾åº¦ä¼ è¯¾ï¼Œæœã€Šå¾®ä¿¡å°ç¨‹åºå…¨æ–¹ä½æ·±åº¦è§£æã€‹ã€ã€Šé«˜çº§apiè§†é¢‘æ•™ç¨‹ã€‹ è›®ç‰›æ•™è‚²å…è´¹åœ¨çº¿è§†é¢‘http://edu.manew.com/course/193/learn#lesson/2559ï¼Œå¯1.5å€é€Ÿã€‚ ç½‘æ˜“äº‘è¯¾å ‚å…è´¹åœ¨çº¿è§†é¢‘ï¼Œhttp://study.163.com/course/courseLearn.htm?courseId=1003283028#/learn/video?lessonId=1003973293&amp;courseId=1003283028ï¼Œåªæœ‰1å€é€Ÿï¼Œå«ã€Šé«˜çº§apiè§†é¢‘æ•™ç¨‹ã€‹ã€‚ ä¸€ã€è§†é¢‘ç›®å½•ç»„ä»¶éƒ¨åˆ†ä»æ¯”è¾ƒç®€å•ï¼Œä»16è¯¾å¼€å§‹åªè®°å½•é‡ç‚¹ã€‚ 1ã€å°ç¨‹åºwindowsç‰ˆæœ¬ç¯å¢ƒæ­å»º2ã€å°ç¨‹åºmac osç‰ˆæœ¬ç¯å¢ƒæ­å»º3ã€å°ç¨‹åºå…¥é—¨4ã€ç›®å½•ç»“æ„åŠé…ç½®1ï¼‰é…ç½®-debugï¼Œå¼€å‘å¯ä»¥å¼€ç€ï¼Œåœ¨app.jsonåŠ å…¥&quot;debug&quot;: true 5ã€é€»è¾‘å±‚æ³¨å†Œç¨‹åºã€æ³¨å†Œé¡µé¢1ï¼‰setDataï¼Œç”¨çš„éå¸¸å¤šï¼ŒæŠŠæ•°æ®ä»é€»è¾‘å±‚å‘é€åˆ°è§†å›¾å±‚ï¼ŒåŒæ—¶æ”¹å˜this.dataçš„å€¼ã€‚ 2ï¼‰é¡µé¢è·¯ç”±ï¼Œnavigatoræ ‡ç­¾ï¼Œæˆ–wx.navigateToã€‚ 6ã€jsä½œç”¨åŸŸå’Œæ¨¡å—åŒ–1ï¼‰æ–‡ä»¶ä½œç”¨åŸŸã€‚ 2ï¼‰jsæ¨¡å—åŒ–ï¼Œç”¨çš„éå¸¸å¤šï¼Œã€ç”¨æ³•è§é—®é¢˜3ã€ã€‚ 7ã€è§†å›¾å±‚8ã€æ•°æ®ç»‘å®š123456789101112131ï¼‰wx:ifï¼Œåˆ©ç”¨trueå’Œfalseçš„å€¼åšâ€æ˜¾ç¤ºâ€œå’Œâ€éšè—â€œçš„æ•ˆæœã€‚**ã€ç”¨æ³•è§é—®é¢˜4ã€**ã€‚å¦‚æœæœ‰å¤šä¸ªç”¨wx:ifã€wx:elsifã€wx:elseï¼Œæˆ–wx:ifã€wx:ifã€wx:ifã€‚2ï¼‰hiddenï¼Œåˆ©ç”¨trueå’Œfalseçš„å€¼åšâ€æ˜¾ç¤ºâ€œå’Œâ€éšè—â€œçš„æ•ˆæœã€‚**ã€ç”¨æ³•è§é—®é¢˜4ã€**ã€‚3ï¼‰thisæ˜¯æŒ‡Pageï¼Œå¸¸ç”¨çš„this.dataå°±æ˜¯Pageé‡Œçš„dataæ•£åˆ—ã€‚4ï¼‰ä¸‰å…ƒè¿ç®—`&lt;view hidden=&quot;&#123;&#123;bol? &quot;æ­£&quot;:&quot;å&quot;&#125;&#125;&quot;&gt; Hidden &lt;/view&gt;`ï¼Œå¦‚æœbolæ˜¯trueæ˜¾ç¤ºâ€æ­£â€œï¼Œfalseæ˜¾ç¤ºâ€åâ€œã€‚5ï¼‰&#123;&#123;&#125;&#125;ç”¨æ³•ã€‚åšæ•°å­¦è¿ç®—å¦‚&#123;&#123;3+5&#125;&#125;ï¼Œåšå­—ç¬¦ä¸²è¿æ¥å¦‚&#123;&#123;&quot;hello&quot;+id&#125;&#125;ï¼Œåšä¸‰å…ƒè¿ç®—ï¼Œé…åˆwx:foråšå¾ªç¯ç›¸å½“äºrubyçš„each doï¼Œåšæ•°ç»„ç»„åˆå¦‚wx:for=&quot;&#123;&#123;[id,3,2,1]&#125;&#125;&quot;å½¢æˆæ–°çš„æ•°ç»„ï¼Œwxmlæ¨¡æ¿templateçš„ä¼ å‚ï¼Œ6ï¼‰wxmlæ¨¡æ¿templateï¼Œç‹¬ç«‹ä½œç”¨åŸŸï¼Œ**ã€ç”¨æ³•è§é—®é¢˜5ã€**ã€‚&#123;&#123;â€¦æ•£åˆ—&#125;&#125;çš„å†™æ³•ï¼Œå°±ä¸ç”¨ä¸€ä¸ªä¸ªå˜é‡å’Œå€¼å»å†™ã€‚ 9ã€wx:forè¯¦è§£1ï¼‰ä¸‹æ ‡æ˜¯indexï¼Œå€¼æ˜¯itemã€‚è‡ªå®šä¹‰ä¸‹æ ‡å˜é‡åwx:for-index=â€iâ€ã€å€¼çš„å˜é‡åwx:for=â€jâ€ã€‚ 2ï¼‰forçš„åµŒå¥—åšä¹ä¹ä¹˜æ³•è¡¨ï¼Œã€ç”¨æ³•è§é—®é¢˜6ã€ã€‚ 10 ã€äº‹ä»¶è¯¦è§£1ï¼‰bind+tapç›¸å½“äºäº‹ä»¶ï¼Œå¯ä»¥å¯¹åº”åˆ°functionã€‚ 2ï¼‰å†’æ³¡äº‹ä»¶å’Œéå†’æ³¡äº‹ä»¶è¯¦è§£ï¼Œã€å®ä¾‹è§é—®é¢˜7ã€ã€‚ 3ï¼‰ç§»åŠ¨å¼€å‘å¸¸ç”¨äº‹ä»¶ï¼štouchstartã€touchmoveã€touchcancelã€‚æ¯”åŸç”Ÿjså¤šäº†ä¸¤ä¸ªäº‹ä»¶ï¼Œtapç­‰ä»·äºæ¡Œé¢ç«¯çš„clickå³æ‰‹æŒ‡æŒ‰ä¸‹å¹¶æŠ¬èµ·ï¼Œlongtapç­‰ä»·äºæ¡Œé¢ç«¯çš„mousedownå³æ‰‹æŒ‡æŒ‰ä¸‹ã€‚ äº‹ä»¶å‚æ•°ï¼štypeäº‹ä»¶ç±»å‹ï¼ŒtimeStampè§¦å‘æ—¶é—´ï¼Œtouchesè¿”å›æ•°ç»„å¦‚æœæ˜¯å¤šç‚¹è§¦æ§å°±æœ‰å¤šä¸ªæ•°ç»„ï¼Œdetailå…¶ä»–ä¿¡æ¯åé¢ä¼šç”¨ç‰¹åˆ«å¤šã€‚targetï¼ˆè§¦å‘äº‹ä»¶ï¼‰å’ŒcurrentTargetï¼ˆå½“å‰äº‹ä»¶ï¼‰è¿”å›å€¼çš„ç»“æœæ˜¯ä¸€æ ·çš„ã€‚ targetæ˜¯äº‹ä»¶è§¦å‘äº‹ä»¶çš„æºå¯¹è±¡ï¼Œå³ç½ªé­ç¥¸é¦–ã€‚currentTargetæ˜¯æ‰€åœ¨ç»„ä»¶ã€‚ æ¯”å¦‚ã€é—®é¢˜7ä¸­çš„å†’æ³¡äº‹ä»¶ã€ï¼Œç‚¹å‡»inneråŒæ—¶è§¦å‘innerã€middleåï¼Œå¯ä»¥çœ‹ä¸¤ä¸ªäº‹ä»¶çš„targetå³ç½ªé­ç¥¸é¦–éƒ½æ˜¯innerï¼Œè€Œmiddleçš„currentTargetæ‰€åœ¨ç»„ä»¶æ˜¯middleã€‚ 11ã€wxmlä¸­å¼•ç”¨importã€incloudè¯¦ç»†ã€æ¡ˆä¾‹è§é—®é¢˜8ã€ã€‚ 12ã€wxssimport/incloudï¼Œã€è°ƒç”¨è§é—®é¢˜9ã€ã€‚ å…¨å±€æ ·å¼app.wxsså’Œå±€éƒ¨æ ·å¼ï¼Œå±€éƒ¨æ ·å¼ä¼˜å…ˆçº§æ¯”å…¨å±€æ ·å¼é«˜ã€‚ 13ã€viewç»„ä»¶-flexå¸ƒå±€flex:1ç›¸å½“äºbootstrapä¸­çš„col-md-xxã€‚åŒºåˆ«æ˜¯col-md-12å›ºå®š12æ ¼ï¼Œè€Œflexæ˜¯æ ¹æ®æˆ‘ä»¬è®¾ç½®çš„flexæ€»æ•°æŒ‰æ¯”ä¾‹æ˜¾ç¤ºï¼Œå¦‚ä¸‹ä¼šæŒ‰1/4ã€1/4ã€2/4æ˜¾ç¤ºã€‚ 14ã€viewç»„ä»¶-scroll-view1ï¼‰è§£å†³æ ·å¼é€¸å‡º/è¶…å‡ºé—®é¢˜ï¼ˆå­å…ƒç´ æ¯”çˆ¶å…ƒç´ å¤§ä¼šè¶…å‡ºçˆ¶å…ƒç´ ï¼Œç»™çˆ¶å…ƒç´ åŠ ä¸ªè¾¹æ¡†å°±èƒ½çœ‹æ¸…æ¥šï¼‰ 2ï¼‰å‚æ•° scroll-yã€scroll-xï¼Œæ»šåŠ¨æ–¹å‘ï¼› upper-thresholdè·ç¦»é¡¶éƒ¨/å·¦è¾¹å¤šè¿œ(é»˜è®¤50)è§¦å‘scrolltoupper äº‹ä»¶ã€lower-thresholdè·ç¦»åº•éƒ¨/å³è¾¹å¤šè¿œæ—¶è§¦å‘scrolltolower äº‹ä»¶ï¼› scroll-topã€scroll-leftï¼Œæ»šåŠ¨æ¡çš„åˆå§‹ä½ç½®ï¼› scroll-into-view=â€idæ ‡ç­¾â€ï¼Œæ¯”scroll-top/leftå¥½ç”¨ï¼Œåˆå§‹å€¼åœ¨idçš„æ ‡ç­¾ä½ç½®ï¼› bindscrollï¼Œæ»šåŠ¨æ—¶è§¦å‘äº‹ä»¶ï¼› 3ï¼‰æ»šåŠ¨åˆ‡æ¢çš„ã€æ¡ˆä¾‹ï¼Œè§é—®é¢˜10ã€ã€‚ 15ã€viewç»„ä»¶-swiper15.1 è½®æ’­å›¾swiper1ï¼‰å‚æ•° indicator-dots=â€trueâ€ï¼ŒæŒ‡ç¤ºç‚¹ï¼› autoplay=â€trueâ€ï¼Œè‡ªåŠ¨åˆ‡æ¢ï¼Œé»˜è®¤5ç§’ï¼› interval=â€3000â€ï¼Œè‡ªåŠ¨åˆ‡æ¢çš„æ—¶é—´3ç§’ï¼› duration=â€3000â€ï¼Œæ»‘åŠ¨åŠ¨ç”»æŒç»­æ—¶é—´ï¼› current=â€2â€ï¼Œåˆå§‹å›¾ç‰‡ç¬¬å‡ å¼ ï¼Œä¸è®¾ç½®é»˜è®¤0ï¼› bindchangeï¼Œcurrentæ”¹å˜æ—¶ä¼šè§¦å‘äº‹ä»¶ï¼› 2ï¼‰æ³¨æ„ï¼šswiperé‡Œåªèƒ½æ”¾&lt;swiper-item/&gt;ç»„ä»¶ï¼Œå¦åˆ™ä¼šå¯¼è‡´æœªå®šä¹‰çš„è¡Œä¸ºã€‚ 15.2 æ‹“å±•ï¼šè¡¨å•-æ»‘åŠ¨é€‰æ‹©å™¨&lt;slider/&gt;ç”¨slideræ ‡ç­¾åšåŠ¨æ€åˆ‡æ¢ï¼Œã€æ¡ˆä¾‹è§é—®é¢˜11ã€ã€‚ â‘ ã€&lt;slider min=&quot;2000&quot; max=&quot;5000&quot;/&gt;ï¼Œåƒæ’­æ”¾å™¨çš„è¿›åº¦æ¡ã€‚ â‘¡ã€å‚æ•° minï¼Œèµ·ç‚¹å€¼ï¼› maxï¼Œç»ˆç‚¹å€¼ï¼› show-valueï¼Œæ˜¾ç¤ºå€¼ï¼› bindchangeï¼Œæ»‘åŠ¨è¿›åº¦æ¡è§¦å‘äº‹ä»¶ï¼› â‘¢ã€&lt;slider/&gt;æ»‘åŠ¨é€‰æ‹©å™¨èƒ½ç”¨äºï¼š åŠ¨æ€ä¿®æ”¹è½®æ’­å›¾åˆ‡æ¢æ—¶é—´ï¼› åŠ¨æ€ä¿®æ”¹è½®æ’­å›¾åŠ¨ç”»æŒç»­æ—¶é—´ï¼› åŠ¨æ€ä¿®æ”¹èŒƒå›´å†…çš„æ•°å€¼ï¼› å°ç»“ï¼šå„ç§å±æ€§éƒ½å¯ä»¥ä½œä¸ºæ•°æ®ï¼Œå®ç°åŠ¨æ€æ›´æ”¹ã€‚ 16ã€ç»„ä»¶-åŸºç¡€å†…å®¹1ï¼‰icon typeã€sizeã€color 2ï¼‰textï¼Œç‰¹ç‚¹æ˜¯é•¿æŒ‰å¯ä»¥è¢«é€‰ä¸­ã€‚ 3ï¼‰proressè¿›åº¦æ¡ï¼Œpercentè¿›åº¦ç™¾åˆ†ä¹‹å¤šå°‘ã€‚ç”¨jsåˆ¶ä½œè¿›åº¦æ¡è§è§†é¢‘ã€‚ 17ã€ç»„ä»¶-è¡¨å•11ï¼‰buttonä¸Šç”¨form-type=â€submit/resetâ€ï¼Œé…åˆ&lt;form bindreset/bindsubmit=&quot;xx&quot;/&gt;ï¼Œåšç‚¹å‡»é‡ç½®æˆ–ç‚¹å‡»å‘é€çš„åŠŸèƒ½ã€‚ 18ã€ç»„ä»¶-è¡¨å•21ï¼‰checkbox 2ï¼‰input 19ã€ç»„ä»¶-è¡¨å•31ï¼‰pickerï¼Œç”¨bindchangeè§¦å‘äº‹ä»¶ã€‚ 20ã€ç»„ä»¶-è¡¨å•41ï¼‰radioï¼Œå•é€‰æ¡†ã€‚è·Ÿå¤é€‰æ¡†checkboxéå¸¸åƒã€‚ 2ï¼‰silderï¼Œæ»‘åŠ¨é€‰æ‹©å™¨ã€‚è¯¦è§ã€15èŠ‚è®²è§£çš„é—®é¢˜11ã€ã€‚ 3ï¼‰textareaï¼Œå¤šè¡Œæ–‡æœ¬ã€‚auto-heightï¼Œè¾“å…¥æ¡†æ ¹æ®æ–‡å­—å˜å¤§ï¼Œä¸ä¼šå‡ºç°æ»šåŠ¨æ¡ã€‚ 21ã€api-ç•Œé¢-äº¤äº’åé¦ˆå¸¸é…åˆç‚¹å‡»äº‹ä»¶bindtapä½¿ç”¨ã€‚ 1ï¼‰wx.request() 2ï¼‰wx.showActionSheet()ï¼Œæ˜¾ç¤ºæ“ä½œèœå•ã€‚ 3ï¼‰wx.showModal()ï¼Œæ˜¾ç¤ºæ¨¡æ€å¼¹çª—ã€‚ 4ï¼‰wx.showToast()ï¼Œåˆ é™¤/åŠ è½½æ•°æ®æ—¶çš„æç¤ºæ¡†ã€‚ wx.hideToast()ï¼Œéšè—æç¤ºæ¡†ï¼Œæ”¾åœ¨setTimeoutçš„functioné‡Œå¯ä»¥æå‰éšè—ã€‚ 22ã€api-å¯¼èˆªã€ç»„ä»¶-å¯¼èˆª1ï¼‰ç»„ä»¶&lt;navigator&gt;..&lt;/navigator&gt; 2ï¼‰apiçš„wx.navigateToã€wx.redirectToã€wx.switchTab å…¶ä»–wx.navigateBackã€wx.reLaunch 23ã€ç»„ä»¶-åª’ä½“ç»„ä»¶ã€api-éŸ³é¢‘ç»„ä»¶æ§åˆ¶1ï¼‰ç»„ä»¶audioï¼ŒéŸ³é¢‘ã€‚ 2ï¼‰audioå¯é…åˆapiçš„éŸ³é¢‘ç»„ä»¶æ§åˆ¶wx.createAudioContextï¼Œæ§åˆ¶æ’­æ”¾/æš‚åœã€‚ 3ï¼‰ç»„ä»¶imageï¼Œmodeå¯¹å›¾ç‰‡è¿›è¡Œè£å‰ª/ç¼©æ”¾ã€‚ æœ€é•¿ç”¨mode=â€aspectFillâ€ï¼Œä¿æŒçºµæ¨ªæ¯”ç¼©æ”¾å›¾ç‰‡ï¼Œåªä¿è¯å›¾ç‰‡çš„çŸ­è¾¹èƒ½å®Œå…¨æ˜¾ç¤ºå‡ºæ¥ã€‚ 4ï¼‰ç»„ä»¶videoï¼Œè§†é¢‘ã€‚danmu-btnå¼¹å¹•ã€‚ 24ã€ç»„ä»¶-åœ°å›¾ã€api-ä½ç½®1ï¼‰wx.getLocationï¼Œè·å–å½“å‰åœ°ç†ä½ç½®ã€‚ 2ï¼‰wx.openLocationï¼ŒæŸ¥çœ‹ä½ç½®ã€‚ 25ã€ç»„ä»¶-ç”»å¸ƒcanvasè…¾è®¯ä¸å…è®¸å‘å¸ƒæ¸¸æˆï¼Œä½†æ˜¯å¯ä»¥ç”¨canvasåšä¸€äº›åŠ¨ç”»ã€‚ 1ï¼‰canvasï¼Œç”»å¸ƒã€‚ 26ã€canvasåŠ¨ç”»å®ä¾‹äºŒã€é—®é¢˜å®ä¾‹ï¼ˆæœ¬æ•™ç¨‹å®ä¾‹ï¼‰1ã€æ€ä¹ˆæŠŠåŠ è½½ä¸­ã€requestè¯·æ±‚apiç­‰functionï¼Œå°è£…åˆ°app.jsä¸­ï¼Ÿ2ã€app.jsçš„å…¨å±€å‡½æ•°app()æ€ä¹ˆè®¾ç½®å˜é‡å’Œè°ƒç”¨ï¼Ÿ1ï¼‰app.jsè®¾ç½®å˜é‡ 1234globalData: &#123; userInfo: null, pass: &quot;999&quot;&#125; 2ï¼‰å¦‚åœ¨index.jså®šä¹‰pass2ï¼Œapp.jsé‡Œæ‹¿åˆ°æ•°æ® 123456var app = getApp() //è·å–åˆ°å…¨å±€å®ä¾‹onLoad: function () &#123; this.setData(&#123; pass2: app.globalData.pass &#125;); 3ï¼‰æ˜¾ç¤ºæ•°æ® 1&lt;view&gt;å¯†ç æ˜¯ï¼š&#123;&#123;pass2&#125;&#125;&lt;/view&gt; 3ã€jsæ¨¡å—åŒ–æ€ä¹ˆå®šä¹‰å’Œè°ƒç”¨ï¼Ÿ å®šä¹‰ï¼šæ¨¡å—åŒ–ã€‚å¯ä»¥å°†ä¸€äº›å…¬å…±çš„ä»£ç æŠ½ç¦»æˆä¸ºä¸€ä¸ªå•ç‹¬çš„ js æ–‡ä»¶ï¼Œä½œä¸ºä¸€ä¸ªæ¨¡å—ã€‚æ¨¡å—åªæœ‰é€šè¿‡ module.exports æˆ–è€… exports æ‰èƒ½å¯¹å¤–æš´éœ²æ¥å£ã€‚ exports æ˜¯ module.exports çš„ä¸€ä¸ªå¼•ç”¨ï¼Œå› æ­¤åœ¨æ¨¡å—é‡Œè¾¹éšæ„æ›´æ”¹ exports çš„æŒ‡å‘ä¼šé€ æˆæœªçŸ¥çš„é”™è¯¯ã€‚æ‰€ä»¥æ›´æ¨èå¼€å‘è€…é‡‡ç”¨ module.exports æ¥æš´éœ²æ¨¡å—æ¥å£ï¼Œé™¤éä½ å·²ç»æ¸…æ™°çŸ¥é“è¿™ä¸¤è€…çš„å…³ç³»ã€‚ ç”¨requireè°ƒç”¨ï¼ˆæœ¬æœºéœ€å®‰è£…nodejsæ‰ä¼šç”Ÿæ•ˆï¼‰ ã€‚ 1ï¼‰æ ¹ç›®å½•åˆ›å»ºcommon/common.jsï¼Œå®šä¹‰æ¨¡å—åŒ–æ•°æ®ï¼Œå¹¶æš´éœ²æ¥å£å…ˆå®šä¹‰functionï¼Œå¦‚function sayHello(name){..}ï¼Œç„¶ååœ¨module.exportsä¸­æš´éœ²æ¥å£ã€‚ 12345678910111213// common.jsconsole.log(&quot;æˆ‘æ˜¯common.js&quot;) //ä¸€æ ·å¯ä»¥ç”¨console.logæ¥æµ‹è¯•æ•°æ®function sayHello(name) &#123; console.log(`Hello $&#123;name&#125; !`)&#125;function sayGoodbye(name) &#123; console.log(`Goodbye $&#123;name&#125; !`)&#125;module.exports = &#123; //åªæœ‰åœ¨moduleé‡Œæš´éœ²æ¥å£ï¼Œæ‰èƒ½è¢«å…¶ä»–æ–‡ä»¶è°ƒç”¨ã€‚ hello1: sayHello, //æš´éœ²æ¥å£sayHelloï¼Œåœ¨å…¶ä»–æ–‡ä»¶ä¸Šç”¨common.hello1()æ¥è°ƒç”¨ goodbye1: sayGoodbye&#125; 2ï¼‰è°ƒç”¨jsæ¨¡å—ï¼Œæ‹¿åˆ°æ•°æ®æ¯”å¦‚index.wxml 1&lt;button bindtap=&quot;say&quot;&gt;say hello!&lt;/button&gt; index.jsï¼Œç”¨require(æ¨¡å—jsæ–‡ä»¶)å¼•ç”¨jsæ–‡ä»¶ï¼Œç„¶åç”¨common.å˜é‡(å‚æ•°)è°ƒç”¨æ¥å£ã€‚ 12345678910var common =require(&quot;../../common/common.js&quot;); //å¼•å…¥common.jsæ–‡ä»¶æ‰€æš´éœ²çš„æ¥å£Page(&#123; data: &#123; motto: &apos;Hello World&apos;, name: &apos;999&apos; &#125;, say:function()&#123; common.hello1(this.data.motto); //ç‚¹å‡»æŒ‰é’®åè¾“å‡ºHello Hello World common.goodbye1(this.data.name); //ç‚¹å‡»æŒ‰é’®åè¾“å‡ºGoodbye 999 &#125;, æµ‹è¯•ï¼šå¾®ä¿¡å·¥å…·é‡æ–°ç¼–è¯‘ï¼Œå¯ä»¥çœ‹åˆ°consoleé‡Œå‡ºç°â€æˆ‘æ˜¯common.jsâ€œï¼Œå•å‡»æŒ‰é’®å‡ºç°å®šä¹‰çš„ç»“æœã€‚ 3ï¼‰è¿›é˜¶ï¼šç”¨requireå¯ä»¥å¼•ç”¨å…¶ä»–çš„jsä¾èµ–1ï¼‰æ–°å»ºcommon/a.js 1console.log(&quot;æˆ‘æ˜¯common.jsæ‰€ä¾èµ–çš„a.js&quot;) 2ï¼‰åœ¨common.jsåŠ å…¥a.js 1require(&quot;a.js&quot;) 3ï¼‰æµ‹è¯•ï¼šå¾®ä¿¡å·¥å…·é‡æ–°ç¼–è¾‘ï¼Œconsoleé‡Œå‡ºç°â€æˆ‘æ˜¯common.jsæ‰€ä¾èµ–çš„a.jsâ€œã€â€æˆ‘æ˜¯common.jsâ€œã€‚ 4ã€æ˜¾ç¤º/éšè—åŠŸèƒ½ï¼Ÿ!å–åæ–¹æ³•ä¸€ï¼šwx:if=â€Infinityâ€œï¼Œæ¨èç”¨ï¼1ï¼‰wxmlå¢åŠ æŒ‰é’®ï¼Œä»¥åŠè¦æ˜¾ç¤º/éšè—çš„å†…å®¹ 12&lt;button bindtap=&apos;show&apos;&gt;ç‚¹å‡»æ˜¾ç¤º/éšè—&lt;/button&gt;&lt;view wx:if=&quot;&#123;&#123;bol&#125;&#125;&quot;&gt;æ¡ä»¶æ¸²æŸ“æ˜¾ç¤º&lt;/view&gt; 2ï¼‰jsåˆå§‹åŒ–bolçš„å€¼ä¸ºtrue/faleï¼Œç„¶ååˆ©ç”¨!bolå³ä¸bolçš„å€¼ç›¸åï¼Œæ¥å®ç°æ˜¾ç¤º/éšè— 123456789101112131415Page(&#123; data: &#123; motto: &apos;Hello World&apos;, userInfo: &#123;&#125;, hasUserInfo: false, canIUse: wx.canIUse(&apos;button.open-type.getUserInfo&apos;), bol: true &#125;, show:function(e)&#123; console.log(this.data.bol); var bol = this.data.bol //this.data.bolå°±æ˜¯æ‹¿åˆ°Pageçš„dataæ•£åˆ—ä¸­çš„bolå€¼ï¼Œå³åˆå§‹å€¼ this.setData(&#123; bol: !bol //æœ€å…³é”®çš„ç‚¹ï¼Œç”¨!bolæ¥å®ç°trueå’Œfalseçš„åˆ‡æ¢ &#125;) &#125;, æ–¹æ³•äºŒï¼šhidden=â€Infinityâ€œï¼Œä¸æ¨èï¼æµ‹è¯•å‘ç°ï¼Œhiddenåªèƒ½åœ¨textæ–‡æœ¬ä½¿ç”¨ï¼Œå¦‚æœåœ¨viewä¸Šæ˜¯ä¸ç”Ÿæ•ˆçš„ã€‚ 5ã€å®šä¹‰å’Œè°ƒç”¨wxmlæ¨¡æ¿templateï¼Ÿç‹¬ç«‹ä½œç”¨åŸŸï¼Ÿâ€”â€”åŒæ–‡ä»¶è°ƒç”¨ï¼ˆè·¨æ–‡ä»¶è°ƒç”¨è§é—®é¢˜8ï¼‰1ï¼‰å®šä¹‰wxmlæ¨¡æ¿ï¼Œç”¨templateå’Œname 12345&lt;template name=&quot;object&quot;&gt; &lt;!--nameå±æ€§ä¸€å®šè¦å†™--&gt; &lt;view&gt;ç¬¬ä¸€ä¸ªå¯¹è±¡&#123;&#123;a&#125;&#125;&lt;/view&gt; &lt;view&gt;&#123;&#123;b&#125;&#125;&lt;/view&gt; &lt;view&gt;&#123;&#123;name&#125;&#125;&lt;/view&gt;&lt;/template&gt; 2ï¼‰wxmlæ¨¡æ¿è°ƒç”¨ ï¼Œç”¨iså’Œdata 1&lt;template is=&quot;object&quot; data=&quot;&#123;&#123;a:1, b:2&#125;&#125;&quot;&gt;&lt;/template&gt; 123æ³¨æ„ï¼šæ¨¡æ¿templateæ˜¯ç‹¬ç«‹ä½œç”¨åŸŸï¼Œåªèƒ½ä½¿ç”¨è¿™é‡Œçš„dataä¼ è¿›æ¥çš„æ•°æ®ã€‚å› æ­¤ï¼Œå³ä¾¿jsé‡Œçš„dataæœ‰è®¾ç½®nameçš„å€¼ï¼Œä¹Ÿè·Ÿtemplateæ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œä¸ä¼šæ˜¾ç¤ºnameçš„å€¼ã€‚å¦‚æœæƒ³ä½¿ç”¨jsçš„dataçš„nameå€¼ï¼Œå¯ä»¥æŠŠä¼ è¿›templateçš„æ•°æ®å†™æˆ`&lt;template is=&quot;object&quot; data=&quot;&#123;&#123;a:1, b:2, temname: name&#125;&#125;&quot;&gt;&lt;/template&gt;`ã€‚ 6ã€ä¹ä¹ä¹˜æ³•è¡¨ï¼ˆç”¨wx:forå’Œwx:ifï¼‰ï¼Ÿå› ä¸ºæ˜¯åµŒå¥—wx:forï¼Œæ‰€ä»¥itemå¯èƒ½ä¼šæä¸æ¸…æ¥šæ˜¯å“ªä¸€ä¸ªwx:forçš„ï¼Œè¿™ç§æƒ…å†µå»ºè®®è‡ªå®šä¹‰itemçš„å˜é‡åã€‚ 1ï¼‰ç”¨wx:foråˆæ­¥æ˜¾ç¤ºåˆ—è¡¨ 12345&lt;view wx:for=&quot;&#123;&#123;[1,2,3,4,5,6,7,8,9]&#125;&#125;&quot; wx:for-item=&quot;i&quot;&gt; &lt;view wx:for=&quot;&#123;&#123;[1,2,3,4,5,6,7,8,9]&#125;&#125;&quot; wx:for-item=&quot;j&quot; style=&quot;display:inline-block; width:50rpx;&quot;&gt; &#123;&#123;j&#125;&#125; &lt;/view&gt;&lt;/view&gt; 2ï¼‰ç”¨wx:ifåˆ¤æ–­è¾“å‡ºå…·ä½“åˆ—è¡¨ 1234567&lt;view wx:for=&quot;&#123;&#123;[1,2,3,4,5,6,7,8,9]&#125;&#125;&quot; wx:for-item=&quot;i&quot;&gt; &lt;view wx:for=&quot;&#123;&#123;[1,2,3,4,5,6,7,8,9]&#125;&#125;&quot; wx:for-item=&quot;j&quot; style=&quot;display:inline-block; width:150rpx;&quot;&gt; &lt;view wx:if=&quot;&#123;&#123;j&lt;=i&#125;&#125;&quot;&gt; &#123;&#123;i&#125;&#125;*&#123;&#123;j&#125;&#125;=&#123;&#123;i*j&#125;&#125; &lt;/view&gt; &lt;/view&gt;&lt;/view&gt; 7ã€å†’æ³¡äº‹ä»¶ å’Œ éå†’æ³¡äº‹ä»¶ï¼Ÿ1ï¼‰å†’æ³¡ç¤ºä¾‹ wxml 123456789&lt;view id=&quot;outter&quot; bindtap=&quot;outterTap&quot;&gt; outter view &lt;view id=&quot;middle&quot; bindtap=&quot;middleTap&quot;&gt; middle view &lt;view id=&quot;inner&quot; bindtap=&quot;innerTap&quot;&gt; inner view &lt;/view&gt; &lt;/view&gt;&lt;/view&gt; js 123456789outterTap:function()&#123; console.log(&quot;è§¦å‘äº†outteräº‹ä»¶&quot;)&#125;,middleTap:function()&#123; console.log(&quot;è§¦å‘äº†middleäº‹ä»¶&quot;)&#125;,innerTap:function()&#123; console.log(&quot;è§¦å‘äº†inneräº‹ä»¶&quot;)&#125;, æµ‹è¯•ï¼šç‚¹å‡»æœ€é‡Œå±‚çš„inner viewï¼Œåœ¨consoleå¯ä»¥çœ‹åˆ°åŒæ—¶è§¦å‘äº†inner viewã€middle viewã€outter viewã€‚ å†’æ³¡æ˜¯æ€ä¹ˆä¸€å›äº‹ï¼Ÿ å¯ä»¥ç»™outter viewåŠ ä¸€ä¸ªçº¢è‰²è¾¹æ¡†style=&quot;border:1px solid red;&quot;ï¼Œå¯ä»¥çœ‹åˆ°innerä¹Ÿæ˜¯åŒ…å«åœ¨outterè¾¹æ¡†é‡Œçš„ã€‚æ‰€ä»¥ä¸€ç‚¹å‡»å°±ä¼šè§¦å‘ä¸‰ä¸ªäº‹ä»¶ã€‚è€Œä¸”æ‰§è¡Œé¡ºåºæ˜¯ä»é‡Œåˆ°å¤–ã€‚ 2ï¼‰è§£å†³åŠæ³• æŠŠbindtapæ”¹æˆcatchtapï¼Œå°±å¯ä»¥é˜»æ­¢å†’æ³¡ã€‚ 123456789&lt;view id=&quot;outter&quot; bindtap=&quot;outterTap&quot;&gt; outter view &lt;view id=&quot;middle&quot; catchtap=&quot;middleTap&quot;&gt; middle view &lt;view id=&quot;inner&quot; catchtap=&quot;innerTap&quot;&gt; inner view &lt;/view&gt; &lt;/view&gt;&lt;/view&gt; 8ã€è°ƒç”¨templateæ–‡ä»¶importã€includeâ€”â€”è·¨æ–‡ä»¶è°ƒç”¨8.1 importï¼ˆæ‹¿templateæ¨¡æ¿ï¼‰1ï¼‰importå¯åœ¨å½“å‰æ–‡ä»¶ä¸­ä½¿ç”¨ç›®æ ‡æ–‡ä»¶å®šä¹‰çš„&lt;template/&gt;ï¼Œè€Œä¸”åªè°ƒç”¨&lt;template/&gt;ï¼Œå…¶ä»–å†…å®¹å¿½ç•¥ã€‚ indexæ–‡ä»¶å¤¹æ–°å»ºitem.wxml 1234&lt;view&gt;æˆ‘æ˜¯item.wxml&lt;/view&gt;&lt;template name=&quot;item&quot;&gt; &lt;text&gt;æˆ‘æ˜¯item.wxmlé‡Œçš„&#123;&#123;name&#125;&#125;&lt;/text&gt;&lt;/template&gt; index.wxml 12&lt;import src=&quot;item.wxml&quot;/&gt;&lt;template is=&quot;item&quot; data=&quot;&#123;&#123;name: &apos;99&apos;&#125;&#125;&quot;/&gt; æµ‹è¯•ï¼šè¾“å‡ºâ€æˆ‘æ˜¯item.wxmlé‡Œçš„99â€œï¼Œæ²¡æœ‰å‡ºç°â€æˆ‘æ˜¯item.wxmlâ€œã€‚ 2ï¼‰å¦‚æœä¸Šè¾¹ä¾‹å­çš„itemä¹Ÿè°ƒç”¨äº†å…¶ä»–æ–‡ä»¶c.wxmlã€‚ ç»“è®ºæ˜¯ï¼šä¸èƒ½åµŒå¥—è°ƒç”¨ã€‚ c.wxml 123&lt;template name=&quot;c&quot;&gt; &lt;text&gt;æˆ‘æ˜¯c.wxmlé‡Œçš„&#123;&#123;pass&#125;&#125;&lt;/text&gt;&lt;/template item.wxml 12345&lt;view&gt;æˆ‘æ˜¯item.wxml&lt;/view&gt;&lt;import src=&quot;c.wxml&quot;/&gt;&lt;template name=&quot;item&quot;&gt; &lt;text&gt;æˆ‘æ˜¯item.wxmlé‡Œçš„&#123;&#123;name&#125;&#125;&lt;/text&gt;&lt;/template&gt; index.wxml 123&lt;import src=&quot;item.wxml&quot;/&gt;&lt;template is=&quot;item&quot; data=&quot;&#123;&#123;name: &apos;99&apos;&#125;&#125;&quot;/&gt;&lt;template is=&quot;c&quot; data=&quot;&#123;&#123;pass: &apos;12345&apos;&#125;&#125;&quot;/&gt; æµ‹è¯•ï¼šå‘ç°c.wxmlæ²¡æœ‰ç”Ÿæ•ˆã€‚ 8.2 includeï¼ˆæ‹¿ !templateæ¨¡æ¿ï¼‰1ï¼‰å¯ä»¥å°†ç›®æ ‡æ–‡ä»¶é™¤äº†&lt;template/&gt;çš„æ•´ä¸ªä»£ç å¼•å…¥ã€‚å³ä¸importç›¸åã€‚ index.wxmlæ³¨è§£æ‰€æœ‰ä»£ç ï¼Œæ–°å¢ 12&lt;include src=&quot;item.wxml&quot;/&gt;&lt;template is=&quot;item&quot; data=&quot;&#123;&#123;name: &apos;99&apos;&#125;&#125;&quot;/&gt; æµ‹è¯•ï¼šæ˜¾ç¤ºâ€æˆ‘æ˜¯item.wxmlâ€œï¼Œæ‰€æœ‰&lt;template/&gt;æ²¡æœ‰è¢«è°ƒç”¨ã€‚ 9ã€è°ƒç”¨wxssæ¨¡å—common/common.js 123.aaa&#123; background: blue;&#125; pages/index.index.wxss 1@import &quot;../../common/common.wxss&quot;; /*è¦å†™åœ¨æ–‡ä»¶æœ€ä¸Šé¢*/ index.wxml 1&lt;view class=&apos;aaa&apos;&gt;è°ƒç”¨common.wxssçš„aaa&lt;/view&gt; 10ã€æ»šåŠ¨åˆ‡æ¢ï¼Œç”¨scroll-into-view 1ï¼‰wxmlï¼Œå› ä¸ºscroll-into-viewæ˜¯è°ƒç”¨idé€‰æ‹©å™¨çš„ï¼Œæ‰€ä»¥ç›¸åº”çš„ç»™a/b/cåŠ ä¸Šidã€‚æ”¾çš„æ˜¯æ•°ç»„ï¼Œæ•°ç»„çš„å€¼å°±æ˜¯idçš„å€¼ï¼Œå€¼çš„å˜åŒ–å°±ç›¸å½“äºæ˜¯idçš„å˜åŒ–ã€‚ 123456 &lt;scroll-view scroll-y=&quot;true&quot; class=&apos;flex-wrap&apos; scroll-into-view=&quot;&#123;&#123;toView&#125;&#125;&quot;&gt; &lt;view id=&quot;a&quot; &gt;a&lt;/view&gt; &lt;view id=&quot;b&quot; &gt;b&lt;/view&gt; &lt;view id=&quot;c&quot; &gt;c&lt;/view&gt;&lt;/scroll-view&gt; &lt;button bindtap=&apos;tapChange&apos;&gt;åˆ‡æ¢&lt;/button&gt; 2ï¼‰wxss 1234567891011121314151617181920.flex-wrap&#123; height: 400rpx;&#125;.flex-wrap view&#123; text-align: center; font-size: 40rpx; color: white;&#125;#a&#123; background-color: green; height: 100%;&#125;#b&#123; background-color: red; height: 100%;&#125;#c&#123; background-color: blue; height:100%;&#125; 3ï¼‰js 123456789101112131415var order = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]; //æ•°ç»„var index = 0; //åˆåˆ›ä¸‹æ ‡å€¼Page(&#123; data: &#123; toView:&quot;b&quot;, //ç»™toViewæ•°ç»„çš„é»˜è®¤å€¼ï¼Œåœ¨wxmlä¸Šè¡¨ç°ä¸ºid=&quot;b&quot; &#125;, tapChange:function()&#123; index++; if(index &gt; order.length-1)&#123; index = 0; &#125; this.setData(&#123; toView: order[index] &#125;) &#125;, 11ã€swiperåŠ¨æ€åˆ‡æ¢1ï¼‰ wxml 123456&lt;swiper autoplay=&apos;true&apos; interval=&apos;&#123;&#123;inter&#125;&#125;&apos;&gt; &lt;swiper-item wx:for=&quot;&#123;&#123;imgUrls&#125;&#125;&quot;&gt; &lt;image src=&quot;&#123;&#123;item&#125;&#125;&quot; style=&apos;width:750rpx;&apos;&gt;&lt;/image&gt; &lt;/swiper-item&gt;&lt;/swiper&gt;&lt;slider bindchange=&quot;intervalChange&quot; show-value min=&quot;2000&quot; max=&quot;5000&quot;/&gt; 2ï¼‰js 12345678910111213141516Page(&#123; data: &#123; inter:2000, //è½®æ’­åˆ‡æ¢æ—¶é—´åˆå§‹å€¼2ç§’ imgUrls: [ &apos;http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg&apos;, &apos;http://img06.tooopen.com/images/20160818/tooopen_sy_175866434296.jpg&apos;, &apos;http://img06.tooopen.com/images/20160818/tooopen_sy_175833047715.jpg&apos; ], &#125;, intervalChange:function(e)&#123; console.log(e) var sliderValue = e.detail.value; this.setData(&#123; inter: sliderValue &#125;) &#125;,","categories":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}],"tags":[{"name":"å¾®ä¿¡ç³»ç»Ÿ","slug":"å¾®ä¿¡ç³»ç»Ÿ","permalink":"http://yoursite.com/tags/å¾®ä¿¡ç³»ç»Ÿ/"}],"keywords":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}]},{"title":"tool-atom-(è§†é¢‘)atomç¼–è¾‘å™¨æŠ€å·§","slug":"tool-atom-(è§†é¢‘)atomç¼–è¾‘å™¨æŠ€å·§","date":"2018-01-02T16:10:00.000Z","updated":"2018-01-14T05:52:02.000Z","comments":true,"path":"posts/3c2bef84/","link":"","permalink":"http://yoursite.com/posts/3c2bef84/","excerpt":"","text":"atomåœ¨é»˜è®¤é…ç½®ä¸‹ï¼Œ HTML, XML, HAML, CSS, SASS/SCSS, LESS, JavaScript, Python, Ruby æ–‡ä»¶å¯ä»¥ç›´æ¥ä½¿ç”¨Tabé”®ï¼Œè€Œåœ¨å…¶ä»–ç±»å‹æ–‡ä»¶ä¸­ä½¿ç”¨ctrl+eä½œä¸ºå¿«æ·é”®ã€‚ æ–°æ ‡ç­¾æ‰“å¼€æœªç¼–è¾‘çš„é¡µé¢ï¼šåŒå‡»ä¸€ã€atomçš„emmetè¾“å…¥æ€ä¹ˆæ‰èƒ½æ”¯æŒwxmlæ–‡ä»¶ï¼Ÿå¹¶è®¾ç½®å¿«æ·é”®ã€‚1ã€æ”¯æŒhtmlä»¥å¤–çš„æ–‡ä»¶å¦‚wxmlï¼Œè®¾ç½®å¦‚ä¸‹ï¼š1ï¼‰ctrl+,æ‰“å¼€atomè®¾ç½®-packages-æ‰¾åˆ°ement-settings-view codeæ‰“å¼€emmetçš„ä»£ç ã€‚ 2ï¼‰æ‰“å¼€keymaps/emmet.csonï¼Œç¬¬äºŒè¡Œçš„&#39;ctrl-e&#39;: &#39;emmet:expand-abbreviation&#39;é»˜è®¤å¿«æ·é”®æ˜¯ctrl+eï¼Œå¯ä»¥æ”¹æˆ`â€™tabâ€™: â€˜emmet:expand-abbreviationâ€™ç­‰ã€‚ 3ï¼‰æµ‹è¯•å‘ç°è™½ç„¶tabæ–¹ä¾¿ï¼Œä½†æ˜¯è¢«å ç”¨åæ— æ³•ä½¿ç”¨åŸæ¥çš„åŠŸèƒ½ã€‚æœ€åè¿˜æ˜¯é€‰ç”¨ctrl+eã€‚ 2ã€æ›´ç®€å•ç²—æš´çš„æ–¹æ³•1ï¼‰æ‰“å¼€wxmlç­‰æ–‡ä»¶åï¼Œåœ¨atomçš„å³ä¸‹è§’æ”¹æˆç”¨HTMLæ¨¡å¼ç¼–è¾‘ï¼Œå°±èƒ½æ­£å¸¸ä½¿ç”¨emmetåŠŸèƒ½ã€‚ æ— éœ€æŒ‰ä¸Šé¢çš„æ–¹æ³•ä¿®æ”¹å¿«æ·é”®äº†ã€‚ äºŒã€å¿«æ·é”®ï¼š1ï¼‰æ‰“å¼€node_modules/emmet/lib/snippets.jsonï¼Œæœç´¢htmlï¼ˆå¤§çº¦ç¬¬660è¡Œï¼Œç¬¬ä¸€æ¬¡æœä¼šæœä¸åˆ°ï¼Œè¦æ‰“å¼€å…¶ä»–æ–‡ä»¶å†å›æ¥æœç´¢ä¸€æ¬¡ï¼‰ï¼Œåœ¨snippetsé‡ŒåŠ å…¥è‡ªå®šä¹‰å¿«æ·é”®å¦‚ä¸‹ã€‚ 2ï¼‰ctrl+qé€€å‡ºatomï¼Œé‡æ–°æ‰“å¼€æµ‹è¯•æ˜¯å¦ç”Ÿæ•ˆã€‚ æ³¨æ„ï¼šå®šä¹‰é‡Œä¸èƒ½ç”¨åŒå¼•å·ï¼Œå¦åˆ™å…¨éƒ¨å¿«æ·è¾“å…¥ä¼šå¤±æ•ˆã€‚ 12345678910&quot;snippets&quot;: &#123; &quot;%&quot;: &quot;&lt;% | %&gt;&quot;, &quot;%%&quot;: &quot;&lt;%= | %&gt;&quot;, &quot;lt&quot;: &quot;&lt;%= link_to(&apos;XXXX&apos;, XXXX_path, class:&apos;btn btn-danger btn-lg&apos;) %&gt;&quot;, &quot;ltp&quot;: &quot;&lt;%= link_to(&apos;XXXX&apos;, XXXX_path, class:&apos;btn btn-danger btn-lg&apos;, method: :post) %&gt;&quot;, &quot;ltd&quot;: &quot;&lt;%= link_to(&apos;XXXX&apos;, XXXX_path, class:&apos;btn btn-danger btn-lg&apos;, method: :delete, data:&#123;confirm:&apos;ç¡®è®¤åˆ é™¤ï¼Ÿ&apos;&#125;) %&gt;&quot;, &quot;ii&quot;: &quot;&lt;image src=&apos;&apos;&gt;&lt;/image&gt;&quot;, &quot;bb&quot;: &quot;&lt;button bindtap=&apos;&apos; type=&apos;&apos;&gt;&lt;/button&gt;&quot;, &quot;tt&quot;: &quot;&lt;text class=&apos;&apos;&gt;&lt;/text&gt;&quot;, &quot;vv&quot;: &quot;&lt;view class=&apos;&apos;&gt;&lt;/view&gt;&quot;, ä¸‰ã€å¿«é€Ÿæ ¼å¼åŒ–ä»£ç æ’ä»¶ atom-beautify1ï¼‰å¤åˆ¶åˆ«äººä»£ç çš„æ—¶å€™ï¼Œå¿«é€Ÿæ ¼å¼åŒ–ã€‚ å¯ä»¥é’ˆå¯¹ä¸åŒçš„ç¼–ç¨‹è¯­è¨€ï¼Œé…ç½®æ˜¯å¦æ ¼å¼åŒ–ï¼Œé…ç½®æ ‡ç‚¹ç¬¦å·çš„å¤„ç†ã€ç¼©è¿›ç­‰ã€‚ é»˜è®¤æˆ‘ä»¬ä¸å»ä¿®æ”¹ã€‚ ã€é—®é¢˜ã€‘1ï¼‰htmlæ–‡ä»¶å¿«é€Ÿæ ¼å¼åŒ–ï¼Œæ¯è¡Œä¼šç©ºä¸¤ä¸ªTabï¼Œæ€ä¹ˆæ”¹æˆç©ºä¸€æ ¼Tabï¼ˆå³ä¸¤ä¸ªç©ºæ ¼ï¼‰ï¼Ÿ å››ã€ä»£ç è§„èŒƒåŒ–æ£€æµ‹æ’ä»¶ Linter1ï¼‰å…ˆå®‰è£…linterçš„æ¡†æ¶ã€‚ç„¶åå¯ä»¥é€‰æ‹©è‡ªå·±éœ€è¦æ£€æµ‹çš„æ–‡ä»¶ç±»å‹ï¼Œå®‰è£…ç›¸åº”æ’ä»¶ã€‚ 2ï¼‰linter-eslintï¼Œæ˜¯é’ˆå¯¹javascriptçš„ã€‚ æ¯”å¦‚ï¼Œé’ˆå¯¹jsæ–‡ä»¶çš„é€—å·ï¼Œè®¾ç½®æ˜¯å¦æç¤ºæŠ¥é”™ï¼Œåœ¨å†™ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå“ªè¡Œä»£ç å°‘äº†é€—å·ï¼Œå°±ä¼šåœ¨è¡Œé¦–ç”¨ä¸€ä¸ªçº¢ç‚¹æç¤ºã€‚ 3ï¼‰linter-å…¶ä»– ã€é—®é¢˜ã€‘1ï¼‰å®æµ‹å‘ç°ï¼Œä¸‹è½½çš„å„ç§linteréƒ½ä¸èµ·ä½œç”¨ï¼Ÿæ˜¯ä¸æ˜¯éƒ½è¦æ‰‹åŠ¨é…ç½®ï¼Ÿ äº”ã€JavaScript è¯­æ³•æ™ºèƒ½æç¤º atom-ternjs1ï¼‰æ¯”å¦‚å†™$(this).çš„æ—¶å€™ï¼Œä¼šå‡ºç°ä¸€äº›å‡½æ•°æç¤ºä¾›é€‰æ‹©ã€‚ 2ï¼‰æ‰“å¼€ä»»æ„jsæ–‡ä»¶ï¼Œç‚¹å‡»å·¥å…·æ çš„Packages-Atom-Ternjs-Configure projectï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ atom-ternjsæ˜¯æ ¹æ®æ¯ä¸€ä¸ªé¡¹ç›®æ¥é…ç½®çš„ã€‚ å› ä¸ºæ¯ä¸€ä¸ªé¡¹ç›®ï¼Œæƒ³è®©å®ƒæç¤ºçš„ä¸œè¥¿å¯èƒ½æ˜¯ä¸ä¸€æ ·çš„ã€‚ 3ï¼‰å…·ä½“çš„é…ç½®é€‰é¡¹ï¼š ecmaVersioné»˜è®¤6ï¼› libsä¸€èˆ¬é€‰browserã€jqueryä¸¤ä¸ªåº“ï¼› å…¶ä»–é…ç½®å¦‚nodeã€moduleã€angularã€commonjs 4ï¼‰ä¿å­˜ï¼Œç‚¹å‡»æœ€ä¸‹è¾¹çš„saveã€‚ ä¼šåœ¨åˆ†æ”¯æ ‘é‡Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶.term-projectã€‚ 5ï¼‰æµ‹è¯•ã€‚ å†å›åˆ°jsé¡µé¢å»å†™ï¼Œå°±ä¼šå‡ºç°è¯¦ç»†çš„æç¤ºã€‚éå¸¸æ–¹ä¾¿ã€‚ å…­ã€å¿«é€Ÿä¹¦å†™ä»£ç çš„å·¥å…· emmet1ï¼‰é»˜è®¤æˆ‘ä¸ä¼šåšä»»ä½•æ›´æ”¹ã€‚ ä¸ƒã€æ–‡ä»¶å›¾æ ‡ file-icons ä¸è¡Œé«˜äº® highlight-line1ï¼‰file-iconsï¼Œä¸åŒçš„æ–‡ä»¶ç±»å‹ï¼Œæ–‡ä»¶åå‰é¢åŠ ä¸Šä¸åŒç±»çš„å›¾æ ‡ã€‚ å¯ä»¥è®¾ç½®only color when changedï¼Œå½“æ–‡ä»¶æ›´æ”¹æ‰æ˜¾ç¤ºå›¾æ ‡é¢œè‰²ã€‚ 2ï¼‰highlight-lineï¼Œé¼ æ ‡ç‚¹å‡»å“ªä¸€è¡Œï¼Œå°±ä¼šé«˜äº®å“ªä¸€è¡Œã€‚ å¯ä»¥é…ç½®é«˜äº®çš„èƒŒæ™¯é¢œè‰²ã€‚ å…«ã€ä»£ç ä¸­çš„é¢œè‰²æ’ä»¶ pigments1ï¼‰é¢œè‰²çš„ä»£ç å¦‚#000ã€#fffï¼Œä¼šæ˜¾ç¤ºå‡ºé¢œè‰²ã€‚ ä¹ã€å¯¹æœ€æ–°ç‰ˆæœ¬ JavaScript çš„æ”¯æŒ language-babel1ï¼‰ä¸»è¦æ˜¯å¯¹es5ã€es6åšä¸€äº›è¯­æ³•çš„è¯†åˆ«ï¼Œåšä¸€äº›react.jsè¯¾ç¨‹çš„æ—¶å€™ç”¨åˆ°ã€‚å®ƒä¼šå¯¹æœ€æ–°çš„jsè¯­æ³•åšé«˜äº®ã€‚ è£…å®Œä¸ç”¨æ€ä¹ˆè¿‡å¤šé…ç½®ã€‚ åã€æ›´å¤šæ’ä»¶ä¸æ€»ç»“1ï¼‰atomçš„ç¼–è¾‘å™¨æ’ä»¶ï¼Œè½¬åˆ°å…¶ä»–ç¼–è¾‘å™¨æ¯”å¦‚shellä¹Ÿæ˜¯é€šç”¨çš„ã€‚ 2ï¼‰å¯ä»¥çœ‹atomç½‘ç«™çš„ä¸‹è½½æ’è¡Œã€‚åŸºæœ¬ä¸Šæˆ‘ä»¬æŠŠå‰é¢çš„éƒ½åšäº†ä»‹ç»ã€‚ åä¸€ã€atom-wxml1ï¼‰å¾®ä¿¡å°ç¨‹åºè¦ç”¨åˆ°ï¼Œå¯ä»¥è®©wxssæ–‡ä»¶ã€wxmlæ–‡ä»¶ä»£ç é«˜äº®æ˜¾ç¤ºã€‚","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/å·¥å…·/"},{"name":"atom","slug":"atom","permalink":"http://yoursite.com/tags/atom/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}]},{"title":"ror-function-æœç´¢gem ransack","slug":"ror-function-æœç´¢gem ransack","date":"2018-01-01T16:10:00.000Z","updated":"2018-01-14T08:19:19.000Z","comments":true,"path":"posts/c311c03b/","link":"","permalink":"http://yoursite.com/posts/c311c03b/","excerpt":"","text":"å¿˜äº†è®°å½•ï¼š1ã€ransackæœç´¢ä¸¤ç§åšæ³•ï¼Œä¸€ç§æ˜¯æ”¾åœ¨navbaræœç´¢æ—¶åœ¨æ–°çš„searché¡µæ˜¾ç¤ºï¼Œä¸€ç§æ˜¯æ”¾åœ¨indexæœç´¢çš„æ—¶å€™ä¸è·³è½¬æ–°é¡µé¢ã€‚ç¬¬ä¸€ç§åšæ’åºæŠ¥é”™ï¼Œæ²¡è§£å†³ï¼Œç¬¬äºŒç§å¯ä»¥æ’åºï¼Œä½†æ˜¯æ¨¡ç³Šæœç´¢çš„å¯¹è±¡è®¾ç½®æ˜¯æ”¾åœ¨viewé¡µé¢çš„æ„Ÿè§‰å¾ˆå¥‡æ€ªã€‚2ã€åˆ†ç±»åŠŸèƒ½ä¸¤ç§åšæ³•ï¼Œä¸€ç§æ˜¯ä¸€å¯¹å¤šå¯¹äº§å“æ·»åŠ æ ä½ï¼Œä¸€ç§æ˜¯å¤šå¯¹å¤šï¼Œå¤šå¯¹å¤šçš„å¥½å¤„æ˜¯åœ¨åå°ä¸¤è¾¹éƒ½å¯ä»¥ç¼–è¾‘å’ŒæŸ¥çœ‹äº§å“ã€‚ç¬¬ä¸€ç§ç›´æ¥åœ¨ransackçš„æ¨¡ç³Šæœç´¢è®¾ç½®ä¸­åŠ å…¥åˆ†ç±»çš„æ ä½ï¼Œç¬¬äºŒç§ä¸çŸ¥é“å¦‚ä½•é€šè¿‡ransackåšç­›é€‰ã€‚3ã€ç”¨è‡ªå·±çš„githubæ¡ˆä¾‹æ•´ç†æ•™ç¨‹http://milesmao233.logdown.com/posts/1366768-search-and-sort-functions-simple-ransackå¯ä»¥æ’åºçš„æœç´¢ï¼Œæœç´¢åŠŸèƒ½åšèµ·æ¥éå¸¸ç®€å•ï¼ŒæŒ‰å®˜æ–¹githubçš„åšæ³•ã€‚ å‚è€ƒèµ„æ–™ä¸€ã€ã€Œæœç´¢åŠŸèƒ½ã€ã€ã€Œå…³é”®å­—é«˜äº®ã€ã€ã€Œæ’åºã€ å¦‚ä½•åœ¨navbarä¸Šæ·»åŠ æœç´¢æ å¹¶å®ç°æœç´¢ç»“æœ job-listing by-æˆ´å»ºæ—ï¼Œä¸€ç¯‡æå®šä¸‰ä¸ªåŠŸèƒ½ã€‚ransackè¯¦ç»†è§£é‡Šç¯‡ï¼šå¦‚ä½•ç”¨ransack gemå®ç°æœç´¢åŠŸèƒ½ by-lacfoï¼Œå‚è€ƒè¿™ç¯‡äº†è§£ä»£ç ä½œç”¨ã€‚ github ransack github will_paginategithub will_paginate-bootstrap æ”¹è¿›12345&lt;% if render_highlight_content(product, @query_string).blank? %&gt; &lt;%= link_to(product.title, admin_product_path(product)) %&gt;&lt;% else %&gt; &lt;%= link_to(render_highlight_content(product, @query_string), admin_product_path(product)) %&gt;&lt;% end %&gt; [bug]æœç´¢ransackï¼Œç”¨will_paginateåˆ†é¡µåï¼Œè¾“å…¥ä¸ºç©ºæ—¶æŠ¥é”™123456789ArgumentError in Products#searchShowing /Users/apple/rails/jdstore1130/app/views/products/search.html.erb where line #19 raised:The @products variable appears to be empty. Did you forget to pass the collection object for will_paginate?Extracted source (around line #19): &lt;% end %&gt;&lt;%= will_paginate @posts %&gt; åŸå› ï¼š&lt;%= will_paginate @posts %&gt;ä½ç½®æ”¾é”™ã€‚ è§£å†³åŠæ³•ï¼šæŠŠ&lt;%= will_paginate @posts %&gt;æ”¾åœ¨&lt;% if @products.blank?&gt;ã€‚ã€‚ã€‚&lt;% end %&gt;é‡Œé¢ã€‚ 123456789101112131415161718&lt;% if @products.blank? %&gt; è¾“å…¥ä¸ºç©º&lt;% else %&gt; &lt;% @products.each do |product| %&gt; &lt;div class=&quot;col-md-3&quot;&gt; &lt;%= link_to product_path(product) do %&gt; &lt;% if product.photos.present? %&gt; &lt;%= image_tag(product.photos[0].avatar.thumb.url, class: &quot;thumbnail&quot;) %&gt; &lt;% else %&gt; &lt;%= image_tag(&quot;http://placehold.it/200x200&amp;text=No Pic&quot;, class:&quot;thumbnail&quot;) %&gt; &lt;% end %&gt; &lt;% end %&gt; &lt;%= link_to(product.title, admin_product_path(product)) %&gt; Â¥ &lt;%= product.price %&gt; å…ƒ &lt;/div&gt; &lt;% end %&gt; &lt;%= will_paginate @posts %&gt;&lt;% end %&gt;","categories":[{"name":"roråŠŸèƒ½","slug":"roråŠŸèƒ½","permalink":"http://yoursite.com/categories/roråŠŸèƒ½/"}],"tags":[{"name":"roråŠŸèƒ½","slug":"roråŠŸèƒ½","permalink":"http://yoursite.com/tags/roråŠŸèƒ½/"}],"keywords":[{"name":"roråŠŸèƒ½","slug":"roråŠŸèƒ½","permalink":"http://yoursite.com/categories/roråŠŸèƒ½/"}]},{"title":"wx-system-è“é¸¥ç³»åˆ—ã€Šå¾®ä¿¡å°ç¨‹åºå…¨æ–¹ä½æ·±åº¦è§£æã€‹è±†ç“£ç”µå½±å®ä¾‹ï¼šæœç´¢åŠŸèƒ½ã€æ•´ä¸ªé¡µé¢å¸ƒå±€å¥—è·¯","slug":"wx-system-è“é¸¥ç³»åˆ—ã€Šå¾®ä¿¡å°ç¨‹åºå…¨æ–¹ä½æ·±åº¦è§£æã€‹è±†ç“£ç”µå½±å®ä¾‹ï¼šæœç´¢åŠŸèƒ½ã€æ•´ä¸ªé¡µé¢å¸ƒå±€å¥—è·¯","date":"2018-01-01T16:10:00.000Z","updated":"2018-01-14T08:19:19.000Z","comments":true,"path":"posts/67cf4ebd/","link":"","permalink":"http://yoursite.com/posts/67cf4ebd/","excerpt":"","text":"è¿™æ˜¯è±†ç“£ç”µå½±çš„å°é¡¹ç›®ï¼Œä¸»è¦å®Œæˆé¡µé¢æ˜¾ç¤ºã€æœç´¢åŠŸèƒ½ã€‚å‚è€ƒèµ„æ–™è›®ç‰›æ•™è‚²ã€ç½‘æ˜“äº‘è¯¾å ‚ã€ç™¾åº¦ä¼ è¯¾ï¼Œæœã€Šå¾®ä¿¡å°ç¨‹åºå…¨æ–¹ä½æ·±åº¦è§£æã€‹ã€ã€Šé«˜çº§apiè§†é¢‘æ•™ç¨‹ã€‹ è›®ç‰›æ•™è‚²å…è´¹åœ¨çº¿è§†é¢‘http://edu.manew.com/course/193/learn#lesson/2559ï¼Œå¯1.5å€é€Ÿã€‚ ç½‘æ˜“äº‘è¯¾å ‚å…è´¹åœ¨çº¿è§†é¢‘ï¼Œhttp://study.163.com/course/courseLearn.htm?courseId=1003283028#/learn/video?lessonId=1003973293&amp;courseId=1003283028ï¼Œåªæœ‰1å€é€Ÿï¼Œå«ã€Šé«˜çº§apiè§†é¢‘æ•™ç¨‹ã€‹ã€‚å››ä¸ªé¡µé¢ï¼šæ¨èç”µå½±é¡µã€æœç´¢é¡µã€è¯¦æƒ…é¡µã€æˆ‘çš„é¡µ å¯ä»¥å°è£…åœ¨app.jsçš„ç»„ä»¶ï¼ˆå› ä¸ºéƒ½æ˜¯å›ºå®šå†™æ³•ï¼‰ï¼šåŠ è½½ä¸­çš„åŠ¨ç”»ã€requestè¯·æ±‚apiã€ é›¶ã€åˆé…ç½® app.json 12345678910111213141516171819202122232425262728293031&#123; &quot;pages&quot;:[ &quot;pages/index/index&quot;, &quot;pages/movie/movie&quot;, &quot;pages/search/search&quot;, &quot;pages/profile/profile&quot; ], &quot;window&quot;:&#123; &quot;backgroundTextStyle&quot;:&quot;light&quot;, &quot;navigationBarBackgroundColor&quot;: &quot;#000&quot;, &quot;navigationBarTitleText&quot;: &quot;è±†ç“£ç”µå½±&quot;, &quot;navigationBarTextStyle&quot;:&quot;white&quot; &#125;, &quot;tabBar&quot;: &#123; &quot;selectedColor&quot;: &quot;red&quot;, &quot;list&quot;: [ &#123; &quot;pagePath&quot;: &quot;pages/index/index&quot;, &quot;text&quot;: &quot;æ¨èç”µå½±&quot; &#125;, &#123; &quot;pagePath&quot;: &quot;pages/search/search&quot;, &quot;text&quot;: &quot;æœç´¢&quot; &#125;, &#123; &quot;pagePath&quot;: &quot;pages/profile/profile&quot;, &quot;text&quot;: &quot;æˆ‘çš„&quot; &#125; ] &#125;&#125; ä¸€ã€æ¨èé¡µ1ã€åŠ è½½æ•°æ®æ˜¾ç¤ºåŠ è½½ä¸­ï¼Œæ•°æ®åŠ è½½å®Œæˆåä¸æ˜¾ç¤ºåŠ è½½ä¸­ã€‚è¿™é‡Œå…ˆç”¨ES5çš„å†™æ³•ï¼Œä½ ä¹Ÿå¯ä»¥è½¬ES6å†™æ³•ã€‚ 1ï¼‰index.js 1234567891011121314151617181920212223var API_URL = &apos;https://api.douban.com/v2/movie/top250&apos;Page(&#123; data: &#123; movies: [] &#125;, onLoad:function()&#123; wx.showToast(&#123; //ç•Œé¢-äº¤äº’åé¦ˆ-åŠ è½½ä¸­ã€‚ã€‚ title: &apos;åŠ è½½ä¸­...&apos;, icon:&quot;loading&quot;, duration:10000 &#125;); wx.request(&#123; url: API_URL, header: &#123; &apos;content-type&apos;: &apos;json&apos; // é»˜è®¤å€¼ &#125;, success: function (res) &#123; console.log(res.data); wx.hideToast(); //ç•Œé¢-äº¤äº’åé¦ˆ &#125; &#125;) &#125;&#125;) é‡åˆ°çš„bugï¼Œè¯·æ±‚urlæ—¶400 (Bad Request) è§£å†³åŠæ³•ï¼šrequesté‡Œçš„content-typeç”±application/jsonæ”¹æˆjson 2ã€å¸ƒå±€ 2.1 é¡¶éƒ¨çš„viewwxml 123&lt;view class=&quot;page-header&quot;&gt; &lt;!--å› ä¸ºè¿™é‡Œæ ·å¼å‡ ä¸ªé¡µé¢ä¸€æ ·ï¼Œæ‰€ä»¥å†™åœ¨app.wxssé‡Œ--&gt; &lt;text class=&apos;page-header-text&apos;&gt;&#123;&#123;title&#125;&#125;&lt;/text&gt;&lt;/view&gt; wxss 12345678910111213141516171819page&#123; font-family: &quot;Microsoft YaHei&quot;; background: #fff; display: flex; flex-direction: column;&#125;/*index headerå…±ç”¨*/.page-header&#123; display: flex; justify-content: center; border-bottom: 2rpx solid #ccc; margin-bottom: 10rpx;&#125;.page-header-text&#123; padding: 20rpx 40rpx; color: #999; font-size: 40rpx;&#125; js 123456789101112131415onLoad:function()&#123; var that = this; //ä¿å­˜thisçš„æ•°æ® wx.request(&#123; ... success: function (res) &#123; console.log(res.data); wx.hideToast(); //ç•Œé¢-äº¤äº’åé¦ˆ var data = res.data; that.setData(&#123; title: data.title, movies: data.subjects &#125;) &#125; &#125;)&#125; 2.2 ä¸‹è¾¹å†…å®¹çš„view1ï¼‰èƒ½æ»šåŠ¨ï¼Œæ‰€ä»¥å¤–è¾¹çš„å®¹å™¨æ˜¯scroll-viewï¼Œè®¾ç½®flex:1å æ»¡å‰©ä½™ç©ºé—´ï¼Œä»¥åŠdisplayã€‚ 2ï¼‰åœ¨å®¹å™¨é‡Œï¼Œæœ‰ä¸€ä¸ªé¡µå¤´å¯¼èˆªå³æ ‡é¢˜ä½ç½®ï¼Œç”¨navigatorã€‚åœ¨é‡Œé¢è·³è½¬é¡µé¢å’Œä¼ é€’åˆ—è¡¨æ•°ç»„ã€‚ 3ï¼‰å› ä¸ºé™¤äº†æ¨èé¡µå¤–ï¼Œæœç´¢é¡µä¹Ÿç”¨åˆ°ç›¸åŒçš„cssï¼Œæ‰€æœ‰æˆ‘æŠŠæ ·å¼å†™åˆ°app.wxssã€‚ æ–‡å­—ç›’å­itemè®¾ç½®flex:1å æ»¡ç©ºé—´ è¦è®©æ¯è¡Œæ–‡å­—ç‹¬å ä¸€è¡Œï¼Œè€Œä¸æ˜¯é¦–å°¾ç›¸è¿ï¼Œè®¾ç½® display: blockï¼ˆæä¸æ‡‚çš„è¯åŠ ä¸ªbackgroundèƒŒæ™¯é¢œè‰²å°±èƒ½çœ‹æ¸…æ¥šäº†ï¼‰; 123item .title,.item .sub-title&#123; display: block;&#125; index.wxml 1234567891011121314151617&lt;scroll-view class=&apos;page-body&apos; scroll-y=&quot;true&quot;&gt; &lt;navigator url=&quot;../movie/movie&quot; open-type=&quot;switchTab&quot; wx:for=&quot;&#123;&#123;movies&#125;&#125;&quot; wx:key=&quot;&quot;&gt; &lt;!--../è¿”å›ä¸Šä¸€å±‚--&gt; &lt;view class=&apos;item&apos;&gt; &lt;image class=&quot;poster&quot; src=&quot;&#123;&#123;item.images.small&#125;&#125;&quot;&gt;&lt;/image&gt; &lt;view class=&quot;meta&quot;&gt; &lt;text class=&quot;title&quot;&gt;&#123;&#123;item.title&#125;&#125;&lt;/text&gt; &lt;text class=&quot;sub-title&quot;&gt;&#123;&#123;item.original_title&#125;&#125;(&#123;&#123;item.year&#125;&#125;)&lt;/text&gt; &lt;text class=&quot;artists&quot;&gt; &lt;text wx:for=&quot;&#123;&#123;item.directors&#125;&#125;&quot; wx:key=&quot;&quot;&gt;&#123;&#123;item.name&#125;&#125;&lt;/text&gt;&lt;!--wx:foræ•°ç»„é‡Œå¯ä»¥åµŒå¥—wx:foræ•°ç»„--&gt; &lt;/text&gt; &lt;/view&gt; &lt;view class=&quot;rating&quot;&gt; &lt;text&gt;&#123;&#123;item.rating.average&#125;&#125;&lt;/text&gt; &lt;/view&gt; &lt;/view&gt; &lt;/navigator&gt; &lt;/scroll-view&gt; app.wxss 123456789101112131415161718192021222324252627282930313233343536373839/*index bodyå…±ç”¨*/.page-body&#123; display: flex; flex:1; flex-direction: column;&#125;.item&#123; display: flex; padding: 20rpx 40rpx; border-bottom: 2rpx solid #eee;&#125;.item .poster&#123; width: 128rpx; height: 128rpx; margin-right: 20rpx;&#125;.item .meta&#123; flex:1;&#125;.item .title,.item .sub-title&#123; display: block; margin-bottom: 14rpx;&#125;.item .title&#123; font-size: 32rpx;&#125;.item .sub-title&#123; font-size: 22rpx; color: #c0c0c0;&#125;.item .artists&#123; font-size: 26rpx; color: #999;&#125;.item .rating&#123; font-size: 28rpx; font-weight: bold; color: red;&#125; äºŒã€è¯¦æƒ…é¡µhttps://api.douban.com/v2/movie/subjectï¼Œè¯¦æƒ…é¡µapiåé¢è¦æ¥ä¸€ä¸ªidï¼ˆä¸Šä¸€èŠ‚çš„apiå³https://api.douban.com/v2/movie/top250å¯ä»¥è·å–ï¼‰ æµ‹è¯•apiï¼Œåœ¨æµè§ˆå™¨è¾“å…¥https://api.douban.com/v2/movie/subject/1292063ï¼Œå¯ä»¥æ‹¿åˆ°ä¸€ç¬”æ•°æ®ã€‚ 3.1 ä»apié‡Œæ‹¿åˆ°æ•°æ®1ï¼‰åœ¨indexé¡µæ‹¿åˆ°æƒ³è¦ä¼ é€’çš„id 1&lt;navigator url=&quot;../movie/movie?id=&#123;&#123;item.id&#125;&#125;&quot; wx:for=&quot;&#123;&#123;movies&#125;&#125;&quot; wx:key=&quot;&quot;&gt; 2ï¼‰movie.jsæµ‹è¯•èƒ½ä¸èƒ½æ‹¿åˆ°id 123onLoad:function(params)&#123; console.log(params);&#125; 3ï¼‰apiè¯·æ±‚ 12345678910111213141516171819var API_URL = &quot;https://api.douban.com/v2/movie/subject&quot;Page(&#123; data: &#123; &#125;, onLoad:function(params)&#123; console.log(params); var that = this; wx.request(&#123; url: API_URL+&apos;/&apos;+params.id, header: &#123; &apos;content-type&apos;: &apos;json&apos; // é»˜è®¤å€¼ &#125;, success: function (res) &#123; console.log(res.data) &#125; &#125;) &#125;&#125;) 3.2 å¸ƒå±€ç»“æ„ æœ€å¤–å±‚ï¼Œæ˜¯ä¸€ä¸ªå¯ä»¥æ»šåŠ¨çš„å®¹å™¨ï¼Œscroll-viewï¼› ä¸Šè¾¹ï¼ŒåŒ…æ‹¬å›¾ç‰‡ã€æ ‡é¢˜ç­‰ï¼› ä¸‹è¾¹ï¼Œæ­£æ–‡ï¼› 3.3 é¡µé¢ä»£ç movie.wxml 12345678910111213&lt;scroll-view scroll-y=&quot;true&quot;&gt; &lt;view class=&apos;meat&apos;&gt; &lt;image class=&apos;poster&apos; src=&apos;&#123;&#123;movie.images.large&#125;&#125;&apos; background-size=&quot;cover&quot;&gt;&lt;/image&gt; &lt;text class=&quot;title&quot;&gt;&#123;&#123;movie.title&#125;&#125;(&#123;&#123;movie.year&#125;&#125;)&lt;/text&gt; &lt;text class=&apos;info&apos;&gt;è¯„åˆ†ï¼š&#123;&#123;movie.rating&#125;&#125;&lt;/text&gt; &lt;text class=&apos;info&apos;&gt;å¯¼æ¼”ï¼š&lt;block wx:for=&quot;&#123;&#123;movie.directors&#125;&#125;&quot; wx:key=&quot;&quot;&gt;&#123;&#123;item.name&#125;&#125;&lt;/block&gt;&lt;/text&gt; &lt;text class=&quot;info&quot;&gt;ä¸»æ¼”ï¼š&lt;block wx:for=&quot;&#123;&#123;movie.casts&#125;&#125;&quot; wx:key=&quot;&quot;&gt;&#123;&#123;item.casts&#125;&#125;&lt;/block&gt;&lt;/text&gt; &lt;/view&gt; &lt;view class=&apos;summary&apos;&gt; &lt;text class=&quot;label&quot;&gt;æ‘˜è¦ï¼š&lt;/text&gt; &lt;text class=&apos;content&apos;&gt;&#123;&#123;movie.summary&#125;&#125;&lt;/text&gt; &lt;/view&gt;&lt;/scroll-view&gt; movie.wxss 12345678910111213141516171819202122232425262728293031323334.meta&#123; display: flex; flex-direction: column; align-content: center; height: 1000rpx; padding: 50rpx 40rpx;&#125;.poster&#123; width: 80%; height: 500rpx; margin: 20rpx;&#125;.title&#123; font-style: 42rpx; color: #444;&#125;.info&#123; font-size: 18rpx; color: #888; margin-top: 20rpx; width: 80%;&#125;.summary&#123; width: 80%; margin: 30rpx auto;&#125;.label &#123; display: block;&#125;.content&#123; color: #666; font-size: 20rpx; padding: 10rpx;&#125; ä¸‰ã€æœç´¢é¡µç”¨åˆ°çš„apiæ˜¯https://api.douban.com/v2/movie/searchï¼Œåé¢æ¥`?q=æœç´¢å†…å®¹`å³æ¥ç€å‚æ•°qï¼Œqç­‰äºæœç´¢çš„å†…å®¹ã€‚ æµ‹è¯•apiï¼Œåœ¨æµè§ˆå™¨è¾“å…¥https://api.douban.com/v2/movie/search?q=å®«å´éªï¼Œå¯ä»¥æ‹¿åˆ°ä¸€ç¬”æ•°æ®ã€‚ ï¼ï¼ï¼æ‰€ä»¥æœç´¢åŠŸèƒ½æ˜¯åœ¨åç«¯å®ç°çš„ï¼Œåšæˆpostçš„apiï¼Œå°ç¨‹åºåªæ˜¯ä»è¿™ä¸ªapié‡Œè¯·æ±‚åˆ°æ•°æ®ç„¶ååœ¨wxmlé‡Œæ˜¾ç¤ºå‡ºæ¥ã€‚1ã€æ‹†åˆ†åŠŸèƒ½1ï¼‰æ–‡æœ¬è¾“å…¥æ¡† 2ï¼‰æ‹¾å–å…‰æ ‡çš„æ—¶å€™ä¼šè§¦å‘æœç´¢ 3ï¼‰æœç´¢çš„æ—¶å€™æœ‰loadingçš„åŠ¨ç”» 2ã€æ‹¿åˆ°æ•°æ®2.1 æ–‡æœ¬è¾“å…¥æ¡†search.wxml 123&lt;view class=&quot;page-header&quot;&gt; &lt;input class=&apos;page-header-text&apos; placeholder=&apos;è¾“å…¥æœç´¢å…³é”®è¯&apos; auto-focus bindchange=&quot;search&quot;/&gt;&lt;/view&gt; 2.2 bindchange=&quot;search&quot;ï¼Œç»‘å®šchangeäº‹ä»¶ï¼Œå½“searchçš„å€¼æ”¹å˜çš„æ—¶å€™è§¦å‘searchã€‚1ï¼‰æµè§ˆå™¨è¾“å…¥https://api.douban.com/v2/movie/search?q=å®«å´éªï¼Œè§‚å¯Ÿè·å¾—çš„æ•°æ®ï¼Œæ˜¯å’Œæ¨èé¡µæ‹¿åˆ°çš„æ•°æ®ç»“æ„ä¸€æ ·ï¼Œæ‰€ä»¥è¿™é‡Œjsé‡Œçš„dataè¿˜æ˜¯ç”¨moviesã€‚ 2ï¼‰searchçš„functioné‡Œï¼Œå…ˆæ‰§è¡Œè¾“å…¥å€¼çš„åˆ¤æ–­ï¼Œå¦‚æœå€¼ä¸ºç©ºåˆ™returnè¿”å›ï¼Œå¦‚æœæœ‰å€¼æ‰ä¼šæ‰§è¡Œæœç´¢ã€‚ 1234567891011121314151617181920212223242526var API_URL = &apos;https://api.douban.com/v2/movie/search&apos;Page(&#123; data:&#123; movies: [] &#125;, search:function(e)&#123; if(!e.detail.value)&#123; return; &#125; wx.showToast(&#123; //åŠ è½½ä¸­çš„åŠ¨ç”»æ•ˆæœ title:&quot;åŠ è½½ä¸­..&quot;, icon:&quot;loading&quot;, duration:10000 &#125;); var that = this; //ä¿å­˜thisçš„æ•°æ® wx.request(&#123; url: API_URL + &quot;?q=&quot; + e.detail.value, header: &#123; &apos;content-type&apos;: &apos;json&apos; // é»˜è®¤å€¼ &#125;, success: function (res) &#123; console.log(res.data) &#125; &#125;) &#125;&#125;) 3ï¼‰æµ‹è¯•ï¼šåœ¨å¾®ä¿¡å¼€å‘å·¥å…·é‡Œæµ‹è¯•æœç´¢â€œå®«å´éªâ€ï¼Œcosoleé‡Œå‘ç°æˆåŠŸæ‹¿åˆ°æ•°ç»„æ•°æ®ã€‚ 2.3 å…³é—­åŠ è½½ä¸­çš„åŠ¨ç”»ï¼Œå¹¶æŠŠmoviesæ•°ç»„ç”±[]æ”¹æˆåˆšåˆšæ‹¿åˆ°çš„æ•°ç»„æ•°æ®1ï¼‰åœ¨search functionçš„success functioné‡ŒåŠ å…¥ 1234567success: function (res) &#123; console.log(res.data) wx.hideToast(); that.setData(&#123; movies: res.data.subjects &#125;) &#125; 3ã€åœ¨é¡µé¢æ˜¾ç¤ºæ•°æ® 1ï¼‰å¤åˆ¶index.wxmlçš„scroll-viewéƒ¨åˆ†ï¼Œç²˜è´´åˆ°search.wxmlã€‚ å› ä¸ºindexè¿™éƒ¨åˆ†çš„cssæ˜¯æ”¾åœ¨app.wxssï¼Œæ‰€ä»¥ä¹Ÿä¸ç”¨å†æ”¹æ ·å¼ï¼Œå¾ˆæ–¹ä¾¿ã€‚ æ›´é‡è¦çš„æ˜¯å› ä¸ºç»“æ„ä¸€æ ·ï¼Œjsé‡Œä¼ é€’æ•°æ®çš„æ•°ç»„éƒ½æ˜¯ç”¨movies:[]ï¼Œæ‰€ä»¥å¯ä»¥æ˜¾ç¤ºæœç´¢ç»“æœã€‚è€Œwxmlé‡Œçš„é¡µé¢è·³è½¬ä¹Ÿæ˜¯ä¼ é€’ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥è¿›åˆ°è¯¦æƒ…é¡µã€‚ 1234567891011121314151617&lt;scroll-view class=&apos;page-body&apos; scroll-y=&quot;true&quot;&gt; &lt;navigator url=&quot;../movie/movie?id=&#123;&#123;item.id&#125;&#125;&quot; wx:for=&quot;&#123;&#123;movies&#125;&#125;&quot; wx:key=&quot;&quot;&gt; &lt;!--../è¿”å›ä¸Šä¸€å±‚--&gt; &lt;view class=&apos;item&apos;&gt; &lt;image class=&quot;poster&quot; src=&quot;&#123;&#123;item.images.small&#125;&#125;&quot;&gt;&lt;/image&gt; &lt;view class=&quot;meta&quot;&gt; &lt;text class=&quot;title&quot;&gt;&#123;&#123;item.title&#125;&#125;&lt;/text&gt; &lt;text class=&quot;sub-title&quot;&gt;&#123;&#123;item.original_title&#125;&#125;(&#123;&#123;item.year&#125;&#125;)&lt;/text&gt; &lt;text class=&quot;artists&quot;&gt; &lt;text wx:for=&quot;&#123;&#123;item.directors&#125;&#125;&quot; wx:key=&quot;&quot;&gt;&#123;&#123;item.name&#125;&#125;&lt;/text&gt;&lt;!--wx:foræ•°ç»„é‡Œå¯ä»¥åµŒå¥—wx:foræ•°ç»„--&gt; &lt;/text&gt; &lt;/view&gt; &lt;view class=&quot;rating&quot;&gt; &lt;text&gt;&#123;&#123;item.rating.average&#125;&#125;&lt;/text&gt; &lt;/view&gt; &lt;/view&gt; &lt;/navigator&gt; &lt;/scroll-view&gt; å››ã€99å¯¹æœ¬æ•™ç¨‹é¡µé¢å¥—è·¯æ€»ç»“åŸºæœ¬æµç¨‹éƒ½æ˜¯è¿™æ ·çš„ï¼Œå¦‚æœå¤æ‚ä¸€ç‚¹å¯èƒ½å°±æ˜¯å¯¹åº”çš„æ¥å£å¤šä¸€ç‚¹ã€‚ 1ã€å…ˆåœ¨phpã€railsç­‰åç«¯åšå¥½ç›¸å…³åŠŸèƒ½çš„apiã€‚1ï¼‰æ¯”å¦‚æœç´¢è¦åšæˆpostçš„apiã€é¦–é¡µæ˜¾ç¤ºåˆ™åšgetçš„apiï¼› 2ã€åœ¨æµè§ˆå™¨è¾“å…¥apiï¼Œçœ‹èƒ½ä¸èƒ½æ‹¿åˆ°ä¸€ç¬”ä¸æœ¬é¡µé¢ç›¸å…³çš„æ•°æ®ã€‚1ï¼‰å¦‚æœæ‹¿ä¸åˆ°è¿˜æ˜¯å…ˆå»æŠŠapiåšå¥½ã€‚ 3ã€æ‹†åˆ†åŠŸèƒ½ã€‚1ï¼‰ä¸€èˆ¬å¯ä»¥å½’ä¸ºä¸¤ç±»ï¼ˆâ‘ æ‹¿åˆ°æ•°æ®ã€â‘¡æ˜¾ç¤ºæ•°æ®ï¼‰ã€‚ 4ã€æ‹¿åˆ°æ•°æ®ã€‚1ï¼‰å…·ä½“æ˜¯åœ¨wxmlç»‘å®šäº‹ä»¶ã€æˆ–è·³è½¬é¡µé¢ä¼ é€’å‚æ•°ï¼Œç„¶ååœ¨jsé‡Œå‘èµ·requestè¯·æ±‚ã€‚ 5ã€æ˜¾ç¤ºæ•°æ®ã€‚1ï¼‰wxmlå’Œwxssé¡µé¢ï¼Œä¸€å¼€å§‹å¯ä»¥æ€»è§ˆå…¨å±€ï¼Œçœ‹å“ªäº›é¡µé¢ç»“æ„ç›¸åŒå¯ä»¥æŠŠcssæ”¾åœ¨app.wxsså…±ç”¨ã€‚ 2ï¼‰å†™é¡µé¢çš„é¡ºåºæ˜¯ï¼šå…ˆéª¨æ¶å¸ƒå±€wxmlã€å†ç©¿è¡£æœwxssã€æœ€åæ‰è€ƒè™‘jsåŠ¨ç”» 3ï¼‰å¦‚ä¸‹å›¾ï¼Œä¸€ä¸ªæ¡†èµ·æ¥çš„æ¨¡å—å°±å†™ä¸€ä¸ªviewï¼Œé‡Œè¾¹å¯ä»¥å¤¹æ‚å„ç§imageã€textï¼Œåˆ†åˆ«è®¾ç½®class 12345&lt;view class=&apos;summary&apos;&gt; &lt;image class=&apos;poster&apos; src=&apos;&#123;&#123;movie.images.large&#125;&#125;&apos; background-size=&quot;cover&quot;&gt;&lt;/image&gt; &lt;text class=&quot;label&quot;&gt;æ‘˜è¦ï¼š&lt;/text&gt; &lt;text class=&apos;content&apos;&gt;&#123;&#123;movie.summary&#125;&#125;&lt;/text&gt;&lt;/view&gt;","categories":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}],"tags":[{"name":"å¾®ä¿¡ç³»ç»Ÿ","slug":"å¾®ä¿¡ç³»ç»Ÿ","permalink":"http://yoursite.com/tags/å¾®ä¿¡ç³»ç»Ÿ/"}],"keywords":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}]},{"title":"tool-typora-typoraé…åˆå›¾åºŠå·¥å…·ipicçš„å„ç§ä½¿ç”¨æ–¹æ³•","slug":"tool-typora-typoraé…åˆå›¾åºŠå·¥å…·ipicçš„å„ç§ä½¿ç”¨æ–¹æ³•","date":"2017-12-31T16:10:00.000Z","updated":"2018-01-14T08:19:19.000Z","comments":true,"path":"posts/74f9c533/","link":"","permalink":"http://yoursite.com/posts/74f9c533/","excerpt":"","text":"å‚è€ƒèµ„æ–™iPic - å›¾åºŠç¥å™¨ iPic + Typoraï¼Œæ–¹ä¾¿å¿«æ·åœ°åœ¨ Markdown ä¸­æ’å›¾ | ä¸€æ—¥ä¸€æŠ€ Windowsç‰ˆæœ¬çš„Typoraä½¿ç”¨æŠ€å·§ ä½¿ç”¨ Typora ä¸€æ¬¡æ€§æå®šå…¬ä¼—å·å†™ä½œä¸æ’ç‰ˆ ä¸€ã€typora+ipicï¼ˆ99æ–¹æ¡ˆï¼‰1ï¼‰æˆªå›¾ï¼Œæˆ–å¤åˆ¶ç½‘ç«™ä¸Šçš„å›¾ç‰‡åï¼Œshift+command+uä¸Šä¼  2ï¼‰æœ¬åœ°å›¾ç‰‡ï¼Œç‚¹å‡»åcommand+uä¸Šä¼  3ï¼‰typoraè®¾ç½®ç²˜è´´å›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ ï¼ˆç¼–è¾‘-å›¾ç‰‡å·¥å…·-å½“æ’å…¥æœ¬åœ°å›¾ç‰‡æ—¶-ä½¿ç”¨ipicä¸Šä¼ ï¼‰ã€‚ å¦‚æœéœ€è¦å¤‡ä»½æœ¬åœ°å›¾ç‰‡ï¼Œå¯ä»¥è¿™æ ·ä¿®æ”¹ï¼š â‘ ã€ç¼–è¾‘-å›¾ç‰‡å·¥å…·-å½“æ’å…¥æœ¬åœ°å›¾ç‰‡æ—¶-æ‹·è´åˆ°æ–‡ä»¶å¤¹ â‘¡ã€å½“æ–‡ç« å†™å¥½åï¼Œç¼–è¾‘-å›¾ç‰‡å·¥å…·-ä½¿ç”¨ipicä¸Šä¼ æœ¬åœ°å›¾ç‰‡ 4ï¼‰å›¾ç‰‡ç”¨imgæ ‡ç­¾ï¼Œå¯ä»¥æ”¹å¤§å°&lt;img src=&quot;&quot; width=&quot;500&quot;&gt;","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/å·¥å…·/"},{"name":"typora","slug":"typora","permalink":"http://yoursite.com/tags/typora/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}]},{"title":"wx-system-è“é¸¥ç³»åˆ—ã€Šé«˜çº§apiè§†é¢‘æ•™ç¨‹ã€‹è¿›é˜¶æ•™ç¨‹","slug":"wx-system-è“é¸¥ç³»åˆ—ã€Šé«˜çº§apiè§†é¢‘æ•™ç¨‹ã€‹è¿›é˜¶æ•™ç¨‹","date":"2017-12-31T16:10:00.000Z","updated":"2018-01-14T07:27:53.000Z","comments":true,"path":"posts/ce9bbb1c/","link":"","permalink":"http://yoursite.com/posts/ce9bbb1c/","excerpt":"","text":"ä¸€ã€å°ç¨‹åºæ³¨å†ŒåŠæœåŠ¡å™¨é…ç½®1ã€å°ç¨‹åºæ•™ç¨‹1ï¼‰æœç´¢ç™¾åº¦ä¼ è¯¾ï¼Œæœâ€œå¾®ä¿¡å°ç¨‹åºâ€ï¼Œé”€é‡æ’è¡Œé‡Œçš„ã€Šå¾®ä¿¡å°ç¨‹åºå…¨æ–¹ä½æ·±åº¦è§£æã€‹ï¼Œè“é¸¥å‡ºå“ã€‚ ä¸»è¦åˆ†æä¸€äº›å‰ç«¯ç»„ä»¶ã€åŠŸèƒ½ã€è´ªåƒè›‡é¡¹ç›®ã€è±†ç“£ç”µå½±é¡¹ç›®ã€‚ 2ã€æ€»è§ˆPSï¼šä»¥ä¸‹è¿™äº›apiéƒ½å…·æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼šéœ€è¦è·Ÿåå°è¿›è¡Œé…åˆã€‚æ‰€ä»¥è¿™ä¸ªè¯¾è¦æœ‰å‰å°ã€åå°åŸºç¡€ï¼ˆä¸»è¦ä»¥phpï¼Œwebsocketæ¥å£åå°æˆ‘ç”¨nodejsï¼‰ã€‚1ï¼‰wx.uploadFileï¼Œä¸Šä¼ å¤´åƒã€å›¾ç‰‡ï¼› 2ï¼‰wx.connectSocketï¼Œåšå®æ—¶çš„ä¸œè¥¿ï¼Œæ¯”å¦‚ç›´æ’­ï¼› 3ï¼‰wx.loginï¼Œç™»å½•æ—¶æ‹¿åˆ°ç”¨æˆ·çš„openidã€‚ä¸€äº›æ¥å£å¦‚æ¨¡æ¿æ¶ˆæ¯ç­‰è¦ç”¨åˆ°ï¼Œç”¨çš„éå¸¸å¤šï¼› 4ï¼‰wx.requestPaymentï¼Œå¾®ä¿¡æ”¯ä»˜ï¼› 5ï¼‰æ¨¡æ¿æ¶ˆæ¯ï¼Œç”¨æˆ·æ”¯ä»˜åç»™ä»–çš„ä¸€äº›åé¦ˆã€æç¤ºï¼› 6ï¼‰å®¢æœæ¶ˆæ¯ï¼ŒèŠå¤©åŠŸèƒ½ï¼› 3ã€è¦åšçš„å‡†å¤‡å·¥ä½œ1ï¼‰å°ç¨‹åºçš„æ³¨å†Œï¼Œæ‹¿åˆ°appidã€‚æœç´¢â€œå¾®ä¿¡å…¬ä¼—å¹³å°â€-ç«‹å³æ³¨å†Œ-é€‰æ‹©å°ç¨‹åºã€‚ 2ï¼‰æœåŠ¡å™¨æ­å»ºï¼Œå¯ç”¨æ–°æµªäº‘saeï¼Œè‡ªå¸¦åŸŸåå’Œhttpsã€è€Œä¸”æ˜¯æŒ‰ç”¨æ—¶æ”¶è´¹ã€‚ 3ï¼‰å°ç¨‹åºåå°ï¼Œé…ç½®æœåŠ¡å™¨åŸŸåã€‚socketåŸŸåå¯ä»¥ä¸é…ç½®ï¼Œå…¶ä»–å‡ ä¸ªå¯å¡«ç›¸åŒçš„åŸŸåã€‚ 4ï¼‰ äºŒã€æ‰“å¼€å›¾ç‰‡wx.uploadFileï¼ˆå‰ç«¯ä»£ç ï¼‰1ã€å‡†å¤‡å·¥ä½œ1ï¼‰å°ç¨‹åºåå°ï¼Œè®¾ç½®ä¸Šä¼ ã€ä¸‹è½½åŸŸåï¼Œå¯ä»¥ç”¨requestçš„åŸŸåï¼› 2ï¼‰ç”¨apiIDæ·»åŠ é¡¹ç›® 3ï¼‰æ¸…ç©ºindex.wxmlã€index.jsä¿ç•™page 2ã€å¼€å§‹2.1wxml 1&lt;button bindtap=&quot;uploadImg&quot;&gt;æ‰“å¼€å›¾ç‰‡&lt;/button&gt; js 123456789Page(&#123; data: &#123; &#125;, uploadImag:function()&#123; &#125;&#125;) 2.2 wx.chooseImageï¼Œæ¯”è¾ƒç®€å•ã€‚å…ˆå¤åˆ¶ç¤ºä¾‹ä»£ç ã€‚åŠ å…¥console.log(tempFilePaths);ï¼Œå¯ä»¥åœ¨consoleé‡Œçœ‹åˆ°è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå¸¦æœ‰å›¾ç‰‡ç½‘å€çš„æ•°ç»„ã€‚ 123456789101112uploadImag:function()&#123; wx.chooseImage(&#123; count: 1, // æ‰“å¼€æˆ–é€‰æ‹©å›¾ç‰‡çš„æ•°é‡ã€‚é»˜è®¤9 sizeType: [&apos;original&apos;, &apos;compressed&apos;], // å¯ä»¥æŒ‡å®šæ˜¯åŸå›¾è¿˜æ˜¯å‹ç¼©å›¾ï¼Œé»˜è®¤äºŒè€…éƒ½æœ‰ sourceType: [&apos;album&apos;, &apos;camera&apos;], // å¯ä»¥æŒ‡å®šæ¥æºæ˜¯ç›¸å†Œè¿˜æ˜¯ç›¸æœºï¼Œé»˜è®¤äºŒè€…éƒ½æœ‰ success: function (res) &#123; // è¿”å›é€‰å®šç…§ç‰‡çš„æœ¬åœ°æ–‡ä»¶è·¯å¾„åˆ—è¡¨ï¼ŒtempFilePathå¯ä»¥ä½œä¸ºimgæ ‡ç­¾çš„srcå±æ€§æ˜¾ç¤ºå›¾ç‰‡ var tempFilePaths = res.tempFilePaths console.log(tempFilePaths); &#125; &#125;)&#125; 2.3 è°ƒç”¨å›¾ç‰‡wxml 1&lt;image src=&quot;&#123;&#123;imgSrc&#125;&#125;&quot;&gt;&lt;/image&gt; js 12345678910111213141516uploadImag:function()&#123; var that = this;//ç¼“å­˜ä¸€ä¸‹ wx.chooseImage(&#123; count: 1, // æ‰“å¼€æˆ–é€‰æ‹©å›¾ç‰‡çš„æ•°é‡ã€‚é»˜è®¤9 sizeType: [&apos;original&apos;, &apos;compressed&apos;], // å¯ä»¥æŒ‡å®šæ˜¯åŸå›¾è¿˜æ˜¯å‹ç¼©å›¾ï¼Œé»˜è®¤äºŒè€…éƒ½æœ‰ sourceType: [&apos;album&apos;, &apos;camera&apos;], // å¯ä»¥æŒ‡å®šæ¥æºæ˜¯ç›¸å†Œè¿˜æ˜¯ç›¸æœºï¼Œé»˜è®¤äºŒè€…éƒ½æœ‰ success: function (res) &#123; // è¿”å›é€‰å®šç…§ç‰‡çš„æœ¬åœ°æ–‡ä»¶è·¯å¾„åˆ—è¡¨ï¼ŒtempFilePathå¯ä»¥ä½œä¸ºimgæ ‡ç­¾çš„srcå±æ€§æ˜¾ç¤ºå›¾ç‰‡ var tempFilePaths = res.tempFilePaths that.setData(&#123; imgSrc: tempFilePaths[0] &#125;); console.log(tempFilePaths); &#125; &#125;)&#125; é‡åˆ°çš„bugï¼šnet::ERR_NAME_NOT_RESOLVED å…³é—­shadowsocksä»£ç†ï¼Œæˆ–è€…ä¾æ¬¡ç‚¹å‡»å·¥å…·æ â€œè®¾ç½®â€-â€œä»£ç†è®¾ç½®â€ï¼Œé€‰æ‹©â€œä¸ä½¿ç”¨ä»»ä½•ä»£ç†ï¼Œå‹¾é€‰åç›´è¿ç½‘ç»œâ€ã€‚ 2.4 æœ¬ç« éš¾ç‚¹wx.uploadFileã€‚1ï¼‰é‡è¦å‚æ•° urlï¼ŒæœåŠ¡å™¨url filePathï¼Œæ–‡ä»¶è·¯å¾„å³ä¸Šè¾¹è·å–çš„tempFilePaths nameï¼Œæ–‡ä»¶å¯¹åº”çš„keyï¼Œæ³¨æ„è¿™ä¸ªkeyè·å–çš„æ˜¯æ–‡ä»¶äºŒè¿›åˆ¶çš„å†…å®¹ï¼Œå¿…é¡»ç”¨äºŒè¿›åˆ¶çš„æ–¹å¼å¤„ç† 2ï¼‰å‰ç«¯ä»£ç å¦‚ä¸‹ï¼Œå‰©ä¸‹çš„urléœ€è¦åç«¯å¤„ç†ã€‚ 1234567891011121314151617181920212223success: function (res) &#123; // è¿”å›é€‰å®šç…§ç‰‡çš„æœ¬åœ°æ–‡ä»¶è·¯å¾„åˆ—è¡¨ï¼ŒtempFilePathå¯ä»¥ä½œä¸ºimgæ ‡ç­¾çš„srcå±æ€§æ˜¾ç¤ºå›¾ç‰‡ var tempFilePaths = res.tempFilePaths /* //æ˜¾ç¤ºå›¾ç‰‡ that.setData(&#123; imgSrc: tempFilePaths[0] &#125;); console.log(tempFilePaths);*/ //ä¸Šä¼ å›¾ç‰‡ wx.uploadFile(&#123; url: &apos;&apos;, filePath: tempFilePaths[0], name: &apos;fileup&apos;, success: function(res)&#123; var data = res.data; console.log(data); &#125;, fail:function()&#123; console.log(&apos;fail&apos;); &#125; &#125;)&#125; ä¸‰ã€ä¸Šä¼ ä¸‹è½½apiï¼ˆåç«¯ä»£ç ï¼‰é—®é¢˜ï¼šruby on rails + ubuntu +ä¸ƒç‰›äº‘ï¼Œæ€ä¹ˆè®¾ç½®æ¥æ”¶å›¾ç‰‡çš„ç›®å½•ï¼Ÿ å››ã€ç™»å½•apiè·å–openidäº”ã€å®¢æœä¼šè¯å…­ã€å®¢æœä¼šè¯2ä¸ƒã€æ¨¡æ¿æ¶ˆæ¯å…«ã€æ¨¡æ¿æ¶ˆæ¯2ä¹ã€websocketåã€websocket2åä¸€ã€å¾®ä¿¡æ”¯ä»˜1åäºŒã€å¾®ä¿¡æ”¯ä»˜2","categories":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}],"tags":[{"name":"å¾®ä¿¡ç³»ç»Ÿ","slug":"å¾®ä¿¡ç³»ç»Ÿ","permalink":"http://yoursite.com/tags/å¾®ä¿¡ç³»ç»Ÿ/"}],"keywords":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}]},{"title":"wx-system-99å°ç¨‹åºé¡¹ç›®åç«¯apiå¼€å‘è¿›åº¦","slug":"wx-system-99å°ç¨‹åºé¡¹ç›®åç«¯apiå¼€å‘è¿›åº¦","date":"2017-12-31T16:10:00.000Z","updated":"2018-01-14T07:43:12.000Z","comments":true,"path":"posts/6926316/","link":"","permalink":"http://yoursite.com/posts/6926316/","excerpt":"","text":"92ã€can search category on product#index (many to many)1ï¼‰åœ¨product#indeå¯ä»¥ç­›é€‰åˆ†ç±»categoryã€‚productå’Œcategoryæ˜¯å¤šå¯¹å¤šå…³ç³»ã€‚ 2ï¼‰å‚è€ƒæ•™ç¨‹http://superlei-blog.logdown.com/posts/1744668-a-many-to-many-classification-lines 93ã€api can search category on product#index (many to many)1ï¼‰apiä¹Ÿå¯ä»¥åœ¨productç­›é€‰åˆ†ç±»ã€‚ 94ã€api category#show1ï¼‰api category#showã€‚ 2)å‘ç°åœ¨å°ç¨‹åºæ‹¿åˆ†ç±»ä¸‹çš„äº§å“ï¼Œé™¤äº†åœ¨productä¸Šç­›é€‰å¤–ï¼Œç›´æ¥æ‹¿åˆ†ç±»çš„showæ›´ç®€æ´ã€‚ 95ã€add READLOG.md1ï¼‰å¢åŠ æ›´æ–°æ—¥å¿—READLOG 96ã€random product 81ï¼‰éšæœºå•†å“random8 97ã€api random product 81ï¼‰apiï¼Œéšæœºå•†å“random8","categories":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}],"tags":[{"name":"å¾®ä¿¡ç³»ç»Ÿ","slug":"å¾®ä¿¡ç³»ç»Ÿ","permalink":"http://yoursite.com/tags/å¾®ä¿¡ç³»ç»Ÿ/"}],"keywords":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}]},{"title":"wx-system-å¾®ä¿¡å°ç¨‹åºå¼€å‘(è§†é¢‘)openclub","slug":"wx-system-å¾®ä¿¡å°ç¨‹åºå¼€å‘(è§†é¢‘)openclub","date":"2017-12-31T16:10:00.000Z","updated":"2018-01-14T09:15:21.000Z","comments":true,"path":"posts/17e87488/","link":"","permalink":"http://yoursite.com/posts/17e87488/","excerpt":"","text":"å‚è€ƒèµ„æ–™openclubå¾®ä¿¡å°ç¨‹åºå¼€å‘è§†é¢‘ å¾®ä¿¡å°ç¨‹åºå¼€å‘è€…æ–‡æ¡£ å°ç¨‹åºè¯¾ç¨‹-ä»£ç  æ³¨è§£æ–¹æ³•ï¼šjsæ–‡ä»¶ç”¨//xxxï¼Œwxmlæ–‡ä»¶ç”¨&lt;!-- xx --&gt;ï¼Œwxssæ–‡ä»¶ç”¨/* xx */ æœ¬è¯¾ç¨‹åªè®²è§£å¾®ä¿¡å°ç¨‹åºå®˜æ–¹æ–‡æ¡£çš„é‡ç‚¹å†…å®¹ï¼Œç»†èŠ‚è¿˜éœ€è¦è‡ªå·±çœ‹ã€‚ é—ç•™é—®é¢˜ æ³¨æ„äº‹é¡¹ï¼š 1ã€adminåå°ä¸è¦åšåœ¨å°ç¨‹åºä¸Šï¼Œäº§å“å’Œåˆ†ç±»çš„å¢åŠ ã€åˆ é™¤ã€ç¼–è¾‘ä¸è¦é›†æˆåœ¨åŒä¸ªé¡µé¢ 2ã€ç¬¬ä¸€æ¬¡ç»´æŠ¤å¾®ä¿¡ç™»å½•çŠ¶æ€ï¼Œå¹¶æ¥å…¥è‡ªå·±çš„ç”¨æˆ·ç³»ç»Ÿä¼šå¾ˆèŠ±æ—¶é—´ï¼Œæä¸å®šæ±‚åŠ© 3ã€ç¬¬ä¸€æ¬¡åšåˆ†ç±»é¡µé¢ä¸ç”¨æŠ˜è…¾å·¦å³è”åŠ¨ ä¸€ã€å¾®ä¿¡å°ç¨‹åºåŸºæœ¬æ¦‚å¿µé‡ç‚¹è®²è§£æ¡†æ¶ã€ç»„å»ºã€APIã€‚ æ‰“åŒ…1Må¤§å°é—®é¢˜ã€‚ æ²¡æœ‰å…¬å¸çš„èµ„æ ¼ï¼Œå³æ²¡æœ‰AppIDï¼Œå¯ä»¥ä¸å¡«ç›´æ¥åšä½“éªŒå¼€å‘ã€‚ äºŒã€tabbarçš„è®¾ç½®ä¸ç›¸å…³1ã€æ–‡ç« å¼€å¤´ç»™äº†ä¸€ä¸ªå®Œæ•´çš„æµ‹è¯•æ¡ˆä¾‹2ã€tabbaråœ¨æ¡†æ¶-é…ç½®ä¸‹ã€‚1ï¼‰æ‰¾åˆ°app.jsonæ–‡ä»¶ï¼Œå¤åˆ¶æ–‡æ¡£ä»£ç ã€‚é¢„è§ˆå¯ä»¥çœ‹åˆ°åº•éƒ¨å‡ºç°é¦–é¡µã€æ—¥å¿—ä¸¤æ ã€‚ ç”±äºå±å¹•é€‚é…é—®é¢˜ï¼Œå®˜æ–¹é™åˆ¶æœ€å¤šåªèƒ½ç”¨5ä¸ªtabã€‚ 123456789&quot;tabBar&quot;: &#123; &quot;list&quot;: [&#123; &quot;pagePath&quot;: &quot;pages/index/index&quot;, &quot;text&quot;: &quot;é¦–é¡µ&quot; &#125;, &#123; &quot;pagePath&quot;: &quot;pages/logs/logs&quot;, &quot;text&quot;: &quot;æ—¥å¿—&quot; &#125;]&#125; 2ï¼‰æ¡†æ¶-é…ç½®-tabbarï¼Œæ‰¾åˆ°iconPathã€selectedIconPathï¼Œæ·»åŠ åˆ°ä¸‹ä¸€æ®µä»£ç ä¸­ 123456&#123; &quot;pagePath&quot;: &quot;pages/logs/logs&quot;, &quot;text&quot;: &quot;æ—¥å¿—&quot;, &quot;iconPath&quot;: &quot;images/icon_seo.png&quot;, &quot;selectedIconPath&quot;: &quot;images/icon_seo_HL.png&quot;&#125; æ•ˆæœå›¾å¦‚ä¸‹ï¼Œæ—¥å¿—æœ‰å›¾æ ‡ï¼Œå¹¶ä¸”ç‚¹å‡»æ—¶å˜æˆé«˜äº®ç»¿è‰² 3ã€å…¶ä»–é…ç½®1ï¼‰ç½‘ç»œè¯·æ±‚æ—¶é—´networkTimeoutæ¨¡å— 2ï¼‰é¡µå¤´é¢œè‰²å’Œæ–‡å­—çš„é…ç½®page.jsonæ¨¡å— ä¸‰ã€æ³¨å†Œç¨‹åºåŠç¨‹åºç”Ÿå‘½å‘¨æœŸ1ã€è®²è§£1ï¼‰å¼€å‘-æ¡†æ¶-é€»è¾‘å±‚-æ³¨å†Œç¨‹åºï¼Œè¦äº†è§£çš„æ˜¯ç”Ÿå‘½å‘¨æœŸçš„æ¦‚å¿µã€‚onLaunchã€onShowã€onHideã€onErrorã€å…¶ä»–ã€‚ 2ï¼‰å…¨å±€å‡½æ•°getApp()ã€‚å…ˆå®šä¹‰ä¸€ä¸ªå…¨å±€å‡½æ•°ï¼Œç„¶åè¯»å–å…¨å±€å…±äº«çš„å‡½æ•°ã€‚ 123// other.jsvar appInstance = getApp()console.log(appInstance.globalData) // I am global data æ–‡æ¡£çš„ä¸œè¥¿æ¯”è¾ƒç®€å•ï¼Œä¸»è¦çœ‹ä¸€ä¸‹å¯¹åº”çš„ä»£ç ã€‚ 2ã€ä»£ç 1ï¼‰app.jsæ–‡ä»¶ä»£ç è§£è¯»ï¼š 123456789101112131415161718192021222324252627282930313233343536373839//app.jsApp(&#123; onLaunch: function () &#123; // å±•ç¤ºæœ¬åœ°å­˜å‚¨èƒ½åŠ› var logs = wx.getStorageSync(&apos;logs&apos;) || [] logs.unshift(Date.now()) wx.setStorageSync(&apos;logs&apos;, logs) // ç™»å½• wx.login(&#123; success: res =&gt; &#123; // å‘é€ res.code åˆ°åå°æ¢å– openId, sessionKey, unionId &#125; &#125;) // è·å–ç”¨æˆ·ä¿¡æ¯ wx.getSetting(&#123; success: res =&gt; &#123; if (res.authSetting[&apos;scope.userInfo&apos;]) &#123; // å·²ç»æˆæƒï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ getUserInfo è·å–å¤´åƒæ˜µç§°ï¼Œä¸ä¼šå¼¹æ¡† wx.getUserInfo(&#123; success: res =&gt; &#123; // å¯ä»¥å°† res å‘é€ç»™åå°è§£ç å‡º unionId this.globalData.userInfo = res.userInfo // ç”±äº getUserInfo æ˜¯ç½‘ç»œè¯·æ±‚ï¼Œå¯èƒ½ä¼šåœ¨ Page.onLoad ä¹‹åæ‰è¿”å› // æ‰€ä»¥æ­¤å¤„åŠ å…¥ callback ä»¥é˜²æ­¢è¿™ç§æƒ…å†µ if (this.userInfoReadyCallback) &#123; this.userInfoReadyCallback(res) &#125; &#125; &#125;) &#125; &#125; &#125;) &#125;, globalData: &#123; userInfo: null &#125;&#125;) onLaunchæ˜¯ç¨‹åºåˆå§‹åŒ–æ—¶ï¼Œè°ƒç”¨APIä»æœ¬åœ°ç¼“å­˜ä¸­è·å–æ•°æ® åˆå§‹åŒ–åï¼Œåœ¨StorageSyncä¸Šåšä¸€ä¸ªset getUserInfoæ˜¯ä¸€ä¸ªå…¨å±€å‡½æ•°ï¼Œä¼šåœ¨å…¶ä»–é¡µé¢è¢«è°ƒç”¨ã€‚è¿™é‡Œé€šè¿‡å¾®ä¿¡æ¥å£è·å–åˆ°æˆ‘å½“å‰ç™»å½•ç”¨æˆ·çš„å¤´åƒã€æ˜µç§°ã€‚ è®¾ç½®globalDataåœ¨onLaunchçš„æ—¶å€™ï¼Œå°±å¯ä»¥æ‰§è¡Œå¯¹åº”çš„åŠ¨ä½œ 2ï¼‰åŠ å…¥console.log(&quot;app run function: onLaunch&quot;)ï¼Œç„¶åæŸ¥çœ‹pages/index/index.jsæ–‡ä»¶è°ƒç”¨apps.jsæ–‡ä»¶çš„getUserInfoæ˜¯æ€ä¹ˆè°ƒç”¨çš„ï¼Ÿ 12345678//app.jsApp(&#123; onLaunch: function () &#123; // å±•ç¤ºæœ¬åœ°å­˜å‚¨èƒ½åŠ› var logs = wx.getStorageSync(&apos;logs&apos;) || [] logs.unshift(Date.now()) wx.setStorageSync(&apos;logs&apos;, logs) console.log(&quot;app run function: onLaunch&quot;) åœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼Œä½ å¯ä»¥åšä¸€äº›åŸºç¡€çš„åŠ¨ä½œï¼Œæ¯”å¦‚è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œæ¯”å¦‚è®¾ç½®å¥½åˆå§‹åŒ–çš„æœ¬åœ°çŠ¶æ€ï¼Œæ¯”å¦‚æŠŠç½‘ç»œçš„å›¾ç‰‡ã€éŸ³é¢‘å…ˆè¯·æ±‚å¥½ï¼Œéƒ½å¯ä»¥åœ¨è¿™ä¸ªç”Ÿå‘½å‘¨æœŸè¿›è¡Œã€‚ 3ï¼‰é¦–å…ˆï¼Œç”¨å…¨å±€å‡½æ•°getApp()çš„æ–¹æ³•ï¼Œå°±å¯ä»¥å»åˆ°appé‡Œé¢çš„ä¸œè¥¿ã€‚æ¯”å¦‚è¿™é‡Œå–åˆ°apps.jsæ–‡ä»¶çš„getUserInfoã€‚ 4ï¼‰onshowã€onhideè¦é€€å‡ºå’Œé‡æ–°è¿›å…¥ï¼Œé€šè¿‡å¾®ä¿¡å¼€å‘è€…å·¥å…·çš„åˆ‡åå°æŒ‰é’®åˆ‡æ¢ é¢„å‘Šï¼šä¸‹èŠ‚è®²è§£é¡µé¢ç”Ÿå‘½å‘¨æœŸï¼Œæ›´å¤æ‚ä¸€ç‚¹ï¼Œä½†æ˜¯å¤§åŒå°å¼‚ã€‚ å››ã€é¡µé¢æ³¨å†ŒåŠé¡µé¢ç”Ÿå‘½å‘¨æœŸ1ã€è®²è§£1ï¼‰æ¡†æ¶-é€»è¾‘å±‚-æ³¨å†Œé¡µé¢ï¼Œæ˜¯é¡µé¢ç”Ÿå‘½å‘¨æœŸçš„ä¸€äº›å‡½æ•° 2ã€ä»£ç 1ï¼‰åˆ é™¤ä¸Šä¸€èŠ‚æ·»åŠ çš„console.log(&quot;app run function: onLaunch&quot;) 2ï¼‰æ‰“å¼€pages/logs/logs.jsï¼Œè¿™é‡Œonloadé¡µé¢åŠ è½½å·²ç»æœ‰äº†ã€‚ 3ï¼‰å¢åŠ ä»£ç  1234567891011121314151617181920212223242526272829303132onLoad: function () &#123; this.setData(&#123; logs: (wx.getStorageSync(&apos;logs&apos;) || []).map(function (log) &#123; return util.formatTime(new Date(log)) &#125;) &#125;); console.log(&quot;logs page execute: onLoad.&quot;);&#125;, onReady: function() &#123; // é¡µé¢å·²ç»åŠ è½½å®Œ console.log(&quot;logs page execute: onReady.&quot;);&#125;,onShow: function() &#123; // é¡µé¢show console.log(&quot;logs page execute: onShow.&quot;);&#125;,onHide: function() &#123; // é¡µé¢hide console.log(&quot;logs page execute: onHide.&quot;);&#125;,onUnload: function() &#123; // é¡µé¢å…³é—­æ—¶ console.log(&quot;logs page execute: onUnload.&quot;);&#125;,onPullDownRefresh: function() &#123; // é¡µé¢ä¸‹æ‹‰ console.log(&quot;logs page execute: onPullDownRefresh.&quot;);&#125;,onReachBottom: function() &#123; // é¡µé¢è§¦åº•æ—¶ï¼ˆå¯ä»¥å¾€ä¸Šæ‹‰ï¼‰ console.log(&quot;logs page execute: onReachBottom.&quot;);&#125;, 4ï¼‰å…ˆæ¸…ç©ºconsoleçš„å†…å®¹ï¼Œç„¶ååˆ‡å›é¦–é¡µï¼Œå½“æˆ‘ä»¬ç‚¹å‡»æ—¥å¿—çš„æ—¶å€™ï¼Œé¡µé¢åªæ‰§è¡Œäº†onshowï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰æ‰§è¡Œonloadã€readyå‘¢ï¼Ÿ è§£ç­”ï¼šè·Ÿå¾®ä¿¡çš„è®¾è®¡æœ‰å…³ï¼Œé¡µé¢åŠ è½½å®Œå†æ¥åŠ è½½ä¸€æ¬¡çš„æ—¶å€™ï¼Œå®ƒæœ‰ä¸€ä¸ªcatchçš„æœºåˆ¶ï¼Œå³onloadå’Œreadyçš„æ—¶é—´å°±ä¸ä¼šå†æ‰§è¡Œäº†ã€‚ å› æ­¤ï¼Œç‚¹å‡»ç¼–è¯‘æŒ‰é’®ï¼Œç„¶åæ¸…ç©ºconsoleå†…å®¹ï¼Œå†æ‰§è¡Œç›¸åŒæ“ä½œçš„æ—¶å€™ï¼Œå› ä¸ºæ˜¯ç¬¬ä¸€æ¬¡æ‰“å¼€é¡µé¢å°±ä¼šæ‰§è¡Œonloadã€onshowã€onreadyäº‹ä»¶ã€‚ 5ï¼‰ç»§ç»­ä¸‹æ»‘å‡ºç°ç¬¬å››ä¸ªäº‹ä»¶onReachBottomã€‚ 6ï¼‰ç‚¹å‡»åˆ‡åå°å‡ºç°onhideï¼Œå†ç‚¹å‡»åˆ‡å‰å°å‡ºç°onshowã€‚ ä½¿ç”¨åœºæ™¯ï¼šç”¨æˆ·æœ‰ä¸ªçŸ­ä¿¡ã€ç”µè¯è¿›æ¥ï¼Œæˆ–åˆ‡æ¢åˆ°å¾®ä¿¡ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥ä¿ç•™ç”¨æˆ·è®¢å•çŠ¶æ€ï¼Œå†æ¯”å¦‚æ¸¸æˆè¿›åº¦ 7ï¼‰æœ€åä¸€ä¸ªæ—¶é—´ä¸‹æ‹‰åˆ·æ–°onPullDownRefreshï¼Œéœ€è¦åŠ ä¸€ä¸ªé…ç½®æ‰èƒ½ç”Ÿæ•ˆã€‚ ç¼–è¾‘pages/logs/logs.jsonæ–‡ä»¶ï¼Œç„¶åä¸‹æ‹‰ä¼šåœ¨consoleå‡ºç°onPullDownRefreshäº‹ä»¶ã€‚ 1234&#123; &quot;navigationBarTitleText&quot;: &quot;æŸ¥çœ‹å¯åŠ¨æ—¥å¿—&quot;, &quot;enablePullDownRefresh&quot;: true&#125; ä½¿ç”¨åœºæ™¯ï¼šçœ‹æ–°é—»ã€å¾®åšã€æœ‹å‹åœˆ æ—¶ä¸‹æ‹‰åˆ·æ–°ã€‚ æœ¬è¯¾ç¨‹æ—¶å¸¦é¢†å¤§å®¶äº†è§£æ¡†æ¶ï¼Œç»†èŠ‚çš„ä¸œè¥¿è¿˜è¦å„ä½ä»”ç»†å›å»çœ‹ã€‚ 8ï¼‰globalDataå’ŒsetData()çš„ä½¿ç”¨å‚è€ƒç¬¬ä¸‰è¯¾ã€‚ 9ï¼‰ç”Ÿå‘½å‘¨æœŸå›¾ã€é¡µé¢è·¯ç”±å¯ä»¥çœ‹çœ‹ï¼Œåé¢ä¼šç»“åˆçœŸå®çš„å®ä¾‹è®²ã€‚ äº”ã€æ¨¡å—åŒ–1ã€è®²è§£æ¡†æ¶-é€»è¾‘å±‚-æ¨¡å—åŒ–ï¼Œæ¶‰åŠåˆ°globalDataçš„ä½¿ç”¨ï¼ˆç¬¬ä¸‰è¯¾ç”Ÿå‘½å‘¨æœŸè®²è¿‡ï¼‰ï¼Œå¦å¤–æ˜¯æ¨¡å—åŒ–çš„æ¦‚å¿µï¼ŒæŠŠå…±ç”¨çš„å‡½æ•°æ¯”å¦‚jsçš„å‡½æ•°å°è£…æˆä¸€äº›æ¨¡å—æ¥å¼€å‘ã€‚ å› ä¸ºè¿™é‡Œæ¶‰åŠåˆ°ä¸€äº›ES5ã€ES6çš„è¯­æ³•é—®é¢˜ï¼Œè¿˜æ¶‰åŠåˆ°ä¸€äº›node_modulesè¿™æ ·ä¸€äº›node.jsç»„ä»¶çš„å¼•ç”¨ã€‚å½“ç„¶ç°åœ¨å®˜æ–¹æ˜¯æ”¯æŒä¸äº†node.jsçš„ï¼Œç¤¾åŒºå·²ç»æœ‰äº†ä¸€äº›è§£å†³æ–¹æ¡ˆã€‚ 2ã€globalDataå¦‚ä½•è·å–ï¼Ÿ æ–‡æ¡£è¿˜è¦è‡ªå·±è®¤çœŸå»çœ‹ï¼ŒåŒ…æ‹¬ES6çš„è¯´æ³•ï¼ˆæ¯”å¦‚å¯¹å¹³å°çš„æ”¯æŒã€ä¸ºä»€ä¹ˆä¼šè½¬æ¢ï¼‰ã€ä»¥åŠä¸€äº›promiseçš„ä¸œè¥¿ 1ï¼‰ç¬¬å››è¯¾çš„console.logä»£ç å¯åˆ é™¤å¯ä»¥ä¿ç•™ï¼Œæˆ‘é€‰æ‹©ä¿ç•™ã€‚ 2ï¼‰å¤ä¹ ï¼šglobalDataåœ¨app.jsåšäº†å£°æ˜åï¼Œæ‰€æœ‰çš„é¡µé¢éƒ½å¯ä»¥è¿›è¡ŒglobalDataçš„è·å–ã€‚è·å–çš„åŠæ³•é¦–å…ˆé€šè¿‡var app = getApp();è¿™æ˜¯ä¸€ä¸ªå…¨å±€å‡½æ•°ï¼Œç„¶åé€šè¿‡app.getUserInfoå°±èƒ½å–åˆ°getUserInfoç­‰å†…å®¹ã€‚ 3ï¼‰ ã€é—®é¢˜ã€‘app.jsé‡Œçš„globalData: { userInfo: null }ï¼Œæ€ä¹ˆåœ¨index.jsé‡Œè·å–åˆ°ï¼Ÿ â‘ ã€index.jsåœ¨å¼€å¤´varä¸€ä¸ªå‡½æ•°var app = getApp();ã€ åœ¨æœ€ååŠ å…¥ æ³¨æ„æ·»åŠ ä»£ç æ—¶ï¼Œè‡ªå·±è¡¥å……ç»“å°¾çš„é€—å·,æˆ–åˆ†å·;ã€‚å¦åˆ™ä¼šæŠ¥é”™ã€‚ 123onShow: function() &#123; app.globalData.userInfo = &quot;wxopen.club&quot;&#125; â‘¢ã€åœ¨log.jsé¡µé¢ï¼ŒåŠ å…¥var app = getApp();ï¼Œç„¶ååœ¨onshowäº‹ä»¶åŠ å…¥console.log(app.globalData.userInfo); 4ï¼‰æ¼”ç¤ºï¼šç‚¹å‡»é¦–é¡µï¼Œè¿™é‡Œå¯¹globalDataåšäº†è®¾ç½®ï¼Œç„¶åç‚¹å‡»æ—¥å¿—é¡µé¢ï¼Œconsoleé‡Œæ‰“å°å‡ºäº†wxopen.clubçš„å€¼ã€‚ ä½¿ç”¨åœºæ™¯ï¼šé¡µé¢è§å‚æ•°çš„ä¼ é€’ã€å…¨å±€å…±ç”¨çš„éšå½¢å‚æ•°æˆ–å±æ€§çš„è·å–ä¸è®¾ç½®ï¼Œéƒ½å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼æ¥showæˆ–è€…è·å–ã€‚ 3ã€æ¨¡å—åŒ–çš„æ¦‚å¿µï¼Ÿä¸“æ¡ˆçš„utils/util.jså·²ç»ç»™äº†ä¸€ä¸ªæ–¹æ³•ã€‚ 1ï¼‰åœ¨utilsæ–‡ä»¶å¤¹æ–°å»ºjsæ–‡ä»¶Loger.js 2ï¼‰å®šä¹‰function 123function PrintLog(value) &#123; console.log(&quot;Loger module: &quot; + value);&#125; 3ï¼‰ ã€é—®é¢˜ã€‘å¦‚ä½•æŠŠPrintLogè¿™ä¸ªfunctionç»™æ‰€æœ‰çš„jsé¡µé¢ç”¨å‘¢ ï¼Ÿ â‘ ã€ï¼ˆES5ã€ES6ä¸­è¯´çš„ï¼‰é€šè¿‡module.exports.å¯¼å‡ºçš„åå­—ï¼Œè¿™é‡Œç”¨module.exports.PrintLog = PrintLog â‘¡ã€å¦‚ä½•åœ¨index.jsä¸­å¼•ç”¨ï¼Œé¡µå¤´åŠ å…¥var Loger = require(&quot;../../utils/Loger.js&quot;);ã€‚è¿™ç§ä»£ç åœ¨logsæ–‡ä»¶å¤¹é‡Œæœ‰å‚è€ƒæ¨¡æ¿ã€‚ â‘¢ã€åœ¨index.jsçš„é¡µå°¾çš„onShowäº‹ä»¶é‡Œç›´æ¥è°ƒç”¨Loger.PrintLog(&quot;execute index onShow&quot;); ä½¿ç”¨åœºæ™¯ï¼šåœ¨ä»»ä½•é¡µé¢è°ƒç”¨å…¬å…±çš„æ–¹æ³•æ¥åšä¸€äº›éªŒè¯ï¼Œåšä¸€äº›èµ„æºçš„è¯·æ±‚ï¼Œåšä¸€äº›æ”¯ä»˜ä¸²çš„å¤„ç†ï¼Œåšæ—¥è®°çš„æ ¼å¼åŒ–ï¼Œéƒ½å¯ä»¥åšæˆæ¨¡å—ï¼Œåœ¨æ‰€æœ‰çš„jsé¡µé¢é‡Œä½¿ç”¨ã€‚ 4ã€è‡ªå·±å†™å¹¶ä¸å¼ºå¤§ï¼Œæ€ä¹ˆä½¿ç”¨nodejsçš„ä¸€äº›åŒ…å‘¢ï¼Ÿå¾®ä¿¡å°ç¨‹åºå¼€å‘ä¸‰å®—ç½ªå’Œè§£å†³åŠæ³• å…­ã€æ•°æ®ç»‘å®šä¸æ¡ä»¶æ¸²æŸ“1ã€è®²è§£æ¡†æ¶-è§†å›¾å±‚-WXML-æ•°æ®ç»‘å®š/æ¡ä»¶æ¸²æŸ“ï¼Œç»‘å®šåœ¨ä¸€äº›jsçš„æ¨¡æ¿é‡Œé¢ï¼Œé€šè¿‡æ ‡ç­¾çš„å½¢å¼ç»‘å®šä¼ è¿‡æ¥çš„å€¼ï¼ˆdataé‡Œï¼‰ã€‚ 2ã€æ•°æ®ç»‘å®š1ï¼‰æŒ‰githubä¸Šä¿®æ”¹index.js 123456789101112131415//index.js//è·å–åº”ç”¨å®ä¾‹var app = getApp();Page(&#123; data: &#123; motto: &apos;Hello World&apos; &#125;, onLoad: function () &#123; &#125;, onShow: function() &#123; //app.globalData.userInfo = &quot;wxopen.club&quot;; &#125;&#125;) 2ï¼‰ä¿®æ”¹index.wxmlï¼Œä¸‹é¢è¦åœ¨viewä¸Šç»‘å®šä¸€äº›ä¸œè¥¿ï¼ˆæ¯”å¦‚è¿™é‡Œçš„mottoå°±æ˜¯ç»‘å®šï¼‰ 123456&lt;!--index.wxml--&gt;&lt;view class=&quot;container&quot;&gt; &lt;view class=&quot;usermotto&quot;&gt; &lt;text class=&quot;user-motto&quot;&gt;&#123;&#123;motto&#125;&#125;&lt;/text&gt; &lt;/view&gt;&lt;/view&gt; 3ï¼‰æ¯”å¦‚åœ¨index.jsçš„dataé‡Œæ–°å¢userid: 1234,ï¼Œç„¶ååœ¨index.wxmlæ”¹æˆï¼Œä¿å­˜åä¼šæ˜¾ç¤ºã€‚ 4ï¼‰æ¯”å¦‚æ–‡æ¡£é‡Œçš„â€œç»„ä»¶å±æ€§â€ï¼Œåœ¨textæ ‡ç­¾é‡ŒåŠ ä¸Šid=&quot;user-&quot;ã€‚æŸ¥çœ‹consoleçš„Wxmlï¼Œå¯ä»¥çœ‹åˆ°å·²ç»‘å®šã€‚ 3ã€æ¡ä»¶æ¸²æŸ“1ï¼‰æ¯”å¦‚wx:ifï¼Œåœ¨index.jsçš„dataé‡ŒåŠ å…¥show: true,ï¼Œç„¶åindex.wxmlåŠ å…¥ 123&lt;view wx:if=&quot;&#123;&#123;show&#125;&#125;&quot;&gt; TRUE99&lt;/view&gt; å½“showæ—¶trueçš„æ—¶å€™ï¼Œå°±ä¼šæ˜¾ç¤ºTRUE99 ä½¿ç”¨åœºæ™¯ï¼šå‰å°å¸ƒå±€åˆ‡æ¢ã€æ ·å¼åˆ‡æ¢ã€‚ 2ï¼‰æ¯”å¦‚wx:elseï¼Œå½“showä¸æ˜¯trueçš„æ—¶å€™ï¼Œå°±æ˜¾ç¤ºä¸ºBad99ã€‚ 123&lt;view wx:else=&quot;&#123;&#123;show&#125;&#125;&quot;&gt; Bad99&lt;/view&gt; ä½¿ç”¨åœºæ™¯ï¼šç”¨æˆ·ç™»å½•æ—¶æ˜¾ç¤ºä¸€éƒ¨åˆ†ï¼Œæ²¡ç™»å½•æ—¶æ˜¾ç¤ºå¦ä¸€éƒ¨åˆ†ã€‚ 3ï¼‰hiddençš„ä½¿ç”¨ï¼ˆç±»ä¼¼ifæ§åˆ¶é€»è¾‘æ˜¯å¦æ˜¾ç¤ºï¼‰ï¼šçœ‹useridæ˜¯å¦ç­‰äº1234ï¼Œå¦‚æœæ˜¯å°±æ˜¾ç¤ºtrueå³éšè—å¦åˆ™falseå³æ˜¾ç¤ºã€‚ä¿®æ”¹index.wxml 123&lt;view class=&quot;usermotto&quot; hidden=&quot;&#123;&#123;userid==123 ? true: false&#125;&#125;&quot;&gt; &lt;text class=&quot;user-motto&quot; id=&quot;user-&#123;&#123;userid&#125;&#125;&quot;&gt;&#123;&#123;motto&#125;&#125;&lt;/text&gt;&lt;/view&gt; hiddenä¸wx:ifçš„åŒºåˆ«ï¼Ÿ è§£ç­”ï¼šhiddenç»„ä»¶å§‹ç»ˆä¼šè¢«æ¸²æŸ“ï¼Œæœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“æ¶ˆè€—ã€‚wx:ifåœ¨æ¡ä»¶æˆç«‹æ—¶æ‰æ¸²æŸ“ã€‚ ä½¿ç”¨åœºæ™¯ï¼šéœ€è¦é¢‘ç¹åˆ‡æ¢çš„æƒ…æ™¯ä¸‹ï¼Œç”¨ hidden æ›´å¥½ï¼Œå¦‚æœåœ¨è¿è¡Œæ—¶æ¡ä»¶ä¸å¤§å¯èƒ½æ”¹å˜åˆ™ wx:if è¾ƒå¥½ã€‚ 4ï¼‰block wx:ifï¼Œå¦‚æœåŒæ—¶æœ‰å¾ˆå¤šä¸ªviewè¦è¢«æ§åˆ¶ ä¸ƒã€åˆ—è¡¨æ¸²æŸ“ä¸æ¨¡æ¿1ã€è®²è§£1ï¼‰æ¡†æ¶-è§†å›¾å±‚-WXML-åˆ—è¡¨æ¸²æŸ“/æ¨¡æ¿ï¼Œç”¨wx:forç»‘å®šä¸€ä¸ªæ•°ç»„ï¼Œå³å¯ä½¿ç”¨æ•°ç»„ä¸­çš„æ•°æ®ã€‚ 2ã€wx:foråˆ—è¡¨æ¸²æŸ“1ï¼‰åœ¨index.jsçš„dataä¸­åŠ å…¥ 1234567891011121314data: &#123; motto: &apos;Hello World&apos;, userid: 1234, show: false, array: [&#123; message: &apos;hello&apos; &#125;, &#123; message: &apos;world&apos; &#125;, &#123; message: &apos;!&apos; &#125;],&#125;, 2ï¼‰index.wxmlåŠ å…¥ 123&lt;view wx:for=&quot;&#123;&#123;array&#125;&#125;&quot; wx:for-item=&quot;foritem&quot; wx:key=&quot;index&quot;&gt; &lt;text id=&quot;messageIndex - &#123;&#123;index&#125;&#125;&quot;&gt;&#123;&#123;index&#125;&#125; - &#123;&#123;foritem.message&#125;&#125;&lt;/text&gt;&lt;/view&gt; â‘ ã€è¿™é‡Œçš„indexå°±è·Ÿforå¾ªç¯çš„ä¸‹æ ‡ä¸€æ ·ï¼Œä»0å¼€å§‹ï¼› â‘¡ã€åˆ©ç”¨wx:keyåŠ ä¸Šidæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„ä¹ æƒ¯å’Œå®ç”¨çš„æŠ€å·§ï¼Œç”¨äºæ ·å¼çš„æ§åˆ¶ã€‚ wx:key`æ–‡æ¡£æœ‰ç›¸å…³èµ„æ–™ï¼Œé»˜è®¤å»ºè®®è¿˜æ˜¯å†™ä¸Š 3ã€wx:keyä»£ç æ¼”ç¤ºè®²è§£1ï¼‰ç”¨æ–‡æ¡£æä¾›çš„ç¤ºä¾‹ä»£ç ï¼Œä¿®æ”¹logs.wxml 123456789&lt;!--logs.wxml--&gt;&lt;view class=&quot;container log-list&quot;&gt;&lt;switch wx:for=&quot;&#123;&#123;objectArray&#125;&#125;&quot; wx:key=&quot;unique&quot; style=&quot;display: block;&quot;&gt; &#123;&#123;item.id&#125;&#125; &lt;/switch&gt;&lt;button bindtap=&quot;switch&quot;&gt; Switch &lt;/button&gt;&lt;button bindtap=&quot;addToFront&quot;&gt; Add to the front &lt;/button&gt;&lt;switch wx:for=&quot;&#123;&#123;numberArray&#125;&#125;&quot; wx:key=&quot;*this&quot; style=&quot;display: block;&quot;&gt; &#123;&#123;item&#125;&#125; &lt;/switch&gt;&lt;button bindtap=&quot;addNumberToFront&quot;&gt; Add to the front &lt;/button&gt;&lt;/view&gt; 2ï¼‰ç”¨æ–‡æ¡£æä¾›çš„pageä»£ç ï¼Œæ›¿æ¢logs.jsçš„page 123456789101112131415161718192021222324252627282930313233343536373839Page(&#123; data: &#123; objectArray: [ &#123;id: 5, unique: &apos;unique_5&apos;&#125;, &#123;id: 4, unique: &apos;unique_4&apos;&#125;, &#123;id: 3, unique: &apos;unique_3&apos;&#125;, &#123;id: 2, unique: &apos;unique_2&apos;&#125;, &#123;id: 1, unique: &apos;unique_1&apos;&#125;, &#123;id: 0, unique: &apos;unique_0&apos;&#125;, ], numberArray: [1, 2, 3, 4] &#125;, switch: function(e) &#123; const length = this.data.objectArray.length for (let i = 0; i &lt; length; ++i) &#123; const x = Math.floor(Math.random() * length) const y = Math.floor(Math.random() * length) const temp = this.data.objectArray[x] this.data.objectArray[x] = this.data.objectArray[y] this.data.objectArray[y] = temp &#125; this.setData(&#123; objectArray: this.data.objectArray &#125;) &#125;, addToFront: function(e) &#123; const length = this.data.objectArray.length this.data.objectArray = [&#123;id: length, unique: &apos;unique_&apos; + length&#125;].concat(this.data.objectArray) this.setData(&#123; objectArray: this.data.objectArray &#125;) &#125;, addNumberToFront: function(e)&#123; this.data.numberArray = [ this.data.numberArray.length + 1 ].concat(this.data.numberArray) this.setData(&#123; numberArray: this.data.numberArray &#125;) &#125;&#125;) 3ï¼‰åˆ‡æ¢åˆ°æ—¥å¿—é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°æ˜¾ç¤ºã€‚ switchæŒ‰é’®ï¼Œç”¨æ¥åšéšæœºé¡ºåºï¼› Add to the frontæŒ‰é’®ï¼Œä¿ç•™åˆšåˆšçš„é¡ºåºï¼Œåœ¨å¤´éƒ¨åŠ å…¥æ•°å­— 4ã€æ¨¡æ¿template1ï¼‰index.wxmlåŠ å…¥ 123456789&lt;template is=&quot;msgItem&quot; data=&quot;&#123;&#123;...item&#125;&#125;&quot;/&gt;&lt;template is=&quot;msgItem&quot; data=&quot;&#123;&#123;...itemb&#125;&#125;&quot;/&gt;&lt;template name=&quot;msgItem&quot;&gt; &lt;view&gt; &lt;text&gt; &#123;&#123;index&#125;&#125;: &#123;&#123;msg&#125;&#125; &lt;/text&gt; &lt;text&gt; Time: &#123;&#123;time&#125;&#125; &lt;/text&gt; &lt;/view&gt;&lt;/template&gt; 2ï¼‰index.jsåŠ å…¥ï¼ˆæ³¨æ„å¦å¤–è¡¥å……å‰è¾¹é€—å·ï¼Œå¦åˆ™æŠ¥é”™ï¼‰ 12345678910item: &#123; index: 0, msg: &apos;this is a template&apos;, time: &apos;2016-09-15&apos;&#125;,itemb: &#123; index: 99, msg: &apos;this is 99&apos;, time: &apos;2099-99-9&apos;&#125; è¿™æ ·å°±å¯ä»¥æŠŠdataé‡Œä¸åŒçš„itemå‚æ•°å€¼ä¼ åˆ°åŒä¸€ä¸ªtemplateï¼Œç”¨&lt;template is=&quot;msgItem&quot; data=&quot;...&quot;/&gt;è°ƒç”¨ã€‚ ä½¿ç”¨åœºæ™¯ï¼šå±•ç¤ºä¸€è¡Œä¸€è¡Œæ ·å¼ä¸€æ ·çš„æ–°é—»ã€‚ å…«ã€äº‹ä»¶æ¡†æ¶-è§†å›¾å±‚-WXML-äº‹ä»¶ 1ã€ä»£ç 1ï¼‰index.wxmlæ”¹æˆ 123456&lt;!--index.wxml--&gt;&lt;view class=&quot;container&quot;&gt; &lt;view class=&quot;usermotto&quot;&gt; &lt;text class=&quot;user-motto&quot; id=&quot;user-&#123;&#123;userid&#125;&#125;&quot;&gt;&#123;&#123;motto&#125;&#125;&#123;&#123;userid&#125;&#125;&lt;/text&gt; &lt;/view&gt;&lt;/view&gt; index.jsæ”¹æˆ 12345678910111213141516//index.js//è·å–åº”ç”¨å®ä¾‹var app = getApp();Page(&#123; data: &#123; motto: &apos;Hello World&apos;, userid: 1234, &#125;, onLoad: function () &#123; &#125;, onShow: function() &#123; //app.globalData.userInfo = &quot;wxopen.club&quot;; &#125;&#125;) 2ï¼‰ç”¨bindtap=&quot;tapName&quot;ç»‘å®šæ‰‹æœºç‚¹å‡»çš„äº‹ä»¶ã€‚ æ¯”å¦‚index.wxmlåŠ å…¥&lt;view class=&quot;usermotto&quot; bindtap=&quot;tapMessage&quot;&gt; 3ï¼‰index.jsåŠ å…¥ 123tapMessage: function (event) &#123; console.log(event);&#125;, currentTargetï¼Œé‡Œé¢å¯ä»¥ä¼ ä¸€äº›å‚æ•°è¿›æ¥ï¼Œé‡Œé¢çš„datasetã€‚idä¹Ÿå¯ä»¥ä¼ è¿›æ¥ã€‚ detailåæ ‡ touchesçš„åæ ‡ï¼Œè·å–æ•´ä¸ªé¡µé¢å¤§å° typeï¼Œå½“å‰äº‹ä»¶ç±»å‹ 2ã€å…¶ä»–ç”¨æ³•1ï¼‰å‰å°å¯ä»¥ä¼ ä¸€äº›å‚æ•°è¿›å…¥äº‹ä»¶é‡Œã€‚ 1ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ä»£ç æ¼”ç¤º 2ï¼‰å¤§å°å†™çš„é—®é¢˜ 3ï¼‰äº‹ä»¶å†’æ³¡é—®é¢˜ï¼ˆç‚¹å‡»é‡Œå±‚ä¼šå¾€å¤–å†’å‡ºåˆ°ç¬¬ä¸€å±‚ï¼‰ï¼Œå¦‚ä½•é˜»æ­¢ï¼Ÿ è§£ç­”ï¼šç”¨catchtapï¼Œæ¯”å¦‚&lt;view id=&quot;middle&quot; catchtap=&quot;handleTap2&quot;&gt; ä¹ã€å¼•ç”¨æ¡†æ¶-è§†å›¾å±‚-WXML-å¼•ç”¨ 1ã€æ–°å»ºç›®å½•pages/commonï¼Œæ–°å»ºæ–‡ä»¶template_item.wxml123&lt;template name=&quot;item&quot;&gt;&lt;text&gt;template text: &#123;&#123;text&#125;&#125;&lt;/text&gt;&lt;/template&gt; 2ã€å¦‚ä½•åœ¨index.wxmlé‡Œè¿›è¡Œå®šä¹‰å’Œä¼ å‚æ•°å‘¢ï¼Ÿ2.1ã€importè¯­æ³•ï¼ˆå®ç°æ¨¡æ¿çš„åŠ è½½æ‹¼æ¥ï¼Œå³ç¬¬ä¸ƒè¯¾æ¨¡æ¿å†…å®¹çš„è·¨æ–‡ä»¶æ‹¼æ¥ï¼‰1ï¼‰åœ¨index.wxmlåŠ å…¥ 123&lt;import src=&quot;../common/template_item.wxml&quot;/&gt;...&lt;template is=&quot;item&quot; data=&quot;&#123;&#123;text: &apos;index page trans data&apos;&#125;&#125;&quot;/&gt; 2.2ã€includeè¯­æ³•ï¼ˆå®ç°navbarã€footerçš„æ‹†åˆ†ï¼‰1ï¼‰æ–°å»ºcommon/header.wxmlï¼ŒåŠ å…¥&lt;text&gt;HEADER&lt;/text&gt; 2ï¼‰æ–°å»ºcommon/footer.wxmlï¼ŒåŠ å…¥&lt;text&gt;FOOTER&lt;/text&gt; 3ï¼‰index.wxmlåŠ å…¥ 123&lt;include src=&quot;../common/header.wxml&quot;/&gt;...&lt;include src=&quot;../common/footer.wxml&quot;/&gt; ä½¿ç”¨åœºæ™¯ï¼š1ã€é¡µå¤´é¡µè„šã€‚2ã€æ–°é—»æ¨¡å—å³è¾¹æ ç›¸å…³æ¶ˆæ¯æˆ–æ¨èæ–°é—»ï¼Œå½“ä¸éœ€è¦ä¼ å‚çš„æ—¶å€™ç”¨includeï¼Œå½“éœ€è¦ä¼ å‚çš„æ—¶å€™ç”¨templateã€‚ åã€æ ·å¼ï¼ˆå’Œcsså·®ä¸å¤šï¼‰æ¡†æ¶-è§†å›¾å±‚-WXSSï¼Œå•ä¸ªé¡µé¢çš„å®šä¹‰ä¼˜å…ˆäºå…¨å±€æ ·å¼app.wxssã€‚ 1ã€å¸¸è§„æ ·å¼1ï¼‰æ–‡æ¡£é‡Œæä¾›çš„é€‰æ‹©å™¨.classã€idã€elementï¼ˆå¦‚viewç»„ä»¶ï¼‰ã€element, elementã€::afterã€::beforeã€‚ 2ï¼‰å†…è”æ ·å¼ 1&lt;view style=&quot;color:&#123;&#123;color&#125;&#125;;&quot; /&gt; style æ¥æ”¶åŠ¨æ€çš„æ ·å¼ï¼Œåœ¨è¿è¡Œæ—¶ä¼šè¿›è¡Œè§£æï¼Œè¯·å°½é‡é¿å…å°†é™æ€çš„æ ·å¼å†™è¿› style ä¸­ï¼Œä»¥å…å½±å“æ¸²æŸ“é€Ÿåº¦ã€‚ 1&lt;view class=&quot;normal_view&quot; /&gt; ç±»é€‰æ‹©å™¨å(æ ·å¼ç±»å)çš„é›†åˆï¼Œæ ·å¼ç±»åä¸éœ€è¦å¸¦ä¸Š.ï¼Œæ ·å¼ç±»åä¹‹é—´ç”¨ç©ºæ ¼åˆ†éš”ã€‚ 3ï¼‰æ ·å¼å¯¼å…¥æ¯”å¦‚@import &quot;common.wxss&quot;; 2ã€wxå“åº”å¼æ ·å¼1ï¼‰rpxï¼Œå³å“åº”å¼pxã€‚å¤§å°å±å¹•æ€»å®½ç­‰åˆ†ä¸º750rpxã€‚ æ¢ç®—æ–¹æ³•ï¼šåœ¨iphone6ï¼ˆå±å¹•å®½åº¦375pxï¼‰ä¸Šï¼Œ1rpx=0.5px 2ï¼‰remï¼Œå¤§å°å±å¹•å®½åº¦ç­‰åˆ†ä¸ºä¸º20remã€‚ æ¢ç®—æ–¹æ³•ï¼š1rem=(750/20)rpx åä¸€ã€APIç½‘ç»œè¯·æ±‚ä¸åˆ—è¡¨ç»‘å®šçŸ¥è¯†ç‚¹1ï¼šAPIç½‘ç»œè¯·æ±‚ çŸ¥è¯†ç‚¹2ï¼šå¤ä¹ ç¬¬å…­ç« æ•°æ®ç»‘å®šã€ç¬¬ä¸ƒç« åˆ—è¡¨æ¸²æŸ“wx:forï¼ŒæŠŠAPIç½‘ç»œè¯·æ±‚ç»‘å®šåˆ°åˆ—è¡¨ å…¶ä»–çŸ¥è¯†ï¼šbuttonã€imageç»„ä»¶çš„ä½¿ç”¨ 1ã€å‡†å¤‡å·¥ä½œ1ï¼‰index.jsæ”¹ä¸º 12345678//index.js//è·å–åº”ç”¨å®ä¾‹var app = getApp();Page(&#123; data: &#123; &#125;,&#125;) index.wxmlå‰å°é¡µé¢æ”¹ä¸º 1234&lt;!--index.wxml--&gt;&lt;view class=&quot;container&quot;&gt;&lt;/view&gt; index.wxssæ”¹ä¸º 1/**index.wxss**/ app.wxssä¿æŒ 12345678910/**app.wxss**/.container &#123; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: space-between; padding: 200rpx 0; box-sizing: border-box;&#125; 2ã€ç½‘ç»œè¯·æ±‚æ‰“å¼€æ–‡æ¡£-API-å‘èµ·è¯·æ±‚ è¯¾ç¨‹æä¾›çš„APIæ¥å£ç½‘å€ 2.1 è®²è§£1ï¼‰å‘èµ·ç½‘ç»œè¯·æ±‚å¦‚ä¸‹ã€‚æ¯”è¾ƒç®€å•ï¼Œç›´æ¥æŠŠç¤ºä¾‹ä»£ç æ‹·è¿‡æ¥ç”¨ã€‚ â‘ ã€urlï¼Œå‚æ•° â‘¡ã€dataï¼Œè¯·æ±‚å‚æ•°ï¼Œä¹Ÿå¯ä»¥æ‹¼æ¥åœ¨urlé‡Œ â‘¢ã€headerï¼Œæ³¨æ„ä¸èƒ½è®¾ç½®Refererå› ä¸ºåªæ˜¯è¯·æ±‚apiï¼ŒRefereræ²¡æœ‰æ„ä¹‰ â‘£ã€methodï¼ŒåŸºæœ¬ç»§æ‰¿äº†httpçš„æ–¹æ³•å¦‚GETã€POSTã€PUTã€DELETEç­‰ â‘¤ã€successã€failã€completeï¼Œåšå›è°ƒ 2ï¼‰Bug &amp; Tipï¼Œå½“å‰ç‰ˆæœ¬çš„é—®é¢˜ã€‚ â‘ ã€ä¸Šçº¿ç‰ˆæœ¬ä¸€å®šè¦æ³¨æ„è½¬æ¢ä¸ºTTPSï¼Œç„¶åéƒ¨ç½²TLSçš„ç‰ˆæœ¬è¦æ³¨æ„ä¸€ä¸‹ã€‚ â‘¡ã€urlä¸­ä¸èƒ½æœ‰ç«¯å£ï¼ˆå¯èƒ½æ˜¯è¦åšä¸€äº›åŸŸåçš„å¤‡æ¡ˆéªŒè¯ï¼‰ã€‚ 2.2 ä»£ç 1ï¼‰index.wxmlåŠ å…¥æŒ‰é’®ï¼Œè®¾ç½®ç‚¹å‡»loadData 123456&lt;!--index.wxml--&gt;&lt;view class=&quot;container&quot; wx:key=&quot;index&quot;&gt; &lt;view&gt; &lt;button type=&quot;primary&quot; bindtap=&quot;loadData&quot;&gt;åŠ è½½æ•°æ®&lt;/button&gt; &lt;/view&gt;&lt;/view&gt; 2ï¼‰index.jsï¼ŒåŠ ä¸€ä¸ªfunctionï¼ŒæŠŠAPIç¤ºä¾‹ä»£ç è´´è¿‡å»ã€‚å¹¶ç²˜è´´apiæ¥å£ç½‘å€ã€‚ 1234567891011loadData: function () &#123; wx.request(&#123; url: &apos;http://newsapi.gugujiankong.com/Handler.ashx?action=getnews&amp;type=top&amp;count=10&apos;, //ä»…ä¸ºç¤ºä¾‹ï¼Œå¹¶éçœŸå®çš„æ¥å£åœ°å€ header: &#123; &apos;content-type&apos;: &apos;application/json&apos; // é»˜è®¤å€¼ &#125;, success: function (res) &#123; console.log(res.data) &#125; &#125;)&#125; å½“ç‚¹å‡»æŒ‰é’®çš„æ—¶å€™å°±ä¼šè¯·æ±‚ï¼Œç„¶ååœ¨consoleé‡ŒæŠŠè¯·æ±‚çš„ä»£ç æ‰“å°å‡ºæ¥ã€‚ 3ã€æŠŠAPIè¯·æ±‚ç»‘å®šåˆ°åˆ—è¡¨è°ƒæ•´æŒ‰é’®ä½ç½®ã€‚ä¿®æ”¹app.wxssï¼Œpadding: 0 0rpx; 1ï¼‰index.wxmlåŠ å…¥å¦‚ä¸‹ï¼Œç”¨æ¥ç»‘å®šæ–°é—»å›¾ç‰‡ã€ç±»å‹ã€æ ‡é¢˜ã€‚ 1234&lt;view wx:for=&quot;&#123;&#123;newsdata&#125;&#125;&quot;&gt; &lt;image sytle=&quot;width:300px;height:200px;&quot; src=&quot;&#123;&#123;item.thumbnail_pic_s&#125;&#125;&quot;&gt;&lt;/image&gt; [&#123;&#123;item.realtype&#125;&#125;]&#123;&#123;item.title&#125;&#125;&lt;/view&gt; 2ï¼‰index.jsçš„dataé‡Œå®šä¹‰ä¸Šè¾¹å†™newsdata: &#39;&#39; 3ï¼‰è¿™é‡Œçš„thisè‚¯å®šä¼šæŒ‡å‘ä¸æ˜ï¼Œæ‰€ä»¥åœ¨loadData: function(){}åˆšå¼€å§‹çš„æ—¶å€™å¯¹thisåšå­˜å‚¨ï¼Œå³var that = this;ç”¨è½¬ç§»çš„å½¢å¼æŠŠå®ƒå˜æˆthat 4ï¼‰åœ¨successçš„functioné‡ŒåŠ å…¥ 123that.setData(&#123; newsdata: res.data&#125;) æœ€åçš„index.jsä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223//index.js//è·å–åº”ç”¨å®ä¾‹var app = getApp();Page(&#123; data: &#123; newsdata: &apos;&apos; &#125;, loadData: function () &#123; var that = this; wx.request(&#123; url: &apos;http://newsapi.gugujiankong.com/Handler.ashx?action=getnews&amp;type=top&amp;count=10&apos;, //ä»…ä¸ºç¤ºä¾‹ï¼Œå¹¶éçœŸå®çš„æ¥å£åœ°å€ header: &#123; &apos;content-type&apos;: &apos;application/json&apos; &#125;, success: function (res) &#123; console.log(res.data) that.setData(&#123; newsdata: res.data &#125;) &#125; &#125;) &#125;&#125;) ç‚¹å‡»æŒ‰é’®ï¼Œä¼šåŠ è½½å‡ºå›¾ç‰‡ æŠŠAPIè¯·æ±‚ç»‘å®šåˆ°åˆ—è¡¨çš„æ€è·¯ï¼š â‘ ã€è®¾ç½®dataå‚æ•°newsdataç”¨äºè°ƒç”¨ï¼šåœ¨index.jsçš„dataé‡Œå®šä¹‰æ•°ç»„newsdata â‘¡ã€åœ¨index.wxmlä¸­ç”¨wx:for=â€â€œç»‘å®šæ•°ç»„ã€‚ç»‘å®šæ•°ç»„åå¯ä»¥ç”¨è°ƒç”¨æ•°æ®ï¼Œæ‰€ä»¥å®šä¹‰ã€ã€åˆ†åˆ«è°ƒç”¨APIé‡Œçš„å›¾ç‰‡ã€ç±»å‹ã€æ ‡é¢˜ã€‚ â‘¢ã€åœ¨ç”Ÿå‘½å‘¨æœŸsuccessé‡Œï¼Œå®šä¹‰this.setData({})ç”¨äºæ”¹å˜é¡µé¢ä¿¡æ¯ã€‚è¿™é‡Œæ˜¯æŠŠnewsdataçš„å€¼ç”±ç©ºå˜ä¸ºres.dataï¼Œå³ä¼ è¿›æ¥çš„APIå‚æ•°ã€‚äºæ˜¯å®šä¹‰çš„æ•°ç»„ä¾¿æœ‰äº†å€¼ï¼Œé€šè¿‡æ˜¾ç¤ºå‡ºæ¥ã€‚ åäºŒã€é¡¹ç›®ä¸€(1)å‡†å¤‡å·¥ä½œå’•å’•ç›‘æ§ï¼Œåšå®ƒå¾®ä¿¡å°ç¨‹åºçš„ç‰ˆæœ¬ï¼ˆå°ç¨‹åºé€‚ç”¨äºä½¿ç”¨é¢‘æ¬¡ä¸å¤ªå¤šï¼Œä½†æƒ³èµ·æ¥çš„æ—¶å€™èƒ½ç”¨çš„äº§å“ï¼‰ã€‚ 1ï¼‰index.jsæ”¹æˆ 1234567//index.js//è·å–åº”ç”¨å®ä¾‹var app = getApp();Page(&#123; data: &#123; &#125;,&#125;) 2ï¼‰index.wxmlæ”¹æˆ 1234&lt;!--index.wxml--&gt;&lt;view class=&quot;container&quot;&gt;&lt;/view&gt; 3ï¼‰logsç›®å½•é‡å‘½åä¸ºusercenterï¼Œå››ä¸ªæ–‡ä»¶åéƒ½æ”¹æˆlogin.xx login.wxmlæ”¹æˆ 123&lt;view class=&quot;page&quot;&gt;&lt;/view&gt; login.jsæ”¹æˆ 1234Page(&#123; data: &#123; &#125;,&#125;) login.jsonæ”¹æˆ 123&#123; &quot;navigationBarTitleText&quot;: &quot;ç”¨æˆ·ä¸­å¿ƒ&quot;&#125; 4ï¼‰åœ¨app.jsoné‡Œé¦–å°¾çš„ä¸¤ä¸ªpages/logs/logsæ”¹æˆpages/usercenter/loginï¼› æŠŠé¡µå¤´çš„â€œWeChatâ€æ”¹æˆâ€œå’•å’•ç›‘æ§â€ æŠŠâ€œæ—¥å¿—â€æ”¹æˆâ€œç”¨æˆ·ä¸­å¿ƒâ€ï¼› æŠŠå›¾æ ‡images/icon_seo.pngæ”¹æˆimages/icon_account.pngï¼› æŠŠå›¾æ ‡images/icon_seo_HL.pngæ”¹æˆimages/icon_account_HL.pngï¼› å›¾æ ‡æ–‡ä»¶æ”¾åˆ°imagesæ–‡ä»¶å¤¹ã€‚ 5ï¼‰app.wxssæ”¹æˆ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222.container &#123; display: flex; flex-direction: column; min-height: 100%; justify-content: space-between;&#125;.page-header &#123; font-size: 32px; color: #aaa; margin-top: 50rpx; flex-direction: column; align-items: center;&#125;.page-header-text &#123; padding: 20rpx 40rpx;&#125;.page-header-line &#123; width: 150rpx; height: 1px; border-bottom: 1px solid #ccc;&#125;.page-body &#123; width: 100%; display: flex; flex-direction: column; align-items: center; flex-grow: 1; overflow-x: hidden;&#125;.page-body-wrapper &#123; margin-top: 100rpx; display: flex; flex-direction: column; align-items: center; width: 100%;&#125;.page-body-wrapper form &#123; width: 100%;&#125;.page-body-wording &#123; text-align: center; padding: 200rpx 100rpx;&#125;.page-body-info &#123; display: flex; flex-direction: column; align-items: center; background-color: #fff; margin-bottom: 50rpx; width: 100%; padding: 50rpx 0 150rpx 0;&#125;.page-body-title &#123; margin-bottom: 100rpx; font-size: 32rpx;&#125;.page-body-text &#123; font-size: 30rpx; line-height: 26px; color: #ccc;&#125;.page-body-text-small &#123; font-size: 24rpx; color: #000; margin-bottom: 100rpx;&#125;.page-body-form &#123; width: 100%; background-color: #fff; display: flex; flex-direction: column; width: 100%; border: 1px solid #eee;&#125;.page-body-form-item &#123; display: flex; align-items: center; margin-left: 30rpx; border-bottom: 1px solid #eee; height: 88rpx; font-size: 34rpx;&#125;.page-body-form-key &#123; width: 180rpx; color: #000;&#125;.page-body-form-value &#123; flex-grow: 1;&#125;.page-body-form-value .input-placeholder &#123; color: #b2b2b2;&#125;.page-body-form-picker &#123; display: flex; justify-content: space-between; height: 100rpx; align-items: center; font-size: 36rpx; margin-left: 20rpx; padding-right: 20rpx; border-bottom: 1px solid #eee;&#125;.page-body-form-picker-value &#123; color: #ccc;&#125;.page-body-buttons &#123; width: 100%;&#125;.page-body-button &#123; margin: 25rpx;&#125;.page-body-button image &#123; width: 150rpx; height: 150rpx;&#125;.page-footer &#123; text-align: center; color: #1aad19; font-size: 24rpx; margin: 20rpx 0;&#125;.green&#123; color: #09BB07;&#125;.red&#123; color: #F76260;&#125;.blue&#123; color: #10AEFF;&#125;.yellow&#123; color: #FFBE00;&#125;.gray&#123; color: #C9C9C9;&#125;.strong&#123; font-weight: bold;&#125;.bc_green&#123; background-color: #09BB07;&#125;.bc_red&#123; background-color: #F76260;&#125;.bc_blue&#123; background-color: #10AEFF;&#125;.bc_yellow&#123; background-color: #FFBE00;&#125;.bc_gray&#123; background-color: #C9C9C9;&#125;.tc&#123; text-align: center;&#125;.page input&#123; padding: 20rpx 30rpx; background-color: #fff; border-bottom: 1px solid #dddddd;&#125;checkbox, radio&#123; margin-right: 10rpx;&#125;.btn-area&#123; padding: 0 30px;&#125;.btn-area button&#123; margin-top: 20rpx; margin-bottom: 20rpx;&#125;.page &#123; min-height: 100%; flex: 1; font-size: 32rpx; font-family: -apple-system-font,Helvetica Neue,Helvetica,sans-serif; overflow: hidden;&#125;.page__hd&#123; padding: 50rpx 50rpx 50rpx 50rpx; text-align: center;&#125;.page__title&#123; display: inline-block; padding: 20rpx 40rpx; font-size: 32rpx; color: #AAAAAA; border-bottom: 1px solid #CCCCCC;&#125;.page__desc&#123; display: none; margin-top: 20rpx; font-size: 26rpx; color: #BBBBBB;&#125;.section&#123; margin-bottom: 30rpx;&#125;.section_gap&#123; padding: 0 30rpx;&#125;.section__title&#123; margin-bottom: 16rpx; padding-left: 30rpx; padding-right: 30rpx;&#125;.section_gap .section__title&#123; padding-left: 0; padding-right: 0;&#125; åä¸‰ã€é¡¹ç›®ä¸€(2)å¯¹ç”¨æˆ·ä¸­å¿ƒåšå¸ƒå±€1ï¼‰login.wxmlæ”¹ä¸º 123456789101112131415161718192021222324252627282930313233&lt;!--logs.wxml--&gt;&lt;view class=&quot;page&quot;&gt; &lt;view class=&quot;page__hd&quot;&gt; &lt;view class=&quot;section__ctn&quot;&gt; &lt;Image style=&quot;width:100px; height:100px;&quot; src=&quot;https://o97mkvfjm.qnssl.com/logo.png&quot;&gt;&lt;/Image&gt; &lt;/view&gt; &lt;/view&gt; &lt;view class=&quot;page__bd&quot;&gt; &lt;view class=&quot;section&quot;&gt; &lt;input type=&quot;text&quot; placeholder=&quot;é‚®ç®±&quot; auto-focus /&gt; &lt;/view&gt; &lt;view class=&quot;section&quot;&gt; &lt;input type=&quot;text&quot; placeholder=&quot;å¯†ç &quot; /&gt; &lt;/view&gt; &lt;view class=&quot;section&quot;&gt; &lt;view class=&quot;btn-area&quot;&gt; &lt;button type=&quot;primary&quot; &gt;ç™»å½•&lt;/button&gt; &lt;/view&gt; &lt;/view&gt; &lt;view class=&quot;section&quot;&gt; &lt;view class=&quot;btn-area&quot;&gt; &lt;button type=&quot;default&quot; bindtap=&quot;gotoregister&quot;&gt;æ–°ç”¨æˆ·æ³¨å†Œ&lt;/button&gt; &lt;/view&gt; &lt;/view&gt; &lt;view class=&quot;section&quot;&gt; &lt;view class=&quot;btn-area&quot;&gt; &lt;button type=&quot;default&quot; bindtap=&quot;forgotpassword&quot;&gt;å¿˜è®°å¯†ç &lt;/button&gt; &lt;/view&gt; &lt;/view&gt; &lt;/view&gt;&lt;/view&gt; åå››ã€é¡¹ç›®ä¸€(3)ç™»å½•æŒ‰é’®åŠŸèƒ½æœ¬ç« æ¶‰åŠæ–‡æ¡£-API-ç•Œé¢-äº¤äº’åé¦ˆ-wx.showModalï¼ˆæ˜¾ç¤ºæ¨¡æ€å¼¹çª—ï¼‰ã€wx.showToastï¼ˆæ˜¾ç¤ºæ¶ˆæ¯æç¤ºæ¡†ï¼‰ 1ã€ç•Œé¢1ï¼‰åœ¨index.wxmlåŠ å…¥æ–‡å­—â€œé¦–é¡µâ€ï¼ˆç”¨æ¥è¯†åˆ«è¿™ä¸€é¡µæ˜¯é¦–é¡µï¼‰ 2ï¼‰åœ¨login.wxmlï¼Œç™»å½•éƒ¨åˆ†æ”¹æˆ&lt;button type=&quot;primary&quot; ontap=&quot;login&quot;&gt;ç™»å½•&lt;/button&gt; 3ï¼‰åœ¨login.jsï¼ŒåŠ å…¥ 1234567login: function (e) &#123; wx.showToast(&#123; title: &apos;ç™»å½•è¯·æ±‚ä¸­&apos;, icon: &apos;loading&apos;, duration: 10000 &#125;);&#125; 2ã€ç½‘ç»œè¯·æ±‚ æ³¨æ„ï¼šåœ¨Q&amp;Aé‡Œè¯´ï¼Œå‘å¸ƒçš„æ—¶å€™è¦æ±‚æ˜¯httpsè¯·æ±‚ï¼Œtlsä»…æ”¯æŒ1.2åŠä»¥ä¸Šç‰ˆæœ¬ã€‚ è¦ç”¨chromeæµè§ˆå™¨-æ£€æŸ¥-Securityï¼ŒæŸ¥çœ‹ä½ çœŸå®éƒ¨ç½²çš„APIåå°çš„httpsç‰ˆæœ¬ã€‚ 1ï¼‰login.jsåŠ å…¥ 1234567891011121314151617Page(&#123; data: &#123; email: &apos;&apos;, password: &apos;&apos; &#125;, login: function (e) &#123; wx.showToast(&#123; title: &apos;ç™»å½•è¯·æ±‚ä¸­&apos;, icon: &apos;loading&apos;, duration: 10000 &#125;); //ç½‘ç»œè¯·æ±‚å¼€å§‹ wx.request(&#123; url: &apos;https://api.gugujiankong.com/account/Login?email=&apos; + this.data.email + &apos;&amp;password=&apos; + this.data.password )&#125;; &#125;&#125;) 2ï¼‰è¡¨å•è¾“å…¥å€¼çš„è·å–bindinput=&quot;&quot;ï¼ˆç”¨æ¥è·å–å‰å°ç”¨æˆ·è¾“å…¥çš„è´¦å·ã€å¯†ç ï¼‰ ä¿®æ”¹login.xwmlå¦‚ä¸‹ï¼š &lt;input type=&quot;text&quot; bindinput=&quot;bindEmailInput&quot; placeholder=&quot;é‚®ç®±&quot; auto-focus /&gt; &lt;input type=&quot;password&quot; bindinput=&quot;bindPasswordInput&quot; placeholder=&quot;å¯†ç &quot; /&gt; 3ï¼‰login.jsåå°å®šä¹‰ä¸Šè¾¹çš„ä¸¤ä¸ªæ–¹æ³• 123456bindEmailInput: function (e) &#123; this.setData(&#123; email: e.detail.value &#125;)&#125;,bindPasswordInput: function (e) &#123; this.setData(&#123; password: e.detail.value &#125;)&#125;, xx.detail.valueçš„ç”¨æ³•æ¡ˆä¾‹å¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£-ç»„ä»¶-è¡¨å•ç»„ä»¶-input 4ï¼‰login.jsçš„apiéƒ¨åˆ†åŠ headerå’Œsuccess 123456789101112131415header: &#123; &apos;Content-Type&apos;: &apos;application/json&apos;&#125;,success: function (res) &#123; wx.hideToast(); if (res.data.LoginStatus == 1) &#123; //è¿›è¡Œä¸€äº›ç”¨æˆ·çŠ¶æ€çš„å­˜å‚¨ &#125; else &#123; wx.showModal(&#123; title: &apos;ç™»å½•å¤±è´¥&apos;, content: &apos;è¯·æ£€æŸ¥æ‚¨å¡«å†™çš„ç”¨æˆ·ä¿¡æ¯ï¼&apos;, showCancel: false, success: function (res) &#123; //å›è°ƒå‡½æ•° &#125; &#125;); &#125;&#125; 3ã€è¯¾ç¨‹å›é¡¾1ï¼‰å¦‚ä½•è·å–è¡¨å•çš„å€¼ï¼Ÿ é€šè¿‡å›è°ƒçš„å½¢å¼ï¼Œåœ¨åå°ç”¨.detail.valueæ–¹æ³•è·å¾—å€¼ï¼Œç„¶ååœ¨å‰å°è°ƒç”¨ã€‚ å½“æŸä¸ªå‡½æ•°ï¼ˆæ›´ç¡®åˆ‡çš„è¯´æ˜¯å‡½æ•°çš„æŒ‡é’ˆï¼‰è¢«ä½œä¸ºå‚æ•°ï¼Œè¢«å¦ä¸€ä¸ªå‡½æ•°è°ƒç”¨æ—¶ï¼Œå®ƒæ‰æ˜¯å›è°ƒå‡½æ•°ã€‚ 2ï¼‰ç™»å½•çš„æ—¶å€™ â‘ ã€ç»„ä»¶wx.showToastçš„ä½¿ç”¨ â‘¡ã€httpsçš„æ³¨æ„äº‹é¡¹ â‘¢ã€headerå¦‚ä½•é…ç½® â‘£ã€åœ¨å›è°ƒçš„æ—¶å€™åšä¸€äº›çŠ¶æ€çš„å¤„ç†ï¼Œæ¯”å¦‚wx.showModalï¼ˆæ˜¾ç¤ºæ¨¡æ€å¼¹çª—ï¼‰ã€wx.showToastï¼ˆæ˜¾ç¤ºæ¶ˆæ¯æç¤ºæ¡†ï¼‰ åäº”ã€é¡¹ç›®ä¸€(4)å¯¼èˆª-é¡µé¢è·³è½¬æœ¬ç« æ¶‰åŠæ–‡æ¡£-API-ç•Œé¢-å¯¼èˆª wx.navigateToï¼Œä¿ç•™å½“å‰é¡µé¢ï¼Œè·³è½¬åˆ°åº”ç”¨å†…çš„æŸä¸ªé¡µé¢ï¼› wx.redirectToï¼Œå…³é—­å½“å‰é¡µé¢ï¼Œè·³è½¬åˆ°åº”ç”¨å†…çš„æŸä¸ªé¡µé¢ã€‚ wx.switchTabï¼Œè·³è½¬åˆ° tabBar é¡µé¢ï¼Œå¹¶å…³é—­å…¶ä»–æ‰€æœ‰é tabBar é¡µé¢ã€‚ï¼ˆç”¨äºæ²¡æœ‰ç™»å½•æ—¶çœ‹ä¸åˆ°åº•éƒ¨tarbarï¼‰ 1ã€è¿›è¡Œtabçš„åˆ‡æ¢1ï¼‰login.jsé¡µé¢ï¼Œ 123456wx.switchTab(&#123; url: &apos;../../pages/index/index&apos;, success: function () &#123; console.log(&quot;called switchtab.&quot;); &#125;&#125;); 2ã€ã€é—®é¢˜ã€‘1ï¼‰æµ‹è¯•ç”¨æ¥ç™»å½•çš„è´¦å·å¯†ç ï¼Œåœ¨å“ªé‡Œè®¾ç½®ï¼Œå°è¯•login.jså’Œindex.jsçš„dataä½ç½®éƒ½å¤±è´¥äº†ï¼Ÿ åå…­ã€é¡¹ç›®ä¸€(5)è‡ªå·±å†™çš„APIå¦‚ä½•è®©å¾®ä¿¡æ¥å—1.tls ä»…æ”¯æŒ 1.2 åŠä»¥ä¸Šç‰ˆæœ¬ï¼› 2.éƒ¨åˆ† Android æœºå‹éœ€è¦ tls1.0 æˆ–è€… tls1.1ï¼Œæ‰€ä»¥è¯·ç¡®ä¿æœåŠ¡å™¨çš„ tls ç‰ˆæœ¬ä¸º 1.0ã€1.1ã€1.2ï¼› å³éœ€è¦tlsæ˜¯1.2ç‰ˆæœ¬å¹¶å‘ä¸‹å…¼å®¹ã€‚ 1ã€æ£€æµ‹å·¥å…·1ï¼‰OnlineDomainToolsï¼Œç”¨äºæ£€æµ‹ç½‘ç«™tlsç‰ˆæœ¬æ”¯æŒç­‰æƒ…å†µã€‚ Domain nameï¼Œå¡«çš„æ˜¯ä¸å¸¦httpsçš„åŸŸåï¼Œæ³¨æ„ä¸æ˜¯å¡«apiæ¥å£çš„ç½‘å€ã€‚æ¯”å¦‚api.gugujiankong.comï¼› Portï¼Œç«¯å£é»˜è®¤443ï¼› Ipï¼Œå¯ä»¥ä¸å¡«ï¼› 2ï¼‰ipv6 testï¼Œåšioså¼€å‘æ—¶ï¼Œæˆ–apiä¸ä»…ä»…ç»™å¾®ä¿¡å°ç¨‹åºç”¨è¿˜ç»™iosç”¨ã€‚ å°½é‡è®©è‡ªå·±çš„APIæ¥å£æ”¯æŒhttpsï¼Œä¸ç®¡æ˜¯ä»å®‰å…¨æ€§ï¼Œè¿˜æ˜¯ä»appleçš„iosã€å¾®ä¿¡å°ç¨‹åºçš„æ”¯æŒï¼Œéƒ½æ˜¯å¿…å¤‡çš„ã€‚ 2ã€ã€é—®é¢˜ã€‘1ï¼‰å¦‚ä½•å¿«é€Ÿé…ç½®ipv6ï¼Ÿ åä¸ƒã€é¡¹ç›®ä¸€(6)åœ°å›¾æ–‡æ¡£-ç»„ä»¶-åœ°å›¾-mapï¼Œåœ°å›¾ä¸æ˜¯é€»è¾‘å’Œä»£ç å›°éš¾ï¼Œä¸»è¦æ˜¯ä¸€äº›åŸºç¡€çš„æ¦‚å¿µã€‚ 1ã€å‡ ä¸ªé‡è¦çš„æ¦‚å¿µ1ï¼‰longitudeç»åº¦ï¼Œ 2ï¼‰latitudeçº¬åº¦ï¼Œ æ³¨æ„ï¼šå¦‚æœç”¨é«˜å¾·åœ°å›¾ï¼Œå½“ä½ è¦ç»™å®šä¸€ä¸ªç»çº¬åº¦åšæ ‡è®°æ—¶ï¼Œå¿…é¡»ç”¨é«˜å¾·åœ°å›¾APIçš„åœ°å›¾å·¥å…·-åæ ‡æ‹¾å–å™¨ã€‚ 3ï¼‰scaleï¼Œæ”¾å¤§çš„çº§åˆ« 4ï¼‰controltapäº‹ä»¶ 5ï¼‰markersäº‹ä»¶ï¼Œå°±æ˜¯å¯ä»¥åœ¨ä¸Šè¾¹æ ‡ä¸€äº›ç‚¹ 6ï¼‰show-locationï¼Œæ˜¾ç¤ºå½“å‰ä½ç½® 2ã€ä»£ç 1ï¼‰index.wxmlæ”¹æˆ 1234&lt;!--index.wxml--&gt;&lt;view class=&quot;container&quot;&gt; &lt;map id=&quot;map&quot; longitude=&quot;116.397428&quot; latitude=&quot;39.907913&quot; scale=&quot;14&quot; markers=&quot;&#123;&#123;markers&#125;&#125;&quot; style=&quot;width:100%;height:300px;&quot;&gt;&lt;/map&gt;&lt;/view&gt; åˆ·æ–°å¯ä»¥çœ‹åˆ°é¦–é¡µå‡ºç°åœ°å›¾ï¼š 2ï¼‰ä¸ºäº†åœ¨åœ°å›¾ä¸Šæ ‡ç‚¹ï¼Œå®šä¹‰ä¸Šè¾¹å¼•ç”¨çš„markersã€‚ index.jsæ”¹ä¸º 1234567891011Page(&#123; data: &#123; markers: [&#123; iconPath: &quot;http://webapi.amap.com/theme/v1.3/markers/b/mark_bs.png&quot;, id: 0, latitude: 39.907354, longitude: 116.397557, width: 19, height: 33 &#125;]&#125;&#125;) 3ã€å››ä¸ªTip1ï¼‰map ç»„ä»¶æ˜¯ç”±å®¢æˆ·ç«¯åˆ›å»ºçš„åŸç”Ÿç»„ä»¶ï¼Œå®ƒçš„å±‚çº§æ˜¯æœ€é«˜çš„ï¼Œä¸èƒ½é€šè¿‡ z-index æ§åˆ¶å±‚çº§ã€‚ 2ï¼‰tip: è¯·å‹¿åœ¨ scroll-viewã€swiperã€picker-viewã€movable-view ä¸­ä½¿ç”¨ map ç»„ä»¶ã€‚ 3ï¼‰tip: css åŠ¨ç”»å¯¹ map ç»„ä»¶æ— æ•ˆã€‚ 4ï¼‰tip: map ç»„ä»¶ä½¿ç”¨çš„ç»çº¬åº¦æ˜¯ç«æ˜Ÿåæ ‡ç³»ï¼Œè°ƒç”¨ wx.getLocation æ¥å£éœ€è¦æŒ‡å®š typeä¸º gcj02 åå…«ã€flexçš„å¸ƒå±€æ–‡æ¡£-ç»„ä»¶-è§†å›¾å®¹å™¨-viewï¼Œå®˜æ–¹æ–‡æ¡£è®²çš„å¤ªç®€å•äº†æ¯”è¾ƒè®©äººè¿·æƒ‘ã€‚ 1ï¼‰css-referenceï¼Œåœ¨githubä¸Šçš„é¡¹ç›®å·²ç¿»è¯‘æˆä¸­æ–‡æ–‡æ¡£ã€‚å¤§å®¶å¯ä»¥çœ‹flexboxç« èŠ‚ã€‚ åä¹ã€é¡¹ç›®ä¸€(7)å¾®ä¿¡ç™»å½•æ–‡æ¡£-API-ç”¨æˆ·ä¿¡æ¯-wx.getUserInfo 1ã€wx.getUserInfo1ï¼‰è·å–ç”¨æˆ·ä¿¡æ¯ï¼ŒwithCredentials ä¸º true æ—¶éœ€è¦å…ˆè°ƒç”¨ wx.login æ¥å£ã€‚ 2ï¼‰éœ€è¦ç”¨æˆ·æˆæƒ scope.userInfo 2ã€ä»£ç ï¼ˆå®˜æ–¹æ–°å»ºä¸“æ¡ˆå°±æœ‰ï¼‰1ï¼‰app.js 123456789101112131415161718192021222324252627 // ç™»å½• wx.login(&#123; success: res =&gt; &#123; // å‘é€ res.code åˆ°åå°æ¢å– openId, sessionKey, unionId &#125; &#125;) // è·å–ç”¨æˆ·ä¿¡æ¯ wx.getSetting(&#123; success: res =&gt; &#123; if (res.authSetting[&apos;scope.userInfo&apos;]) &#123; // å·²ç»æˆæƒï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ getUserInfo è·å–å¤´åƒæ˜µç§°ï¼Œä¸ä¼šå¼¹æ¡† wx.getUserInfo(&#123; success: res =&gt; &#123; // å¯ä»¥å°† res å‘é€ç»™åå°è§£ç å‡º unionId this.globalData.userInfo = res.userInfo // ç”±äº getUserInfo æ˜¯ç½‘ç»œè¯·æ±‚ï¼Œå¯èƒ½ä¼šåœ¨ Page.onLoad ä¹‹åæ‰è¿”å› // æ‰€ä»¥æ­¤å¤„åŠ å…¥ callback ä»¥é˜²æ­¢è¿™ç§æƒ…å†µ if (this.userInfoReadyCallback) &#123; this.userInfoReadyCallback(res) &#125; &#125; &#125;) &#125; &#125; &#125;)&#125;, 2ï¼‰index.jså¦‚ä¸‹ã€‚åœ¨é¡µé¢onloadçš„æ—¶å€™ï¼Œå¯ä»¥æŠŠuserInfoä»globalDataé‡Œå–å‡ºæ¥ï¼Œç»™å‰å°index.wxmlè°ƒç”¨ 123456789101112131415161718192021222324252627282930313233343536onLoad: function () &#123; if (app.globalData.userInfo) &#123; this.setData(&#123; userInfo: app.globalData.userInfo, hasUserInfo: true &#125;) &#125; else if (this.data.canIUse)&#123; // ç”±äº getUserInfo æ˜¯ç½‘ç»œè¯·æ±‚ï¼Œå¯èƒ½ä¼šåœ¨ Page.onLoad ä¹‹åæ‰è¿”å› // æ‰€ä»¥æ­¤å¤„åŠ å…¥ callback ä»¥é˜²æ­¢è¿™ç§æƒ…å†µ app.userInfoReadyCallback = res =&gt; &#123; this.setData(&#123; userInfo: res.userInfo, hasUserInfo: true &#125;) &#125; &#125; else &#123; // åœ¨æ²¡æœ‰ open-type=getUserInfo ç‰ˆæœ¬çš„å…¼å®¹å¤„ç† wx.getUserInfo(&#123; success: res =&gt; &#123; app.globalData.userInfo = res.userInfo this.setData(&#123; userInfo: res.userInfo, hasUserInfo: true &#125;) &#125; &#125;) &#125; &#125;, getUserInfo: function(e) &#123; console.log(e) app.globalData.userInfo = e.detail.userInfo this.setData(&#123; userInfo: e.detail.userInfo, hasUserInfo: true &#125;) &#125; 3ï¼‰index.wxmlï¼Œè°ƒç”¨æ˜µç§°ç­‰ä¿¡æ¯ 1&lt;text class=&quot;userinfo-nickname&quot;&gt;&#123;&#123;userInfo.nickName&#125;&#125;&lt;/text&gt; 3ã€unionIDï¼ˆæ¯”è¾ƒé‡è¦ï¼‰1ï¼‰ç”¨æ¥åšç»Ÿä¸€çš„ç™»å½•è¯†åˆ«ã€‚ æ¯”å¦‚åœ¨äº¬ä¸œwebå¯ä»¥ç”¨å¾®ä¿¡ç™»å½•ã€äº¬ä¸œå…¬ä¼—å·ç”¨å¾®ä¿¡ç™»å½•ã€äº¬ä¸œè¿˜æœ‰å¾®ä¿¡å°ç¨‹åºï¼Œä¸‰ä¸ªå¹³å°çš„ç”¨æˆ·éƒ½æ˜¯æ‰«äºŒç»´ç ç™»å½•ï¼Œç”¨unionIDå°±èƒ½è¯†åˆ«æˆä¸€ä¸ªç”¨æˆ·ï¼Œæ¯”å¦‚ç”¨æˆ·ä¿¡æ¯ã€è®¢å•å¯ä»¥é€šç”¨ã€‚ 2ï¼‰ä¸€ä¸ªappå¯¹åº”ä¸€ä¸ªopenIDï¼Œæ‰€ä»¥ä¸èƒ½é€šè¿‡openIDã€‚ 4ã€ã€é—®é¢˜ã€‘å¦‚ä½•é€šè¿‡åç«¯APIï¼Œæ¢å–openIDï¼Ÿ","categories":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}],"tags":[{"name":"å¾®ä¿¡ç³»ç»Ÿ","slug":"å¾®ä¿¡ç³»ç»Ÿ","permalink":"http://yoursite.com/tags/å¾®ä¿¡ç³»ç»Ÿ/"}],"keywords":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}]},{"title":"wx-system-99å°ç¨‹åºé¡¹ç›®å¼€å‘è¿›åº¦","slug":"wx-system-99å°ç¨‹åºé¡¹ç›®å¼€å‘è¿›åº¦","date":"2017-12-31T16:10:00.000Z","updated":"2018-01-14T08:57:59.000Z","comments":true,"path":"posts/6926316/","link":"","permalink":"http://yoursite.com/posts/6926316/","excerpt":"","text":"ä¿è¯æœç´¢csså‘½åçš„å”¯ä¸€æ€§ï¼Œåªè¦ç¡®ä¿å¤–å±‚ä¸åŒï¼Œå¤–å±‚ä¸€ç”¨product-Boxï¼Œå¤–å±‚äºŒç”¨p_show-headï¼Œå¤–å±‚ä¸‰ç”¨p_show-head-inputã€‚é‡Œå±‚ä¸€èˆ¬ä¸åŠ classï¼Œç›´æ¥ç”¨imageã€buttonã€iconç­‰ã€‚â€”â€”æœç´¢çš„æ—¶å€™ç›´æ¥æœç´¢å¤–å±‚ï¼Œå†ç¨å¾®æ‰¾æ‰¾å°±èƒ½æ‰¾åˆ°å…·ä½“çš„cssã€‚ cssçš„classå‘½åï¼šï¼ï¼ç›®çš„æ˜¯å¥½æœã€å¥½æ‰¾ 1ï¼‰webç«¯ï¼Œboxè¡¨ç¤ºæ‰€æœ‰producté¡µé¢éƒ½å¯ä»¥å…±ç”¨ã€‚æœ€å¤–å±‚â€product-Boxâ€å…±ç”¨ï¼Œå…¶ä»–é¡µé¢å¦‚showå†™â€product-Box product-show-Boxâ€ã€‚æ¯ä¸ªé¡µé¢çš„å¤§æ¨¡å—ç”¨â€buy-boxâ€ã€â€detail-boxâ€æˆ–â€product-imageâ€ã€â€product-detailâ€ã€‚ 2ï¼‰å°ç¨‹åºç«¯ï¼Œä¸èƒ½è·Ÿwebä¸€æ ·æŠŠæ¯ä¸ªæ¨¡å—csså…¨éƒ¨åŒ…è£¹åœ¨æœ€å¤–å±‚cssé‡Œé¢ã€‚ æ–¹æ¡ˆä¸€ï¼šapp.wxssé‡Œâ€product-Boxâ€ã€â€welcome-Boxâ€å…±ç”¨ï¼Œå…¶ä»–é¡µé¢å¦‚showå†™â€product-Box p_show-Boxâ€ã€‚æ¯ä¸ªé¡µé¢çš„å¤§æ¨¡å—ç”¨â€p_index-imageâ€ã€â€p_show-detailâ€ã€â€p_search-inputâ€ã€‚ æ–¹æ¡ˆäºŒï¼šapp.wxssè®¾ç½®å…±ç”¨åŸºç¡€å†…å®¹â€container{}â€ã€â€container .input{}â€ã€â€container text{}â€ã€‚ 12345678910111213141516/**app.wxss**/.container &#123; box-sizing: border-box; background-color: #f4f4f4; font-family: PingFangSC-Light,helvetica,&apos;Heiti SC&apos;;&#125; view,image,text,navigator&#123; box-sizing: border-box; padding:0; margin:0;&#125;view,text&#123; font-family: PingFangSC-Light,helvetica,&apos;Heiti SC&apos;; font-size: 29rpx; color: #333;&#125; æ–¹æ¡ˆä¸‰ï¼šæ–°å»ºcommonæ–‡ä»¶å¤¹ï¼Œæ”¾product.wxssã€welcome.wxssã€category.wxsså…±ç”¨ã€‚app.wxssæ¸…ç©ºï¼Œæ”¹ç”¨å¯¹commonçš„å¼•ç”¨ã€‚æˆ–ç›´æ¥åœ¨æ¯ä¸ªé¡µé¢ç”¨pageã€‚ æœ€å¥½çš„æ–¹å¼æ˜¯å…ˆæŠŠé¡µé¢åšå‡ºæ¥ï¼Œç„¶åå†å»é‡æ„ï¼Œç„¶åå†æ€»ç»“å¥—è·¯ï¼Œè€Œä¸æ˜¯ä¸€å¼€å§‹å°±åœ¨çº ç»“wxssã€‚ 1234567891011121314151617181920212223242526272829303132var API_URL = &apos;https://luccake.top/api/v1/products/search&apos;Page(&#123; data: &#123; cakes: [] &#125;, search: function (e) &#123; var aaa = API_URL + &quot;?utf8=âœ“&amp;q=&quot; + e.detail.value console.log(aaa) if (!e.detail.value) &#123; return; &#125; wx.showToast(&#123; //åŠ è½½ä¸­çš„åŠ¨ç”»æ•ˆæœ title: &quot;åŠ è½½ä¸­..&quot;, icon: &quot;loading&quot;, duration: 10000 &#125;); var that = this; //ä¿å­˜thisçš„æ•°æ® wx.request(&#123; url: API_URL + &quot;?utf8=âœ“&amp;q=&quot; + e.detail.value, header: &#123; &apos;content-type&apos;: &apos;json&apos; // é»˜è®¤å€¼ &#125;, success: function (res) &#123; console.log(res.data) wx.hideToast(); that.setData(&#123; cakes: res.data.data &#125;) &#125; &#125;) &#125;&#125;) ä¸€ã€ã€é—®é¢˜ã€‘1ã€æœªè§£å†³5ï¼‰å°ç¨‹åºçš„httpsæ€ä¹ˆå¼„ï¼Ÿ 7ï¼‰å°ç¨‹åºæ€ä¹ˆæ‰“åŒ…å‘å¸ƒï¼Ÿ 8ï¼‰éƒ¨ç½²åœ¨é˜¿é‡Œäº‘ï¼Ÿhttpsè¯ä¹¦è´­ä¹°æœåŠ¡å™¨å¯å…è´¹ä¸€å¹´ï¼Ÿ 2ã€å·²è§£å†³1ï¼‰apiæ¥å£çš„å›¾ç‰‡ã€apiç½‘å€éƒ½æ˜¯æœ¬åœ°åœ°å€ï¼Ÿå·²ç»æ¥å¥½ä¸ƒç‰›äº‘ã€‚ å…ˆéƒ¨ç½²åˆ°herokuï¼Œæ˜å¤©æ—©ä¸Š10ç‚¹å¼ºé˜¿é‡Œäº‘ã€‚ 2ï¼‰æ˜¯è¦æ‹¿jdstroeç›´æ¥æ¥æ”¹ï¼Ÿè¿˜æ˜¯åº”è¯¥é‡æ–°å»ºä¸€ä¸ªé¡¹ç›®æ¥åšï¼Ÿç›´æ¥æ‹¿jdstoreï¼Œå› ä¸ºapiå’Œwebç«¯ä¸å†²çªã€‚ 3ï¼‰apiæ€ä¹ˆç”Ÿæˆä¸€ä¸ªç½‘å€ï¼Ÿä¸€æ ·æ˜¯åœ¨config/routeså®šä¹‰ 4ï¼‰apiçš„ä»£ç è¦æ€ä¹ˆå†™æ¯”è¾ƒç®€æ´ï¼Ÿç”¨è‡ªå¸¦çš„gem &#39;jbuilder&#39; 5ï¼‰æ¯ä¸ªactionå¯¹åº”ä¸€ä¸ªapiæ¥å£ï¼Œå³ä¸€ä¸ªç½‘å€ï¼Œæ˜¯ä¸æ˜¯è¦åœ¨å†™ç¨‹åºé‡Œå¼•å…¥è¿™ä¹ˆå¤šä¸ªAPIçš„URLï¼Ÿä¸æ˜¯çš„ã€‚å¯ä»¥ç”¨indexçš„apiï¼Œå°±ä¼šåŒ…å«æ›´å¤šçš„ä¿¡æ¯ï¼Œä¾›å°ç¨‹åºè°ƒç”¨ã€‚ 6ï¼‰æŸ¥çœ‹schema.rbï¼Œæ€»å…±æœ‰carts/cart_items/orders/product_lists/users/productså…­ä¸ªè¡¨å•ã€‚å“ªäº›éœ€è¦ç”Ÿæˆapi controllerï¼Ÿå•†å“å±•ç¤ºç”¨é€”ï¼Œåº”è¯¥åªè¦productså°±å¯ä»¥ã€‚ 7ï¼‰product#indexçš„apiæœ¬åœ°æµ‹è¯•æˆåŠŸ8ï¼‰product#indexçš„apiéƒ¨ç½²æˆåŠŸã€‚æ­¤æ—¶apiç½‘å€ã€imageç½‘å€éƒ½ç”±æœ¬åœ°è·¯å¾„å˜æˆæ­£å¸¸ç½‘å€ã€‚9ï¼‰apiæ¥å£æ”¾åœ¨å°ç¨‹åºä¸Šæµ‹è¯•ï¼Œçœ‹èƒ½å¦è°ƒç”¨ï¼Ÿï¼ˆæ‰¾èµ„æ–™æŠ˜è…¾äº†3å°æ—¶ï¼‰â‘ ã€æµ‹è¯•æˆåŠŸçš„ä»£ç ã€‚ æ³¨æ„ï¼Œä»¥ä¸‹ä»£ç åªèƒ½åœ¨æ²¡æœ‰appIDçš„é¡¹ç›®ç”¨ï¼Œå¦‚æœæ˜¯æœ‰appIDçš„é¡¹ç›®ä¼šæç¤ºhttpsæˆ–ssléªŒè¯çš„é—®é¢˜ï¼Œå› ä¸ºè¿™é‡Œç”¨çš„apiç½‘å€ä¸æ”¯æŒsslã€‚ index.jsæ–‡ä»¶ 1234567891011121314151617181920var app = getApp();Page(&#123; data: &#123; &#125;, onLoad: function () &#123; var that = this; wx.request(&#123; url: &apos;https://wx-luccake.herokuapp.com/api/v1/products&apos;, header: &#123; &apos;content-type&apos;: &apos;application/json&apos; &#125;, success: function (res) &#123; console.log(res.data) that.setData(&#123; newsdata: res.data.data &#125;) &#125; &#125;) &#125;&#125;) index.wxmlæ–‡ä»¶ 1234567&lt;view class=&quot;Box-welcome&quot;&gt; &lt;view wx:for=&quot;&#123;&#123;newsdata&#125;&#125;&quot; wx:key=&quot;&quot;&gt; &lt;image src=&apos;&#123;&#123;item.image.url&#125;&#125;&apos;&gt;&lt;/image&gt; &lt;view class=&apos;&apos;&gt;&#123;&#123;item.title&#125;&#125;&lt;/view&gt; &lt;view class=&apos;&apos;&gt;&#123;&#123;item.description&#125;&#125;&lt;/view&gt; &lt;/view&gt;&lt;/view&gt; â‘¡ã€é‡åˆ°çš„é—®é¢˜ï¼šåœ¨success: functioné‡Œç”¨res.dataè°ƒç”¨æ•°æ®ï¼Œæ²¡æœ‰æŠ¥é”™ï¼Œä½†ä¹Ÿæ²¡æœ‰æ˜¾ç¤ºå†…å®¹ï¼Ÿï¼Ÿ è§£å†³åŠæ³•ï¼šå‚è€ƒç½‘ç«™http://www.henkuai.com/thread-18784-2-1.htmlã€‚ æ”¹ç”¨res.data.æœ€å¤–å±‚æ ä½åç§°è°ƒç”¨æ•°æ®ã€‚å› ä¸ºæˆ‘çš„apiæœ€å¤–è¾¹æ˜¯â€dataâ€:ï¼Œæ‰€ä»¥è¿™é‡Œå†™æˆres.data.dataã€‚ â‘¢ã€ä»€ä¹ˆæ—¶å€™ç”¨res.dataï¼Ÿä»€ä¹ˆæ—¶å€™ç”¨res.data.dataï¼Ÿ ç®€å•çš„è¯´ï¼Œapiæ–‡ä»¶æ‰“å¼€æœ‰ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š 12[&#123;&quot;Id&quot;: xxx&#125;, &#123;&quot;Id&quot;: xxxx&#125;, &#123;&quot;Id&quot;: xxx&#125;]&#123;&quot;data&quot;: [&#123;xxxxx&#125;, &#123;xxxxx&#125;, &#123;xxxxx&#125;]&#125; ç»§ç»­å¾€ä¸‹çœ‹ã€‚ã€‚ å¦‚æœæ‰“å¼€çš„apiæ–‡ä»¶å¦‚ä¸‹ï¼Œè¿™ç§æ¯”è¾ƒå°‘è§ï¼Œæœ€å¤–å±‚æ˜¯[]ï¼Œå°±ç”¨res.data 123456789101112[&#123;&quot;title&quot;: &quot;èµµä¸½é¢–ç°èº«æœºåœºï¼Œç–²æƒ«è¿‡åº¦åŠ©ç†å¿™æ€æ‰¶ï¼Œä»ä¸å¿˜ä¸ºç²‰ä¸ç­¾ååç¦»å¼€&quot;,&quot;author_name&quot;: &quot;æµ·å“¥èŠå¨±ä¹&quot;,&quot;thumbnail_pic_s&quot;: &quot;http://00.imgmini.eastday.com/mobile/20161028/20161028202106_9f5968897abf2882af89f1193529bdfb_1_mwpm_03200403.jpeg&quot;&#125;,&#123;&quot;title&quot;: &quot;èµµä¸½é¢–ç°èº«æœºåœºï¼Œç–²æƒ«è¿‡åº¦åŠ©ç†å¿™æ€æ‰¶ï¼Œä»ä¸å¿˜ä¸ºç²‰ä¸ç­¾ååç¦»å¼€&quot;,&quot;author_name&quot;: &quot;æµ·å“¥èŠå¨±ä¹&quot;,&quot;thumbnail_pic_s&quot;: &quot;http://00.imgmini.eastday.com/mobile/20161028/20161028202106_9f5968897abf2882af89f1193529bdfb_1_mwpm_03200403.jpeg&quot;&#125;] å¦‚æœæ‰“å¼€çš„apiæ–‡ä»¶å¦‚ä¸‹ï¼Œå¸¸è§çš„æ˜¯è¿™ç§ï¼Œæœ€å¤–å±‚æ˜¯{}ï¼Œå°±ç”¨res.data.employeesã€‚ 123456789101112&#123; &quot;employees&quot;: [ &#123; &quot;firstName&quot;: &quot;Bill&quot;, &quot;lastName&quot;: &quot;Gates&quot; &#125;, &#123; &quot;firstName&quot;: &quot;George&quot;, &quot;lastName&quot;: &quot;Bush&quot; &#125; ]&#125; â‘£ã€å…¶ä»–æ³¨æ„äº‹é¡¹ã€‚ jsonæ ¼å¼åªå…è®¸åŒå¼•å·ï¼Œæ‰€ä»¥apiçš„æ ä½å’Œå€¼éƒ½è¦æœ‰åŒå¼•å·ã€‚ å¾®ä¿¡å°ç¨‹åºçš„reså·²ç»æ˜¯ä¸ªjsonå½¢å¼ï¼Œdataé‡Œé¢ç›´æ¥æ”¾é”®å’Œå€¼ã€‚ï¼ˆçœ‹çš„æ™•æ™•çš„ï¼Œä¸å¤ªç†è§£ï¼‰ 10ï¼‰å°ç¨‹åºçš„AppIDæ˜¯ä»€ä¹ˆï¼Ÿæ˜¯è¦ä»æ–°å»ºé¡¹ç›®çš„æ—¶å€™å°±å¼€å§‹å¼„å—ï¼Œè¿˜æ˜¯å¯ä»¥ç­‰é¡¹ç›®æµ‹è¯•å®Œæˆåå†åŠ å…¥ï¼Ÿâ‘ ã€éƒ½å¯ä»¥ï¼Œå¦‚æœåœ¨æ–°å»ºæ—¶æ²¡æœ‰æ·»åŠ AppIDï¼Œå¯ä»¥åœ¨å¼€å‘å®Œæˆåï¼Œ æ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œappid é¡¹ç›®ç›®å½•é€‰æ‹©ä¹‹å‰çš„é¡¹ç›®è·¯å¾„å³å¯ï¼ˆåœ¨å¼€å‘è€…å·¥å…·é‡Œï¼Œåˆ é™¤é¡¹ç›®è¿™ä¸ªè¡Œä¸ºä¸ä¼šåˆ é™¤ä»£ç ï¼‰ã€‚ â‘¡ã€gitå¤§æ³•å¥½ã€‚ 11ï¼‰å¾®ä¿¡å°ç¨‹åºä¸€ä¸ªAppIdèƒ½åŒæ—¶ç»‘å®šå¤šä¸ªå°ç¨‹åºå—ï¼Ÿä¸€ä¸ªAppIDåªèƒ½ç»‘å®šä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºã€‚ 12ï¼‰è¡¥å……å°ç¨‹åºçš„åç§°ã€å›¾æ ‡ï¼ˆå¤´åƒï¼‰ã€å°ç¨‹åºä»‹ç»å’ŒæœåŠ¡ç±»ç›®ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨å‘å¸ƒå‰ï¼Œä½ æœ‰ 3 æ¬¡ç¡®å®šå°ç¨‹åºåç§°çš„æœºä¼šï¼ˆåŒ…æ‹¬é¦–æ¬¡å¡«å†™ï¼‰ï¼›å‘å¸ƒä¹‹åï¼Œå°ç¨‹åºæš‚ä¸æ”¯æŒæ”¹åã€‚ 13ï¼‰atomæ‰“å¼€wxmlæ–‡ä»¶ä»£ç é«˜äº®æ˜¾ç¤ºï¼Ÿatom-wxmlæ’ä»¶ï¼Œè®©wxmlæ–‡ä»¶ã€wxssæ–‡ä»¶ä»£ç é«˜äº®ã€‚ 14ï¼‰å°ç¨‹åºçš„å¸ƒå±€ï¼Œå¤§æ¦‚è¦åšå¤šå°‘é¡µé¢ï¼Œæ¶‰åŠåˆ°å¤šå°‘åŠŸèƒ½ï¼Ÿï¼ˆç”¨psæ’ä¸€æ•´ç‰ˆï¼Œç…§åšï¼‰ [1]ã€é¦–é¡µ 1234567891011å¾®ä¿¡æˆæƒï¼Œè·å–å…¬å¼€ä¿¡æ¯ï¼ˆå¤´åƒã€æ˜µç§°ç­‰ï¼‰è·å–åœ°ç†ä½ç½®ä¸‹æ‹‰åˆ·æ–°ä¸Šæ‹‰åŠ è½½æ›´å¤šäº§å“å¤§å›¾è½®æ’­æœç´¢æ¡†logoã€ä½ç½®(å¯ä¸è¦)æ¨èç±»åˆ«(å¯ä¸è¦)äº§å“å±•ç¤ºï¼ˆå°å›¾ç‰‡ã€åç§°ã€ä»·æ ¼ï¼‰tabbar [2]ã€è¯¦æƒ…é¡µ 1234567å¤§å›¾ç‰‡åç§°ä»·æ ¼ç£…æ•°é€‰æ‹©(ç›´æ¥æ”¾åˆ°ä»‹ç»é‡Œ)è¯„ä»·(å¯ä¸è¦)ä»‹ç»è¯¦æƒ…å›¾ç‰‡ [3]ã€åˆ†ç±»é¡µ 12345æœç´¢æ¡†å·¦è¾¹æˆ–ä¸Šè¾¹å¯¼èˆªæ å›¾ç‰‡åç§°ä»·æ ¼ [4]ã€æœç´¢é¡µ 12æœç´¢æ¡†æŒ‰ç»¼åˆã€é”€é‡ã€ä»·æ ¼ã€ç­›é€‰æ’åº [5]ã€è´­ç‰©è½¦ [6]ã€è®¢å•é¡µ [7]ã€æˆ‘çš„åå°é¡µ 15ï¼‰å¾®ä¿¡æ–‡æ¡£ç®€è¯»ï¼Œäº†è§£å…¨è²Œã€‚æ‰“å¼€å¾®ä¿¡å°ç¨‹åºå®˜æ–¹æ–‡æ¡£-å¼€å‘æ¨¡å— ä»»åŠ¡ï¼šæ¡†æ¶ã€ç»„ä»¶ã€APIã€å·¥å…·ã€Q&amp;Aå…¨éƒ¨çœ‹ä¸€éï¼ŒæŠŠæ¯ä¸€è¡Œæ–‡å­—ï¼Œä¸ç®¡ä½ æ‡‚ä¸æ‡‚ï¼Œå…ˆæŠŠå®ƒè¿‡ä¸€éã€‚ç„¶åå†çœ‹ç›¸å…³æ•™ç¨‹å»ç¼–ç ï¼Œå°±èƒ½å¾ˆå¿«ä¸Šæ‰‹ã€‚ â‘ ã€ç®€æ˜“æ•™ç¨‹ åŸºç¡€ã€‚æ€ä¹ˆåˆ›å»ºé¡¹ç›®ï¼Ÿ ä½“éªŒå°ç¨‹åºã€‚å¯ä»¥æŠŠä»£ç ä¸‹è½½åï¼ŒåŠ è½½åˆ°å®˜æ–¹å·¥å…·é‡Œï¼Œå¯ä»¥æŸ¥çœ‹æ‰€æœ‰ç»„ä»¶çš„æ•ˆæœã€‚ æ›´æ–°æ—¥å¿—ã€‚ â‘¡ã€æ¡†æ¶ ä¸€ã€ç›®å½•ç»“æœã€‚ ä¸»ä½“éƒ¨åˆ†æœ‰ä¸‰ä¸ªæ–‡ä»¶app.jsï¼ˆé€»è¾‘ï¼‰ã€app.jsonï¼ˆé…ç½®ï¼‰ã€app.wxssï¼ˆå…¬å…±æ ·å¼ï¼‰ï¼Œå°ç¨‹åºä¸»è¦åšå‰ç«¯MVCä¸­çš„Vå’ŒCï¼ŒMVCä¸­çš„Mç»™åç«¯åšã€‚ äºŒã€é…ç½®ã€‚ é¡µé¢å¼€å‘æ—¶é…ç½®ã€‚ ä¸‰ã€é€»è¾‘å±‚ã€‚MVCä¸­çš„Cã€‚ 1ã€æ³¨å†Œç¨‹åºï¼Œä¸»è¦åšä¸€äº›onLaunchåˆå§‹åŒ–ï¼›2ã€æ³¨å†Œé¡µé¢ï¼Œæ¥å—onLaunchçš„å‚æ•°æ¸²æŸ“ä¸€ä¸ªé¡µé¢ï¼›3ã€æ¨¡å—åŒ–ï¼Œå…¬å…±ä»£ç æŠ½ç¦»æˆå•ç‹¬çš„jsæ–‡ä»¶è¢«å¼•ç”¨ï¼Œæ¶‰åŠâ€œæ–‡ä»¶ä½œç”¨åŸŸâ€çš„æ¦‚å¿µï¼›4ã€APIï¼Œå¾ˆä¸°å¯Œå¸¸ç”¨çš„éƒ½æœ‰ã€‚ å››ã€è§†å›¾å±‚ã€‚MVCä¸­çš„Vã€‚ WXMLï¼š 1ã€æ•°æ®ç»‘å®šï¼Œjså®šä¹‰çš„å˜é‡å¤åˆ¶åˆ°wxmlé¡µé¢è°ƒç”¨ï¼›2ã€æ¡ä»¶æ¸²æŸ“ï¼Œç”¨æ¡ä»¶ifåˆ¤æ–­æ˜¾ç¤ºä¸æ˜¾ç¤ºã€ä»€ä¹ˆæ—¶å€™æ˜¾ç¤ºï¼›3ã€åˆ—è¡¨æ¸²æŸ“ï¼Œæ–°é—»ã€æ–‡ç« ç­‰å¾ªç¯åˆ—è¡¨ï¼›4ã€æ¨¡æ¿ï¼Œé‡å¤è°ƒç”¨çš„ä¸œè¥¿å°è£…åˆ°æ¨¡æ¿ï¼›5ã€äº‹ä»¶ï¼Œæ¯”å¦‚é¡µé¢ç‚¹å‡»ä¸€ä¸ªä¸œè¥¿å¦‚bindtapæ€ä¹ˆä¼ ç»™åç«¯ï¼Œjsæ€ä¹ˆå¤„ç†ï¼›6ã€å¼•ç”¨ï¼ŒæŠŠæ–‡ä»¶å¼•ç”¨è¿›æ¥ï¼› WXSSï¼šç›¸å½“äºcssçš„ä¸œè¥¿ã€‚ è‡ªå®šä¹‰ç»„ä»¶ã€‚ åŸºç¡€åº“ã€‚ å…¼å®¹ã€‚ è¿è¡Œæœºåˆ¶ã€‚ æ€§èƒ½ã€‚ â‘¢ã€ç»„ä»¶ å¾®ä¿¡å°ç¨‹åºå·²ç»åšå¥½çš„ä¸€äº›ä¸œè¥¿ï¼Œå¯ä»¥ç›´æ¥å¼•ç”¨ã€‚æ‰€æœ‰åŠŸèƒ½å¯ä»¥åœ¨ç®€æ˜“æ•™ç¨‹é‡Œçš„ä½“éªŒå°ç¨‹åºä¸Šä½“éªŒã€‚ â‘£ã€API å¾ˆä¸°å¯Œå¸¸ç”¨çš„éƒ½æœ‰ã€‚ â‘¤ã€å·¥å…· ä¸‹è½½æœ€æ–°å·¥å…·ã€‚ â‘¥ã€Q&amp;A 16ï¼‰å®˜æ–¹ä½“éªŒdemoæœ‰å“ªäº›å¯ç”¨æ¨¡å—ï¼Ÿâ‘ ã€ç»„ä»¶ã€‚ è§†å›¾å®¹å™¨ï¼Œé¡µé¢æ’ç‰ˆåº”è¯¥ä¼šç”¨ï¼› å¯¼èˆªï¼› åª’ä½“imageï¼› åœ°å›¾ï¼› â‘¡ã€æ¥å£ã€‚ å¼€æ”¾æ¥å£ï¼šå¾®ä¿¡ç™»å½•ã€è·å–ç”¨æˆ·ä¿¡æ¯ã€åˆ†äº«ï¼› ç•Œé¢ï¼šç•Œé¢æ ‡é¢˜ã€æ ‡é¢˜æ åŠ è½½åŠ¨ç”»ã€ä¸‹æ‹‰åˆ·æ–°ã€ä¸Šæ‹‰åŠ è½½æ›´å¤šã€æ¨¡æ€å¼¹çª—ï¼ˆæœ¬åº—åªæä¾›æ¼”ç¤ºï¼Œè´­ä¹°è¯·å¾®ä¿¡èµ„è®¯ï¼‰ï¼› è®¾å¤‡ï¼šæ‰“ç”µè¯ï¼› åª’ä½“ï¼šå›¾ç‰‡ï¼› ä½ç½®ï¼šè·å–å½“å‰ä½ç½®ã€ä½¿ç”¨åŸç”Ÿåœ°å›¾æŸ¥çœ‹ä½ç½®ï¼› 17ï¼‰å‡†å¤‡å·¥ä½œåšå¥½äº†ï¼Œæ€ä¹ˆå¼€å§‹ï¼Ÿç”¨AppIDå¼€å§‹é¡¹ç›®ï¼ŒåŠ å…¥git æ‰¾å•†åŸdemoæµ‹è¯• æœ€å¤§çš„é—®é¢˜ï¼šå‘å‘†åŠå¤©ï¼Œè¿˜æ˜¯ä¸çŸ¥é“æ€ä¹ˆå¼€å§‹åšã€‚ã€‚18ï¼‰ ä»0åˆ°1ï¼šåˆå­¦è€…å…¥é—¨Demoæ¬¢è¿é¡µ ä½¿ç”¨åˆ° viewã€imageã€textã€button ç»„ä»¶ è¯·è®°å¾—ä¸¤å¥è¯ï¼šå…ˆéª¨æ¶ï¼ˆwxmlï¼‰ï¼Œå†ç©¿è¡£æœï¼ˆwxssï¼‰ï¼Œæœ€åæä¸ªå°åŠ¨ä½œï¼ˆjsï¼‰ï¼›å¸ƒå±€æ—¶ï¼Œå…ˆæ•´ä½“ï¼Œå†å±€éƒ¨ã€‚ æ•°æ®ç»‘å®š æŒ‰é’®æ¨¡æ¿ç¤ºèŒƒ ä»1åˆ°2ï¼šåˆå­¦è€…å…¥é—¨Demoå†…å®¹åˆ—è¡¨é¡µ-æ–‡ä¸å­—ç®€ä»‹å†…å®¹åˆ—è¡¨çš„å®ç° ä»€ä¹ˆæ—¶å€™ç”¨viewï¼Ÿä»€ä¹ˆæ—¶å€™ç”¨scroll-viewï¼Ÿ æ¨¡æ¿è°ƒç”¨æ—¶ï¼Œtemplateä¸­çš„dataå‚æ•°ä¸€å®šè¦å†™å—ï¼Ÿå¦‚æœæœ‰å¤šä¸ªå‚æ•°è¦æ€ä¹ˆå†™ï¼Ÿâ€”â€”data=â€aaa, bbb, cccâ€ 19ï¼‰è¿˜æ˜¯å¾ˆæ…Œï¼Œå…ˆä»æœ€åŸºæœ¬çš„é¦–é¡µå¼€å§‹åšåŸåˆ™å¦‚ä¸‹ï¼š å…ˆéª¨æ¶ï¼ˆwxmlï¼‰ï¼Œå†ç©¿è¡£æœï¼ˆwxssï¼‰ï¼Œæœ€åæä¸ªå°åŠ¨ä½œï¼ˆjsï¼‰ï¼›å¸ƒå±€æ—¶ï¼Œå…ˆæ•´ä½“ï¼Œå†å±€éƒ¨ã€‚ å¦‚æœè¿‡ç¨‹ä¸­é‡åˆ°ä»€ä¹ˆé—®é¢˜ï¼Œå†é€ä¸€æ‰¾è§£å†³åŠæ³•ã€‚å¦åˆ™ï¼Œä¸€å¤©è¿‡å»äº†è¿˜ä»€ä¹ˆéƒ½æ²¡åšï¼Œåˆ°åº•è¿˜æ˜¯å‰ç«¯çš„ä¸œè¥¿ä¸æ€•è¯¥æ¥è¯¥å»çš„ã€‚ 20ï¼‰é¦–é¡µæƒ³åšçš„åŠŸèƒ½æ˜¯ï¼š 1234567891011å¾®ä¿¡æˆæƒï¼Œè·å–å…¬å¼€ä¿¡æ¯ï¼ˆå¤´åƒã€æ˜µç§°ç­‰ï¼‰è·å–åœ°ç†ä½ç½®ä¸‹æ‹‰åˆ·æ–°ä¸Šæ‹‰åŠ è½½æ›´å¤šäº§å“å¤§å›¾è½®æ’­æœç´¢æ¡†logoã€ä½ç½®(å¯ä¸è¦)æ¨èç±»åˆ«(å¯ä¸è¦)äº§å“å±•ç¤ºï¼ˆå°å›¾ç‰‡ã€åç§°ã€ä»·æ ¼ï¼‰tabbar æŒ‰ç…§19ï¼‰çš„åŸåˆ™ï¼Œå…ˆä¸ç®¡jséƒ¨åˆ†ï¼Œå³å¾®ä¿¡æˆæƒã€è·å–åœ°ç†ä½ç½®ã€ä¸Šæ‹‰åŠ è½½æ›´å¤šã€ä¸‹æ‹‰æ›´æ–°ã€‚ ç°åœ¨åšéª¨æ¶wxmlï¼Œå…ˆåšæ•´ä½“ï¼Œå†åšå±€éƒ¨ 21ï¼‰ï¼ï¼ï¼é—®é¢˜ï¼ï¼ï¼ç”¨appIDçš„é¡¹ç›®ï¼Œæµ‹è¯•å‘ç°apiæ¥å£ä¸èƒ½ç”¨ï¼Œéœ€è¦ssléªŒè¯æ‰å¯ä»¥ï¼Œå»¶ä¼¸å‡ºæ¥çš„é—®é¢˜ä¸€æ˜¯éœ€è¦è´­ä¹°è¯ä¹¦ï¼ŸäºŒæ˜¯éœ€è¦åœ¨ubuntuæˆ–centosä¸Šé‡æ–°éƒ¨ç½²æœåŠ¡ç«¯é¡¹ç›®ï¼Œherokuåº”è¯¥æ˜¯ç”¨ä¸äº†çš„ï¼Ÿ 22ï¼‰è™šæ‹Ÿä¸»æœºæ”¯æŒSSLéƒ¨ç½²å—ï¼Ÿvpsæ”¯æŒSSLéƒ¨ç½²å—ï¼Ÿpaaså¹³å°å¦‚herokuæ”¯æŒSSLéƒ¨ç½²å—ï¼Ÿ SSLè¯ä¹¦æ”¯æŒç‹¬äº«å‹äº‘è™šæ‹Ÿä¸»æœºå’Œäº‘æœåŠ¡å™¨ç­‰ï¼ŒIPä¸ºç‹¬ç«‹IPã€‚ä¸æ”¯æŒå…±äº«å‹äº‘è™šæ‹Ÿä¸»æœºï¼Œæ‰€ä»¥herokuä¹Ÿä¸è¡Œã€‚ 23ï¼‰SSLåŠ¨ä¸åŠ¨å‡ åƒå—/å¹´ï¼Œå…è´¹1å¹´çš„ç”¨å®Œæ€ä¹ˆåŠï¼Ÿ æ·˜å® 24ï¼‰vpsä¸Šçš„é¡¹ç›®å¦‚ä½•debugï¼Ÿ 25ï¼‰äº‘éƒ¨ç½²é¡¹ç›®ï¼ˆç”¨æ—¶12hå„ç§bugï¼‰ 26ï¼‰ç°åœ¨æœ€å¤§çš„é—®é¢˜ï¼š â‘ ã€SSLè¯ä¹¦ç”³è¯·è¦å¤šä¹…ï¼Ÿå®‰è£…éš¾ä¸éš¾ï¼Ÿâ€”â€”ç”¨æ¥ç»‘å®šåŸŸåï¼Œç”¨å°ç¨‹åºappIDåšé¡¹ç›® â‘¡ã€vpsä¸Šçš„é¡¹ç›®è¿˜ä¸èƒ½ä¸Šä¼ å›¾ç‰‡ï¼Œæ€ä¹ˆä¼ é€’ä¸ƒç‰›äº‘çš„keyï¼Ÿâ€”â€”ç”¨æ¥åšæ¥å£ å‚è€ƒé¸¿äº®é¡¹ç›®ï¼› ä¸èƒ½è‡ªåŠ¨å°±å…ˆç”¨æ‰‹åŠ¨çš„æ–¹æ³•ä¸€ä¸ªä¸ªå¯†é’¥å¯¼å…¥ï¼› 27ï¼‰å¦‚ä½•å¤‡ä»½vulträ¸»æœºï¼Ÿ 28ï¼‰16å·é€šå®µ17å·åˆ°ä¸¤ç‚¹ï¼Œåˆ†åˆ«äº‘éƒ¨ç½²æˆåŠŸã€SSLè¯ä¹¦å®‰è£…å¤±è´¥ï¼ˆå®˜ç½‘Certbotå·¥å…·ï¼‰29ï¼‰18å·é‡æ–°éƒ¨ç½²é¡¹ç›®ï¼ŒSSLè¯ä¹¦å®‰è£…æˆåŠŸï¼ˆç”¨acme.shè„šæœ¬ï¼‰ï¼Œè´­ä¹°é˜¿é‡Œäº‘199å¥—é¤ï¼Œé˜¿é‡Œäº‘æäº¤ICPå¤‡æ¡ˆï¼Œé˜¿é‡Œäº‘éƒ¨ç½²é¡¹ç›® 30ï¼‰19å·é˜¿é‡Œäº‘å®‰è£…SSLè¯ä¹¦ã€‚ 31ï¼‰19å¥½åˆ†ç±»é¡µã€‚ categoryçš„modelï¼Œapiæ¥çš„æ˜¯categoriesï¼Œæ ä½nameã€good_countã€current_name å®šä¹‰currentcategoryï¼Œæ ä½nameã€front_name å‚è€ƒæ€è·¯ï¼šcategoryã€countã€current_categoryï¼Œæ¯ä¸€ä¸ªåšä¸€ä¸ªæ¥å£ç½‘å€ã€‚éœ€è¦æ”¹è·¯å¾„ã€controlleræ–‡ä»¶ã€‚ 32ï¼‰apié‡Œæ€ä¹ˆåŠ å…¥ifåˆ¤æ–­ï¼Œæ¯”å¦‚æ²¡æœ‰å›¾ç‰‡æ—¶æ˜¾ç¤ºè‡ªå®šä¹‰å›¾ç‰‡ï¼Ÿ 33ï¼‰20å·æ— ä»ä¸‹æ‰‹çš„æ—¶å€™ï¼Œçœ‹ä¸æ‡‚ä»£ç çš„æ—¶å€™ï¼Œæ‰¾å®æˆ˜æ¡ˆä¾‹ã€æˆ–çœ‹è§†é¢‘æ˜¯æœ€å¥½çš„è§£å†³åŠæ³•ã€‚ é—®é¢˜1ã€apiåšå‡ºæ¥éƒ½æ˜¯æœ€å¤–å±‚{}å³å“ˆå¸Œï¼Œæ€ä¹ˆåšæˆæ•°ç»„ï¼Ÿ é—®é¢˜2ã€apiæ€ä¹ˆæŠŠindexå’Œshowå†™åœ¨ä¸€èµ·ï¼Ÿ 123456789101112def index @products = Product.all render :json =&gt; &#123; :data =&gt; @products.map&#123; |product| &#123; :id =&gt; product.id, :title =&gt; product.title, :imageeee =&gt; product.image, :nodes =&gt; &#123;:id =&gt; product.id&#125; &#125; &#125; &#125;end respond_toå¯ä»¥ç”¨ä¾†å›æ‡‰ä¸åŒçš„è³‡æ–™æ ¼å¼ 12345respond_to do |format| format.html format.xml &#123; render :xml =&gt; @event.to_xml &#125; format.any &#123; render :text =&gt; &quot;WTF&quot; &#125;end 34ï¼‰20å·apiåœ°å€æ‹¼æ¥å†™æ³•ï¼Ÿ 1url: app.globalData.domain + &apos;/products/&apos; + id + &apos;/add_product_image&apos;, 35ï¼‰é¢è¯•36ï¼‰22å·ï¼ŒçŠ¶æ€2ã€‚åŠ¨æ€idè®¾ç½®å’Œè°ƒç”¨ï¼Ÿwxmlè®¾ç½®data-categoryid=â€œâ€ï¼Œåœ¨jsè°ƒç”¨e.target.dataset.categoryid37ï¼‰23å·ï¼Œæ¸¸æˆå’Œæ‰‹æœºè¦åœï¼Œä¿æŠ¤æ³¨æ„åŠ›ï¼ï¼ï¼ï¼èœå•å·¦å³è”åŠ¨è§†é¢‘ï¼ˆæ¯”è¾ƒéš¾ï¼Œè¦å¤šç»ƒï¼‰38ï¼‰Jbuilderé‡æ„apiä»£ç 39ï¼‰èœå•é¡µé¢å·¦å³å¸ƒå±€cssé—®é¢˜ï¼Ÿå¦‚å›¾ï¼Œå·¦è¾¹çš„èœå•æ˜ç»†æ€ä¹ˆæ‰èƒ½æ˜¾ç¤ºæˆä¸€åˆ—ï¼Ÿ 123456789.box &#123; display:flex; flex-flow:row wrap; justify-content: space-between;&#125;.category&#123; width: 400rpx; background: green;&#125; 40ï¼‰24å·ï¼Œå·¦å³è”åŠ¨èŠ±äº†æ•´æ•´ä¸€å¤©æ—¶é—´ã€‚apiç”¨jbuilderé‡æ„èŠ±äº†6hã€‚ çŠ¶æ€å¤§å‡ï¼Œé‡æ–°ç¼•ä¸€ç¼•æ€è·¯ã€‚ ç°åœ¨æœ€é‡è¦çš„äº‹æƒ…ï¼š â‘ ã€åˆ†ç±»é¡µæ­å»ºï¼Œåœ¨å·¦å³è”åŠ¨éƒ¨åˆ†è®¡ç®—é«˜åº¦ã€éƒ¨åˆ†è·³è½¬ä»æœ‰é—®é¢˜ã€‚è¦æ‰¾ä¸ªæ­£ç¡®çš„demoçœ‹çœ‹ â‘¡ã€äº§å“é¡µæ­å»º â‘¢ã€æœç´¢é¡µæ­å»º â‘£ã€æœç´¢åŠŸèƒ½ â‘¤ã€å¾®ä¿¡ç™»å½•ã€è·å–åœ°å€ã€åŠ è½½ä¸­ç­‰jsã€‚ 41)è¯·é—®å¾®ä¿¡å°ç¨‹åºletå’Œvarä»¥åŠconstæœ‰ä»€ä¹ˆåŒºåˆ« varï¼šå£°æ˜å…¨å±€å˜é‡ï¼Œæ¢å¥è¯ç†è§£å°±æ˜¯ï¼Œå£°æ˜åœ¨forå¾ªç¯ä¸­çš„å˜é‡ï¼Œè·³å‡ºforå¾ªç¯åŒæ ·å¯ä»¥ä½¿ç”¨ã€‚ letï¼šå£°æ˜å—çº§å˜é‡ï¼Œå³å±€éƒ¨å˜é‡ã€‚æ³¨æ„ï¼šå¿…é¡»å£°æ˜â€™use strictâ€™åæ‰èƒ½ä½¿ç”¨letå£°æ˜å˜é‡å¦åˆ™æµè§ˆå¹¶ä¸èƒ½æ˜¾ç¤ºç»“æœ ã€‚constï¼šç”¨äºå£°æ˜å¸¸é‡ï¼Œä¹Ÿå…·æœ‰å—çº§ä½œç”¨åŸŸ const PI=3.14ã€‚ 42ï¼‰å·²è§£å†³çš„é—®é¢˜ï¼š â‘ ã€äº§ç”Ÿå‡èµ„æ–™ 1210.times&#123; |i| Category.create!( :name =&gt; &quot;#&#123;i&#125; Category&quot; ) &#125;100.times&#123; |i| Group.create!( :name =&gt; &quot;No.1 #&#123;i&#125; Group&quot;) &#125; â‘¡ã€åˆ†ç±»åŠŸèƒ½æ”¹è¿› new 1&lt;%= select_tag(:category_id, options_for_select(@categories), :prompt =&gt; &quot;Category&quot;) %&gt; edit 123&lt;%= f.select :category_id, @categories %&gt;æˆ–è€…&lt;%= f.association :category %&gt; ç»“è®ºï¼šæˆ´å»ºæ—çš„åˆ†ç±»æ•™ç¨‹å¯ä»¥æ”¹è¿›https://forum.qzy.camp/t/topic/720ã€‚controlleré‡Œåªè¦è®¾ç½®ç™½åå•å°±å¥½ï¼Œnewå’Œeditè¡¨å•å¦‚æœæœ‰simple_formï¼Œå°±ç”¨å¤šé€‰ç›’å­`&lt;%= f.association :groups, :as =&gt; :check_boxes %&gt;ï¼Œä¹Ÿå¯ä»¥ç”¨ä¸‹æ‹‰å•é€‰&lt;%= f.association :category %&gt;`ã€‚ â‘¢ã€check_boxä¸èƒ½ä¿å­˜æ•°æ®çš„é—®é¢˜ï¼Ÿâ€”â€”å¯ä»¥æ•´åˆåˆ°åˆ†ç±»åŠŸèƒ½ä¸­ åŸå› ï¼šå› ä¸ºåªè®¾ç½®äº†ä¸€å¯¹å¤šhas_manyã€belongs_toï¼Œå³åˆ†ç±»æœ‰å¾ˆå¤šå•†å“ã€å•†å“å±äºåˆ†ç±»ï¼Œæ‰€æœ‰æ²¡æœ‰åŠæ³•ç»™ä¸€ä¸ªå•†å“è®¾ç½®å¤šä¸ªåˆ†ç±»ã€‚ è§£å†³åŠæ³•ï¼šæ”¹æˆå¤šå¯¹å¤šçš„å…³ç³»ã€‚ [1]æ–°å»ºmodelå¦‚categoryshipï¼ŒåŠ å…¥ä¸¤ä¸ªcategory_idã€product_idï¼Œè®¾ç½®å¤šå¯¹å¤šå…³ç³»ï¼› [2]å¦‚æœè¦ç»™å•†å“è®¾ç½®å¤šä¸ªåˆ†ç±»ï¼Œå°±åœ¨productçš„controllerç™½åå•è®¾ç½®:category_ids =&gt; []ã€‚ æ³¨æ„ï¼šè¿™é‡Œçš„idä¸€å®šè¦ç”¨å¤æ•°åŠ sã€‚ [3]edit.html.erbé‡Œï¼ŒåŠ å…¥check_boxå¤šé€‰æ¡†çš„ä»£ç &lt;%= f.association :categories, :as =&gt; :check_boxes %&gt; æ³¨æ„ï¼šè¿™æ®µä»£ç è¦æ”¹çš„åªæœ‰ä¸­é—´çš„categoriesï¼Œä¸€å®šè¦ç”¨å¤æ•°sã€‚ â‘£ã€æœåŠ¡å™¨æŠ¥é”™ï¼Ÿæ–°å¢çš„æ ä½ï¼Œåœ¨æœåŠ¡å™¨é‡ŒæŠ¥é”™ï¼Œé™¤äº†åœ¨æ”¹ç”¨try(:æ ä½)ï¼Œè¿˜èƒ½æ€ä¹ˆå¤„ç†ï¼Ÿ cdåˆ°currentç›®å½•ï¼Œcd /home/deploy/rails-recipes/currentï¼› æŸ¥çœ‹logï¼Œtail -f log/production.logï¼› æŸ¥çœ‹nginxçš„logï¼ˆæœ‰æ—¶ä¼šæ˜¯nginxçš„é”™ï¼‰ï¼Œvi /var/log/nginx/error.logã€‚ åŠæ³•ä¸€ï¼šåœæ­¢nginxï¼Œåˆ æ‰ä¹‹å‰é‚£äº›nilçš„æ ä½ 1Order.where(token: nil).destroy_all åŠæ³•äºŒï¼šåœæ­¢nginxï¼Œä¿®æ”¹ä¹‹å‰é‚£äº›nilçš„æ ä½ 123product = Product.find(3)product.category_id = 2product.save åŠæ³•ä¸‰ï¼šåœæ­¢nginxï¼Œæ¸…ç©ºæ•°æ®åº“ åŠæ³•å››ï¼šå°è¯•æ¸…ç©ºæœ¬åœ°æ•°æ®åº“å†è¯•ï¼Œå› ä¸ºä¸€èˆ¬æœ¬åœ°ä¹Ÿä¼šæŠ¥é”™ï¼Œä¸æŠ¥é”™æ˜¯å› ä¸ºä½ æœ¬åœ°æœ‰æ•°æ®å­˜åœ¨ã€‚æ‰€ä»¥æœ€å¥½æ¸…ç©ºæ‰å†è¯•ã€‚ â‘¤ã€linux/ubuntuæœåŠ¡å™¨ï¼Œæ€ä¹ˆreset databaseæ¸…ç©ºæ•°æ®åº“ã€å¯¼å…¥seedï¼Ÿ å…ˆæŠŠnginxåœæ‰ï¼Œsudo service nginx stopï¼› cdåˆ°currentç›®å½•ï¼Œcd /home/deploy/rails-recipes/currentï¼› æ‰§è¡Œresetï¼ŒRAILS_ENV=production DISABLE_DATABASE_ENVIRONMENT_CHECK=1 bin/rails db:resetï¼› (å› ä¸ºresetæ‰€æœ‰çœç•¥)æ‰§è¡Œä¿å­˜migrateï¼ŒRAILS_ENV=production bundle exec rake db:migrateï¼› (å› ä¸ºresetæ‰€æœ‰çœç•¥)å¯¼å…¥seedï¼ŒRAILS_ENV=production bundle exec rake db:seedï¼› é‡å¼€nginxï¼Œsudo service nginx startã€‚OKäº†ï¼ è¿›å…¥rails cçš„å‘½ä»¤bundle exec rails c production åˆ é™¤æŒ‡å®šmodelç”¨Product.destroy_allï¼ˆProductæ›¿æ¢ç±»ï¼‰ single seedç”¨RAILS_ENV=production bundle exec rake db:seed:single SEED=product_seedï¼ˆproduct_seedæ›¿æ¢å…·ä½“çš„single seedåç§°ï¼‰ é—®é¢˜ï¼š mysqlæ€ä¹ˆdropæ¸…ç©ºæ•°æ®åº“ï¼Œè¯•è¿‡ç”¨dropæ•´ä¸ªæ•°æ®åº“è¢«åˆ æ‰ï¼Œé‡æ–°æ–°å»ºæ•°æ®è¿˜åœ¨ã€‚ Product.destroy_allâ€”â€”æµ‹è¯•å‘ç°åœ¨mysqlåˆ é™¤åå†ç”¨seedæ•°æ®è¿˜åœ¨ã€‚ã€‚ è§£å†³åŠæ³•ï¼š ä¸“æ¡ˆæ‹†åˆ†seedåˆ°seedsæ–‡ä»¶å¤¹é‡Œï¼ŒåŸseedæ¡£æ¸…ç©ºã€‚æœåŠ¡å™¨åœæ­¢nginxï¼Œå†æ‰§è¡Œdb:resetï¼ˆæ¸…ç©ºå¹¶æ‰§è¡Œseedæ¡£å³ç›¸å½“äºæ¸…ç©ºï¼‰ï¼Œç„¶åæ‰§è¡Œæ¯ä¸ªsingle seedï¼Œæœ€åé‡å¯nginxã€‚ â‘¥ã€accepts_nested_attributes_foræ˜¯ä»€ä¹ˆï¼Ÿ å‚è€ƒèµ„æ–™http://blog.csdn.net/kunshan_shenbin/article/details/7249713ã€‚ åœ¨ä¸€å¯¹å¤šçš„æ¨¡å‹å…³ç³»ä¸­é€šè¿‡ accepts_nested_attributes_foræ¥ç®€åŒ–å…³è”å¯¹è±¡çš„åˆ›å»ºã€‚ â‘¦ã€å¤šå›¾ä¸Šä¼ åŠŸèƒ½ï¼ˆç”¨åœ¨å•†å“è¯¦æƒ…é¡µï¼‰ !!!è‡ªå·±çš„æ”¹è¿›æ–¹æ³•ï¼Œphotoä»…ç”¨æ¥æ”¾è¯¦æƒ…é¡µå°å›¾ã€imageç”¨æ¥æ”¾å¤§å›¾å’Œindexç­‰é¡µé¢å±•ç¤ºï¼Œuploaderç”¨ä¸¤ç§ã€‚è¿™æ ·æ”¹å¯ä»¥ç¡®ä¿åˆ†ç±»apiæŠŠindexå’Œshowå†™åœ¨ä¸€èµ·ï¼ŒåŒæ—¶è°ƒç”¨äº§å“å’Œå›¾ç‰‡ã€‚ å‚è€ƒèµ„æ–™ http://nn70-blog.logdown.com/posts/1843556-multi-pics http://yy4ever.logdown.com/posts/1069287 æ³¨æ„ï¼šå¦‚æœå›¾ç‰‡ä¸æ˜¯æ­£æ–¹å½¢ï¼Œè¦å…ˆåœ¨uploaderé‡Œè®¾ç½®ä¸åŒæ¯”ä¾‹çš„ï¼Œç„¶åå†ä¸Šä¼ èµ„æ–™ã€‚ é—ç•™é—®é¢˜ï¼šå°å›¾å¹¶æ’æ˜¾ç¤ºçš„æ ·å¼ï¼ŒåŠ¨æ€hoveræ•ˆæœï¼Œç¬¬ä¸€å¼ å°å›¾ç‰‡ä¸æ˜¯å¤§å›¾ï¼Œå¥½åƒä¸èƒ½ç”¨col-md-3å¦‚æœä¸Šä¼ å›¾ç‰‡æœ‰æ—¶å¤šæœ‰æ—¶å°‘æ€ä¹ˆä¿è¯å›¾ç‰‡å¤§å°ï¼Œå°å›¾ç‰‡åœ¨å°å±å¹•æ€ä¹ˆè‡ªé€‚åº” 12345678910111213141516171819.list-image-active &#123; box-shadow: 1.5px 1.5px 1.5px #666;&#125;img &#123; max-width: 100%; &#125; .square &#123; // margin-bottom: 2em; padding-top: 2em; padding-bottom: 1.3em; padding-left: 0.05em; padding-right: 0.05em; img &#123; color: #fff; opacity: 0.87; &#125;&#125; 43ï¼‰è¦è§£å†³çš„åŠŸèƒ½ï¼š ã€åˆ†ç±»é¡µã€‘ OKã€‚åŠ å…¥åˆ†ç±»å›¾ç‰‡intro_imageã€åŠæè¿°intro_descriptionï¼Œ OKã€‚ä¸€ä¸ªå•†å“å¯ä»¥å±äºå¤šä¸ªåˆ†ç±»ï¼ˆç™¾å®ç®±ç¬¬8ç« ï¼‰ï¼Œè§ä¸Šè¾¹â‘¡ OKã€‚check_boxesèƒ½æ›´æ–°ä¸æŠ¥é”™ä½†æ˜¯æ²¡æœ‰æ›´æ–°ä¸ç”Ÿæ•ˆï¼Ÿï¼ˆè§ä¸Šè¾¹â‘¢ï¼‰ OKã€‚check_boxesçš„UIä¼˜åŒ–ï¼Œç”¨ Select multiple åŠ ä¸Š Select2 Plugin OKã€‚N+1 queryä¿®æ”¹indexä»£ç  OKã€‚timäº§å“è¯¦æƒ…é¡µå¤šå›¾ä¸Šä¼ åŠŸèƒ½ï¼ˆè§ä¸Šè¾¹â‘¦ï¼‰ OKã€‚timçš„seedå†™å…¥è¯¦æƒ…é¡µå›¾ç‰‡æ•™ç¨‹ï¼Œçœ‹githubä»£ç http://nn70-blog.logdown.com/posts/1843706-seeds-pics OKã€‚anndoçš„seedæ‹†åˆ†æ•™ç¨‹http://anndo-blog.logdown.com/posts/1930065é…åˆrails cçš„Product.destroy_allï¼Œå…ˆæ¸…ç©ºæŸä¸ªç±»çš„æ‰€æœ‰æ•°æ®ï¼Œç„¶åé‡æ–°å¯¼å…¥è¿™ä¸ªç±»çš„seedã€‚_ å¾®ä¿¡ç™»å½•æ¥å…¥ç½‘ç«™ å¾®ä¿¡äºŒç»´ç åˆ†äº« ç”¨å°æ ‡é¢˜åªé™5ä¸ªå­—wx_titleä»¥åŠå„ç§validateå’Œæƒé™è®¾ç½®ï¼Œ validates :title, length: {minimum:1, maximum:10, message:â€ä¸­æ–‡å­—æœ€å¤šå¡«5ä¸ªï¼Œè‹±æ–‡æœ€å¤šå¡«10ä¸ªâ€} åº“å­˜é‡æ²¡æœ‰è®¾ç½®ä¼šæŠ¥é”™ï¼Œ æŒ‰å‰ç±³çš„æ–‡ç« æ•´ç†mdæ–‡æ¡£ æ‰‹æœºéªŒè¯ç  æœç´¢åŠŸèƒ½ å›½å†…å®¢æœ ç½‘å€token é€‰æ‹©æ•°é‡è‡ªåŠ¨æ›´æ–° çœå¸‚å¿çº§è” æ”¹ç”¨admin controllerä¼˜åŒ–ä»£ç  å‚è€ƒå‰ç±³ä¼˜åŒ–ä»£ç  å¤šå›¾ä¸Šä¼ é¢„è§ˆ å¤šå‡ºæ¥çš„åºŸå¼ƒæ ä½è¦æ€ä¹ˆåˆ é™¤ è¯¦æƒ…é¡µå°å›¾ä½ç½®å¯ä»¥ä¸Šä¼ è§†é¢‘ carrierwaveä¸Šä¼ å›¾ç‰‡çš„æ—¶å€™èƒ½å‡ºç°é¢„è§ˆhttps://ruby-china.org/topics/25542 å°ç¨‹åºäº§å“è¯¦æƒ…é¡µ å°ç¨‹åºæœç´¢åŠŸèƒ½ éšæœºå•†å“åŠŸèƒ½åŠåšæˆapi å°ç¨‹åºéšæœºå•†å“ è¯¦æƒ…é¡µæ’ç‰ˆæ€ä¹ˆåšï¼ŸåŒ…æ‹¬å•†å“å›¾ã€è¯¦æƒ…å›¾ã€è¯¦æƒ…å›¾åŠ¨ç”»ã€è¯„è®ºhttp://xbearx1987-blog.logdown.com/posts/1880307 43ï¼‰26å·ï¼Œæƒ³åœ¨è¿‡å¹´å‰ï¼ŒæŠŠæ‰€æœ‰æ”¶è—æ•´ç†ã€æ‰€æœ‰mdæ–‡æ¡£æ•´ç†å‘å¸ƒã€‚åŠ 12345644ï¼‰å®Œæ•´çš„å¸¦å›¾ç‰‡çš„seedæ¡£æå®šã€‚45ï¼‰åŸŸåå®¡æ ¸é€šè¿‡ï¼Œå°ç¨‹åºæœåŠ¡å™¨é…ç½®ã€‚46ï¼‰ getGoodsInfo: function () { let that = this; util.request(api.GoodsRelated, { id: that.data.id }).then(function (res) { if (res.errno === 0) { that.setData({ gallery: res.data.gallery, }); } }); },12345678910111213141516171819202122232425262728293031323334â‘ ã€ç”¨bindtapç‚¹å‡»äº‹ä»¶ï¼Œç‚¹å‡»åè·³è½¬ã€‚wx.navigateToï¼Œä¿ç•™å½“å‰é¡µå¹¶è·³è½¬åˆ°éTabbaré¡µé¢ã€‚å¯ä»¥è¿”å›åˆ°åŸé¡µé¢ã€‚ç”¨?ä¼ å€¼ï¼Œ&amp;ä¼ å¤šä¸ªå€¼ã€‚wx.redirectToï¼Œå…³é—­å½“å‰é¡µå¹¶è·³è½¬åˆ°éTabbaré¡µé¢ã€‚ç”¨?ä¼ å€¼ï¼Œ&amp;ä¼ å¤šä¸ªå€¼ã€‚wx.switchTabï¼Œå…³é—­æ‰€æœ‰éTabbaré¡µé¢å¹¶è·³è½¬åˆ°Tabbaré¡µé¢ã€‚ä¸èƒ½å¸¦å‚æ•°ã€‚wx.navigateBackï¼Œå…³é—­å½“å‰é¡µå¹¶åé€€xä¸ªé¡µé¢ã€‚â‘¡ã€ç”¨navigatoræ ‡ç­¾ï¼Œå±æ€§open-typeï¼Œç›¸å½“äºé“¾æ¥è·³è½¬ã€‚open-typeæŒ‡å®šnavigateå¯¹åº”äºwx.navigateToã€redirectå¯¹åº”äºwx.redirectToã€switchTabå¯¹åº”äºwx.switchTab`&lt;navigator url=&quot;../cart/cart&quot; open-type=&quot;switchTab&quot;&gt;è·³è½¬åˆ°è´­ç‰©è½¦é¡µé¢&lt;/navigator&gt;`ï¼Œæˆ–`&lt;navigator url=&quot;../goods/goods?id=&#123;&#123;item.id&#125;&#125;&quot; wx:for=&quot;&#123;&#123;xx&#125;&#125;&quot;&gt;&lt;/navigator&gt;`ä¸å†™å¥½åƒç›¸å½“äºnavigateToã€‚&gt; æ³¨æ„ï¼šè¿™é‡Œçš„`item.id`çš„itemæ˜¯wx:forè°ƒç”¨çš„æ•°ç»„47ï¼‰27å·é‡åˆ°å¾ˆå¤šå‘ï¼šåŠå¤©æµ‹è¯•è·³è½¬navigaToã€åŠå¤©åœ¨apiå†™æ•°ç»„è¿˜æ˜¯æ•£åˆ—å’Œwx:foråˆ—è¡¨è°ƒç”¨æ—¶å„ç§å†™é”™ã€‚&gt; ç‰¹åˆ«æ³¨æ„ï¼Œwx:for=&quot;&#123;&#123;xxx&#125;&#125;&quot;é‡Œçš„æ•°æ®å¿…é¡»æ˜¯æ•°ç»„ã€‚&gt;&gt; æ•£åˆ—æ— æ³•åšwx:forå¾ªç¯ï¼Œä½†æ˜¯å¯ä»¥å•ä¸ªè°ƒç”¨ï¼Œè°ƒç”¨æ–¹æ³•æ˜¯å…ˆåœ¨jsçš„setDataé‡Œç”¨ä¸€ä¸ªå˜é‡å¦‚`tt: res.data`ï¼Œç„¶ååœ¨wxmlé‡Œç”¨å¦‚`&lt;view&gt;&#123;&#123;tt.title&#125;&#125;&lt;/view&gt;`è°ƒç”¨ã€‚â‘ ã€Apiéƒ¨åˆ†ï¼Œshowåœ¨jbuilderå†™å‡ºæ¥éƒ½æ˜¯æ•£åˆ—ï¼Œä¸çŸ¥é“æ€ä¹ˆå†™æˆæ•°ç»„ã€‚â€”â€”æš‚æ—¶å…ˆæ”¾åœ¨controllerâ‘¡ã€wx:for=&quot;&#123;&#123;xxx&#125;&#125;&quot;ï¼Œä¸¤ä¸ªæ‹¬å·ç»å¸¸å¿˜è®°â‘¢ã€jsé‡Œçš„api requestï¼Œç»å¸¸æ¼äº†å†™setData(&#123;xxx&#125;)wxml 12js // pages/goods/goods.jsPage({ data: { }, onLoad: function (options) { console.log(options.id) var p_id = options.id var that = this wx.request({ url: â€˜https://luccake.top/api/v1/products/&#39;+p_id, header: { â€˜content-typeâ€™: â€˜application/jsonâ€™ // é»˜è®¤å€¼ }, success: function (res) { console.log(res.data) that.setData({ newsdata: res.data.photo, tt: res.data }) } }) }, })1234567891011121314151617181948ï¼‰28å·ï¼Œé‡è¦çš„äº‹ï¼š* OKã€‚è€ƒè™‘æ˜¯ç”¨å•å›¾ã€å¤šå›¾è¿˜æ˜¯Rich Editorä¹‹ckeditorå›¾æ–‡ç¼–è¾‘å™¨ï¼ˆä¼˜å…ˆæµ‹è¯•èƒ½ä¸èƒ½å¤šå›¾ï¼‰ * æ¯”éŸµå„¿çˆ¸çˆ¸çš„å¥½ç”¨ï¼Œå€Ÿç”¨è€™è€™çš„cssã€‚https://forum.qzy.camp/t/css/1753 * ç”µè„‘ç«¯å¾ˆå¥½ç”¨ï¼Œä½†æ˜¯å°ç¨‹åºç«¯è°ƒç”¨å¸¦å›¾ç‰‡çš„textæ•°æ®ä¼šæ€æ ·ï¼Ÿ* OKã€‚æµ‹è¯•è¯¦æƒ…é¡µå¤§å›¾ç”¨photo[0]è°ƒç”¨* OKã€‚çœ‹ç™¾å®ç®±æœ‰ä»€ä¹ˆå¯ç”¨* OKã€‚8ç‚¹æ¬ç –ç›´æ’­# 49ï¼‰Jbuilderå†™apiçš„å‡ ç§å†™æ³•ç»“è®º1ï¼šå¯¹äºåµŒå¥—æ•°ç»„ï¼Œindexé¡µé¢æœ€å¤–å±‚å¯ç”¨[]å¯ç”¨&#123;&#125;ï¼Œè€Œshowé¡µé¢å®æµ‹è¦ç”¨&#123;&#125;ã€‚å› ä¸ºå¦‚æœç”¨[]ï¼Œæ¯”å¦‚è°ƒç”¨åˆ†ç±»id=1çš„æ‰€æœ‰ç…§ç‰‡photosï¼Œè¦å†™res.data[index].photosä½†åœ¨å°ç¨‹åºé‡Œè¿™æ ·å†™ä¼šæŠ¥é”™ã€‚/*ç»“è®º2ï¼šshowé¡µé¢å¹²è„†åˆ«é‡æ„partialäº†å®¹æ˜“å¼•å‘é—®é¢˜ã€‚ç”¨`_item.json.jbuilder`å†™partialè¡¨ç¤ºåŒmodelè°ƒç”¨ï¼Œç”¨`_share.json.jbuilder`å†™partialè¡¨ç¤ºè·¨modelè°ƒç”¨ã€‚*/ç»“è®º3ï¼šå¹²è„†æ‰€æœ‰çš„é¡µé¢éƒ½ä¸è¦å†™partialäº†ï¼Œåœ¨å‡ ä¸ªæ–‡ä»¶ä¹‹é—´å†™å¤šé‡åµŒå¥—å†™å‡ºæ¥å¾ˆä¹Ÿä¹±ã€‚app/views/api/v1/categories/index.json.jbuilder json.data @categories do |c| json.id c.id json.name c.name json.category_title c.category_title json.category_image c.category_image json.products c.products do |p| json.title p.title json.photos p.photos endend1234ä¸Šé¢indexå·²åŒ…å«æ‰€æœ‰ä¿¡æ¯ï¼Œshowä¸å†™ä¹Ÿå¯ä»¥äº†ï¼Œæƒ³å†™çš„è¯å¦‚ä¸‹app/views/api/v1/categories/show.json.jbuilder json.id @category.idjson.name @category.namejson.title @category.category_titlejson.image @category.category_imagejson.photos @products do |p| json.photos p.photosendjson.products @products12345678910111213141516ç»“è®º4ï¼šä¸€èˆ¬å†™ä¸€ä¸ªindexè¶³å¤Ÿå†™å…¨ä¿¡æ¯ã€‚å› ä¸ºä¿¡æ¯é‡ä¼šè¶Šæ¥è¶Šå¤šï¼Œæ‰€ä»¥é‡Œè¾¹çš„æ•°ç»„æ¯”å¦‚ä¸Šè¾¹çš„photosã€productså†™å®Œè¦åœ¨apiç½‘é¡µä¸Šæœç´¢åå­—ï¼Œç¡®ä¿å®¹æ˜“å®šä½åˆ°ã€‚## 1ã€apiè¾“å‡º[]`json.array!`ï¼Œç›¸å½“äºmapå¾ªç¯ï¼Œè¾“å‡ºæ•£åˆ—ï¼›[&#123;id:1, title:1&#125;, &#123;id:2, title:2&#125;]&gt; ç”¨äºpartialè·¨modelè°ƒç”¨ï¼Œè§ä¸‹é¢ä»£ç ã€‚## 2ã€apiè¾“å‡º&#123;&#125;1ï¼‰`json.arr!`ï¼Œè¾“å‡º&#123;arr!:[&#123;id:1, title:1&#125;, &#123;id:2, title:2s&#125;]&#125;2ï¼‰`json.data @products do |product|`ï¼Œè¾“å‡º&#123;data:[&#123;id:1, title:1&#125;, &#123;id:2, title:2&#125;]&#125;å¦‚ä¸‹ï¼Œapp/views/api/v1/categories/show.json.jbuilderï¼Œå…¶ä¸­photoæ˜¯ä¸€ä¸ªmodelï¼Œä¸productæ˜¯å¤šå¯¹ä¸€å…³ç³»ï¼Œå·²è®¾ç½®@prodcuts=@category.products json.photo @products do |product| json.number product.title json.photos product.photosend12345678910111213143ï¼‰`json.data @products.each&#123;&#125;`å¯ç¼©å†™ä¸º`json.data @products`ï¼Œè¾“å‡º&#123;data:[&#123;id:1, title:1&#125;, &#123;id:2, title:2&#125;]&#125;&gt; ç”¨äºindex.json.jbuilderé¡µé¢ï¼Œç”¨åœ¨showä¼šæŠ¥é”™ã€‚4ï¼‰`json.title @product.title`ï¼Œè¾“å‡º&#123;title:1&#125;&gt; ç”¨è¯­show.json.jbuilderé¡µé¢ã€‚## 3ã€partialç”¨æ³•ï¼ˆä¸å¥½ç”¨ï¼‰### 3.1 ç»“è®ºï¼šå®æµ‹å‘ç°partialåªä¼šè®©åµŒå¥—æ•°ç»„çœ‹èµ·æ¥æ›´å¤æ‚ï¼Œä¸å¦‚ä¸å†™partialã€‚ä¸åŒmodelçš„æ•°æ®ä¹Ÿå¯ä»¥åœ¨åŒä¸ªæ–‡ä»¶é‡Œè°ƒç”¨ï¼Œå¦‚ä¸‹ã€‚ json.data @categories do |category| json.number category.name json.products category.products do |product| json.photos product.photos endend12345678910### 3.2 ä»¥ä¸‹ä¸æƒ³ç”¨ï¼Œä¾›å‚è€ƒ1ï¼‰ç”¨äºåŒä¸ªmodel`json.partial! &apos;item&apos;, product: @products`ï¼Œå¸¸ç”¨äºåŒä¸ªmodelã€‚2ï¼‰è·¨modelè°ƒç”¨app/views/api/v1/categories/index.json.jbuilder json.data do json.array! @categories, :partial =&gt; â€œitemâ€, :as =&gt; â€œcategoryâ€end12app/views/api/v1/categories/_item.json.jbuilder json.id category.idjson.name category.namejson.partial! â€˜api/v1/products/shareâ€™, product: category.products 1250ï¼‰å°ç¨‹åºè°ƒç”¨apiï¼Œç»å¸¸å†™é”™ &lt;navigator wx:for=&quot;{{navRightList[curIndex].products}}&quot; wx:key=&quot;&quot;&gt; &lt;image src=&quot;{{item.photos[0].avatar.url}}&quot;&gt;&lt;/image&gt; &lt;text&gt;{{item.title}}&lt;/text&gt; &lt;/navigator&gt; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465ä»¥ä¸Šä»£ç è§£è¯»ï¼šæ‹¿æ•°ç»„navRightListçš„å½“å‰ä¸‹æ ‡curIdexä¸‹çš„äº§å“æ•°ç»„productsåšå¾ªç¯ã€‚â‘ ã€æ¯æ¬¡å¾ªç¯å–æ•°ç»„productsé‡Œçš„ç¬¬ä¸€å¼ photoå³photos[0].avatar.urlã€‚â‘¡ã€æ¯æ¬¡å¾ªç¯å–æ•°ç»„productsé‡Œçš„æ ‡é¢˜titleã€‚apiç½‘å€æ˜¯https://luccake.top/api/v1/categories51ï¼‰29å·è¦åšçš„äº‹* ç™¾å®ç®±13Rich Editorä¹‹ckeditorï¼Œ10åµŒå¥—è¡¨å•+19å¤šå›¾(è¿˜æ˜¯yyåŠ©æ•™çš„æ•™ç¨‹å¥½ï¼Œç™¾å®ç®±çš„éœ€ç»“åˆç™¾å®ç®±10å¦åˆ™æŠ¥é”™)* OKã€‚æ•´ç†apiå»æ‰partialï¼Œç›¸åº”çš„å°ç¨‹åºapiä¿®æ”¹ï¼Œ* OKã€‚æŠŠimageæ”¹åcategory_idåˆ æ‰ï¼Œä¿®æ”¹seedã€‚imageæ”¹æˆwxè¯¦æƒ…å›¾detail_imageã€‚* OKã€‚åˆ›å®¢è´´åšä¸€ç‰ˆè¯¦æƒ…å›¾ã€‚* OKã€‚åšä¸€ä¸ªå®Œæ•´wxè¯¦æƒ…é¡µ* wxæœç´¢åŠŸèƒ½52ï¼‰carrierwaveæ€ä¹ˆè£å‰ªè®©å®½åº¦å›ºå®šé«˜åº¦æŒ‰æ¯”ä¾‹ï¼Ÿä¸è®¾ç½®resize_to_fitæˆ–è®¾ç½®åæŒ‰@product.image.urlè°ƒç”¨çš„æ˜¯åŸå›¾ï¼Œé«˜åº¦ç”¨csså®šä¹‰ä¹Ÿå¯ä»¥ã€‚&gt; ä¸Šä¼ å›¾ç‰‡é€‰å®šåŒºåŸŸè£å‰ªJCropã€‚53ï¼‰[å¾®ä¿¡å°ç¨‹åº Image å›¾ç‰‡å®ç°å®½åº¦100%ï¼Œé«˜åº¦è‡ªé€‚åº”](http://www.cnblogs.com/luleixia/p/6935301.html)åœ¨imageæ ‡ç­¾é‡ŒåŠ ä¸Š`mode=&quot;widthFix&quot;`ã€‚54ï¼‰ã€29å·è¿·å¤±ã€‘åšä¸Šæ‹‰åŠ è½½æ›´å¤šã€ä¸‹æ‹‰åˆ·æ–°åŠŸèƒ½å¤±è´¥ï¼Œåšæœç´¢åŠŸèƒ½å¤±è´¥åªå†™äº†ä¸€ç¯‡ç®€å•çš„åŸç†ã€‚è¿˜æœ‰å¾ˆå¤šåŠŸèƒ½ä¸ä¼šåšï¼Œè¿˜æœ‰å„ç§é¡µé¢éœ€è¦åšï¼Œå‡Œä¹±äº†ï¼Œä¸ºä»€ä¹ˆåˆ«äººå­¦æ–°ä¸œè¥¿éƒ½é‚£ä¹ˆå¼ºï¼Ÿæˆ‘æ€ä¹ˆgooleã€æ·˜å®å°±æ˜¯æ‰¾ä¸åˆ°è·¯å­ï¼Ÿæ˜¯ä¸æ˜¯å› ä¸ºæ²¡æœ‰å»è¿‡ä¸€éå®˜æ–¹æ–‡æ¡£ï¼Ÿ55ï¼‰æ–°å¤§é™†[ITDragoné¾™](http://my.csdn.net/qq_19558705)çš„[å¾®ä¿¡å°ç¨‹åºå…¥é—¨ç³»åˆ—è¯¾](http://blog.csdn.net/qq_19558705/article/category/6768711)ï¼Œ[ITDragongithtb](https://github.com/ITDragonBlog/wxapp)ã€‚ç¬¬äºŒè¯¾æåˆ°ï¼Œç”¨[weui-wxsså¥—æ¨¡æ¿](https://github.com/Tencent/weui-wxss)ï¼Œç”¨å¾®ä¿¡demoå¥—æ¨¡æ¿ã€‚ä¸€å¼€å§‹æœ‰æƒ³è¿‡ï¼Œä½†æ˜¯çƒ¦äºä¸çŸ¥é“å¦‚ä½•æ‰¾åˆ°æ–‡ä»¶ä½ç½®ã€‚ç°åœ¨æ‰å‘ç°å¯ä»¥åœ¨consoleé‡Œçœ‹åˆ°ã€‚ç»“è®ºï¼šå¯èƒ½è¦ç»“åˆå®˜æ–¹æ–‡æ¡£ã€ç‰¹åˆ«ç»“åˆå®˜æ–¹demoã€å®˜æ–¹æ¨èçš„weui-wxssç»„ä»¶ï¼Œç»“åˆæœ‰åšçš„é¡µé¢å’ŒåŠŸèƒ½è¿‡ä¸€éä¼šç”¨åˆ°å“ªäº›ï¼Œä»¥åŠç›¸åº”åŠŸèƒ½çš„é€»è¾‘ï¼Œæœ‰ä¸€ä¸ªå…¨ç›˜æ€»ä½“çš„è®¤è¯†ã€‚ç„¶åå†å…·ä½“åˆ°æ¯ä¸€ä¸ªåŠŸèƒ½å»åšã€‚å¦åˆ™åšå®Œä¸€ä¸ªåŠŸèƒ½ï¼Œåˆå¤±å»ç›®çš„æ€§ï¼Œæˆ–æŠ˜è…¾äº›ä¸é‡è¦çš„åŠŸèƒ½ï¼Œæˆ–æŠ˜è…¾äº›å¤ªéš¾å®ç°çš„åŠŸèƒ½ã€‚&gt; å¦å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå°ç¨‹åºapié«˜çº§æ•™ç¨‹ï¼Œå¯èƒ½æœ‰ç”¨56ï¼‰30è“é¸¥è§†é¢‘57ï¼‰31è“é¸¥è§†é¢‘ï¼Œè·¨å¹´åˆ›ä¸šè°·èšä¼š58ï¼‰1å·ï¼Œè“é¸¥è§†é¢‘ï¼Œransackæœç´¢åŠŸèƒ½59ï¼‰æœç´¢api`https://luccake.top/products/search?utf8=%E2%9C%93&amp;q=%E7%BF%BB%E7%B3%96`60ï¼‰box-sizing: border-box;border-box,å«ä¹‰æ˜¯å°†ç›’å­çš„borderå’Œpaddingè®¡ç®—åˆ°è®¾ç½®çš„widthä¸­ï¼Œè€Œä¸æ˜¯å®é™…å®½åº¦ä¸­ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ è®¾ç½®widthä¸º100pxï¼Œè€Œborderä¸º1pxçš„æ—¶å€™ï¼Œç›’å­çš„å®é™…å¤§å°ä»æ—§æ˜¯100pxè€Œä¸æ˜¯102pxã€‚ç”¨è¿™ä¸ªå±æ€§ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®Œç¾åœ°è§£å†³ä¸Šé¢é‡åˆ°çš„éš¾é¢˜äº†ï¼šåªéœ€è¦åœ¨ç»™ä¸¤ä¸ªdivçš„cssä¸Šå†™ä¸‹box-sizing:border-boxå°±å¯ä»¥äº†ï¼Œä¿è¯ä¸¤ä¸ªdivç­‰å®½ï¼Œæ‹¥æœ‰1pxé•¿åº¦ï¼Œè‡³äºå®ƒä»¬çš„æ¡†åº¦æ˜¯ä¸æ˜¯50%ï¼Œä½ å¯ä»¥å–Šè®¾è®¡å¸ˆè‡ªå·±é‡ã€‚é™¤äº†ä»¥ä¸Šä¸¤ä¸ªå€¼å¤–ï¼Œbox-sizingè¿˜æœ‰ä¸€ä¸ªpadding-boxå€¼ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯æŠŠå†…è¾¹è·è®¡ç®—åœ¨è®¾ç½®çš„æ¡†åº¦å†…ï¼Œè€Œborderæ˜¯ä¸è®¡ç®—çš„ã€‚## 61ï¼‰ã€bugã€‘æ‰‹æœºæµ‹è¯•æœç´¢ï¼Œå‡ºç°invalid URLï¼Œä¸èƒ½æ‹¿åˆ°æ•°æ®ï¼ˆå¼€å‘å·¥å…·æµ‹è¯•å´æ˜¯æ­£å¸¸ï¼‰&lt;img src=&quot;https://ws1.sinaimg.cn/large/006tNc79gy1fn2m2j5l0xj30w80g1ac8.jpg&quot; width=&quot;4000&quot;&gt;## 1ã€é—®é¢˜æè¿°ï¼š1ï¼‰å·²é…ç½®ï¼šåŸŸåå·²å¤‡æ¡ˆã€æœåŠ¡å™¨å·²å®‰è£…SSLè¯ä¹¦å³httpsè®¤è¯ã€‚åœ¨å°ç¨‹åºå¼€å‘å·¥å…·é‡Œæµ‹è¯•ï¼Œé¦–é¡µã€åˆ†ç±»é¡µåœ¨å¼€å‘å·¥å…·ã€æ‰‹æœºç«¯æµ‹è¯•å‡æ­£å¸¸ã€‚2ï¼‰æµ‹è¯•æœç´¢åŠŸèƒ½ï¼šå¼€å‘å·¥å…·é‡Œæµ‹è¯•æ­£å¸¸ï¼Œå¯ä»¥æ‹¿æ•°æ®ã€æ˜¾ç¤ºç”»é¢ã€‚ä½†æ˜¯åœ¨æ‰‹æœºç«¯ä¸èƒ½æ‹¿åˆ°æ•°æ®ï¼Œåˆšåˆšå¼€å§‹è¯·æ±‚api_urlå°±æŠ¥é”™&quot;invalid url&quot;ã€‚## 2ã€è§£å†³åŠæ³•ï¼šé—®é¢˜å‡ºåœ¨apiçš„urlä¸Šï¼Œè¦æŠŠ`&quot;?utf8=âœ“&amp;q=&quot; + e.detail.value` ï¼Œæ”¹æˆ``&quot;?utf8=%E2%9C%93&amp;q=&quot; + encodeURI(e.detail.value)``ï¼Œå¦‚ä¸‹ã€‚ var API_URL = â€˜https://luccake.top/v2/products/searchâ€˜ wx.request({ url: API_URL + â€œ?utf8=%E2%9C%93&amp;q=â€ + encodeURI(e.detail.value), 12345678910&gt; è§£è¯´ï¼š&gt;&gt; %E2%9C%93ï¼Œè¿™ç§ä¹ä½æ•°ç¼–ç æ˜¯urlçš„utf-8ç¼–ç ï¼Œæ¯ä¸€ä¸ªä¸­æ–‡å­—éƒ½ä¼šè½¬åŒ–æˆä¸€ä¸ªä¹ä½æ•°çš„ç¼–ç ã€‚å¯ä»¥ç”¨[URLç¼–ç /è§£ç å·¥å…·è½¬æ¢](http://tool.chinaz.com/tools/urlencode.aspx)ã€‚&gt;&gt; åœ¨å°ç¨‹åºé‡Œï¼Œè¦ç”¨javascriptçš„[encodeURI(URLstring)è¯­æ³•ï¼Œè¯¦è§w3school](http://www.w3school.com.cn/jsref/jsref_encodeuri.asp)* æ‹“å±•ï¼Œ[javascript/å¾®ä¿¡å°ç¨‹åºä¸­å°†Stringè¿›è¡ŒBase64ç¼–ç å¹¶UTF-8æ ¼å¼è¾“å‡º](http://blog.csdn.net/huangmeimao/article/details/74905749)ï¼Œæµ‹è¯•æˆåŠŸï¼Œä¸è¿‡è½¬åŒ–å‡ºæ¥çš„ç¼–ç æ˜¯å…«ä½æ•°å¦‚&quot;6YeR6Imy&quot;ã€‚62ï¼‰æ’åº def index @products = case params[:order] when â€˜by_priceâ€™ Product.order(â€˜price DESCâ€™) when â€˜by_created_atâ€™ Product.order(â€˜created_at DESCâ€™) else Product.all end end 12 &lt;%= link_to(â€œæ‰€æœ‰å•†å“â€, products_path) %&gt; &lt;%= link_to(â€œæŒ‰ä»·æ ¼æ’åºâ€, products_path(:order =&gt; â€œby_priceâ€)) %&gt; &lt;%= link_to(â€œæŒ‰æ—¶é—´æ’åºâ€, products_path(:order =&gt; â€œby_created_atâ€)) %&gt; 1234567891011121314151617181920http://localhost:3000/products?utf8=%E2%9C%93&amp;q%5Btitle_cont%5D=%E7%BF%BB%E7%B3%96&amp;commit=Searchhttp://localhost:3000/products?commit=Search&amp;q%5Bs%5D=price+asc&amp;q%5Btitle_cont%5D=%E7%BF%BB%E7%B3%96&amp;utf8=%E2%9C%93localhost:3000/products?utf8=âœ“&amp;q%5Btitle_cont%5D=ç¿»ç³–&amp;commit=Searchlocalhost:3000/products?commit=Search&amp;q%5Bs%5D=price+sac&amp;q%5Btitle_cont%5D=ç¿»ç³–&amp;utf8=âœ“https://luccake.top/api/v1/products?utf8=%E2%9C%93&amp;q%5Btitle_or_description_cont%5D=%E7%BF%BB%E7%B3%96&amp;commit=Searchhttps://luccake.top/products?commit=Search&amp;q%5Bs%5D=price+asc&amp;q%5Btitle_or_description_cont%5D=%E7%BF%BB%E7%B3%96&amp;utf8=%E2%9C%9363ï¼‰æœç´¢åŠŸèƒ½ä¸€ã€åœ¨navbarï¼Œå‚è€ƒæˆ´å»ºæ—æ•™ç¨‹ï¼Œå¤æ‚ã€‚äºŒã€åœ¨indexï¼Œå‚è€ƒæ¯›å°§å‰åŠransackå®˜æ–¹ï¼Œç®€å•ã€‚64ï¼‰å›å¤´å†æ”¹ï¼šsearché¡µé¢çš„ä»£ç åƒæ˜¯é«˜çº§æœç´¢åŠŸèƒ½ï¼Œå¯ä»¥æ‹¿æ‰æˆ–ä¿ç•™ã€‚apiçš„product#searchçš„paginateè¦æ‹¿æ‰ã€‚65ï¼‰ var searchData = wx.getStorageSync(â€˜searchDataâ€™) || []searchData.push(this.data.inputValue)wx.setStorageSync(â€˜searchDataâ€™, searchData)console.log(â€œfffâ€, searchData) 12 onShow:function(){ var getSearch = wx.getStorageSync(â€˜searchDataâ€™); this.setData({ getSearch:getSearch, inputValue:â€™â€™ }) console.log(â€˜search is onshowâ€™) console.log(this.data.getSearch)}, ``` 66ï¼‰ç»†åº¦æ–‡æ¡£ç±»çš„è§†é¢‘è™½ç„¶å¾ˆè¯¦ç»†ï¼Œä¹Ÿå¥½åƒäº†è§£äº†å…¨ç›˜ï¼Œä½†æ˜¯çœŸæ­£è¦åšä»€ä¹ˆåŠŸèƒ½çš„æ—¶å€™ï¼Œä¸€ç‚¹åµç”¨éƒ½æ²¡æœ‰ï¼Œè¿˜æ˜¯è¦ä¸€ç‚¹ç‚¹å»æœç´¢æ‘¸ç´¢ï¼Œåšçš„å‡ºæ¥ä¸€å›äº‹ï¼Œå¾ˆå¤šæ—¶å€™åšä¸å‡ºæ¥ï¼Œæ¯”å¦‚ä»Šå¤©æŠ˜è…¾çš„å­˜å–ç¼“å­˜ã€‚ææ…Œã€ç„¦è™‘ã€‚â€”â€”è¿˜æ˜¯å®æˆ˜ç®¡ç”¨ã€‚ var API_URL = â€˜https://luccake.top/api/v1/products?utf8=%E2%9C%93&amp;q%5Btitle_or_description_cont%5D=â€˜ url: API_URL + utf + â€œ&amp;commit=Searchâ€ https://luccake.top/products?utf8=%E2%9C%93&amp;q%5Btitle_or_description_cont%5D=%E9%87%91%E8%89%B2&amp;commit=Search https://luccake.top/products?commit=Search&amp;q%5Bs%5D=price+asc&amp;q%5Btitle_or_description_cont%5D=%E9%87%91%E8%89%B2&amp;utf8=%E2%9C%93 https://luccake.top/products?commit=Search&amp;q%5Bs%5D=created_at+asc&amp;q%5Btitle_or_description_cont%5D=%E9%87%91%E8%89%B2&amp;utf8=%E2%9C%93 https://luccake.top/api/v1/products?commit=Search&amp;q%5Bs%5D=price+asc&amp;q%5Btitle_or_description_cont%5D=%E5%85%AC%E4%B8%BB&amp;utf8=%E2%9C%93 https://luccake.top/api/v1/products?commit=Search&amp;q%5Bs%5D=price+desc&amp;q%5Btitle_or_description_cont%5D=%E5%85%AC%E4%B8%BB&amp;utf8=%E2%9C%93","categories":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}],"tags":[{"name":"å¾®ä¿¡ç³»ç»Ÿ","slug":"å¾®ä¿¡ç³»ç»Ÿ","permalink":"http://yoursite.com/tags/å¾®ä¿¡ç³»ç»Ÿ/"}],"keywords":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}]},{"title":"wx-function-åˆ†ç±»åŠŸèƒ½ä¹‹å¤šå¯¹å¤šmany to many","slug":"wx-function-åˆ†ç±»åŠŸèƒ½ä¹‹å¤šå¯¹å¤šmany to many","date":"2017-12-26T16:10:00.000Z","updated":"2018-01-14T08:19:19.000Z","comments":true,"path":"posts/ba21773f/","link":"","permalink":"http://yoursite.com/posts/ba21773f/","excerpt":"","text":"ä¸€ç§å¤šå¯¹å¤šçš„åˆ†ç±»å†™æ³•â€”â€”99æµ‹è¯•åœ¨job-listingä¸Šç›´æ¥ç²˜è´´ä»£ç å¯è¡Œã€‚ https://forum.qzy.camp/t/topic/1381 ä½œå“ç½‘ç«™https://explorer-xiaofei.herokuapp.com/firsttool Githubhttps://github.com/kristennn/Explorer/blob/master/app/views/jobs/_search_bar.html.erb ä¸€ã€æ“ä½œæ­¥éª¤1ï¼‰jobã€characterã€character_ship 2ï¼‰è®¾ç½®å¤šå¯¹å¤šå…³ç³» 3ï¼‰åŠ å…¥editå’Œnewè¡¨å•ä¸­ 4ï¼‰ app/views/jobs/index.html.erbæœç´¢æ¡† 1234&lt;%= form_tag jobs_path,method: :get do %&gt; &lt;%= text_field_tag :name %&gt; &lt;%= submit_tag &quot;ç¡®å®š&quot; %&gt;&lt;% end %&gt; 5ï¼‰app/controllers/jobs_controller.rbæœç´¢æ¡†æ•°æ®åŠ å·¥ 12345678910def index ... ... if params[:name].present? #æ–°å¢ä»¥ä¸‹å…­è¡Œï¼š @character = Character.find_by(:name =&gt; params[:name]) if @character.present? @jobs = @character.jobs end end end 6ï¼‰admin_jobs_controllerè®¾ç½®ç™½åå• 1234def job_params params.require(:job).permit(:title, :description, :character_ids =&gt; []) #åœ¨è¿™é‡ŒåŠ ä¸Šcharacter_idsend æå®šï¼ï¼ï¼æ·»åŠ ä¸€äº›æ•°æ®ï¼Œå°±å¯ä»¥åœ¨æœç´¢æ¡†é‡Œæµ‹è¯•äº†ã€‚ äºŒã€ç”¨è‡ªå·±çš„githubæ¡ˆä¾‹æ•´ç†æ•™ç¨‹https://github.com/jiujiubad/wx-luccake-api/commit/44d7da93a37c3f203331f8656a3cfff0966d971d","categories":[{"name":"roråŠŸèƒ½","slug":"roråŠŸèƒ½","permalink":"http://yoursite.com/categories/roråŠŸèƒ½/"}],"tags":[{"name":"roråŠŸèƒ½","slug":"roråŠŸèƒ½","permalink":"http://yoursite.com/tags/roråŠŸèƒ½/"}],"keywords":[{"name":"roråŠŸèƒ½","slug":"roråŠŸèƒ½","permalink":"http://yoursite.com/categories/roråŠŸèƒ½/"}]},{"title":"invest-æ¬ç –-å¿«é€Ÿæ‰«é™¤æ¬ç –é—¨æ§› éŸ©å›½ Bithumbç®€æ˜æŒ‡å—åŠä½¿ç”¨æ•²é—¨","slug":"invest-æ¬ç –-å¿«é€Ÿæ‰«é™¤æ¬ç –é—¨æ§› éŸ©å›½ Bithumbç®€æ˜æŒ‡å—åŠä½¿ç”¨æ•²é—¨","date":"2017-12-25T12:10:00.000Z","updated":"2018-01-14T04:13:52.000Z","comments":true,"path":"posts/663c45b6/","link":"","permalink":"http://yoursite.com/posts/663c45b6/","excerpt":"","text":"ã€Šå¿«é€Ÿæ‰«é™¤æ¬ç –é—¨æ§› éŸ©å›½ Bithumbç®€æ˜æŒ‡å—åŠä½¿ç”¨æ•²é—¨ã€‹å¸ç¨³èµ¢ç½‘ç«™https://haihao.huiyutongwechat.top/ 1ã€å¤§å‘ 1ï¼‰æ³¨å†Œè¦ç”¨é‚®ç®±ï¼Œå¦‚æœç”¨æ‰‹æœºå°±æ²¡æœ‰æŠ¤ç…§è®¤è¯çš„é€‰é¡¹ï¼› 2ï¼‰æ‰‹æœºå·ç æ ¼å¼4ä½ã€4ä½ã€3ä½ï¼› 3ï¼‰å›¾å½¢éªŒè¯ç ä¸¥æ ¼æŒ‰å¤§å°å†™ï¼› 4ï¼‰å¯†ç å¤§äº8ä½ä¹Ÿæ˜¯å¯ä»¥ï¼› 5ï¼‰æˆ‘ä»¬æ²¡æœ‰èº«ä»½è¯ï¼Œå†™çº¸æ¡ã€é®æŒ¡æ•°å­—çš„è¦æ±‚ã€‚æŠ¤ç…§åªè¦æ±‚ç…§ç‰‡ï¼Œå¾ˆå¤šæ²¡æœ‰å†™çº¸æ¡ï¼Œä»…æ‹ç…§ä¸Šä¼ ä¹Ÿé€šè¿‡éªŒè¯ï¼› 6ï¼‰ä¸Šä¼ åçš„ç¬¬äºŒä¸ªé¡µé¢ä¸ç”¨ç®¡çš„ï¼Œåªéœ€è¦ä¸Šä¼ æŠ¤ç…§å°±å¯ä»¥äº†ã€‚æœ‰äº›äººæ˜¯ç§’è¿‡ï¼Œæœ‰äº›äººæ˜¯ç­‰ä¸€ä¸¤å¤©ï¼Œçœ‹è®¤è¯ç­‰çº§å’Œæƒé™å°±çŸ¥é“æ˜¯ä¸æ˜¯è¿‡äº†ã€‚ 2ã€äº¤æ˜“éƒ¨åˆ†1ï¼‰ç®€å•äº¤æ˜“åŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥å¸ç§æ¢å¸ç§ï¼Œä¸éœ€è¦é€šè¿‡éŸ©å…ƒåšä¸­ä»‹ ã€‚ã€‚ã€‚ã€‚å›¾ç‰‡ 2ï¼‰ç‚¹å‡»äº¤æ˜“æ‰€-é€‰æ‹©ä½ çš„å¸ç§-ç®€å•äº¤æ˜“-é€‰æ‹©æƒ³è¦æ¢çš„å¸ç§-é€‰æ‹©æ•°é‡-ç®€å•è´­ä¹°è®¢å• 3ï¼‰æäº¤çš„æ˜¯è¯•é©¾å•ï¼Œæœ‰æ—¶å€™ç½‘ç«™å¡å°±ä¼šå‡ºç°ç½‘ç»œå¡è¯·å†è¯•ï¼Œè¿™æ ·å†å¤šè¯•å‡ æ¬¡å°±å¯ä»¥äº†ï¼› 4ï¼‰å¦‚æœæ¯æ¬¡äº¤æ˜“æˆåŠŸéƒ½é€šçŸ¥å¤ªçƒ¦ï¼Ÿé™„åŠ æœåŠ¡-å³é”®é€šçŸ¥-å–æ¶ˆè®¢è´­è¾¾æˆçš„é€‰é¡¹ï¼› 3ã€äº¤æ˜“æ‰‹ç»­è´¹1ï¼‰åƒåˆ†ä¹‹1.5ï¼Œä¸¤æ¬¡åƒåˆ†ä¹‹3ï¼› 2ï¼‰é¦–é¡µ-æœ€å³-æ‰‹ç»­è´¹æŠ˜æ‰£å¹¿å‘Šï¼Œä¸é”™å¯ä»¥ä¹°ï¼› 3ï¼‰æ‰‹ç»­è´¹ä¼˜æƒ åˆ¸æœ‰ä¸¤ç§ã€‚ç¬¬ä¸€ç§2000WéŸ©å…ƒï¼Œå¤§æ¦‚ç­‰äº1btcï¼ŒæŠµæ‰£0.5%æ¯”ç‰¹å¸äº¤æ˜“é¢æ‰‹ç»­è´¹ã€‚ç¬¬äºŒç§ä¸€äº¿ï¼Œå¤§æ¦‚ç­‰äº5btcï¼ŒæŠµæ‰£2.5%æ¯”ç‰¹å¸äº¤æ˜“é¢çš„æ‰‹ç»­è´¹æœ‰æ•ˆæœŸåŠä¸ªæœˆã€‚æ‰‹ç»­è´¹åˆ¸å¯ä»¥å åŠ çš„ï¼Œä¸€æ¬¡åŠä¸ªæœˆã€‚å»ºè®®ä¹°ç¬¬äºŒç§ã€‚ 4ï¼‰æ‰‹ç»­è´¹åˆ¸è´­ä¹°æ”¯æŒæ¯”ç‰¹å¸ç»“ç®—ã€‚å®Œæˆåæ˜¯ä¸‡åˆ†ä¹‹å…«ï¼Œéå¸¸ä½äº†ï¼› 5ï¼‰æå¸å‰ï¼Œè¦ç»‘å®šäºŒæ¬¡éªŒè¯ã€‚åœ¨å¯¼èˆª-æˆ‘çš„éªŒè¯-è®¤è¯OTPï¼› 6ï¼‰å¾ˆå¤šäººæ‰¾ä¸åˆ°å–æ¶ˆæå¸çš„æŒ‰é’®ï¼Ÿæˆ‘çš„äº¤æ˜“æ˜ç»†-å–æ¬¾ä¸­-ç‚¹å‡»è“è‰²æŒ‰é’®ï¼ˆå‰ææ˜¯ä½ çš„æå¸è¿˜æ²¡æœ‰è¢«å¹¿æ’­å‡ºå»ï¼‰ï¼› å¦å¤–å¯ä»¥æŸ¥çœ‹äº¤æ˜“è®°å½•ã€‚ 4ã€é—®ç­”æ—¶é—´1ï¼‰ç”¨ä»€ä¹ˆå¸æ¥æ¬ç –ï¼Ÿ æµ·è±ªæ˜¯ç”¨æ¯”ç‰¹å¸ï¼Œä½†æ˜¯æ¬ç –è¦ä»¥ä½ æ‰‹å¤´æœ‰çš„å¸ä½œä¸ºé…ç½®ï¼Œä¸è¦ä¸ºäº†æ¬ç –è€Œæ”¹å˜ä½ ç°æœ‰çš„é…ç½®ã€‚ 2ï¼‰bithumbå¦‚ä½•åˆ›å»ºæ”¶å¸åœ°å€ï¼Ÿ å¯¼èˆªæ -é’±åŒ…ç®¡ç†-å­˜æ¬¾å……å€¼ï¼Œç„¶åå¯ä»¥çœ‹åˆ°ä¸€ç³»åˆ—å¸ç§ã€‚ 3ï¼‰å¯¹å†²æ¬ç –è¦æ³¨å†Œå¤šå°‘ä¸ªäº¤æ˜“æ‰€ï¼Ÿ ä¸¤ä¸ªã€‚ 4ï¼‰é™¤äº†bithumbè¿˜è¦æ³¨å†Œå“ªä¸ªäº¤æ˜“æ‰€ï¼Ÿ éƒ½è¡Œã€‚å¸å®‰ã€bitfinexè¿™äº›ã€‚ 5ï¼‰æ‰‹ç»­è´¹ä¼˜æƒ åˆ¸å…·ä½“æ˜¯æ€ä¹ˆç®—çš„ï¼Ÿ å…ˆè¦é¢„ä»˜æ‰‹ç»­è´¹ï¼Œç„¶åæ¥ä¸‹æ¥çš„ä¸€æ®µäº¤æ˜“é‡‘é¢é‡Œé¢ä¸ç”¨ç»™æ‰‹ç»­è´¹ã€‚æŒ‰ç…§ç°åœ¨çš„æ‰“æŠ˜ç¨‹åº¦å¤§æ¦‚æ˜¯ä¸‡åˆ†ä¹‹å…«çš„æ‰‹ç»­è´¹ã€‚ 6ï¼‰ç«å¸å’Œbithumbå¯ä»¥æ¬ç –å—ï¼Ÿ å¯ä»¥ã€‚ 7ï¼‰æ–°æ‰‹æ²¡æœ‰å¸æ€ä¹ˆåŠï¼Ÿ åˆ°otcbtcä¹°ã€‚","categories":[{"name":"æŠ•èµ„","slug":"æŠ•èµ„","permalink":"http://yoursite.com/categories/æŠ•èµ„/"}],"tags":[{"name":"æŠ•èµ„","slug":"æŠ•èµ„","permalink":"http://yoursite.com/tags/æŠ•èµ„/"},{"name":"æ¬ç –","slug":"æ¬ç –","permalink":"http://yoursite.com/tags/æ¬ç –/"}],"keywords":[{"name":"æŠ•èµ„","slug":"æŠ•èµ„","permalink":"http://yoursite.com/categories/æŠ•èµ„/"}]},{"title":"tool-mac-macæŠ€å·§åŠå·¥å…·","slug":"tool-mac-macæŠ€å·§åŠå·¥å…·","date":"2017-12-24T16:10:00.000Z","updated":"2018-01-14T06:04:54.000Z","comments":true,"path":"posts/53af267/","link":"","permalink":"http://yoursite.com/posts/53af267/","excerpt":"","text":"macå‰ªè´´æ¿chromeå¤œæ™¯ä¸»é¢˜å¤šæ¡Œé¢è™šæ‹Ÿæ¡Œé¢ï¼Œè§£æ”¾command+tabä¸åŒæ¡Œé¢çš„ç›®çš„æ˜¯ä¸ºäº†å½¢æˆã€Œä¸åŒçš„æ°›å›´ã€ï¼šå·¥ä½œçš„æ—¶å€™ä¸è¦æƒ³å¨±ä¹ï¼Œå¨±ä¹çš„æ—¶å€™ä¹Ÿä¸è¦æƒ³å·¥ä½œï¼Œä¸€æ®µæ—¶é—´åšå¥½ä¸€ä»¶äº‹å°±å¯ä»¥äº†ã€‚ ä¸€èˆ¬æ­£ç»äº‹æ”¾ç¬¬ä¸€å±ï¼Œä¸‹ä¸€å±è¾…åŠ©ï¼Œæ¥ç€ä¸å¤§é‡è¦çš„å¾€åæ‰”ï¼Œå…¨éƒ¨éƒ½æ˜¯å…¨å±æœ€å¤§åŒ–çš„ï¼Œéšè—dockã€‚æ²¡å¿…è¦ä¸€ä¸ªæ¡Œé¢å †å¥½å‡ ä¸ªçª—å£ï¼Œçœ‹å¾—å¿ƒçƒ¦ï¼Œåæ­£æ¥å›åˆ‡æ¢åŒæŒ‡æ»‘ä¸€ä¸‹é¼ æ ‡å°±è¡Œï¼Œè¿˜èƒ½å®‰å¿ƒåšäº‹ã€‚ macå¿«æ·é”®1ã€å‰ªåˆ‡é¦–å…ˆé€‰ä¸­æ–‡ä»¶ï¼ŒæŒ‰Command+Cå¤åˆ¶æ–‡ä»¶ï¼› ç„¶åæŒ‰Commandï¼‹Optionï¼‹Vï¼›å°±å¯ä»¥æŠŠä½ çš„æ–‡ä»¶å‰ªèµ°äº†ï¼ åœ¨è¿™é‡Œè¡¥å……ä¸€ä¸‹ï¼Œæˆ‘è¿™é‡Œè®²çš„æ˜¯å‰ªåˆ‡æ–‡ä»¶å¤¹ï¼Œä¸æ˜¯å‰ªåˆ‡æ–‡æœ¬å’Œæ–‡å­—ï¼ 2ã€çª—å£äº’ç›¸åˆ‡æ¢-åŒä¸ªappå†…Cmd+ `åœ¨ä¸¤ä¸ªçª—å£é—´åˆ‡æ¢","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/å·¥å…·/"},{"name":"mac","slug":"mac","permalink":"http://yoursite.com/tags/mac/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}]},{"title":"wx-function-å•†åŸ(è§†é¢‘)åˆ†ç±»èœå•å·¦å³è”åŠ¨ï¼ˆè¯¦ç»†è®²wx/forå’Œconsoleæ¡ˆä¾‹ï¼‰","slug":"wx-function-å•†åŸ(è§†é¢‘)åˆ†ç±»èœå•å·¦å³è”åŠ¨ï¼ˆè¯¦ç»†è®²wx:forå’Œconsoleæ¡ˆä¾‹ï¼‰","date":"2017-12-23T16:10:00.000Z","updated":"2018-01-14T08:50:28.000Z","comments":true,"path":"posts/8282a6c/","link":"","permalink":"http://yoursite.com/posts/8282a6c/","excerpt":"","text":"å‚è€ƒèµ„æ–™è§†é¢‘åœ°å€https://ke.qq.com/course/243926 ç›®å½•å‚è€ƒèµ„æ–™ ä¸€ã€èœå•è”åŠ¨å®é™…ç”¨é€”ï¼Œåˆ†æ äºŒã€åˆ›å»ºåŸºæœ¬æ¡†æ¶ 1ã€åŸºæœ¬å…ƒç´  2ã€å…ˆåšèœå•/åˆ†ç±»æ ‡é¢˜ æ­¤æ—¶çš„å®Œæ•´ä»£ç  ä¸‰ã€åˆ›å»ºèœå•è”åŠ¨ 3ã€å†åšèœå•/åˆ†ç±»æ˜ç»† 4ã€ä¸¤ä¸ªæ¨¡å—å…³è”åˆ°ä¸€èµ· å››ã€æœ€ç»ˆçš„å®Œæ•´ä»£ç ï¼ˆç†æ¸…æ€è·¯ï¼‰ ä¸€ã€èœå•è”åŠ¨å®é™…ç”¨é€”ï¼Œåˆ†æäºŒã€åˆ›å»ºåŸºæœ¬æ¡†æ¶ 1ã€åŸºæœ¬å…ƒç´ 1ï¼‰å†™å…¥åŸºæœ¬å·¦å³æ å…ƒç´ ï¼Œå·¦å³æŒ‰åˆ—æ’æ”¾ wxml 1234567891011121314&lt;view class=&quot;Box&quot;&gt; &lt;view class=&quot;category&quot;&gt; &lt;view class=&apos;address_top&apos;&gt;åœ°åŒº&lt;/view&gt; &lt;view class=&apos;address_bottom&apos;&gt;åˆ†ç±»1&lt;/view&gt; &lt;view class=&apos;address_bottom&apos;&gt;åˆ†ç±»2&lt;/view&gt; &lt;view class=&apos;address_bottom&apos;&gt;åˆ†ç±»3&lt;/view&gt; &lt;view class=&apos;address_bottom&apos;&gt;åˆ†ç±»4&lt;/view&gt; &lt;/view&gt; &lt;view class=&apos;orientation_region&apos;&gt; &lt;view class=&apos;orientation&apos;&gt;è‡ªåŠ¨å®šä½&lt;/view&gt; &lt;view class=&apos;orientation_city active&apos;&gt;1&lt;/view&gt; &lt;view class=&apos;orientation_city&apos;&gt;2&lt;/view&gt; &lt;/view&gt;&lt;/view&gt; js 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485// pages/cata88/cata88.jsPage(&#123; data: &#123; orientationlist: [ &#123; id: &quot;01&quot;, region: &quot;ä¸œåŒ—&quot; &#125;, &#123; id: &quot;02&quot;, region: &quot;ååŒ—&quot; &#125;, &#123; id: &quot;03&quot;, region: &quot;åä¸œ&quot; &#125;, &#123; id: &quot;04&quot;, region: &quot;åå—&quot; &#125;, &#123; id: &quot;05&quot;, region: &quot;åä¸­&quot; &#125; ], act_addlist: [ &#123; id: &quot;01&quot;, region: &quot;ä¸œåŒ—åœ°åŒº&quot;, city: [ &#123; id: &quot;0101&quot;, name: &quot;ç™½å±±å¸‚&quot; &#125;, &#123; id: &quot;0102&quot;, name: &quot;æ±•å¤´å¸‚&quot; &#125;, &#123; id: &quot;0103&quot;, name: &quot;æ·±åœ³å¸‚&quot; &#125;, &#123; id: &quot;0104&quot;, name: &quot;å¹¿å·å¸‚&quot; &#125;, &#123; id: &quot;0105&quot;, name: &quot;æµ‹è¯•1&quot; &#125;, &#123; id: &quot;0106&quot;, name: &quot;æµ‹è¯•2&quot; &#125;, &#123; id: &quot;0107&quot;, name: &quot;æµ‹è¯•3&quot; &#125;, &#123; id: &quot;0108&quot;, name: &quot;æµ‹è¯•4&quot; &#125;, &#123; id: &quot;0109&quot;, name: &quot;æµ‹è¯•5&quot; &#125;, ] &#125;, &#123; id: &quot;02&quot;, region: &quot;ååŒ—åœ°åŒº&quot;, city: [ &#123; id: &quot;0201&quot;, name: &quot;åŒ…å¤´å¸‚&quot; &#125;, &#123; id: &quot;0202&quot;, name: &quot;å¤§åº†&quot; &#125;, &#123; id: &quot;0203&quot;, name: &quot;ä¿å®š&quot; &#125;, &#123; id: &quot;0205&quot;, name: &quot;æµ‹è¯•1&quot; &#125;, &#123; id: &quot;0206&quot;, name: &quot;æµ‹è¯•2&quot; &#125;, &#123; id: &quot;0207&quot;, name: &quot;æµ‹è¯•3&quot; &#125;, &#123; id: &quot;0208&quot;, name: &quot;æµ‹è¯•4&quot; &#125;, &#123; id: &quot;0209&quot;, name: &quot;æµ‹è¯•5&quot; &#125;, &#123; id: &quot;0210&quot;, name: &quot;æµ‹è¯•6&quot; &#125; ] &#125;, &#123; id: &quot;03&quot;, region: &quot;åä¸œåœ°åŒº&quot;, city: [ &#123; id: &quot;0301&quot;, name: &quot;ä¸œä¸œå¸‚&quot; &#125;, &#123; id: &quot;0302&quot;, name: &quot;ä¸œä¸œ&quot; &#125;, &#123; id: &quot;0303&quot;, name: &quot;å’šå’šå’š&quot; &#125;, &#123; id: &quot;0305&quot;, name: &quot;æµ‹è¯•1&quot; &#125;, &#123; id: &quot;0306&quot;, name: &quot;æµ‹è¯•2&quot; &#125;, &#123; id: &quot;0307&quot;, name: &quot;æµ‹è¯•3&quot; &#125;, &#123; id: &quot;0308&quot;, name: &quot;æµ‹è¯•4&quot; &#125;, &#123; id: &quot;0309&quot;, name: &quot;æµ‹è¯•5&quot; &#125;, &#123; id: &quot;0310&quot;, name: &quot;æµ‹è¯•6&quot; &#125; ] &#125;, &#123; id: &quot;04&quot;, region: &quot;åå—åœ°åŒº&quot;, city: [ &#123; id: &quot;0401&quot;, name: &quot;ä¸œä¸œå¸‚&quot; &#125;, &#123; id: &quot;0402&quot;, name: &quot;ä¸œä¸œ&quot; &#125;, &#123; id: &quot;0403&quot;, name: &quot;å’šå’šå’š&quot; &#125;, &#123; id: &quot;0405&quot;, name: &quot;æµ‹è¯•1&quot; &#125;, &#123; id: &quot;0406&quot;, name: &quot;æµ‹è¯•2&quot; &#125;, &#123; id: &quot;0407&quot;, name: &quot;æµ‹è¯•3&quot; &#125;, &#123; id: &quot;0408&quot;, name: &quot;æµ‹è¯•4&quot; &#125;, &#123; id: &quot;0409&quot;, name: &quot;æµ‹è¯•5&quot; &#125;, &#123; id: &quot;0410&quot;, name: &quot;æµ‹è¯•6&quot; &#125; ] &#125;, &#123; id: &quot;05&quot;, region: &quot;åä¸­åœ°åŒº&quot;, city: [ &#123; id: &quot;0501&quot;, name: &quot;ä¸œä¸œå¸‚&quot; &#125;, &#123; id: &quot;0502&quot;, name: &quot;ä¸œä¸œ&quot; &#125;, &#123; id: &quot;0503&quot;, name: &quot;å’šå’šå’š&quot; &#125;, &#123; id: &quot;0505&quot;, name: &quot;æµ‹è¯•1&quot; &#125;, &#123; id: &quot;0506&quot;, name: &quot;æµ‹è¯•2&quot; &#125;, &#123; id: &quot;0507&quot;, name: &quot;æµ‹è¯•3&quot; &#125;, &#123; id: &quot;0508&quot;, name: &quot;æµ‹è¯•4&quot; &#125;, &#123; id: &quot;0509&quot;, name: &quot;æµ‹è¯•5&quot; &#125;, &#123; id: &quot;0510&quot;, name: &quot;æµ‹è¯•6&quot; &#125; ] &#125; ], classifySelected: &apos;&apos; &#125;,&#125;) wxss 1234567.Box &#123; display: flex; justify-content: space-between;&#125;.orientation_city.active &#123; /*æµ‹è¯•å˜é‡classifySelectedæ˜¯å¦ç­‰äº&#123;&#123;item.id&#125;&#125;ï¼Œæ”¹å˜å­—è‰²*/ color: red;&#125; 2ã€å…ˆåšèœå•/åˆ†ç±»æ ‡é¢˜1ï¼‰å…ˆæŠŠåˆ—è¡¨å¾ªç¯å‡ºæ¥ 12345&lt;view class=&apos;orientation&apos;&gt;è‡ªåŠ¨å®šä½&lt;/view&gt; &lt;block wx:for=&quot;&#123;&#123;orientationlist&#125;&#125;&quot; wx:key=&quot;&quot;&gt; &lt;view class=&quot;orientation_city&quot;&gt;&#123;&#123;item.region&#125;&#125;&lt;/view&gt; &lt;/block&gt;&lt;/view&gt; 2ï¼‰ç‚¹å‡»äº‹ä»¶ã€‚å¹¶ä¸”ç‚¹å‡»æŸä¸ªæ ‡é¢˜æ—¶æœ‰æ ‡çº¢çš„cssï¼Œéœ€è¦åŠ idã€‚ wxml 12345&lt;view class=&apos;orientation&apos;&gt;è‡ªåŠ¨å®šä½&lt;/view&gt; &lt;block wx:for=&quot;&#123;&#123;orientationlist&#125;&#125;&quot; wx:key=&quot;&quot;&gt; &lt;view class=&quot;orientation_city&quot; bindtap=&apos;right_fl&apos; data-id=&apos;&#123;&#123;item.id&#125;&#125;&apos;&gt;&#123;&#123;item.region&#125;&#125;&lt;/view&gt; &lt;/block&gt;&lt;/view&gt; js 123right_fl: function(e)&#123; console.log(e)&#125; æµ‹è¯•ï¼šç”¨consoleå·¦ä¸Šè§’çš„è‡ªåŠ¨æ£€æŸ¥å·¥å…·ï¼ˆå°ç®­å¤´å›¾æ ‡ï¼‰ï¼Œæ£€æŸ¥æ˜¯å¦èƒ½æ•æ‰åˆ°wxmlçš„idã€‚ 3ï¼‰å¦‚ä¸Šï¼ŒåŠ å…¥console.log(e)åï¼Œç‚¹å‡»åå¯ä»¥åœ¨consoleé‡Œçœ‹åˆ°è¿™ç¬”æ•°æ®ï¼ŒæŒ‰ç…§consoleé¢æ¿é‡Œè¿™ç¬”æ•°æ®çš„ä½ç½®æ¥å†™consolelog 12345right_fl: function(e)&#123; console.log(e) var _id = e.currentTarget.dataset.id; console.log(_id)&#125; æµ‹è¯•ï¼šç‚¹å‡»æ ‡é¢˜åå¯ä»¥çœ‹åˆ°æ˜¾ç¤ºid 4ï¼‰å¢åŠ ä¸€ä¸ªå˜é‡classifySelectedï¼Œç”¨æ¥å­˜æ”¾å½“å‰idã€‚ 12345678right_fl: function(e)&#123; console.log(e) var _id = e.currentTarget.dataset.id; console.log(_id) this.setData (&#123; classifySelected: _id &#125;)&#125; å¹¶æŠŠå˜é‡æ”¾åˆ°classé‡Œï¼Œå¢åŠ åˆ¤æ–­ï¼šå¦‚æœå˜é‡ç­‰äºåˆ™å¢åŠ cssæ ·å¼activeï¼Œå¦‚æœä¸ç­‰äºå°±ä¸ºç©ºï¼Œå³classifySelected==item.id? &#39;active&#39;:&#39;ã€‚ 12345&lt;view class=&apos;orientation&apos;&gt;è‡ªåŠ¨å®šä½&lt;/view&gt; &lt;block wx:for=&quot;&#123;&#123;orientationlist&#125;&#125;&quot; wx:key=&quot;&quot;&gt; &lt;view class=&quot;orientation_city &#123;&#123;classifySelected==item.id? &apos;active&apos;:&apos;&apos;&#125;&#125;&quot; bindtap=&apos;right_fl&apos; data-id=&apos;&#123;&#123;item.id&#125;&#125;&apos;&gt;&#123;&#123;item.region&#125;&#125;&lt;/view&gt; &lt;/block&gt;&lt;/view&gt; æµ‹è¯•ï¼šç‚¹å‡»æ ‡é¢˜ï¼Œå­—è‰²å˜æˆcssé‡Œè®¾ç½®çš„çº¢è‰²ã€‚ æ­¤æ—¶çš„å®Œæ•´ä»£ç wxml 1234567891011121314&lt;view class=&quot;box&quot;&gt; &lt;view class=&quot;category&quot; wx:for=&quot;&#123;&#123;act_addlist&#125;&#125;&quot;&gt; &lt;view class=&apos;address_top&apos;&gt;&#123;&#123;item.region&#125;&#125;&lt;/view&gt; &lt;view wx:for=&quot;&#123;&#123;item.city&#125;&#125;&quot;&gt; &lt;view class=&apos;address_bottom&apos;&gt;&#123;&#123;item.name&#125;&#125;&lt;/view&gt; &lt;/view&gt; &lt;/view&gt; &lt;view class=&apos;orientation_region&apos;&gt; &lt;view class=&apos;orientation&apos;&gt;è‡ªåŠ¨å®šä½&lt;/view&gt; &lt;block wx:for=&quot;&#123;&#123;orientationlist&#125;&#125;&quot; wx:key=&quot;&quot;&gt; &lt;view class=&quot;orientation_city &#123;&#123;classifySelected==item.id? &apos;active&apos;:&apos;&apos;&#125;&#125;&quot; bindtap=&apos;right_fl&apos; data-id=&apos;&#123;&#123;item.id&#125;&#125;&apos;&gt;&#123;&#123;item.region&#125;&#125;&lt;/view&gt; &lt;/block&gt; &lt;/view&gt;&lt;/view&gt; js 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495// pages/cata88/cata88.jsPage(&#123; data: &#123; orientationlist: [ &#123; id: &quot;01&quot;, region: &quot;ä¸œåŒ—&quot; &#125;, &#123; id: &quot;02&quot;, region: &quot;ååŒ—&quot; &#125;, &#123; id: &quot;03&quot;, region: &quot;åä¸œ&quot; &#125;, &#123; id: &quot;04&quot;, region: &quot;åå—&quot; &#125;, &#123; id: &quot;05&quot;, region: &quot;åä¸­&quot; &#125; ], act_addlist: [ &#123; id: &quot;01&quot;, region: &quot;ä¸œåŒ—åœ°åŒº&quot;, city: [ &#123; id: &quot;0101&quot;, name: &quot;ç™½å±±å¸‚&quot; &#125;, &#123; id: &quot;0102&quot;, name: &quot;æ±•å¤´å¸‚&quot; &#125;, &#123; id: &quot;0103&quot;, name: &quot;æ·±åœ³å¸‚&quot; &#125;, &#123; id: &quot;0104&quot;, name: &quot;å¹¿å·å¸‚&quot; &#125;, &#123; id: &quot;0105&quot;, name: &quot;æµ‹è¯•1&quot; &#125;, &#123; id: &quot;0106&quot;, name: &quot;æµ‹è¯•2&quot; &#125;, &#123; id: &quot;0107&quot;, name: &quot;æµ‹è¯•3&quot; &#125;, &#123; id: &quot;0108&quot;, name: &quot;æµ‹è¯•4&quot; &#125;, &#123; id: &quot;0109&quot;, name: &quot;æµ‹è¯•5&quot; &#125;, ] &#125;, &#123; id: &quot;02&quot;, region: &quot;ååŒ—åœ°åŒº&quot;, city: [ &#123; id: &quot;0201&quot;, name: &quot;åŒ…å¤´å¸‚&quot; &#125;, &#123; id: &quot;0202&quot;, name: &quot;å¤§åº†&quot; &#125;, &#123; id: &quot;0203&quot;, name: &quot;ä¿å®š&quot; &#125;, &#123; id: &quot;0205&quot;, name: &quot;æµ‹è¯•1&quot; &#125;, &#123; id: &quot;0206&quot;, name: &quot;æµ‹è¯•2&quot; &#125;, &#123; id: &quot;0207&quot;, name: &quot;æµ‹è¯•3&quot; &#125;, &#123; id: &quot;0208&quot;, name: &quot;æµ‹è¯•4&quot; &#125;, &#123; id: &quot;0209&quot;, name: &quot;æµ‹è¯•5&quot; &#125;, &#123; id: &quot;0210&quot;, name: &quot;æµ‹è¯•6&quot; &#125; ] &#125;, &#123; id: &quot;03&quot;, region: &quot;åä¸œåœ°åŒº&quot;, city: [ &#123; id: &quot;0301&quot;, name: &quot;ä¸œä¸œå¸‚&quot; &#125;, &#123; id: &quot;0302&quot;, name: &quot;ä¸œä¸œ&quot; &#125;, &#123; id: &quot;0303&quot;, name: &quot;å’šå’šå’š&quot; &#125;, &#123; id: &quot;0305&quot;, name: &quot;æµ‹è¯•1&quot; &#125;, &#123; id: &quot;0306&quot;, name: &quot;æµ‹è¯•2&quot; &#125;, &#123; id: &quot;0307&quot;, name: &quot;æµ‹è¯•3&quot; &#125;, &#123; id: &quot;0308&quot;, name: &quot;æµ‹è¯•4&quot; &#125;, &#123; id: &quot;0309&quot;, name: &quot;æµ‹è¯•5&quot; &#125;, &#123; id: &quot;0310&quot;, name: &quot;æµ‹è¯•6&quot; &#125; ] &#125;, &#123; id: &quot;04&quot;, region: &quot;åå—åœ°åŒº&quot;, city: [ &#123; id: &quot;0401&quot;, name: &quot;ä¸œä¸œå¸‚&quot; &#125;, &#123; id: &quot;0402&quot;, name: &quot;ä¸œä¸œ&quot; &#125;, &#123; id: &quot;0403&quot;, name: &quot;å’šå’šå’š&quot; &#125;, &#123; id: &quot;0405&quot;, name: &quot;æµ‹è¯•1&quot; &#125;, &#123; id: &quot;0406&quot;, name: &quot;æµ‹è¯•2&quot; &#125;, &#123; id: &quot;0407&quot;, name: &quot;æµ‹è¯•3&quot; &#125;, &#123; id: &quot;0408&quot;, name: &quot;æµ‹è¯•4&quot; &#125;, &#123; id: &quot;0409&quot;, name: &quot;æµ‹è¯•5&quot; &#125;, &#123; id: &quot;0410&quot;, name: &quot;æµ‹è¯•6&quot; &#125; ] &#125;, &#123; id: &quot;05&quot;, region: &quot;åä¸­åœ°åŒº&quot;, city: [ &#123; id: &quot;0501&quot;, name: &quot;ä¸œä¸œå¸‚&quot; &#125;, &#123; id: &quot;0502&quot;, name: &quot;ä¸œä¸œ&quot; &#125;, &#123; id: &quot;0503&quot;, name: &quot;å’šå’šå’š&quot; &#125;, &#123; id: &quot;0505&quot;, name: &quot;æµ‹è¯•1&quot; &#125;, &#123; id: &quot;0506&quot;, name: &quot;æµ‹è¯•2&quot; &#125;, &#123; id: &quot;0507&quot;, name: &quot;æµ‹è¯•3&quot; &#125;, &#123; id: &quot;0508&quot;, name: &quot;æµ‹è¯•4&quot; &#125;, &#123; id: &quot;0509&quot;, name: &quot;æµ‹è¯•5&quot; &#125;, &#123; id: &quot;0510&quot;, name: &quot;æµ‹è¯•6&quot; &#125; ] &#125; ], classifySelected: &apos;&apos; &#125;,//å³è¾¹ç‚¹å‡»äº‹ä»¶ right_fl: function(e)&#123; console.log(e) console.log(&quot;æ²¡æœ‰çœ‹åˆ°&quot;) var _id = e.currentTarget.dataset.id; console.log(_id) this.setData (&#123; classifySelected: _id &#125;) &#125;&#125;) wxss 123456789101112.box &#123; display: flex;&#125;.category&#123; background: green;&#125;.orientation_region&#123;&#125;.orientation_city.active &#123; /*æµ‹è¯•å˜é‡classifySelectedæ˜¯å¦ç­‰äº&#123;&#123;item.id&#125;&#125;ï¼Œæ”¹å˜å­—è‰²*/ color: red;&#125; ä¸‰ã€åˆ›å»ºèœå•è”åŠ¨ä¸€å®šè¦ç»å¸¸çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œç°åœ¨æ›´æ–°æ¯”è¾ƒå¿«ï¼Œè€Œä¸”ç½‘ä¸Šå–çš„æ•™ç¨‹éƒ½æ˜¯æ ¹æ®æ–‡æ¡£æ”¹ç¼–çš„ã€‚ äº‹ä»¶çš„æ³¨è§£ä¸€å®šè¦å†™æ¸…æ¥šï¼Œä»¥åå†å›æ¥çœ‹æ¯”è¾ƒæ–¹ä¾¿ã€‚ 3ã€å†åšèœå•/åˆ†ç±»æ˜ç»†1ï¼‰å…ˆæŠŠåˆ—è¡¨å¾ªç¯å‡ºæ¥ã€‚è¿™é‡Œæ˜¯ä¸¤çº§å¾ªç¯ã€‚ 123456&lt;view class=&quot;category&quot; wx:for=&quot;&#123;&#123;act_addlist&#125;&#125;&quot;&gt; &lt;view class=&apos;address_top&apos;&gt;&#123;&#123;item.region&#125;&#125;&lt;/view&gt; &lt;view wx:for=&quot;&#123;&#123;item.city&#125;&#125;&quot;&gt; &lt;view class=&apos;address_bottom&apos;&gt;&#123;&#123;item.name&#125;&#125;&lt;/view&gt; &lt;/view&gt;&lt;/view&gt; 2ï¼‰ä½¿ç”¨æ»‘åŠ¨ç»„ä»¶scroll-viewã€‚ 12345678&lt;scroll-view class=&quot;content&quot; scroll-y=&quot;true&quot; scroll-with-animation=&quot;true&quot; scroll-into-view=&quot;&quot; bindscroll=&quot;gdcf&quot;&gt; &lt;view class=&quot;category&quot; wx:for=&quot;&#123;&#123;act_addlist&#125;&#125;&quot;&gt; &lt;view class=&apos;address_top&apos; id=&quot;&#123;&#123;aa+item.id&#125;&#125;&quot;&gt;&#123;&#123;item.region&#125;&#125;&lt;/view&gt; &lt;view wx:for=&quot;&#123;&#123;item.city&#125;&#125;&quot;&gt; &lt;view class=&apos;address_bottom&apos;&gt;&#123;&#123;item.name&#125;&#125;&lt;/view&gt; &lt;/view&gt; &lt;/view&gt;&lt;/scroll-view&gt; â‘ ã€æœ€é‡è¦çš„å‚æ•°æ˜¯scroll-into-viewï¼Œå€¼ä¸ºidï¼Œä¸”idä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚ åœ¨æ¯ä¸ªå¤§æ ‡é¢˜å¦‚è¿™é‡Œçš„classåŠ ä¸Šï¼Œid=&quot;NaN&quot; â‘¡ã€scroll-y: trueï¼Œyè½´æ–¹å‘æ»šåŠ¨ã€‚ â‘¢ã€scroll-with-animationï¼Œæ»šåŠ¨æ¡åŠ¨ç”»è¿‡æ¸¡ã€‚ 3ï¼‰å¼€å§‹å†™æ»šåŠ¨è§¦å‘ â‘ ã€bindscrollæ˜¯æ»šåŠ¨æ—¶è§¦å‘ï¼Œå¯ä»¥è®©æ–‡å­—å˜çº¢è‰²ã€‚ wxmlè®¾ç½®bindscroll=&quot;gdcf&quot;ï¼Œå¹¶ä¸”è¦ç‰¹åˆ«æ³¨æ„ä¸€å®šè¦ç»™scroll-viewè®¾ç½®ä¸€ä¸ªå›ºå®šçš„heightï¼Œå¦åˆ™æ»šåŠ¨åconsoleé‡Œæ²¡æœ‰æ•°æ®å‡ºç°ã€‚ wxss 12345678910.content&#123; height: 2000rpx;&#125;.address_top&#123; background: yellow; height: 76rpx; //è®¡ç®—é«˜åº¦ç”¨åˆ°&#125;.address_bottom&#123; height: 88rpx; //è®¡ç®—é«˜åº¦ç”¨åˆ°&#125; jsè®¾ç½® 1234//æ»šåŠ¨è§¦å‘gdcf: function(e)&#123; console.log(e)&#125; console.log(e)æµ‹è¯•ï¼šæ»šåŠ¨åæŸ¥çœ‹æ•°æ®ã€‚ ä¸»è¦ç”¨åˆ°scrollTopå‚æ•°ï¼ˆæ³¨æ„æ­¤æ—¶consoleä¸­å•ä½æ˜¯pxï¼Œwxssä¸­è¦æ¢ç®—ï¼‰ã€‚ 123456789101112131415161718192021222324252627282930313233//æ»šåŠ¨è§¦å‘gdcf: function (e) &#123; console.log(e) var that = this; var scrollTop = e.detail.scrollTop * 2, //é«˜åº¦å•ä½æ¢ç®—ï¼Œdetail.scrollTopæ˜¯ä»consoleçŸ¥é“çš„ã€‚ h = 0, //é»˜è®¤é«˜åº¦0 classifySelected; that.data.orientationlist.forEach(function (classify, i) &#123; //javascriptçš„forEach()æ–¹æ³•ï¼Œè¯¦è§http://www.runoob.com/jsref/jsref-foreach.htmlã€‚ // var _h = 76 + ?*88; //è¿™é‡Œçš„å°åˆ†ç±»æ•°é‡è®¡ç®—è§ä¸‹é¢length:function() console.log(classify.id);//çœ‹ä¸æ‡‚çš„å€¼ï¼Œconsole.logä¸€ä¸‹å°±çŸ¥é“è¿™ä¸ªå…¶å®æ˜¯id var _h = 76 + that.length(classify[&apos;id&apos;]) * 88; if (scrollTop &gt;= h)&#123; classifySelected = classify[&apos;id&apos;]; &#125; console.log(_h) h += _h; console.log(h) &#125;, ); that.setData(&#123; classifySelected: classifySelected &#125;)&#125;,//è®¡ç®—å½“å‰å¤§åˆ†ç±»(idå€¼ä¸ºe)ä¸‹æœ‰å¤šå°‘ä¸ªå°åˆ†ç±»length: function (e) &#123; var that = this; var act_addlist = that.data.act_addlist; //ç„¶åè¿›è¡Œä¸‹é¢çš„å¾ªç¯ for (var i = 0; i &lt; act_addlist.length; i++)&#123; if (act_addlist[i][&apos;id&apos;] == e)&#123; return act_addlist[i][&apos;city&apos;].length; &#125; &#125;&#125; æµ‹è¯•ï¼šæ£€æŸ¥ifåˆ¤æ–­å¥é‡Œçš„classifySelectedæ˜¯å¦ç”Ÿæ•ˆï¼Œåœ¨consoleçš„AppDataé€‰é¡¹é‡Œï¼Œæ»šåŠ¨é¡µé¢åå¯ä»¥çœ‹åˆ°classifySelectedçš„idå˜åŒ–ã€‚ 4ã€ä¸¤ä¸ªæ¨¡å—å…³è”åˆ°ä¸€èµ·ç›®çš„ï¼šå·¦è¾¹æ»šåŠ¨æ—¶å³è¾¹ä¼šè·³è½¬å¹¶æ ‡çº¢ï¼›å³è¾¹ç‚¹å‡»æ—¶ä¼šæ ‡çº¢å¹¶ä¸”å·¦è¾¹ç›¸åº”è·³è½¬1ï¼‰åœ¨jsé‡Œï¼ŒæŠŠå³è¾¹ç‚¹å‡»äº‹ä»¶right_flé‡Œçš„classifySelectedæ”¹æˆvieidï¼› ç„¶ååœ¨scrollviewæ ‡ç­¾é‡ŒåŠ ä¸Šscroll-into-view=&quot;NaN&quot;ã€‚è¿™æ ·å³è¾¹ç‚¹å‡»æ—¶ï¼Œå·¦è¾¹å°±ä¼šç›¸åº”åœ°è·³è½¬ã€‚ 2ï¼‰æ­¤æ—¶ç¬¬ä¸€ä¸ªå¤§èœå•/åˆ†ç±»å¹¶æ²¡æœ‰é»˜è®¤æ ‡çº¢ã€‚ åœ¨jsçš„onLoadäº‹ä»¶é‡Œï¼ŒåŠ å…¥ 12345onLoad: function(options)&#123; this.setData(&#123; classifySelected: this.data.orientationlist[0][&apos;id&apos;] &#125;)&#125;, å¦å¤–ï¼Œhttp://www.bijishequ.com/detail/568266?p=æœ‰äººæå‡º**wx.getSystemInfo**ç”¨è¿™ä¸ªè·å–windowHeightï¼ŒæŠŠè¿™ä¸ªè®¾ç½®ä¸ºscroll-viewçš„é«˜åº¦ã€‚ å››ã€æœ€ç»ˆçš„å®Œæ•´ä»£ç ï¼ˆç†æ¸…æ€è·¯ï¼‰1ã€å“ªä¸ªviewè°ƒç”¨å“ªä¸ªidï¼Ÿ1ï¼‰classifySelectedæ˜¯åœ¨bindscroll=â€gdcfâ€ï¼Œå³gdcfæ»šåŠ¨è§¦å‘çš„functioné‡Œå®šä¹‰çš„ï¼Œæ»šåŠ¨ä¸€å®šçš„è·ç¦»å°±ä¼šæˆåŠŸæ‰§è¡ŒforEachå¾ªç¯é‡Œçš„classifySelected = classify[â€˜idâ€™]ï¼Œå³ç­‰äºåˆ†ç±»æ ‡é¢˜çš„idã€‚â€”â€”åœ¨wxmlçš„åˆ†ç±»æ ‡é¢˜çš„classé‡Œï¼ˆorientation_cityï¼‰ï¼Œç”¨classifySelectedæ¥åˆ¤æ–­æ˜¯å¦ç­‰äºï¼Œå®ç°äº†è¾¹æ»šåŠ¨è¾¹è§¦å‘å­—è‰²å˜çº¢ã€‚ ä¸€å¥è¯ï¼šå·¦è¾¹æ»šåŠ¨äº‹ä»¶è·å¾—çš„idç»™å³è¾¹è°ƒç”¨ã€‚ 2ï¼‰jså³ç‚¹å‡»äº‹ä»¶é‡Œå®šä¹‰äº†vieidï¼Œäºæ˜¯ç‚¹å‡»åˆ†ç±»æ ‡é¢˜å°±ä¼šè·å¾—idã€‚æŠŠè¿™ä¸ªvieidç»™åˆ°åˆ†ç±»æ˜ç»†ç”¨ï¼Œä½¿ç”¨scroll-into-view=&quot;NaN&quot;æ»šåŠ¨åˆ°è¯¥å…ƒç´ ï¼Œå®ç°äº†ç‚¹å‡»åˆ†ç±»æ ‡é¢˜åä¼šæ»šåŠ¨åˆ°ç›¸åº”çš„åˆ†ç±»æ˜ç»†ä½ç½®ã€‚ ä¸€å¥è¯ï¼šå³è¾¹ç‚¹å‡»äº‹ä»¶è·å¾—çš„idç»™å·¦è¾¹è°ƒç”¨ã€‚ wxml 12345678910111213141516&lt;view class=&quot;box&quot;&gt; &lt;scroll-view class=&quot;content&quot; scroll-y=&quot;true&quot; scroll-with-animation=&quot;true&quot; bindscroll=&quot;gdcf&quot; scroll-into-view=&quot;&#123;&#123;aa+vieid&#125;&#125;&quot;&gt; &lt;view class=&quot;category&quot; wx:for=&quot;&#123;&#123;act_addlist&#125;&#125;&quot; wx:key=&quot;&quot;&gt; &lt;view class=&apos;address_top&apos; id=&quot;&#123;&#123;aa+item.id&#125;&#125;&quot;&gt;&#123;&#123;item.region&#125;&#125;&lt;/view&gt; &lt;view wx:for=&quot;&#123;&#123;item.city&#125;&#125;&quot; wx:key=&quot;&quot;&gt; &lt;view class=&apos;address_bottom&apos;&gt;&#123;&#123;item.name&#125;&#125;&lt;/view&gt; &lt;/view&gt; &lt;/view&gt; &lt;/scroll-view&gt; &lt;view class=&apos;orientation_region&apos;&gt; &lt;view class=&apos;orientation&apos;&gt;è‡ªåŠ¨å®šä½&lt;/view&gt; &lt;block wx:for=&quot;&#123;&#123;orientationlist&#125;&#125;&quot; wx:key=&quot;&quot;&gt; &lt;view class=&quot;orientation_city &#123;&#123;classifySelected==item.id? &apos;active&apos;:&apos;&apos;&#125;&#125;&quot; bindtap=&apos;right_fl&apos; data-id=&apos;&#123;&#123;item.id&#125;&#125;&apos;&gt;&#123;&#123;item.region&#125;&#125;&lt;/view&gt; &lt;/block&gt; &lt;/view&gt;&lt;/view&gt; js 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142// pages/cata88/cata88.jsPage(&#123; data: &#123; orientationlist: [ &#123; id: &quot;01&quot;, region: &quot;ä¸œåŒ—&quot; &#125;, &#123; id: &quot;02&quot;, region: &quot;ååŒ—&quot; &#125;, &#123; id: &quot;03&quot;, region: &quot;åä¸œ&quot; &#125;, &#123; id: &quot;04&quot;, region: &quot;åå—&quot; &#125;, &#123; id: &quot;05&quot;, region: &quot;åä¸­&quot; &#125; ], act_addlist: [ &#123; id: &quot;01&quot;, region: &quot;ä¸œåŒ—åœ°åŒº&quot;, city: [ &#123; id: &quot;0101&quot;, name: &quot;ç™½å±±å¸‚&quot; &#125;, &#123; id: &quot;0102&quot;, name: &quot;æ±•å¤´å¸‚&quot; &#125;, &#123; id: &quot;0103&quot;, name: &quot;æ·±åœ³å¸‚&quot; &#125;, &#123; id: &quot;0104&quot;, name: &quot;å¹¿å·å¸‚&quot; &#125;, &#123; id: &quot;0105&quot;, name: &quot;æµ‹è¯•1&quot; &#125;, &#123; id: &quot;0106&quot;, name: &quot;æµ‹è¯•2&quot; &#125;, &#123; id: &quot;0107&quot;, name: &quot;æµ‹è¯•3&quot; &#125;, &#123; id: &quot;0108&quot;, name: &quot;æµ‹è¯•4&quot; &#125;, &#123; id: &quot;0109&quot;, name: &quot;æµ‹è¯•5&quot; &#125;, &#123; id: &quot;0110&quot;, name: &quot;æµ‹è¯•1&quot; &#125;, &#123; id: &quot;0111&quot;, name: &quot;æµ‹è¯•2&quot; &#125;, &#123; id: &quot;0112&quot;, name: &quot;æµ‹è¯•3&quot; &#125;, &#123; id: &quot;0113&quot;, name: &quot;æµ‹è¯•4&quot; &#125;, &#123; id: &quot;0114&quot;, name: &quot;æµ‹è¯•5&quot; &#125;, &#123; id: &quot;0115&quot;, name: &quot;æµ‹è¯•1&quot; &#125;, &#123; id: &quot;0116&quot;, name: &quot;æµ‹è¯•2&quot; &#125;, &#123; id: &quot;0117&quot;, name: &quot;æµ‹è¯•3&quot; &#125;, &#123; id: &quot;0118&quot;, name: &quot;æµ‹è¯•4&quot; &#125;, &#123; id: &quot;0119&quot;, name: &quot;æµ‹è¯•5&quot; &#125; ] &#125;, &#123; id: &quot;02&quot;, region: &quot;ååŒ—åœ°åŒº&quot;, city: [ &#123; id: &quot;0201&quot;, name: &quot;åŒ…å¤´å¸‚&quot; &#125;, &#123; id: &quot;0202&quot;, name: &quot;å¤§åº†&quot; &#125;, &#123; id: &quot;0203&quot;, name: &quot;ä¿å®š&quot; &#125;, &#123; id: &quot;0205&quot;, name: &quot;æµ‹è¯•1&quot; &#125;, &#123; id: &quot;0206&quot;, name: &quot;æµ‹è¯•2&quot; &#125;, &#123; id: &quot;0207&quot;, name: &quot;æµ‹è¯•3&quot; &#125;, &#123; id: &quot;0208&quot;, name: &quot;æµ‹è¯•4&quot; &#125;, &#123; id: &quot;0209&quot;, name: &quot;æµ‹è¯•5&quot; &#125;, &#123; id: &quot;0210&quot;, name: &quot;æµ‹è¯•6&quot; &#125; ] &#125;, &#123; id: &quot;03&quot;, region: &quot;åä¸œåœ°åŒº&quot;, city: [ &#123; id: &quot;0301&quot;, name: &quot;ä¸œä¸œå¸‚&quot; &#125;, &#123; id: &quot;0302&quot;, name: &quot;ä¸œä¸œ&quot; &#125;, &#123; id: &quot;0303&quot;, name: &quot;å’šå’šå’š&quot; &#125;, &#123; id: &quot;0305&quot;, name: &quot;æµ‹è¯•1&quot; &#125;, &#123; id: &quot;0306&quot;, name: &quot;æµ‹è¯•2&quot; &#125;, &#123; id: &quot;0307&quot;, name: &quot;æµ‹è¯•3&quot; &#125;, &#123; id: &quot;0308&quot;, name: &quot;æµ‹è¯•4&quot; &#125;, &#123; id: &quot;0309&quot;, name: &quot;æµ‹è¯•5&quot; &#125;, &#123; id: &quot;0310&quot;, name: &quot;æµ‹è¯•6&quot; &#125; ] &#125;, &#123; id: &quot;04&quot;, region: &quot;åå—åœ°åŒº&quot;, city: [ &#123; id: &quot;0401&quot;, name: &quot;ä¸œä¸œå¸‚&quot; &#125;, &#123; id: &quot;0402&quot;, name: &quot;ä¸œä¸œ&quot; &#125;, &#123; id: &quot;0403&quot;, name: &quot;å’šå’šå’š&quot; &#125;, &#123; id: &quot;0405&quot;, name: &quot;æµ‹è¯•1&quot; &#125;, &#123; id: &quot;0406&quot;, name: &quot;æµ‹è¯•2&quot; &#125;, &#123; id: &quot;0407&quot;, name: &quot;æµ‹è¯•3&quot; &#125;, &#123; id: &quot;0408&quot;, name: &quot;æµ‹è¯•4&quot; &#125;, &#123; id: &quot;0409&quot;, name: &quot;æµ‹è¯•5&quot; &#125;, &#123; id: &quot;0410&quot;, name: &quot;æµ‹è¯•6&quot; &#125; ] &#125;, &#123; id: &quot;05&quot;, region: &quot;åä¸­åœ°åŒº&quot;, city: [ &#123; id: &quot;0501&quot;, name: &quot;ä¸œä¸œå¸‚&quot; &#125;, &#123; id: &quot;0502&quot;, name: &quot;ä¸œä¸œ&quot; &#125;, &#123; id: &quot;0503&quot;, name: &quot;å’šå’šå’š&quot; &#125;, &#123; id: &quot;0505&quot;, name: &quot;æµ‹è¯•1&quot; &#125;, &#123; id: &quot;0506&quot;, name: &quot;æµ‹è¯•2&quot; &#125;, &#123; id: &quot;0507&quot;, name: &quot;æµ‹è¯•3&quot; &#125;, &#123; id: &quot;0508&quot;, name: &quot;æµ‹è¯•4&quot; &#125;, &#123; id: &quot;0509&quot;, name: &quot;æµ‹è¯•5&quot; &#125;, &#123; id: &quot;0510&quot;, name: &quot;æµ‹è¯•6&quot; &#125; ] &#125; ], classifySelected: &apos;&apos; &#125;, onLoad: function(options)&#123; this.setData(&#123; classifySelected: this.data.orientationlist[0][&apos;id&apos;] &#125;) &#125;,//å³è¾¹ç‚¹å‡»äº‹ä»¶ right_fl: function(e)&#123; console.log(e) var _id = e.currentTarget.dataset.id; console.log(_id) this.setData (&#123; vieid: _id &#125;) &#125;,//æ»šåŠ¨è§¦å‘ gdcf: function (e) &#123; console.log(e) var that = this; var scrollTop = e.detail.scrollTop * 2, //é«˜åº¦å•ä½æ¢ç®—ï¼Œdetail.scrollTopæ˜¯ä»consoleçŸ¥é“çš„ã€‚ h = 0, //é»˜è®¤é«˜åº¦0 classifySelected; that.data.orientationlist.forEach(function (classify, i) &#123; //javascriptçš„forEach()æ–¹æ³•ï¼Œè‡ªå·±ç™¾åº¦ã€‚ // var _h = 76 + ?*88; //è¿™é‡Œçš„å°åˆ†ç±»æ•°é‡è®¡ç®—è§ä¸‹é¢length:function() console.log(classify.id);//çœ‹ä¸æ‡‚çš„å€¼ï¼Œconsole.logä¸€ä¸‹å°±çŸ¥é“è¿™ä¸ªå…¶å®æ˜¯id var _h = 76 + that.length(classify[&apos;id&apos;]) * 88; if (scrollTop &gt;= h)&#123; classifySelected = classify[&apos;id&apos;]; &#125; console.log(_h) h += _h; console.log(h) &#125;, ); that.setData(&#123; classifySelected: classifySelected &#125;) &#125;,//è®¡ç®—å½“å‰å¤§åˆ†ç±»ä¸‹æœ‰å¤šå°‘ä¸ªå°åˆ†ç±» length: function (e) &#123; var that = this; var act_addlist = that.data.act_addlist; //ç„¶åè¿›è¡Œä¸‹é¢çš„å¾ªç¯ for (var i = 0; i &lt; act_addlist.length; i++)&#123; if (act_addlist[i][&apos;id&apos;] == e)&#123; return act_addlist[i][&apos;city&apos;].length; &#125; &#125; &#125;&#125;) wxss 1234567891011121314151617181920212223.box&#123; display:flex; justify-content: space-between;&#125;.content&#123; height: 2000rpx;&#125;.category&#123; background: green;&#125;.address_top&#123; background: yellow; height: 76rpx;&#125;.address_bottom&#123; height: 88rpx;&#125;.orientation_region&#123; background: yellow;&#125;.orientation_city.active&#123; /*æµ‹è¯•å˜é‡classifySelectedæ˜¯å¦ç­‰äº&#123;&#123;item.id&#125;&#125;ï¼Œæ”¹å˜å­—è‰²*/ color: red;&#125;","categories":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}],"tags":[{"name":"å¾®ä¿¡åŠŸèƒ½","slug":"å¾®ä¿¡åŠŸèƒ½","permalink":"http://yoursite.com/tags/å¾®ä¿¡åŠŸèƒ½/"}],"keywords":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}]},{"title":"wx-function-æœç´¢çš„åŸç†(å®ä¾‹)","slug":"wx-function-æœç´¢çš„åŸç†(å®ä¾‹)","date":"2017-12-22T16:10:00.000Z","updated":"2018-01-14T07:27:53.000Z","comments":true,"path":"posts/e27ad1c4/","link":"","permalink":"http://yoursite.com/posts/e27ad1c4/","excerpt":"","text":"å‚è€ƒèµ„æ–™ å¾®ä¿¡å°ç¨‹åºå®æˆ˜ï¼ˆäºŒï¼‰â€”å®ç°æœç´¢é¡µé¢ byæ¨å°äº‹er æœ¬æ¡ˆä¾‹githubæºç  ä¸€ã€æœç´¢åŸç† 1ã€æ•°æ®çš„è·å–å’Œé¡µé¢è·³è½¬ éœ€è¦å…ƒç´ ï¼šinputé¡µé¢ã€resulé¡µé¢ã€å®˜æ–¹æ–‡æ¡£apiçš„æ•°æ®ç¼“å­˜éƒ¨åˆ†å¦‚wx.setStorageSyncã€wx.clearStorageSync() inputç»‘å®šbindInputå‡½æ•°ï¼Œå°†è¾“å…¥çš„å€¼å­˜åœ¨inputValueä¸­ button ç”¨bindtapç»‘å®šsetSearchStorageå‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°ä¸»è¦å°±æ˜¯å…ˆåˆ¤æ–­è¾“å…¥çš„å€¼æ˜¯å¦ä¸ä¸ºç©ºï¼Œå†é€šè¿‡getStorageSyncè·å–åˆ°keyä¸ºsearchDataçš„localStorageï¼Œå¦‚æœç¬¬ä¸€æ¬¡è¿˜æ²¡æœ‰setè¿‡è¿™ä¸ªkeyå°±è·å–[]ï¼Œå†å°†ç”¨æˆ·inputValueå­˜çš„æƒ³è¦æœç´¢çš„å€¼æ”¾è¿›searchDataï¼Œä¹‹åå†è·³è½¬åˆ°resulté¡µé¢ã€‚è¿™é‡Œæˆ‘åªæ”¾äº†ä¸ªæ¡ˆä¾‹é¡µé¢ã€‚ å¦‚æœåœ¨çœŸæ­£çš„ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¿™ä¸ªå‡½æ•°å¯ä»¥é€šè¿‡wx.requestå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œå†æŠŠæ•°æ®æ”¾è¿›resulté¡µé¢ä¸­ï¼Œå®ç°çœŸæ­£çš„æœç´¢åŠŸèƒ½ã€‚ 1ï¼‰æ–°å»ºpages/result/resultï¼Œåœ¨wxmlé¡µé¢åŠ å…¥&lt;view&gt;å‡è®¾è¿™å°±æ˜¯ä¸ªç»“æœ&lt;/view&gt; 2ï¼‰wxml 123&lt;input placeholder=&quot;è¯·è¾“å…¥æœç´¢çš„å•†å“&quot; auto-focus bindinput=&quot;bindInput&quot; value=&quot;&#123;&#123;inputValue&#125;&#125;&quot;/&gt;&lt;button style=&quot;display:inline-block&quot; bindtap=&quot;setSearchStorage&quot;&gt;æœç´¢&lt;/button&gt; 3ï¼‰js 123456789101112131415161718192021222324252627Page(&#123; data: &#123; &#125;, bindInput: function (e) &#123; this.setData(&#123; inputValue: e.detail.value &#125;) console.log(&apos;bindInput&apos; + this.data.inputValue) &#125;, setSearchStorage: function () &#123; let data; let localStorageValue = []; if (this.data.inputValue != &apos;&apos;) &#123; //è°ƒç”¨APIä»æœ¬åœ°ç¼“å­˜ä¸­è·å–æ•°æ® var searchData = wx.getStorageSync(&apos;searchData&apos;) || [] searchData.push(this.data.inputValue) wx.setStorageSync(&apos;searchData&apos;, searchData) wx.navigateTo(&#123; url: &apos;../result/result&apos; &#125;) &#125; else &#123; console.log(&apos;ç©ºç™½çš„ä½ æœä¸ªè›‹ï¼&apos;) &#125; // this.onLoad(); &#125; &#125;) 2ã€å†æ¬¡è¿›å…¥æ—¶æ¸…ç©ºæœç´¢æ¡†åŸç†å¾ˆç®€å•ï¼Œæœç´¢æ¡†inputæ ‡ç­¾åŠ ä¸Šï¼ŒæŠŠæœç´¢æ¡†inputValueçš„å€¼è®¾ç½®æˆç©ºã€‚ wxml 1&lt;button style=&quot;display:inline-block&quot; bindtap=&quot;clearInput&quot;&gt;Ã—&lt;/button&gt; js 12345clearInput: function () &#123; this.setData(&#123; inputValue: &apos;&apos; &#125;)&#125; 3ã€æ˜¾ç¤ºæœç´¢è®°å½•åŸç†ï¼Œæ˜¯æ‹¿åˆ°ç³»ç»Ÿç¼“å­˜æ•°æ®getStorageSync(â€˜searchDataâ€™) wxml 123&lt;view wx:for=&quot;&#123;&#123;getSearch&#125;&#125;&quot; wx:for-index=&quot;idx&quot; wx:for-item=&quot;itemName&quot; wx:key=&quot;idx&quot; &gt; &lt;view wx:if=&quot;&#123;&#123;itemName != &apos;&apos;&#125;&#125;&quot;&gt; &#123;&#123;itemName&#125;&#125; &lt;/view&gt;&lt;/view&gt; js 12345678onShow: function () &#123; var getSearch = wx.getStorageSync(&apos;searchData&apos;); this.setData(&#123; getSearch: getSearch, inputValue: &apos;&apos; &#125;) console.log(&apos;search is onshow&apos;)&#125;, 4ã€æ¸…ç©ºæœç´¢è®°å½•åŸç†ï¼Œå°†ä¹‹å‰çš„å€¼ä¸ºsearchDataæ•°ç»„çš„localStorageæœ¬åœ°ç¼“å­˜é‡ç½®ä¸ºç©ºæ•°ç»„ã€‚ wxml 123456&lt;modal class=&quot;modal&quot; hidden=&quot;&#123;&#123;modalHidden&#125;&#125;&quot; bindconfirm=&quot;modalChangeConfirm&quot; bindcancel=&quot;modalChangeCancel&quot;&gt; &lt;view&gt; æ²¡æœ‰æ ‡é¢˜æ²¡æœ‰è’™å±‚æ²¡æœ‰ç¡®å®šçš„modal &lt;/view&gt; &lt;view&gt; å†…å®¹å¯ä»¥æ’å…¥èŠ‚ç‚¹ &lt;/view&gt; &lt;/modal&gt;&lt;button style=&quot;display:inline-block&quot; bindtap=&quot;clearSearchStorage&quot;&gt;æ¸…ç©ºæµè§ˆè®°å½•&lt;/button&gt; js 1234567891011121314151617181920 clearSearchStorage:function()&#123; this.setData(&#123; modalHidden:false //ç‚¹å‡»æ¸…ç©ºè®°å½•æŒ‰é’®ï¼Œå‡ºç°modalå¼¹çª— &#125;) &#125;, modalChangeConfirm: function () &#123; wx.setStorageSync(&apos;searchData&apos;, []) this.setData(&#123; modalHidden: true //æ•°æ®æ¸…ç©ºåï¼Œéšè—modalå¼¹çª— &#125;) wx.redirectTo(&#123; url: &apos;../search/search&apos; //æ•°æ®æ¸…ç©ºåï¼Œé‡å®šå‘åˆ°å½“å‰æœç´¢é¡µé¢ &#125;) // this.onLoad();&#125;,modalChangeCancel: function () &#123; this.setData(&#123; modalHidden: true //ç‚¹å‡»å–æ¶ˆæ—¶ï¼Œéšè—modalå¼¹çª— &#125;)&#125; ç»ƒä¹  js 12345678910111213141516clickTip:function(e)&#123; var name = e.currentTarget.dataset.title wx.navigateTo(&#123; url: &apos;../p_result/p_result?str=&apos; + name, &#125;) var searchData = wx.getStorageSync(&apos;searchData&apos;) || [] searchData.push(name) wx.setStorageSync(&apos;searchData&apos;, searchData)&#125;,onShow: function () &#123; var getSearch = wx.getStorageSync(&apos;searchData&apos;); this.setData(&#123; getSearch: getSearch, &#125;) console.log(&apos;search is onshow&apos;)&#125; wxml 123&lt;view wx:for=&quot;&#123;&#123;getSearch&#125;&#125;&quot;&gt; &lt;view&gt;&#123;&#123;item&#125;&#125;&lt;/view&gt;&lt;/view","categories":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}],"tags":[{"name":"å¾®ä¿¡åŠŸèƒ½","slug":"å¾®ä¿¡åŠŸèƒ½","permalink":"http://yoursite.com/tags/å¾®ä¿¡åŠŸèƒ½/"}],"keywords":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}]},{"title":"wx-page-å•†åŸåˆ†ç±»é¡µé¢æ’ç‰ˆç¾åŒ–","slug":"wx-page-å•†åŸåˆ†ç±»é¡µé¢æ’ç‰ˆç¾åŒ–","date":"2017-12-22T16:10:00.000Z","updated":"2018-01-14T07:27:53.000Z","comments":true,"path":"posts/fc1e8879/","link":"","permalink":"http://yoursite.com/posts/fc1e8879/","excerpt":"","text":"1ã€æœç´¢æ¡†wxml 123456&lt;view class=&quot;search&quot;&gt; &lt;navigator url=&quot;/pages/search/search&quot; class=&quot;input&quot;&gt; &lt;image class=&quot;icon&quot;&gt;&lt;/image&gt; &lt;text class=&quot;txt&quot;&gt;å•†å“æœç´¢&lt;/text&gt; &lt;/navigator&gt;&lt;/view&gt; wxss 12345678910111213141516171819202122232425.search &#123; height: 88rpx; width: 100%; padding: 0 30rpx; display: flex; align-items: center;&#125;.search .input &#123; width: 690rpx; height: 56rpx; background: #ededed; border-radius: 8rpx; display: flex; align-items: center; justify-content: center;&#125;.search .icon &#123; background: url(http://yanxuan.nosdn.127.net/hxm/yanxuan-wap/p/20161201/style/img/icon-normal/search2-2fb94833aa.png) center no-repeat; background-size: 100%; width: 28rpx;&#125;.search .txt &#123; color: #888; font-size: 30rpx;&#125; 2ã€å·¦å³ä¾§ä»£ç +ç¾åŒ–å·¦ä¾§wxml 1234567891011121314151617&lt;view class=&quot;catalog&quot;&gt; &lt;scroll-view class=&quot;nav&quot; scroll-y=&quot;true&quot;&gt; &lt;block wx:for=&quot;&#123;&#123;newsda&#125;&#125;&quot; wx:key=&quot;&quot;&gt; &lt;view class=&quot;item &#123;&#123;cur_id == item.id ? &apos;active&apos; : &apos;&apos;&#125;&#125;&quot; bindtap=&quot;loadData&quot; data-categoryid=&quot;&#123;&#123;item.id&#125;&#125;&quot;&gt; &#123;&#123;item.name&#125;&#125; &lt;/view&gt; &lt;/block&gt; &lt;/scroll-view&gt; &lt;scroll-view class=&quot;cate&quot; scroll-y=&quot;true&quot;&gt; &lt;block wx:for=&quot;&#123;&#123;newsdata&#125;&#125;&quot; wx:key=&quot;&quot;&gt; &lt;view class=&quot;item&quot;&gt; &lt;image src=&quot;&#123;&#123;item.image.url&#125;&#125;&quot;&gt;&lt;/image&gt; &lt;text&gt;&#123;&#123;item.title&#125;&#125;&lt;/text&gt; &lt;/view&gt; &lt;/block&gt; &lt;/scroll-view&gt; &lt;/view&gt; js 1234567891011121314151617181920212223242526272829303132333435363738// pages/exercies/index.jsPage(&#123; data: &#123; &#125;, onLoad: function () &#123; var that = this; wx.request(&#123; url: &apos;https://luccake.top/api/v1/categories&apos;, //ä»…ä¸ºç¤ºä¾‹ï¼Œå¹¶éçœŸå®çš„æ¥å£åœ°å€ header: &#123; &apos;content-type&apos;: &apos;application/json&apos; // é»˜è®¤å€¼ &#125;, success: function (res) &#123; console.log(res.data) that.setData(&#123; newsda: res.data.category &#125;) &#125; &#125;) &#125;, loadData: function (e) &#123; var that = this; console.log(e.target.dataset.categoryid); //æµ‹è¯•consoleæ˜¯å¦æ˜¾ç¤ºidå·ï¼Œè¿™è¡Œå¯åˆ é™¤ã€‚ wx.request(&#123; url: &apos;https://luccake.top/api/v1/categories/&apos; + e.target.dataset.categoryid, //ä»…ä¸ºç¤ºä¾‹ï¼Œå¹¶éçœŸå®çš„æ¥å£åœ°å€ header: &#123; &apos;content-type&apos;: &apos;application/json&apos; // é»˜è®¤å€¼ &#125;, success: function (res) &#123; console.log(res.data) that.setData(&#123; newsdata: res.data.product, cur_id: e.target.dataset.categoryid &#125;) &#125; &#125;) &#125;&#125;) wxss 12345678910111213141516171819202122232425.catalog &#123; flex: 1; width: 100%; background: #fff; display: flex; border-top: 1px solid #fafafa;&#125;.catalog .nav &#123; width: 162rpx; height: 100%;&#125;.catalog .nav .item &#123; text-align: center; line-height: 90rpx; width: 162rpx; height: 90rpx; color: #333; font-size: 28rpx; border-left: 6rpx solid #fff;&#125;.catalog .nav .item.active &#123; color: #ab2b2b; font-size: 36rpx; border-left: 6rpx solid #ab2b2b;&#125;","categories":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}],"tags":[{"name":"å¾®ä¿¡é¡µé¢","slug":"å¾®ä¿¡é¡µé¢","permalink":"http://yoursite.com/tags/å¾®ä¿¡é¡µé¢/"}],"keywords":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}]},{"title":"wx-function-é¡¶éƒ¨æ ‡ç­¾æ /å¯¼èˆªæ tabèœå•åˆ‡æ¢","slug":"wx-function-é¡¶éƒ¨æ ‡ç­¾æ :å¯¼èˆªæ tabèœå•åˆ‡æ¢","date":"2017-12-21T16:10:00.000Z","updated":"2018-01-14T07:27:53.000Z","comments":true,"path":"posts/32fec826/","link":"","permalink":"http://yoursite.com/posts/32fec826/","excerpt":"","text":"ä¸€ã€æ¡ˆä¾‹1 wxmlæ–‡ä»¶ 1234567891011121314151617&lt;view class=&quot;swiper-tab&quot;&gt; &lt;view data-current=&quot;0&quot; bindtap=&quot;swichNav&quot;&gt;å“ˆå“ˆ&lt;/view&gt; &lt;view data-current=&quot;1&quot; bindtap=&quot;swichNav&quot;&gt;å‘µå‘µ&lt;/view&gt; &lt;view data-current=&quot;2&quot; bindtap=&quot;swichNav&quot;&gt;å˜¿å˜¿&lt;/view&gt;&lt;/view&gt;&lt;swiper current=&quot;&#123;&#123;currentTab&#125;&#125;&quot; &gt; &lt;swiper-item&gt; &lt;view&gt;æˆ‘æ˜¯å“ˆå“ˆ&lt;/view&gt; &lt;/swiper-item&gt; &lt;swiper-item&gt; &lt;view&gt;æˆ‘æ˜¯å‘µå‘µ&lt;/view&gt; &lt;/swiper-item&gt; &lt;swiper-item&gt; &lt;view&gt;æˆ‘æ˜¯å˜¿å˜¿&lt;/view&gt; &lt;/swiper-item&gt;&lt;/swiper&gt; jsæ–‡ä»¶ 12345678910111213141516var app = getApp() Page( &#123; data: &#123; &#125;, swichNav: function( e ) &#123; var that = this; if( this.data.currentTab === e.target.dataset.current ) &#123; return false; &#125; else &#123; that.setData( &#123; currentTab: e.target.dataset.current &#125;) &#125; &#125;&#125;)","categories":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}],"tags":[{"name":"å¾®ä¿¡åŠŸèƒ½","slug":"å¾®ä¿¡åŠŸèƒ½","permalink":"http://yoursite.com/tags/å¾®ä¿¡åŠŸèƒ½/"}],"keywords":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}]},{"title":"tool-vps-éƒ¨ç½²åŸŸååŠè§£æã€SSLè¯ä¹¦ã€httpsé…ç½®ã€ICPå¤‡æ¡ˆ","slug":"tool-vps-éƒ¨ç½²åŸŸååŠè§£æã€SSLè¯ä¹¦ã€httpsé…ç½®ã€ICPå¤‡æ¡ˆ","date":"2017-12-21T16:10:00.000Z","updated":"2018-01-14T06:53:03.000Z","comments":true,"path":"posts/314d2142/","link":"","permalink":"http://yoursite.com/posts/314d2142/","excerpt":"","text":"1ï¼‰macæ˜¾ç¤ºéšè—æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ 1defaults write com.apple.finder AppleShowAllFiles -boolean true ; killall Finder 2ï¼‰å†æ¬¡éšè—è¾“å…¥ 1defaults write com.apple.finder AppleShowAllFiles -boolean false ; killall Finder ä¸€ã€åŸŸåè§£æ1ã€åŸŸåè§£æè®¾ç½®æ–¹æ³•å‚è€ƒç½‘ç«™https://www.cloudxns.net/Support/detail/id/918.html è¦è®¾ç½®ä¸¤ä¸ª 123www.codejie.net æŒ‡å‘ç½‘ç«™IP@.codejie.net æŒ‡å‘ç½‘ç«™IP 2ã€æµ‹è¯•åŸŸåè§£ææ˜¯å¦æˆåŠŸçš„åŠæ³•ä¸èƒ½è®¿é—®ç»å¸¸æ˜¯å› ä¸ºç½‘ç«™é‡å®šå‘åˆ°httpsã€‚ 1ï¼‰åŸŸåè§£æè®¾ç½®åï¼Œå…ˆæµ‹è¯•è¿™ä¸ªå‘½ä»¤ï¼ˆç½‘å€è‡ªå·±æ›¿æ¢ï¼‰ï¼Œçœ‹statusæ˜¯ä¸æ˜¯200 okã€‚å¦‚æœæ˜¯å°±è¯´æ˜ç½‘ç«™çŠ¶æ€æ­£å¸¸ï¼Œæ˜¾ç¤ºä¸èƒ½è®¿é—®æ˜¯å› ä¸ºæµè§ˆå™¨é‡å®šå‘çš„åŸå› ã€‚ 1curl -I http://www.luccake.top 2ï¼‰ping ipã€ping ç½‘ç«™ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯å…¨éƒ¨æŒ‡å‘äº‘æœåŠ¡å™¨ipï¼Œå¦‚æœæ˜¯å°±æ˜¯å·²ç»è§£ææˆåŠŸã€‚ 123ping 120.79.71.78ping luccake.topping www.luccake.top ç»ˆç«¯pingï¼Œå¯ä»¥ç”¨ctrl+c äºŒã€Letâ€™s Encryptå®‰è£…SSLé…ç½®httpsï¼ˆç”¨acme.shè„šæœ¬ï¼‰ç”¨curl -I http://www.luccake.topç¡®è®¤åŸŸåå¯ä»¥è¢«æˆåŠŸè§£æåã€‚ å‚è€ƒacme.shå®˜ç½‘githubï¼Œæœ‰ä¸­æ–‡è¯´æ˜ï¼Œä½†è¯´æ˜é‡Œç»™çš„ä»£ç ç•¥å‘ï¼Œä½†æ–‡ä»¶å¾ˆçŸ­å¯ä»¥ç®€å•è¿‡ä¸€éã€‚ 1ã€å®‰è£…æ­¥éª¤1ï¼‰è¾“å…¥acme.sh â€“issue -d luccake.top â€“nginx 1curl https://get.acme.sh | sh 2ï¼‰ä¿®æ”¹-dåçš„ä¸¤ä¸ªåŸŸåï¼Œä¿®æ”¹æœ€åé¢çš„ä¸“æ¡ˆç›®å½•ä¸€èˆ¬æ˜¯xxxx/current/publicï¼Œæ‰§è¡Œ 1~/.acme.sh/acme.sh --issue -d luccake.top -d www.luccake.top --webroot /home/deploy/rails-recipes/current/public ç”Ÿæˆæ–‡ä»¶å¦‚ä¸‹ï¼ˆæœ¬æ¥ä»¥ä¸ºä¸‹è¾¹è¦ç²˜è´´è·¯å¾„ï¼Œæœ€åæ‰å‘ç°ä¸ç”¨ï¼‰ 12345-----END CERTIFICATE-----[Mon Dec 18 13:48:07 CST 2017] Your cert is in /root/.acme.sh/luccake.top/luccake.top.cer[Mon Dec 18 13:48:07 CST 2017] Your cert key is in /root/.acme.sh/luccake.top/luccake.top.key[Mon Dec 18 13:48:07 CST 2017] The intermediate CA cert is in /root/.acme.sh/luccake.top/ca.cer[Mon Dec 18 13:48:07 CST 2017] And the full chain certs is there: /root/.acme.sh/luccake.top/fullchain.cer 3ï¼‰ä¿®æ”¹å‘½ä»¤ï¼Œ&lt;domain&gt;ä¿®æ”¹ä¸ºè´­ä¹°æ—¶çš„åŸŸåï¼ˆä¸‹é¢è¿™å †æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œç”¨\\æ˜¯åˆå¹¶åœ¨ä¸€èµ·çš„æ„æ€ï¼‰ 1234acme.sh --installcert -d &lt;domain&gt; \\ --key-file /etc/nginx/ssl/&lt;domain&gt;.key \\ --fullchain-file /etc/nginx/ssl/fullchain.cer \\ --reloadcmd &quot;service nginx force-reload&quot; æ”¹åæ˜¯mkdir -p /etc/nginx/sslæ–°å»ºç›®å½•åï¼Œæ‰§è¡Œ 1234~/.acme.sh/acme.sh --installcert -d luccake.top \\ --key-file /etc/nginx/ssl/luccake.top.key \\ --fullchain-file /etc/nginx/ssl/fullchain.cer \\ --reloadcmd &quot;service nginx force-reload&quot; æˆåŠŸåæç¤ºå¦‚ä¸‹ï¼š 1234[Mon Dec 18 14:10:52 CST 2017] Installing key to:/etc/nginx/ssl/luccake.top.key[Mon Dec 18 14:10:52 CST 2017] Installing full chain to:/etc/nginx/ssl/fullchain.cer[Mon Dec 18 14:10:52 CST 2017] Run reload cmd: service nginx force-reload[Mon Dec 18 14:10:52 CST 2017] Reload success 4ï¼‰é…ç½®æ–‡ä»¶vi /etc/nginx/sites-enabled/rails-recipes.conf ä¸»è¦é…ç½®listenç«¯å£ã€ä¸¤è¯ä¹¦è·¯å¾„ssl_certificateå’Œssl_certificate_keyã€server_nameå¯å¡«å¤šä¸ªåŸŸåã€rootç½‘ç«™æ–‡ä»¶å¤¹ä¸€èˆ¬æ˜¯xxx/current/publicï¼Œæ³¨æ„æ£€æŸ¥åˆ«æ”¹æ¼äº†ã€‚æˆ‘çš„é…ç½®å¦‚ä¸‹ã€‚ 1234567891011121314151617181920212223242526272829303132333435server &#123; listen 443 ssl http2; ssl on; ssl_certificate /root/.acme.sh/luccake.top/fullchain.cer; ssl_certificate_key /root/.acme.sh/luccake.top/luccake.top.key; ssl_session_timeout 5m; ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_prefer_server_ciphers on; server_name luccake.top www.luccake.top; root /home/deploy/rails-recipes/current/public; index index.html index.htm; passenger_enabled on; passenger_min_instances 1; location ~ ^/assets/ &#123; root /home/deploy/rails-recipes/current/public; index index.html index.htm; expires 1y; add_header Cache-Control public; add_header ETag &quot;&quot;; break; &#125;&#125;server &#123; listen 80; server_name luccake.top www.luccake.top; server_tokens off; location / &#123; return 301 https://$host$request_uri; &#125;&#125; 5ï¼‰é‡å¯Nginxï¼Œsudo service nginx restart OKï¼Œå¯ä»¥ç”¨åŸŸåè®¿é—®ç½‘ç«™äº†ï¼ï¼ï¼å¯ä»¥åœ¨Qualysç½‘ç«™æ£€æµ‹SSLè¯ä¹¦æ˜¯å¦å·²å®‰è£…ï¼Œè¾“å…¥åŸŸåå³å¯æ£€æµ‹ã€‚ å¦‚æœåœ¨Qualysæ£€æµ‹ä¸åˆ°åŸŸåï¼Œå°±è¦åœ¨vpsä¸Šæ£€æŸ¥è¯ä¹¦æ–‡ä»¶æ˜¯å¦åœ¨ä»¥ä¸Šæåˆ°çš„æ–‡ä»¶å¤¹å†…ï¼› å¦‚æœåŸŸåæ— æ³•è®¿é—®ï¼Œå°±è¦æ£€æŸ¥é…ç½®æ–‡ä»¶ã€‚ 2ã€é‡åˆ°çš„bugåœ¨æ‰§è¡Œä»¥ä¸‹æ­¥éª¤2çš„æ—¶å€™é‡åˆ°bugå¦‚ä¸‹ 123[Tue Dec 19 00:46:47 CST 2017] new-authz error: &#123;&quot;type&quot;:&quot;urn:acme:error:rateLimited&quot;,&quot;detail&quot;:&quot;Error creating new authz :: Too many failed authorizations recently.&quot;,&quot;status&quot;: 429&#125;[Tue Dec 19 00:46:47 CST 2017] Please add &apos;--debug&apos; or &apos;--log&apos; to check more details.[Tue Dec 19 00:46:47 CST 2017] See: https://github.com/Neilpang/acme.sh/wiki/How-to-debug-acme.sh 2.1 åŸå› ï¼šï¼ˆ2017å¹´4æœˆï¼‰æ¨å‡ºäº†æ¯ä¸ªå¸æˆ·æ¯ä¸ªä¸»æœºåæ¯å°æ—¶5æ¬¡å¤±è´¥çš„éªŒè¯é™åˆ¶ã€‚è¿™ä¸ªé™åˆ¶ä¼šåœ¨åˆ†æœŸä¸Šæ›´é«˜ï¼Œæ‰€ä»¥ä½ å¯ä»¥ä½¿ç”¨åˆ†æ®µæ¥è°ƒè¯•è¿æ¥é—®é¢˜ã€‚ä½†æ˜¯æœ‰çš„äººå‡ å¤©è¿‡åä¹Ÿä¸è¡Œã€‚ 2.2 è§£æ³•ä¸€ï¼šå¦‚æœåœ¨å…¶ä»–vpså·²ç»æœ‰è¯ä¹¦ï¼Œå¯ä»¥å…ˆå¤‡ä»½åˆ°æœ¬åœ°ï¼Œç„¶åæ‹·è´åˆ°æ–°çš„vpså…ˆç”¨ã€‚ è¿œç¨‹å¯èƒ½å¯ä»¥ç”¨åˆ°çš„å‘½ä»¤ cd ~ï¼Œå›åˆ°æ ¹ç›®å½• cd æ–‡ä»¶å¤¹åï¼Œåˆ‡æ¢åˆ°æ–‡ä»¶å¤¹ lsï¼ŒæŸ¥çœ‹æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ rm -r æ–‡ä»¶å/æ–‡ä»¶å¤¹åï¼Œåˆ é™¤æ–‡ä»¶/æ–‡ä»¶å¤¹ 1ï¼‰ã€å‚è€ƒvps scpå¯¹æ‹·å‘½ä»¤ï¼Œå¤‡ä»½è¯ä¹¦åˆ°æœ¬åœ° æ‹·è´vpsä¸Šçš„sslè¯ä¹¦æ–‡ä»¶å¤¹åˆ°æœ¬åœ°æ¡Œé¢ 1scp -r root@45.32.42.11:/etc/nginx/ssl /Users/apple/Desktop æ‹·è´sslçš„httpsé…ç½®æ–‡ä»¶åˆ°æœ¬åœ°æ¡Œé¢ 1scp root@45.32.42.11:/etc/nginx/sites-enabled/rails-recipes.conf /Users/apple/Desktop 2ï¼‰å‡†å¤‡å·¥ä½œ confæ–‡ä»¶æ”¹æˆæ–°çš„vpsæ•°æ®åº“åå³ä¸“æ¡ˆåç§°.confï¼› è¯ä¹¦ceræ–‡ä»¶ï¼Œæ ¹æ®å®˜ç½‘è¯´æ³•åœ¨nginxä¸‹ç”¨fullchain.cerï¼Œå…¶ä»–ç³»ç»Ÿç”¨è´­ä¹°çš„åŸŸå.cerï¼› è¯ä¹¦keyæ–‡ä»¶ï¼Œç”¨è´­ä¹°çš„åŸŸå.keyï¼Œæ¯”å¦‚`luccake.top.keyï¼› æŠŠæ”¾ä»¥ä¸Šcerå’Œkeyè¯ä¹¦çš„æ–‡ä»¶å¤¹sslï¼Œé‡å‘½åä¸ºè´­ä¹°çš„åŸŸåã€‚æ¯”å¦‚luccake.topï¼› ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œè¯¦è§ä¸Šè¾¹ç¬¬ä¸€èŠ‚å®‰è£…æ­¥éª¤4ï¼› 3ï¼‰ã€ä¸Šä¼ è¯ä¹¦åˆ°vps â‘ ã€ä¸Šä¼ æœ¬åœ°è´­ä¹°çš„åŸŸåç›®å½•åˆ°vpsç›®å½•ï¼ˆæ³¨æ„æ£€æŸ¥ipï¼‰ 1scp -r /Users/apple/Desktop/luccake.top root@120.79.71.78:/root/.acme.sh â‘¡ã€ä¸Šä¼ æœ¬åœ°é…ç½®æ–‡ä»¶åˆ°vpsç›®å½•ï¼ˆæ³¨æ„æ£€æŸ¥ipï¼‰ ä¼šè¦†ç›–vpsä¸Šçš„åŸæ–‡ä»¶ï¼Œå¿…è¦æ—¶å¯ä»¥å…ˆè¿›è¡Œå¤‡ä»½ã€‚ 1scp -r /Users/apple/Desktop/rails-recipes.conf root@120.79.71.78:/etc/nginx/sites-enabled â‘¢ã€æ‰§è¡Œä¸Šè¾¹ç¬¬ä¸€èŠ‚ç¬¬ä¸‰éƒ¨çš„å‘½ä»¤ï¼ˆè¯¦ç»†è®¾ç½®æ–¹æ³•è§ä¸Šï¼‰ 1234~/.acme.sh/acme.sh --installcert -d luccake.top \\ --key-file /etc/nginx/ssl/luccake.top.key \\ --fullchain-file /etc/nginx/ssl/fullchain.cer \\ --reloadcmd &quot;service nginx force-reload&quot; OKï¼Œå¯ä»¥ç”¨åŸŸåè®¿é—®ç½‘ç«™äº†ï¼ï¼ï¼ å¦‚æœæœ‰é—®é¢˜ï¼Œè¯·å‚è€ƒç¬¬ä¸€èŠ‚ç¬¬äº”æ­¥æ£€æŸ¥ã€‚ 3ã€æ›´æ–°1ï¼‰è¯ä¹¦æ›´æ–° é»˜è®¤æ— éœ€æ“ä½œï¼Œacme.shä¼šå¸®æˆ‘ä»¬åœ¨60å¤©ä»¥åè‡ªåŠ¨æ›´æ–°è¯ä¹¦ã€‚ 2ï¼‰è®©acme.shæ›´æ–° 1acme.sh --upgrade æˆ–è®©acme.shè‡ªåŠ¨æ›´æ–° 1acme.sh --upgrade --auto-upgrade 4ã€å¤‡ä»½è¯ä¹¦ã€é…ç½®æ–‡ä»¶è¯¦è§ä¸Šè¾¹ç¬¬äºŒèŠ‚é‡åˆ°çš„bugç¬¬ä¸€æ­¥ ä¸‰ã€åŸŸåICPå¤‡æ¡ˆï¼ï¼ï¼ï¼httpsæå®šï¼Œç„¶è€Œè¿˜éœ€åŸŸåICPå¤‡æ¡ˆ 1ã€çŸ¥ä¹å›½å¤–ç©ºé—´åœ¨å›½å†…æ²¡åŠæ³•å¤‡æ¡ˆï¼Œé€šè¿‡ç¬¬ä¸‰æ–¹å…é™¤icpä¸å¤§å¯èƒ½ï¼Œå›½å†…çš„icpç›‘ç®¡å¾ˆä¸¥çš„ ç›´æ¥ç§Ÿä¸ªç™¾åº¦è¿˜æ˜¯é˜¿é‡Œä»€ä¹ˆçš„ ç›´æ¥å¤‡æ¡ˆä¸åˆ°10å¤©å°±ä¸‹æ¥äº†ï¼ŒVPSä»€ä¹ˆçš„ä¹Ÿä¸è´µ~ 2ã€å„ç§é—®é¢˜é˜¿é‡Œäº‘å­¦ç”ŸæœåŠ¡å™¨ç”¨å¤šä¹…èƒ½ä¸èƒ½ç»­è´¹ï¼Ÿå…è´¹åŠå¹´å¥½åƒæŠ¢ä¸åˆ°ç»­è´¹å¤šå°‘é’±ï¼Ÿæœ€ä¾¿å®œçš„æœåŠ¡å™¨å¤šå°‘é’±ï¼Ÿ è…¾è®¯äº‘å­¦ç”ŸæœåŠ¡å™¨ç”¨å¤šä¹…èƒ½ä¸èƒ½ç»­è´¹ï¼Ÿ3å…ƒä¸¤ä¸ªæœˆï¼Œä¸‰å¹´äº”æŠ˜æ´»åŠ¨ï¼Œæœ€ä¾¿å®œçš„æœåŠ¡å™¨å¤šå°‘é’±ï¼Ÿæ”¯æŒå…è´¹å¤‡æ¡ˆï¼ˆå½“ç„¶å¤‡æ¡ˆæ˜¯ä¸ºäº†å°ç¨‹åºèƒ½ç”¨ï¼Œå¦‚æœåƒ3å…ƒå¥—é¤ä¸€æ ·ä¸å¤‡æ¡ˆå°±èƒ½ç”¨å°±ä¸æŠ˜è…¾äº†ï¼‰å—ï¼Ÿ ç”¨Letâ€™s Encryptå…è´¹è¯ä¹¦å¯ä»¥é€šè¿‡å¤‡æ¡ˆå—ï¼Ÿ 1ï¼‰é˜¿é‡Œäº‘å’Œè…¾è®¯äº‘æ™®é€šå¥—é¤çº¦350/å¹´ï¼Œæ²¡æœ‰è°æ›´ä¼˜è¶Šã€‚ 2ï¼‰é˜¿é‡Œäº‘å…è´¹å¥—é¤1æ ¸2Gå†…å­˜60Gç¡¬ç›˜1Må¸¦å®½199å…ƒ/å¹´â€”â€”éå¸¸å…¨é¢çš„ä¸€ä¸ªå…³äºé˜¿é‡Œäº‘è´­ä¹°çš„å¸–å­ â‘ ã€æ¯å¤©æ—©ä¸Š10ç‚¹æŠ¢å…è´¹å¥—é¤ç‰ˆï¼ˆèŠéº»ç§¯åˆ†è¶³å¤Ÿä¸”æ˜¯æ–°ç”¨æˆ·ï¼‰ â‘¡ã€ç›´æ¥ä¹°å¥—é¤ç‰ˆ199/å¹´ â‘¢ã€å…¨æ°‘äº‘è®¡ç®—22-28/æœˆ 3ï¼‰å¾®ä¿¡å°ç¨‹åºè¯¦ç»†å›¾æ–‡æ•™ç¨‹-10åˆ†é’Ÿå®Œæˆå¾®ä¿¡å°ç¨‹åºå¼€å‘éƒ¨ç½²å‘å¸ƒï¼ˆ3å…ƒè·å–è…¾è®¯äº‘æœåŠ¡å™¨å¸¦å°ç¨‹åºæ”¯æŒç³»ç»Ÿï¼‰ 4ï¼‰å°ç¨‹åºåŸŸåå¯æ›´æ¢5æ¬¡/æœˆã€50æ¬¡/å¹´ã€‚ å› æ­¤å¯ä»¥å…ˆä¹°3å…ƒå¥—é¤ç”¨ä¸¤ä¸ªæœˆï¼Œè€Œä¸”è¿™ä¸ªå¥—é¤çš„åŸŸåä¸ç”¨å¤‡æ¡ˆï¼Œå…ˆç”¨è¿™ä¸ªèµ°ç†Ÿæ‚‰ä¸€ä¸‹æµç¨‹ã€‚ç„¶åå†å»ä¹°é˜¿é‡Œäº‘å¥—é¤å’Œå¤‡æ¡ˆï¼ˆå¤‡æ¡ˆéœ€è¦å…ˆä¹°3ä¸ªæœˆä»¥ä¸Šçš„æœåŠ¡ï¼Œå¤‡æ¡ˆæ®è¯´è¦10å¤©ï¼‰ï¼Œå¤‡æ¡ˆå®Œæˆåå†æŠŠé¡¹ç›®è½¬ç§»åˆ°é˜¿é‡Œäº‘ï¼ŒåŸŸåæ”¹æˆé˜¿é‡Œäº‘çš„åŸŸåã€‚ 5ï¼‰å­¦ç”Ÿæœºè¦æ±‚å­¦ç”Ÿä¿¡æ¯å’Œå®åè®¤è¯ä¿¡æ¯ä¸€è‡´ï¼Œéº»çƒ¦ï¼Œ120/å¹´ã€‚ ç»“è®ºï¼šç”¨è…¾è®¯äº‘çš„3å…ƒå¥—é¤æ˜¯å› ä¸ºåŸŸåä¸ç”¨å¤‡æ¡ˆï¼Œå¯ä»¥é©¬ä¸Šä¸Šçº¿ã€‚è´­ä¹°3å…ƒå¥—é¤åï¼Œæ„Ÿè§‰è¦æŠ˜è…¾ä¸œè¥¿å¤ªå¤šï¼Œè¿˜ä¸å¦‚èŠ‚çœè¿™ç‚¹æ³¨æ„åŠ›ï¼Œå¤šç­‰é˜¿é‡Œäº‘10å¤©çš„å¤‡æ¡ˆï¼Œè€Œä¸”ç°åœ¨ç›´æ¥ç”³è¯·é¡¹ç›®ä¸Šçº¿ä¹Ÿä¸ç°å®ã€‚ç›´æ¥é€‰è´­é˜¿é‡Œäº‘199å¥—é¤ï¼ˆå…è´¹å¤ªéš¾æŠ¢æµªè´¹æ³¨æ„åŠ›ï¼‰ã€å¹¶æäº¤å¤‡æ¡ˆä¿¡æ¯ã€‚==================ç”³è¯·SSLå¤±è´¥çš„æ–¹æ³•================== å¤±è´¥ä¸€ã€ç”³è¯·å…è´¹SSLè¯ä¹¦ï¼ˆæ–¹æ³•ç”¨é”™äº†ï¼Œåº”è¯¥åœ¨äº‘æœåŠ¡å™¨æ“ä½œè‡ªå·±å¼„æˆæœ¬åœ°ï¼‰ç”³è¯·Letâ€™s Encryptå…è´¹SSLè¯ä¹¦ï¼Œå‚è€ƒæ•™ç¨‹ 1ã€åˆ›å»ºå¸å·1ï¼‰é¦–å…ˆåˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œä¾‹å¦‚ sslï¼Œç”¨æ¥å­˜æ”¾å„ç§ä¸´æ—¶æ–‡ä»¶å’Œæœ€åçš„è¯ä¹¦æ–‡ä»¶ã€‚è¿›å…¥è¿™ä¸ªç›®å½•ï¼Œåˆ›å»ºä¸€ä¸ª RSA ç§é’¥ç”¨äº Letâ€™s Encrypt è¯†åˆ«ä½ çš„èº«ä»½ï¼š 1openssl genrsa 4096 &gt; account.key 2ï¼‰æ‰“å°æ‚¨çš„å…¬é’¥ã€‚ç„¶åå…¨éƒ¨ç²˜è´´åˆ°è¾“å…¥æ¡†ä¸­openssl rsa -in account.key -pubout 2ã€CSRè¯ä¹¦ç­¾åè¯·æ±‚1ï¼‰åˆ›å»º RSA ç§é’¥ï¼ˆå…¼å®¹æ€§å¥½ï¼‰ï¼šâ€”â€”æˆ‘ç”¨çš„æ˜¯è¿™ä¸€æ­¥ 1openssl genrsa 4096 &gt; domain.key æˆ–è€…ï¼Œåˆ›å»º ECC ç§é’¥ï¼ˆéƒ¨åˆ†è€æ—§æ“ä½œç³»ç»Ÿã€æµè§ˆå™¨ä¸æ”¯æŒã€‚ä¼˜ç‚¹æ˜¯è¯ä¹¦ä½“ç§¯å°ï¼‰ï¼š 12345#secp256r1openssl ecparam -genkey -name secp256r1 | openssl ec -out domain.key#secp384r1openssl ecparam -genkey -name secp384r1 | openssl ec -out domain.key 2ï¼‰æ•™ç¨‹å’Œå®˜ç½‘çš„ä»£ç éƒ½ä¸å¤ªå¯¹ï¼ŒæŒ‰ä¸‹é¢çš„æ¥ã€‚ 1openssl req -new -sha256 -key domain.key -subj &quot;/&quot; -reqexts SAN -config &lt;(cat /etc/ssl/openssl.cnf &lt;(printf &quot;[SAN]\\nsubjectAltName=DNS:luccake.top,DNS:www.luccake.top&quot;)) å¦‚æœè¿˜æ˜¯ä¸è¡Œï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨äº¤äº’æ–¹å¼åˆ›å»º CSRï¼ˆéœ€è¦æ³¨æ„ Common Name å¿…é¡»ä¸ºä½ çš„åŸŸåï¼‰ï¼š 1openssl req -new -sha256 -key domain.key -out domain.csr å¤±è´¥äºŒã€Letâ€™s Encryptå®˜ç½‘æ‰‹åŠ¨ï¼ˆä¸ä¼šå†å°è¯•çš„æ–¹æ³•ï¼‰1ï¼‰ 1PRIV_KEY=~/.ssh/id_rsa; echo -n &quot;eyJub25jZSI6ImRTNFNCLU5sWjc4OGc0ckd1dmswWERVa09hOXhDR2pNenJyekNaNXVIYTQifQ.eyJyZXNvdXJjZSI6Im5ldy1yZWciLCJjb250YWN0IjpbIm1haWx0bzpqaXVqaXViYWRAZ21haWwuY29tIl0sImFncmVlbWVudCI6Imh0dHBzOi8vbGV0c2VuY3J5cHQub3JnL2RvY3VtZW50cy9MRS1TQS12MS4yLU5vdmVtYmVyLTE1LTIwMTcucGRmIn0&quot; | openssl dgst -sha256 -hex -sign $PRIV_KEY 2ï¼‰ 1PRIV_KEY=~/.ssh/id_rsa; echo -n &quot;eyJub25jZSI6InBqbk15M0JDLVFfWHM5cVh1N2NMOE1Fa295Rmg4YW4yaS1NZUZMdnk3bXMifQ.eyJyZXNvdXJjZSI6Im5ldy1hdXRoeiIsImlkZW50aWZpZXIiOnsidHlwZSI6ImRucyIsInZhbHVlIjoibHVjY2FrZS50b3AifX0&quot; | openssl dgst -sha256 -hex -sign $PRIV_KEY 3) 1PRIV_KEY=~/.ssh/id_rsa; echo -n &quot;eyJub25jZSI6IjRvR2UzUlVzTnlwUFl4eEQ3RlZ4WkNpTlE0RUY2WEtSRUdRLWZneGpYQmcifQ.eyJyZXNvdXJjZSI6Im5ldy1hdXRoeiIsImlkZW50aWZpZXIiOnsidHlwZSI6ImRucyIsInZhbHVlIjoid3d3Lmx1Y2Nha2UudG9wIn19&quot; | openssl dgst -sha256 -hex -sign $PRIV_KEY 4ï¼‰ 1PRIV_KEY=~/.ssh/id_rsa; echo -n &quot;eyJub25jZSI6Ims4aXdBZmtSNzlqR3ctXzFuZEpFekN2eFlQQnhlT0hvTlptTTRwQWREeFUifQ.eyJyZXNvdXJjZSI6Im5ldy1jZXJ0IiwiY3NyIjoiTUlJRWZ6Q0NBbWNDQVFBd0FEQ0NBaUl3RFFZSktvWklodmNOQVFFQkJRQURnZ0lQQURDQ0Fnb0NnZ0lCQUo2WDBlVlBDS2ZibW94UjJGYVZHVmJWRTZXd1RXS2cxSzNtQ0c0aWFySmhsd0k4eFpzUndYVE5qQ0ZJWHFyMmhOdktHbXpIVHRXWmxaZjZEUmVrRUZTanlBc3h5VGJKaWFFQUxDSThqQkh6WVN4Y0E2Zl95aWxad1ZWUWFIbzYwRWxKNVI5NUdYeHNaMVMwVkZzcjlieFpudlEwUmlYVDhMUDRBQ3ZlbTYyYjBNbmh6dG5IbEdiQXQ0aFJ0VTUxVUpUWHVLUjlqWXV2Y2ZoN3c5bzl6Q3ZMU3hVNy1NUzFJWGo0N0FhVThoUkZnZTN4eVVDZk9STHFBQ1daSHFGa0xreFE2THZNQlNqbVIzbS1QaTYxWWlWem9TY3NpcUpjZ1NRLW4tMWFnY0VhcGc4ejVBN3Y1bzczYzRCbjBRcjRobVBWeHdOMnpTT1pGRDFidm1XUWZaX0N3cE5WTEk3UTFTUUpuVGZpVnc0VUpPUlUyZ1pGeXZlQXo2OWptbHljZnNIRENFSFpIcGVtTVRQTF9YblgxY1FlUXVDSTF4akpJWW12akJrbVdZVGJtYWFhaW00Sll2NTFBanU5UjlyamZGTVpDVVRGUTVSX081LV9LOERrOF9fV3pUMFJVektqbld3aUJuN2U2bWhSTTFHSUFBRU50Vl9kWHMzYmVmVDROUVBfQUdRbVFnZ2Z3a0tPSW9rNDhlREN4ZXhmc24yT0NMVTItMTE4akx3QnBxWmQ5anRTNmEyYWFxTUcxQkszQlY5eEw0VEZpTndFM3ZxSWpvb0wxQldzNzJmaFhTYnlOUXotX2NSSEZMLUJuV1d0dmpsWTdhLURsQWlPNEl4dVpGdWRBcS1kLVpNNnNQVWJQX0N2Sll6Si1TejNvSUpqNFktSUdZeDBsSkRuQWdNQkFBR2dPakE0QmdrcWhraUc5dzBCQ1E0eEt6QXBNQ2NHQTFVZEVRUWdNQjZDQzJ4MVkyTmhhMlV1ZEc5d2dnOTNkM2N1YkhWalkyRnJaUzUwYjNBd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dJQkFINVo5VHVwT3pwUF9MQXk0Mkx3SmVETkhNT3dlQjAtQlJVVGU0OUpNMjZjZjduenJLUnIxVHgzMFBldnRTNlliNHNjblY2Y1pJcWJQZ1NoTWpaZFdRRGlUZGJmZXNrbFVMWTF0ZVYzVHZ6UV8xTEh5dWxWRVlveWJFR0xTbGR5SjdUMTNyOFJjRTVMd3JzMERsdk1jLWdRTEIzMUNBcGQ1Nmd5Z3djNEM5YjJtUkNzOHNXUjU4WHNHa0VEdXA3SHNIU1h6QTYxZ09GbE9NVkFPbFZYOE5pSl9yT05MUUliSUE5eG8zWm1OTmJwVHd5S1c4bGtJV0xVNUhoSFpoZFdQcVUxYUIyQTcwOXdNb0VBNDA1UHhvc1VUTnVkeVBkNjZlZFRlVDNGZTY2ajNiYkJOQm9DU2tZMk1lVmFMd0NzMGxUQk1kR2dUdm1VTUZOTXRrLVRzOXhMalRmOTNNcGJ6Um5lem9lZ1RNa3F0cktXNWtFOXpSU2ozWEdXcmswUmNod2NRaGc1bTY0dUZXZDVIOWV1X3drZkhPdlNsM280N29pZXY5SkE3UzVqd2xhaW9ZOFdDMlVVVXlUNG1Hcy1KdzU4Nmp0NmZXRFJUOEhJb2xEMVhBNFhIdWZTcWsxNHNkX3dTbjNGMEhYU1BSUGt6ZTdxQl9DcHgyUTk2dXAtNWhrY0cwRWpBa2JmcnV1dGNXX3kzVWFvTWt6eVp6Z2JDdjBDeldWcWZQaVBURFIyZnM4a2JLWENlQlVLWHJabmx1VlQ0bHZYOTZwYy1yQXRhSVo5ZkdmRllIZVFOTGdKNnpodE5hMURTRU1fN3NCdDljZ0dRV2RlYWpmSDg3clBsbWY1SjFuZ2p0UGp0NnZtR2tPWVZkY0R5OEw3Z3FydFc5ek5aR0N3eUphMyJ9&quot; | openssl dgst -sha256 -hex -sign $PRIV_KEY å¤±è´¥ä¸‰ã€Letâ€™s Encryptå®˜ç½‘å·¥å…·Certbotç”³è¯·å…è´¹SSLè¯ä¹¦â€”â€”æˆåŠŸï¼ä½†é¦–é¡µè¢«ç»‘å®šæˆnginxçš„welcomeé¡µé¢ï¼Œä¸”é…ç½®ä¿®æ”¹å¯èƒ½å¯¼è‡´ç½‘ç«™æ‰“ä¸å¼€1ã€è¯ä¹¦æ›´æ–°Letâ€™s Encryptçš„è¯ä¹¦æœ‰æ•ˆæœŸæ˜¯90å¤©ï¼Œæ—¶é—´çŸ­äº†ç‚¹å„¿ï¼Œä¸è¿‡Letâ€™s Encryptæ”¯æŒè¯ä¹¦æ›´æ–°ï¼Œåˆ°æœŸå‰æ›´æ–°è¯ä¹¦å³å¯ã€‚certbot æä¾›äº†æ›´æ–°è¯ä¹¦çš„å‘½ä»¤cerbot renewï¼Œä¼šè‡ªåŠ¨æ›´æ–°æ‰€æœ‰å·²ç”³è¯·çš„sslè¯ä¹¦ã€‚ æƒ³è¦å®ç°åˆ°æœŸå‰è‡ªåŠ¨æ›´æ–°çš„è¯ï¼Œåšä¸ªcrontabä»»åŠ¡ï¼Œå°±ä¸å†å¤šå§å”§äº†ã€‚ sudo certbot â€“nginx -d luccake.top -d www.luccake.top /etc/letsencrypt/live/luccake.top/fullchain.pem 4ï¼‰æ£€æµ‹æ˜¯å¦æˆåŠŸå®‰è£…https 2ã€é—®é¢˜ï¼šSSLè¯ä¹¦å®‰è£…åï¼Œipè®¿é—®æ˜¾ç¤ºä¸å®‰å…¨ä¹Ÿè¿›ä¸å»ï¼Œç”¨åŸŸåç™»å½•æˆåŠŸæ˜¾ç¤ºhttpsä½†æ˜¯ä¸€ç›´åœåœ¨Welcome to nginx!é¡µé¢ï¼Ÿï¼Ÿå¾ˆæœ‰å¯èƒ½æ˜¯è¯ä¹¦å®‰è£…éªŒè¯å¥½åŸŸåï¼Œå®‰è£…åœ¨ä¸»æœºé‡Œï¼Œä½†æ˜¯è¿˜æ²¡æœ‰è·Ÿç½‘ç«™é¡¹ç›®åšå…³è”é…ç½®ã€‚","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/å·¥å…·/"},{"name":"vps","slug":"vps","permalink":"http://yoursite.com/tags/vps/"},{"name":"éƒ¨ç½²","slug":"éƒ¨ç½²","permalink":"http://yoursite.com/tags/éƒ¨ç½²/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}]},{"title":"tool-vps-éƒ¨ç½²vpsäº‘æœåŠ¡å™¨","slug":"tool-vps-éƒ¨ç½²vpsäº‘æœåŠ¡å™¨","date":"2017-12-21T16:10:00.000Z","updated":"2018-01-14T06:53:03.000Z","comments":true,"path":"posts/36d18d51/","link":"","permalink":"http://yoursite.com/posts/36d18d51/","excerpt":"","text":"ã€é—®é¢˜ã€‘äº‘æœåŠ¡å™¨é¡¹ç›®å¤‡ä»½ï¼Ÿæ¢¯å­é¡¹ç›®å¤‡ä»½ï¼Ÿvultré•œåƒï¼Ÿlinuxä¹Ÿå¯ä»¥ç”¨gitï¼Ÿä¸€ã€å¸¸ç”¨å‘½ä»¤1ï¼‰ssh root@45.32.42.11ï¼Œä½¿ç”¨rootæƒé™ç™»å½• 2ï¼‰éƒ¨ç½²æ›´æ–°ï¼šæœ¬åœ°git commit ä¿å­˜ï¼Œé‡æ–°ä¸Šä¼ åˆ°githubï¼Œç„¶åå†æ‰§è¡Œcap production deploy 3ï¼‰herokuéƒ¨ç½²ä¼šç”¨figaroæäº¤é…ç½®ï¼šheroku config ã€figaro heroku:set -e productionã€git push heroku master 4ï¼‰cat ~/.ssh/id_rsa.pub æ˜¾ç¤ºæœ¬æœºå…¬é’¥ï¼Œpubå°±æ˜¯public 5ï¼‰Linuxåˆ é™¤æ–‡ä»¶å‘½ä»¤ 1rm -r /home/ftk/apache-tomcat-5.5.20/work #ä¸ç®¡å®ƒæ˜¯æ–‡ä»¶è¿˜æ˜¯ç›®å½•éƒ½åˆ æ‰äº† 6ï¼‰Linuxæ–°å»ºæ–‡ä»¶å‘½ä»¤ 12è¯¾ï¼Œåœ¨è¿œç«¯æ–°å¢ /home/deploy/rails-recipes/shared/config/secrets.yml è¿™ä¸ªæ¡£æ¡ˆã€‚æ‰§è¡Œvi æ–‡ä»¶åï¼Œå¦‚æœæ–‡ä»¶å­˜åœ¨å°±æ˜¯æ‰“å¼€ï¼Œä¸å­˜åœ¨å°±æ˜¯æ–°å»ºæ–‡ä»¶ã€‚ äºŒã€éƒ¨ç½²ä¸­çš„é—®é¢˜å’Œbug1ã€å®‰è£…vimï¼ˆviæ¨¡å¼ä¸‹å¯ä»¥ç¼–è¾‘ï¼Œå¦åˆ™æ— æ³•è¾“å…¥ï¼ŒæŒ‰æ–¹å‘é”®ä¼šå˜æˆAã€Bå­—å¹•ï¼‰ï¼šsudo apt-get install vimé—®é¢˜ï¼šgnu nanoå¦‚ä½•ä¿å­˜é€€å‡º123 linuxä¸‹åœ¨ç¼–è¾‘çŠ¶æ€ä¸‹é€€å‡ºè¯·æŒ‰Ctrl+Xï¼Œä¼šæœ‰ä¸¤ç§æƒ…å½¢ï¼šå¦‚æœæ–‡ä»¶æœªä¿®æ”¹ï¼Œç›´æ¥é€€å‡ºï¼›å¦‚æœä¿®æ”¹äº†æ–‡ä»¶ï¼Œä¸‹é¢ä¼šè¯¢é—®æ˜¯å¦éœ€è¦ä¿å­˜ä¿®æ”¹ã€‚è¾“å…¥Yç¡®è®¤ä¿å­˜ï¼Œè¾“å…¥Nä¸ä¿å­˜ï¼ŒæŒ‰Ctrl+Cå–æ¶ˆè¿”å›ã€‚å¦‚æœè¾“å…¥äº†Yï¼Œä¸‹ä¸€æ­¥ä¼šæç¤ºè¾“å…¥æƒ³è¦ä¿å­˜çš„æ–‡ä»¶åã€‚å¦‚æœä¸éœ€è¦ä¿®æ”¹æ–‡ä»¶åç›´æ¥å›è½¦å°±è¡Œï¼›è‹¥æƒ³è¦ä¿å­˜æˆåˆ«çš„åå­—ï¼ˆä¹Ÿå°±æ˜¯å¦å­˜ä¸ºï¼‰åˆ™è¾“å…¥æ–°åç§°ç„¶åç¡®å®šï¼Œè¿™ä¸ªæ—¶å€™ä¹Ÿå¯ç”¨Ctrl+Cæ¥å–æ¶ˆè¿”å›ã€‚ 2ã€ã€bugã€‘macä¸Šçš„railsé¡¹ç›®å®‰è£…gem &#39;mysql2&#39;æŠ¥é”™123456An error occurred while installing mysql2 (0.4.10), and Bundler cannotcontinue.Make sure that `gem install mysql2 -v &apos;0.4.10&apos;` succeeds before bundling.In Gemfile: mysql2 è§£å†³åŠæ³•ï¼šæŠ¥é”™æ˜¯å› ä¸ºè¿™ä¸ªgeméœ€è¦mysqlçš„æ”¯æŒï¼Œæ‰§è¡Œå®‰è£…brew install mysqlã€‚ 3ã€ã€bugã€‘ä½¿ç”¨ Capistrano éƒ¨ç½²é¡¹ç›®æ—¶ï¼Œæ‰§è¡Œcap production deploy:checkåæŠ¥é”™å¦‚ä¸‹ï¼š12cap aborted!NoMethodError: undefined method `h&apos; for main:Object åŸå› ï¼šæ‰“é”™å­—ã€‚ 4ã€ã€bugã€‘cap production deployæŠ¥é”™ An error occurred while installing pg (0.21.0), and Bundler cannot continue.è§£å†³åŠæ³•ï¼šå‚è€ƒhttps://stackoverflow.com/questions/30162572/error-message-make-sure-that-gem-install-pg-v-0-18-1-succeeds-before-bundlï¼Œåœ¨linuxæ‰§è¡Œ`sudo apt-get install libpq-dev` 73down vote If youâ€™re on Ubuntu, most likely youâ€™re missing a hidden dependencysudo apt-get install libpq-devIf you are on OS X, try these stepsInstall Xcode command line tools (Apple Developer site). If you have it already installed, update it using brew update.brew uninstall postgresql``brew install postgresql``gem install pg 5ã€ã€bugã€‘cap production deployæŠ¥é”™ DEBUG [b5ba7f35] Tasks: TOP =&gt; environmentã€bugï¼ï¼é‡å¤å‡ºç°ã€‘ 12345678910111213141516171819202122232425-5.0.6/lib/rails/application.rb:328:in `require_environment!&apos;/home/deploy/rails-recipes/shared/bundle/ruby/2.4.0/gems/railties-5.0.6/lib/rails/application.rb:448:in `block in run_tasks_blocks&apos;/home/deploy/rails-recipes/shared/bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/task.rb:62:in `block (2 levels) in define&apos;/home/deploy/rails-recipes/shared/bundle/ruby/2.4.0/gems/rake-12.3.0/exe/rake:27:in `&lt;top (required)&gt;&apos;Tasks: TOP =&gt; environment(See full trace by running task with --trace)** DEPLOY FAILED** Refer to log/capistrano.log for details. Here are the last 20 lines:/home/deploy/rails-recipes/shared/bundle/ruby/2.4.0/gems/railties-5.0.6/lib/rails/application.rb:328:in `require_environment!&apos;/home/deploy/rails-recipes/shared/bundle/ruby/2.4.0/gems/railties-5.0.6/lib/rails/application.rb:448:in `block in run_tasks_blocks&apos;/home/deploy/rails-recipes/shared/bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/task.rb:62:in `block (2 levels) in define&apos;/home/deploy/rails-recipes/shared/bundle/ruby/2.4.0/gems/rake-12.3.0/exe/rake:27:in `&lt;top (required)&gt;&apos; DEBUG [dc51dc81] Tasks: TOP =&gt; environment DEBUG [dc51dc81] (See full trace by running task with --trace) âœ˜ apple@bogon â®€ ~/rails/jdstore1130 â®€ â­  masterÂ± è§£å†³åŠæ³•ï¼š 1ï¼‰å‚è€ƒstackoverflowä¸Šçš„ç­”æ¡ˆï¼Œlinuxæ‰§è¡Œsudo apt-get install libpq-devã€ sudo apt-get install libpq-dev build-essential 2ï¼‰æœ¬åœ°æ£€æŸ¥git commitè¦ä¿å­˜ï¼Œå¹¶ä¸Šä¼ åˆ°githubï¼Œæ‰§è¡Œcap production deploy 6ã€è§‚å¯Ÿéƒ¨ç½²è¿‡ç¨‹å‘ç°ï¼š1ï¼‰åšåˆ°ç¬¬12ç« ï¼Œç½‘ç«™é¦–é¡µå˜æˆnginxçš„welcome 2ï¼‰åšåˆ°ç¬¬13ç« ï¼Œå¦‚æœåªä¿®æ”¹`/etc/nginx/sites-enabled/rails-recipes.conf `ï¼Œé¦–é¡µå˜æˆ403Forbidden 3ï¼‰å†ä¿®æ”¹/etc/nginx/nginx.confï¼Œé¡µé¢æˆåŠŸæ¢æˆé¦–é¡µ 7ã€æœ€å¤§çš„å‘ï¼šapplicationçš„å¯†é’¥å¦‚ä½•é…ç½®ç»™äº‘æœåŠ¡å™¨ï¼Ÿ1ã€å‚è€ƒ12è¯¾å®‰è£… Capistrano1ï¼‰/home/deploy/rails-recipes/shared/config/database.yml 2ï¼‰/home/deploy/rails-recipes/shared/config/secrets.ymlï¼Œç”Ÿæˆä¸€ä»½å°±å¤Ÿäº† å¼€å§‹åšå¦‚ä¸‹ 2ã€å®ä½œ1ï¼‰ä¿®æ”¹config/deploy.rbï¼Œè®©å®ƒåŠ è½½é˜²æ­¢å¯†é’¥çš„application.yml 1append :linked_files, &quot;config/database.yml&quot;, &quot;config/secrets.yml&quot;, &quot;config/application.yml&quot; 2ï¼‰åœ¨è¿œç¨‹ï¼Œvi /home/deploy/rails-recipes/shared/config/application.yml ï¼ŒæŠŠæœ¬åœ°çš„å¯†é’¥ä»£ç ç­‰æ•´ä¸ªapplication.ymlï¼Œcopyåˆ°vpsäº‘æœåŠ¡å™¨ ä¸‰ã€éƒ¨ç½²å®Œæˆåçš„é—®é¢˜è¦éƒ¨ç½²æ–°ä»£ç ä¸ŠæœåŠ¡å™¨ï¼Œè®°å¾—éœ€è¦å…ˆ git push åˆ° Github ä¸Šï¼Œå†æ‰§è¡Œ cap production deploy 1ï¼‰seedæ¡£æ€ä¹ˆè½½å…¥ï¼Ÿ å…ˆcd ~/rails-recipes/currentï¼Œç„¶åRAILS_ENV=production bundle exec rake db:seed 2ï¼‰åŸæ¥ç”¨fagiroè®¾ç½®çš„å¯†é’¥æ€ä¹ˆç®¡ç†ï¼Ÿ figaro åªæœ‰å°æ‡‰ heroku è€Œå·²å“¦ï¼Œapplication.ymlæŒ‰ä¸Šé¢ç¬¬7ç‚¹copyåˆ°æœåŠ¡å™¨ã€‚ Nicè¯´ï¼Œç®¡ç† key æˆ‘éƒ½æ˜¯ç”¨ dotenv è¿™åª gem 3ï¼‰githubæç¤ºå®‰å…¨æ¼æ´ï¼Ÿ 4ï¼‰ä¸ºä»€ä¹ˆgitignoreæŒ‡å®šçš„æ–‡ä»¶ä¼šè¢«ä¸Šä¼ åˆ°githubï¼Ÿæ€ä¹ˆå¤„ç†ï¼Ÿ è¯¦è§å¸–å­ã€Šä¸ºä»€ä¹ˆæ–‡ä»¶gitignoreåè¿˜ä¼šè¢«ä¸Šä¼ åˆ°githubï¼Ÿgitignoreæ–‡ä»¶è¢«ä¸Šä¼ åˆ°githubæ€ä¹ˆåŠï¼Ÿã€‹","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/å·¥å…·/"},{"name":"vps","slug":"vps","permalink":"http://yoursite.com/tags/vps/"},{"name":"éƒ¨ç½²","slug":"éƒ¨ç½²","permalink":"http://yoursite.com/tags/éƒ¨ç½²/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}]},{"title":"tool-vps-éƒ¨ç½²-herokuä¹‹figaroä¸ƒç‰›äº‘sendcloud","slug":"tool-vps-éƒ¨ç½²-herokuä¹‹figaroä¸ƒç‰›äº‘sendcloud","date":"2017-12-21T16:10:00.000Z","updated":"2018-01-14T06:53:03.000Z","comments":true,"path":"posts/69bbe6ac/","link":"","permalink":"http://yoursite.com/posts/69bbe6ac/","excerpt":"","text":"éƒ¨ç½²@ä¸ƒç‰›äº‘-Figaro-Sendcloud-herokuä¸€ã€ä¸ƒç‰›äº‘æ³¨æ„äº‹é¡¹1ã€å…è´¹æµé‡https://www.qiniu.com/ åå°-è´¢åŠ¡ç»Ÿè®¡ï¼Œå¯ä»¥çœ‹åˆ°æ¯æœˆ10Gï¼Œè¶³å¤Ÿç”¨äº†ã€‚ 2ã€å­˜å‚¨åŒºåŸŸ1ï¼‰ä¸ƒç‰›äº‘å­˜å‚¨åŒºåŸŸ 2ï¼‰å‡†å¤‡å·¥ä½œ 12gem &apos;carrierwave-qiniu&apos;gem &apos;qiniu-rs&apos; bundle bundle update touch config/initializers/carrierwave.rb 3ï¼‰config/initializers/carrierwave.rbä»£ç ï¼Œæ ¹æ®ä¸Šè¾¹çš„å­˜å‚¨åŒºåŸŸæ–‡æ¡£ä¿®æ”¹åŒºåŸŸç½‘å€ã€‚ 12345678910CarrierWave.configure do |config| config.storage = :qiniu config.qiniu_access_key = ENV[&quot;qiniu_access_key&quot;] config.qiniu_secret_key = ENV[&quot;qiniu_secret_key&quot;] config.qiniu_bucket = ENV[&quot;qiniu_bucket&quot;] config.qiniu_bucket_domain = ENV[&quot;qiniu_bucket_domain&quot;] config.qiniu_block_size = 4*1024*1024 config.qiniu_protocol = &quot;http&quot; config.qiniu_up_host = &quot;https://up-z2.qiniup.com&quot; #é€‰æ‹©ä¸åŒçš„åŒºåŸŸæ—¶ï¼Œ&quot;up.qiniu.com&quot; ä¸åŒend 3ã€è®¾ç½®ä¸åŒç¯å¢ƒevn1ï¼‰app/uploaders/image_uploader.rbï¼Œæ³¨è§£æ‰storage :fileï¼ŒåŠ å…¥ 12345if Rails.env.production? #è¿œç«¯ storage :qiniuelsif Rails.env.development? #æœ¬åœ° storage :fileend äºŒã€Figaro1ã€æ­¥éª¤gem &#39;figaro&#39; bundle figaro installï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆ config/application.yml æ–‡ä»¶å¹¶è‡ªåŠ¨æ·»åŠ åˆ° .gitignore æ¡£æ¡ˆé‡Œã€‚ cp config/application.yml config/application.yml.example 12345678910111213141516171819202122config/application.yml...(ç•¥) production: qiniu_access_key: xxxx # ä½ çš„ qiniu AccessKey qiniu_secret_key: xxxx # ä½ çš„ qiniu SecretKey qiniu_bucket: xxxx # ä½ çš„ qiniu bucket qiniu_bucket_domain: xxxx # ä½ çš„ qiniu bucket domain development: qiniu_access_key: xxxx # ä½ çš„ qiniu AccessKey qiniu_secret_key: xxxx # ä½ çš„ qiniu SecretKey qiniu_bucket: xxxx # ä½ çš„ qiniu bucket qiniu_bucket_domain: xxxx # ä½ çš„ qiniu bucket domain æ³¨æ„ï¼Œè¿™é‡Œå¡«å†™æ—¶ä¸èƒ½ç”¨tabï¼Œè€Œæ˜¯è¦æŒ‰ç©ºæ ¼é”®ï¼Œç©ºä¸¤æ ¼ã€‚å¦åˆ™ä¼šæŠ¥é”™ã€‚ 2ã€éƒ¨ç½²åˆ°heroku1ï¼‰æŠŠ sqlite3 ä»ç¬¬7è¡Œæ¬åˆ° group :development, :test do ä¸­é—´ 2ï¼‰åœ¨æœ«å°¾æ–°å¢ä¸€ä¸ª production groupï¼ŒåŠ ä¸Š pg è¿™ä¸ª gem 123group :production do gem &apos;pg&apos;end bundle install 3ï¼‰åˆ›å»ºheroku app heroku create å…ˆåˆ›å»ºä¸€ä¸ªheroku app figaro heroku:set -e production heroku config å¯ä»¥åˆ—å‡ºç›®å‰æ‰€æœ‰çš„è®¾å®š 4ï¼‰ä¸Šä¼  git push heroku master heroku rake db:migrate ä¸‰ã€Sendcloudé‚®ä»¶http://sendcloud.net/ å…è´¹ç”¨æˆ·äº«æœ‰30å°/å¤©çš„å‘é€é¢åº¦ã€‚å®Œå–„ä¿¡æ¯åï¼Œå…è´¹ç”¨æˆ·60/å¤©çš„å‘é€é¢åº¦ã€‚ 1ã€æ­¥éª¤1ï¼‰å°†ç”Ÿæˆçš„API_USERå’ŒAPI_KEYä¿¡æ¯ä¿å­˜ä¸‹æ¥ã€‚ å¦‚æœå¿˜è®° API_KEYï¼Œå¯ä»¥åˆ° å‘é€è®¾ç½® ç”Ÿæˆä¸€ä¸ªæ–°çš„ã€‚ 2ï¼‰ä¿®æ”¹å¼€å‘ç¯å¢ƒç”¨äºæœ¬åœ°æµ‹è¯• 1234567891011121314151617config/environments/development.rbRails.application.configure do...(ç•¥)ï¼ config.action_mailer.delivery_method = :letter_openerï¼‹ # config.action_mailer.delivery_method = :letter_openerï¼‹ config.action_mailer.delivery_method = :smtpï¼‹ ActionMailer::Base.smtp_settings = &#123;ï¼‹ address: &quot;smtpcloud.sohu.com&quot;,ï¼‹ port: 25,ï¼‹ domain: &quot;heroku.com&quot;,ï¼‹ authentication: &quot;login&quot;,ï¼‹ enable_starttls_auto: true,ï¼‹ user_name: ENV[&quot;SEND_CLOUD_USER_NAME&quot;],ï¼‹ password: ENV[&quot;SEND_CLOUD_USER_KEY&quot;]ï¼‹ &#125;end 3ï¼‰ä¿®æ”¹ç”Ÿäº§ç¯å¢ƒç”¨äºherokuä½¿ç”¨ 1234567891011121314151617config/environments/production.rbRails.application.configure do...(ç•¥)+ config.action_mailer.default_url_options = &#123; :host =&gt; &apos;ä½ çš„herokuappåœ°å€&apos;&#125;+ config.action_mailer.delivery_method = :smtp+ ActionMailer::Base.smtp_settings = &#123;+ address: &quot;smtpcloud.sohu.com&quot;,+ port: 25,+ domain: &quot;heroku.com&quot;,+ authentication: &quot;login&quot;,+ enable_starttls_auto: true,+ user_name: ENV[&quot;SEND_CLOUD_USER_NAME&quot;],+ password: ENV[&quot;SEND_CLOUD_USER_KEY&quot;]+ &#125;end æŠŠå¯†é’¥keyåŠ å…¥figaroç”¨çš„config/application.ymlä¸­ 1â€‹ 1234567891011124ï¼‰æœ¬åœ°æµ‹è¯•é‡å¼€rails serverè¯·ç”¨çœŸå®é‚®ç®±æ³¨å†Œç™»å½•ä½ çš„ç½‘ç«™ï¼Œç”Ÿæˆè®¢å•åæŸ¥æ”¶æ³¨å†Œé‚®ç®±ï¼Œæ”¶åˆ°é‚®ä»¶å³å¯ç¡®è®¤æˆåŠŸå¦‚æœå‡ºç°ä¸‹å›¾æŠ¥é”™ï¼Œè¯·æ–­å¼€VPNå†æµ‹è¯•![](https://ws1.sinaimg.cn/large/006tNc79gy1fmhg48u121j30m807ejrj.jpg)## 2ã€éƒ¨ç½²åˆ°heroku git add .git commit -m â€œsendcloud settingsâ€figaro heroku:set -e productiongit push heroku story5:master``` åŒæ ·è¯·ç”¨çœŸå®é‚®ç®±æ³¨å†Œç™»å½•ä½ çš„ç½‘ç«™ï¼Œç”Ÿæˆè®¢å•åæŸ¥æ”¶æ³¨å†Œé‚®ç®±ï¼Œæ”¶åˆ°é‚®ä»¶å³å¯ç¡®è®¤æˆåŠŸ","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/å·¥å…·/"},{"name":"vps","slug":"vps","permalink":"http://yoursite.com/tags/vps/"},{"name":"éƒ¨ç½²","slug":"éƒ¨ç½²","permalink":"http://yoursite.com/tags/éƒ¨ç½²/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}]},{"title":"wx-function-å•†åŸ(å®ä¾‹)åˆ†ç±»èœå•åŠ¨æ€ç»‘å®šidã€åŠ¨æ€api","slug":"wx-function-å•†åŸ(å®ä¾‹)åˆ†ç±»èœå•åŠ¨æ€ç»‘å®šidã€åŠ¨æ€api","date":"2017-12-21T16:10:00.000Z","updated":"2018-01-14T07:27:53.000Z","comments":true,"path":"posts/57f3edf/","link":"","permalink":"http://yoursite.com/posts/57f3edf/","excerpt":"","text":"å‚è€ƒdemo2ï¼Œä¸‹è½½åœ°å€å¾®ä¿¡å°ç¨‹åºå•†åŸé¡¹ç›®ä¹‹ä¾§æ åˆ†ç±»æ•ˆæœ(1) apiåœ°å€http://huanqiuxiaozhen.com/wemall/goodstype/typebrandList ä¸€ã€åˆç¨¿wxmlé¡µé¢ 1234567891011&lt;!--index.wxml--&gt;&lt;view class=&quot;container&quot; wx:key=&quot;index&quot;&gt; &lt;view&gt; &lt;button type=&quot;primary&quot; bindtap=&quot;loadData&quot;&gt;åŠ è½½æ•°æ®&lt;/button&gt; &lt;/view&gt; &lt;view wx:for=&quot;&#123;&#123;newsdata&#125;&#125;&quot; style=&quot;width:25%&quot;&gt; &lt;image sytle=&quot;width:300px;height:200px;&quot; src=&quot;&#123;&#123;item.image.url&#125;&#125;&quot;&gt;&lt;/image&gt; [&#123;&#123;item.realtype&#125;&#125;]&#123;&#123;item.title&#125;&#125;â€”â€”&#123;&#123;item.name&#125;&#125; &lt;/view&gt; &lt;/view&gt; jsé¡µé¢ï¼ŒonShowæ˜¯ä¸€å¼€å§‹æ˜¾ç¤ºçš„ç”»é¢ï¼ˆæ¥indexçš„apiï¼‰ã€‚loadDataæ˜¯è‡ªå®šä¹‰çš„äº‹ä»¶ï¼Œç”¨bindtapçš„ç”¨æ³•ç»‘å®šåœ¨æŒ‰é’®ä¸Šï¼Œç‚¹å‡»æŒ‰é’®æ˜¾ç¤ºæ–°çš„ç”»é¢ï¼ˆæ¥showçš„apiï¼‰ã€‚ 123456789101112131415161718192021222324252627282930313233343536// pages/exercies/index.jsPage(&#123; data: &#123; &#125;, onShow: function () &#123; var that = this; wx.request(&#123; url: &apos;https://luccake.top/api/v1/categories&apos;, //ä»…ä¸ºç¤ºä¾‹ï¼Œå¹¶éçœŸå®çš„æ¥å£åœ°å€ header: &#123; &apos;content-type&apos;: &apos;application/json&apos; // é»˜è®¤å€¼ &#125;, success: function (res) &#123; console.log(res.data) that.setData(&#123; newsdata: res.data.category &#125;) &#125; &#125;) &#125;, loadData: function () &#123; var that = this; wx.request(&#123; url: &apos;https://luccake.top/api/v1/categories/1&apos;, //ä»…ä¸ºç¤ºä¾‹ï¼Œå¹¶éçœŸå®çš„æ¥å£åœ°å€ header: &#123; &apos;content-type&apos;: &apos;application/json&apos; // é»˜è®¤å€¼ &#125;, success: function (res) &#123; console.log(res.data) that.setData(&#123; newsdata: res.data.product &#125;) &#125; &#125;) &#125;&#125;) äºŒã€æ˜¾ç¤ºåˆ†ç±»åï¼Œç‚¹å‡»å‡ºç°å…¨éƒ¨å•†å“ï¼ˆå› ä¸ºè¿˜æ²¡æœ‰ç»‘å®šåˆ†ç±»idï¼‰wxml 123456789101112&lt;!--index.wxml--&gt;&lt;view class=&quot;container&quot; wx:key=&quot;index&quot;&gt; &lt;view wx:for=&quot;&#123;&#123;newsda&#125;&#125;&quot; style=&quot;width:25%&quot; bindtap=&quot;loadData&quot; wx:key=&quot;&quot;&gt; &#123;&#123;item.name&#125;&#125; &lt;/view&gt; &lt;view wx:for=&quot;&#123;&#123;newsdata&#125;&#125;&quot; style=&quot;width:25%&quot; wx:key=&quot;&quot;&gt; &lt;image sytle=&quot;width:300px;height:200px;&quot; src=&quot;&#123;&#123;item.image.url&#125;&#125;&quot;&gt;&lt;/image&gt; [&#123;&#123;item.realtype&#125;&#125;]&#123;&#123;item.title&#125;&#125;â€”â€”&#123;&#123;item.name&#125;&#125; &lt;/view&gt; &lt;/view&gt; jsï¼Œå›¾ç‰‡æ¥å£ç”¨äº†å›ºå®šid=1ï¼Œæ‰€ä»¥åªèƒ½æ˜¾ç¤º1åˆ†ç±»çš„å•†å“ 123456789101112131415161718192021222324252627282930313233343536// pages/exercies/index.jsPage(&#123; data: &#123; &#125;, onShow: function () &#123; var that = this; wx.request(&#123; url: &apos;https://luccake.top/api/v1/categories&apos;, //ä»…ä¸ºç¤ºä¾‹ï¼Œå¹¶éçœŸå®çš„æ¥å£åœ°å€ header: &#123; &apos;content-type&apos;: &apos;application/json&apos; // é»˜è®¤å€¼ &#125;, success: function (res) &#123; console.log(res.data) that.setData(&#123; newsda: res.data.category &#125;) &#125; &#125;) &#125;, loadData: function () &#123; var that = this; wx.request(&#123; url: &apos;https://luccake.top/api/v1/categories/1&apos;, //ä»…ä¸ºç¤ºä¾‹ï¼Œå¹¶éçœŸå®çš„æ¥å£åœ°å€ header: &#123; &apos;content-type&apos;: &apos;application/json&apos; // é»˜è®¤å€¼ &#125;, success: function (res) &#123; console.log(res.data) that.setData(&#123; newsdata: res.data.product &#125;) &#125; &#125;) &#125;&#125;) ä¸‰ã€åŠ¨æ€ç»‘å®šåˆ†ç±»id1ã€å…³é”®ä»£ç 1ï¼‰ç›®çš„æ˜¯ç‚¹å‡»åˆ†ç±»åç§°åæ˜¾ç¤ºç›¸åº”åˆ†ç±»idä¸‹çš„å•†å“ã€‚ æ‰€ä»¥è¦åœ¨å¸¦æœ‰bindtapçš„viewæ ‡ç­¾é‡ŒåŠ å…¥data-categoryid=&quot;&quot; æ³¨æ„ï¼šè¿™é‡Œçš„data-å˜é‡åç§°ï¼Œåœ¨jsè°ƒç”¨æ—¶æ˜¯ä¸èƒ½å¸¦data-ï¼Œè€Œæ˜¯ç›´æ¥ç”¨åç§° 2ï¼‰å®šä¹‰bindtapç‚¹å‡»åæŒ‡å®šçš„functionï¼Œæ¯”å¦‚loadData: function (e)ã€‚ æœ€å…³é”®çš„ä»£ç ï¼šå‚æ•°å.target.dataset.å˜é‡åç§°ã€‚ å¦‚æœä¼ é€’çš„å‚æ•°å¦‚ä¸Šæ˜¯eï¼Œé‚£ä¹ˆè°ƒç”¨æ–¹æ³•å°±æ˜¯e.target.dataset.categoryidã€‚ æŠŠä»£ç åŠ å…¥åˆ°apiçš„urlä¸­ï¼Œä»£ç å¦‚ä¸‹ã€‚ 2ã€ä»£ç wxml 123456789101112&lt;!--index.wxml--&gt;&lt;view class=&quot;container&quot; wx:key=&quot;index&quot;&gt; &lt;view wx:for=&quot;&#123;&#123;newsda&#125;&#125;&quot; style=&quot;width:25%&quot; bindtap=&quot;loadData&quot; data-categoryid=&quot;&#123;&#123;item.id&#125;&#125;&quot; wx:key=&quot;&quot;&gt; &#123;&#123;item.name&#125;&#125; &lt;/view&gt; &lt;view wx:for=&quot;&#123;&#123;newsdata&#125;&#125;&quot; style=&quot;width:25%&quot; wx:key=&quot;&quot;&gt; &lt;image sytle=&quot;width:300px;height:200px;&quot; src=&quot;&#123;&#123;item.image.url&#125;&#125;&quot;&gt;&lt;/image&gt; [&#123;&#123;item.realtype&#125;&#125;]&#123;&#123;item.title&#125;&#125;â€”â€”&#123;&#123;item.name&#125;&#125; &lt;/view&gt; &lt;/view&gt; js 1234567891011121314151617181920212223242526272829303132333435363738// pages/exercies/index.jsPage(&#123; data: &#123; &#125;, onShow: function () &#123; var that = this; wx.request(&#123; url: &apos;https://luccake.top/api/v1/categories&apos;, //ä»…ä¸ºç¤ºä¾‹ï¼Œå¹¶éçœŸå®çš„æ¥å£åœ°å€ header: &#123; &apos;content-type&apos;: &apos;application/json&apos; // é»˜è®¤å€¼ &#125;, success: function (res) &#123; console.log(res.data) that.setData(&#123; newsda: res.data.category &#125;) &#125; &#125;) &#125;, loadData: function (e) &#123; var that = this; console.log(e.target.dataset.categoryid); //æµ‹è¯•consoleæ˜¯å¦æ˜¾ç¤ºidå·ï¼Œè¿™è¡Œå¯åˆ é™¤ã€‚ wx.request(&#123; url: &apos;https://luccake.top/api/v1/categories/&apos; + e.target.dataset.categoryid, //ä»…ä¸ºç¤ºä¾‹ï¼Œå¹¶éçœŸå®çš„æ¥å£åœ°å€ header: &#123; &apos;content-type&apos;: &apos;application/json&apos; // é»˜è®¤å€¼ &#125;, success: function (res) &#123; console.log(res.data) that.setData(&#123; newsdata: res.data.product &#125;) &#125; &#125;) &#125;&#125;) å››ã€åŠ ä¸Šcss wxml 12345678910111213141516171819&lt;!--index.wxml--&gt;&lt;view class=&quot;container&quot;&gt; &lt;view class=&quot;nav_left&quot;&gt; &lt;block wx:for=&quot;&#123;&#123;newsda&#125;&#125;&quot; wx:key=&quot;&quot;&gt; &lt;view class=&quot;nav_left_items &#123;&#123;cur_id == item.id ? &apos;active&apos; : &apos;&apos;&#125;&#125;&quot; bindtap=&quot;loadData&quot; data-categoryid=&quot;&#123;&#123;item.id&#125;&#125;&quot;&gt; &#123;&#123;item.name&#125;&#125; &lt;/view&gt; &lt;/block&gt; &lt;/view&gt; &lt;view class=&quot;nav_right&quot;&gt; &lt;block wx:for=&quot;&#123;&#123;newsdata&#125;&#125;&quot; wx:key=&quot;&quot;&gt; &lt;view class=&quot;nav_right_items&quot;&gt; &lt;image src=&quot;&#123;&#123;item.image.url&#125;&#125;&quot;&gt;&lt;/image&gt; &lt;text&gt;&#123;&#123;item.title&#125;&#125;&lt;/text&gt; &lt;/view&gt; &lt;/block&gt; &lt;/view&gt; &lt;/view&gt; js 1234567891011121314151617181920212223242526272829303132333435363738// pages/exercies/index.jsPage(&#123; data: &#123; &#125;, onShow: function () &#123; var that = this; wx.request(&#123; url: &apos;https://luccake.top/api/v1/categories&apos;, //ä»…ä¸ºç¤ºä¾‹ï¼Œå¹¶éçœŸå®çš„æ¥å£åœ°å€ header: &#123; &apos;content-type&apos;: &apos;application/json&apos; // é»˜è®¤å€¼ &#125;, success: function (res) &#123; console.log(res.data) that.setData(&#123; newsda: res.data.category &#125;) &#125; &#125;) &#125;, loadData: function (e) &#123; var that = this; console.log(e.target.dataset.categoryid); //æµ‹è¯•consoleæ˜¯å¦æ˜¾ç¤ºidå·ï¼Œè¿™è¡Œå¯åˆ é™¤ã€‚ wx.request(&#123; url: &apos;https://luccake.top/api/v1/categories/&apos; + e.target.dataset.categoryid, //ä»…ä¸ºç¤ºä¾‹ï¼Œå¹¶éçœŸå®çš„æ¥å£åœ°å€ header: &#123; &apos;content-type&apos;: &apos;application/json&apos; // é»˜è®¤å€¼ &#125;, success: function (res) &#123; console.log(res.data) that.setData(&#123; newsdata: res.data.product, cur_id: e.target.dataset.categoryid &#125;) &#125; &#125;) &#125;&#125;) wxss 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879page&#123; background: #f5f5f5;&#125;/*æ€»ä½“ä¸»ç›’å­*/.container &#123; position: relative; width: 100%; height: 100%; background-color: #fff; color: #939393;&#125;/*å·¦ä¾§æ ä¸»ç›’å­*/.nav_left&#123; /*è®¾ç½®è¡Œå†…å—çº§å…ƒç´ ï¼ˆæ²¡ä½¿ç”¨å®šä½ï¼‰*/ display: inline-block; width: 25%; height: 100%; /*ä¸»ç›’å­è®¾ç½®èƒŒæ™¯è‰²ä¸ºç°è‰²*/ background: #f5f5f5; text-align: center;&#125;/*å·¦ä¾§æ listçš„item*/.nav_left .nav_left_items&#123; /*æ¯ä¸ªé«˜30px*/ height: 30px; /*å‚ç›´å±…ä¸­*/ line-height: 30px; /*å†è®¾ä¸Šä¸‹paddingå¢åŠ é«˜åº¦ï¼Œæ€»é«˜42px*/ padding: 6px 0; /*åªè®¾ä¸‹è¾¹çº¿*/ border-bottom: 1px solid #dedede; /*æ–‡å­—14px*/ font-size: 14px;&#125;/*å·¦ä¾§æ listçš„itemè¢«é€‰ä¸­æ—¶*/.nav_left .nav_left_items.active&#123; /*èƒŒæ™¯è‰²å˜æˆç™½è‰²*/ background: #fff;&#125;/*å³ä¾§æ ä¸»ç›’å­*/.nav_right&#123; /*å³ä¾§ç›’å­ä½¿ç”¨äº†ç»å¯¹å®šä½*/ position: absolute; top: 0; right: 0; flex: 1; /*å®½åº¦75%ï¼Œé«˜åº¦å æ»¡ï¼Œå¹¶ä½¿ç”¨ç™¾åˆ†æ¯”å¸ƒå±€*/ width: 75%; height: 100%; padding: 10px; box-sizing: border-box; background: #fff;&#125;/*å³ä¾§æ listçš„item*/.nav_right .nav_right_items&#123; /*æµ®åŠ¨å‘å·¦*/ float: left; /*æ¯ä¸ªitemè®¾ç½®å®½åº¦æ˜¯33.33%*/ width: 33.33%; height: 80px; text-align: center;&#125;.nav_right .nav_right_items image&#123; /*è¢«å›¾ç‰‡è®¾ç½®å®½é«˜*/ width: 50px; height: 30px;&#125;.nav_right .nav_right_items text&#123; /*ç»™textè®¾æˆå—çº§å…ƒç´ */ display: block; margin-top: 5px; font-size: 10px; /*è®¾ç½®æ–‡å­—æº¢å‡ºéƒ¨åˆ†ä¸º...*/ overflow: hidden; white-space: nowrap; text-overflow: ellipsis;&#125; äº”ã€åŠ ä¸Šwx:ifå½“æ²¡æœ‰å›¾ç‰‡æˆ–æ•°æ®æ—¶çš„æ˜¾ç¤º","categories":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}],"tags":[{"name":"å¾®ä¿¡åŠŸèƒ½","slug":"å¾®ä¿¡åŠŸèƒ½","permalink":"http://yoursite.com/tags/å¾®ä¿¡åŠŸèƒ½/"}],"keywords":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}]},{"title":"wx-system-å•†åŸå…œå…œæ±‡ï¼ˆæ¯”è¾ƒè€ä»…ä¾›å‚è€ƒï¼‰","slug":"wx-system-å•†åŸå…œå…œæ±‡ï¼ˆæ¯”è¾ƒè€ä»…ä¾›å‚è€ƒï¼‰","date":"2017-12-19T16:10:00.000Z","updated":"2018-01-14T09:04:33.000Z","comments":true,"path":"posts/1ff9fef/","link":"","permalink":"http://yoursite.com/posts/1ff9fef/","excerpt":"","text":"ä¸€ã€é€šç”¨è®¾ç½®pageã€containerå¸¸ç”¨è‡ªå®šä¹‰å‚æ•°ï¼šheight: 100%;ã€min-height: 100%;ã€background: #fff;ã€width: 100%;ã€‚ æœ‰æ—¶ä¼šç”¨overflow: hidden;ã€‚ 12345678910111213141516/**app.wxss**/.container &#123; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: space-between; box-sizing: border-box; overflow: hidden;&#125;page &#123; font-size: 30rpx; color: #353535; letter-spacing: 2rpx; line-height: 45rpx;&#125; äºŒã€welcomeé¡µé¢æœ€å°å¯è¡Œæ€§ä»£ç 1ã€é€šç”¨é…ç½®1ï¼‰classæ€ä¹ˆå‘½åï¼Ÿ æœ€å¤–å±‚ç”¨å¤§å†™Box-welcomeï¼Œé‡Œå±‚ç”¨box-introã€box-storyï¼Œå†å¾€é‡Œç”¨intro-item1ã€box-item1ã€‚ è¿™æ ·å°±çŸ¥é“boxå¼€å¤´çš„æ˜¯å¤–å±‚ï¼ŒBoxå¤–å¤´æ˜¯æœ€å¤–å±‚ï¼Œè€Œintro-item1ã€box-item1å°±çŸ¥é“æ˜¯å“ªä¸ªæ¨¡å—çš„ç¬¬å‡ ä¸ªéƒ¨åˆ†ã€‚ 2ï¼‰æ€ä¹ˆæ³¨è§£ï¼Ÿ wxmlç”¨&lt;!-- --&gt;ï¼Œwxssç”¨/* */ï¼Œjså’Œjsonç”¨// 3ï¼‰å­—ä½“ã€‚ä¸»å­—è‰²#353535ï¼Œå‰¯å­—è‰²#888 123456page &#123; font-size: 30rpx; color: #353535; letter-spacing: 2rpx; line-height: 45rpx;&#125; 2ã€welcomeçš„box-productäº§å“åˆ†ä¸¤åˆ—1ï¼‰wxmlæ–‡ä»¶ 1234567&lt;view class=&quot;Box-welcome&quot;&gt; &lt;view wx:for=&quot;&#123;&#123;weldata&#125;&#125;&quot; wx:key=&quot;&quot; class=&quot;box-product&quot;&gt; &lt;image src=&apos;&#123;&#123;item.image.url&#125;&#125;&apos;&gt;&lt;/image&gt; &lt;view class=&apos;product-text1&apos;&gt;&#123;&#123;item.title&#125;&#125;&lt;/view&gt; &lt;view class=&apos;product-text2&apos;&gt;&#123;&#123;item.description&#125;&#125;&lt;/view&gt; &lt;/view&gt;&lt;/view&gt; 2ï¼‰jsæ–‡ä»¶ 123456789101112131415161718192021var app = getApp();Page(&#123; data: &#123; &#125;, onShow: function () &#123; var that = this; wx.request(&#123; url: &apos;https://wx-luccake.herokuapp.com/api/v1/products&apos;, header: &#123; &apos;content-type&apos;: &apos;application/json&apos; &#125;, success: function (res) &#123; console.log(res.data) that.setData(&#123; weldata: res.data.data, wedata: res.data.data &#125;) &#125; &#125;) &#125;&#125;) 3ï¼‰wxssæ–‡ä»¶ï¼Œéš¾ç‚¹åœ¨äºäº§å“æ€ä¹ˆåˆ†æˆä¸¤åˆ—ï¼Ÿ ç”¨space-betweenè®©å›¾ç‰‡é ä¸¤è¾¹æ’åˆ—ï¼ŒåŠ ä¸Šå›¾ç‰‡widthè®¾ç½®49%ï¼Œå°±èƒ½æ’æˆä¸¤åˆ—ã€‚ç”¨wrapè®¾ç½®å¤šè¡Œæ’åˆ—ã€‚ 1234567891011121314151617181920.Box-welcome &#123;display: flex;flex-flow: row wrap;justify-content: space-between;padding:1%;&#125;.box-product &#123;width:49%;margin-top:1%;text-align:center;border: 1rpx solid #e8e8e8;&#125;.box-product image &#123;width:100%;height: 330rpx;&#125;.product-text2 &#123;color: #888;font-size: 25rpx;&#125; 3ã€welcomeçš„box-introå¤§å›¾è½®æ’­1ï¼‰wxmlæ–‡ä»¶ï¼Œè¿™é‡Œçš„mode=&quot;aspectFill&quot;ç”¨æ¥è°ƒæ•´å›¾ç‰‡å¹³é“º/è£å‰ªæ•ˆæœï¼ˆæœ‰4ç§ç¼©æ”¾æ¨¡å¼9ä¸­è£å‰ªæ¨¡å¼ï¼‰ï¼Œæ¨¡å¼è™½å¤šä½†æ˜¯æ„Ÿè§‰aspectFillæ•ˆæœæœ€å¥½ã€‚ 12345678&lt;swiper class=&quot;swiper&quot; indicator-dots=&quot;true&quot; autoplay=&quot;true&quot; interval=&quot;5000&quot; duration=&quot;1000&quot;&gt; &lt;block wx:for=&quot;&#123;&#123;movies&#125;&#125;&quot; wx:key=&quot;&quot;&gt; &lt;swiper-item&gt; &lt;image src=&quot;&#123;&#123;item.url&#125;&#125;&quot; mode=&quot;aspectFill&quot;/&gt; &lt;/swiper-item&gt; &lt;/block&gt;&lt;/swiper&gt; 2ï¼‰jsæ–‡ä»¶ 1234567data: &#123; movies:[ &#123;url:&apos;https://ws2.sinaimg.cn/large/006tNc79gy1fmizuzzadzj30ku0km0u5.jpg&apos;&#125; , &#123;url:&apos;https://ws4.sinaimg.cn/large/006tNc79gy1fmizuz16u0j30u00u1405.jpg&apos;&#125; , &#123;url:&apos;https://ws4.sinaimg.cn/large/006tNc79gy1fmizus0vlkj30qm0qmdib.jpg&apos;&#125; ]&#125;, 3ï¼‰wxssæ–‡æ˜ 1234567.swiper &#123; height: 400rpx; width: 100%; /*éå¸¸é‡è¦çš„å€¼ï¼Œæ²¡æœ‰å°±ä¸ä¼šæ˜¾ç¤ºè½®æ’­*/&#125;.swiper image &#123; width: 100%;&#125; 4ã€welcomeçš„box-searchæœç´¢1ï¼‰wxmlæ–‡ä»¶ 123&lt;view class=&quot;box-search&quot;&gt; &lt;input type=&quot;text&quot; placeholder=&quot;ç¿»ç³–è›‹ç³•æ¸…æ–°æ¬¾&quot; focus/&gt;&lt;/view&gt; 2ï¼‰wxssæ–‡ä»¶ 12345678/*æœç´¢æ¡†*/.box-search &#123; width: 100%; text-align: center;&#125;.box-search input &#123; padding: 20rpx;&#125; 3ï¼‰jsæ–‡ä»¶ 12 5ã€åº•éƒ¨tabbar1ï¼‰app.jsonï¼Œå›¾ç‰‡æ”¾åˆ°/imageæ–‡ä»¶å¤¹ 1234567891011121314151617&quot;tabBar&quot;: &#123; &quot;color&quot;: &quot;#7A7E83&quot;, &quot;selectedColor&quot;: &quot;#3cc51f&quot;, &quot;borderStyle&quot;: &quot;black&quot;, &quot;backgroundColor&quot;: &quot;#ffffff&quot;, &quot;list&quot;: [&#123; &quot;pagePath&quot;: &quot;pages/welcome/welcome&quot;, &quot;iconPath&quot;: &quot;image/icon_component.png&quot;, &quot;selectedIconPath&quot;: &quot;image/icon_component_HL.png&quot;, &quot;text&quot;: &quot;ä¸»é¡µ&quot; &#125;, &#123; &quot;pagePath&quot;: &quot;pages/logs/logs&quot;, &quot;iconPath&quot;: &quot;image/icon_API.png&quot;, &quot;selectedIconPath&quot;: &quot;image/icon_API_HL.png&quot;, &quot;text&quot;: &quot;åˆ†ç±»&quot; &#125;]&#125; ä¸‰ã€åˆ†ç±»é¡µé¢1ã€wxmlæœ€åˆçš„å¸ƒå±€123456789&lt;view class=&apos;container&apos;&gt; &lt;view class=&apos;search&apos;&gt;&lt;/view&gt; &lt;view class=&apos;category&apos;&gt; &lt;scroll-view class=&apos;left&apos; scroll-y=&quot;true&quot;&gt; &lt;/scroll-view&gt; &lt;scroll-view class=&apos;right&apos; scroll-y=&quot;true&quot;&gt; &lt;/scroll-view&gt; &lt;/view&gt;&lt;/view&gt; æœ€å¤–å±‚è¿˜æ˜¯ç”¨containerï¼Œå…¶ä»–å±‚ç®€å•ç”¨leftã€rightç­‰ç®€å•å‘½åã€‚ imageã€textç­‰æ ‡ç­¾ï¼Œä¸ç”¨åŠ classï¼Œç›´æ¥åœ¨csså®šä¹‰search image{...}ã€‚ 2ã€æœç´¢æ¡†wxml 123456&lt;view class=&apos;search&apos;&gt; &lt;navigator url=&quot;/pages/search/search&quot; class=&quot;input&quot;&gt; &lt;image&gt;&lt;/image&gt; &lt;text&gt;å•†å“æœç´¢, å…±xxxæ¬¾å¥½ç‰©&lt;/text&gt; &lt;/navigator&gt; &lt;/view&gt; wxss 1234567891011121314151617181920212223242526272829/* page &#123; height: 100%;&#125; */.search &#123; height: 88rpx; padding: 0 30rpx; display: flex; align-items: center;&#125;.search .input &#123; width: 690rpx; height: 56rpx; background: #ededed; border-radius: 8rpx; display: flex; align-items: center; justify-content: center;&#125;.search image &#123; background: url(http://yanxuan.nosdn.127.net/hxm/yanxuan-wap/p/20161201/style/img/icon-normal/search2-2fb94833aa.png) center no-repeat; background-size: 100%; width: 28rpx; height: 28rpx;&#125;.search text &#123; color: #888; padding-left: 10rpx; font-size: 30rpx;&#125; 3ã€å·¦ä¾§åˆ†ç±»æ ‡é¢˜3.1 æ€è·¯ï¼š1ï¼‰å…ˆå¾ªç¯å‡ºapiæ•°æ®ï¼Œ 2ï¼‰bindtapç‚¹å‡»äº‹ä»¶ï¼Œå¹¶è®¾ç½®data-id=â€â€œ 3ï¼‰varä¸€ä¸ª_idï¼Œè®¾ç½®ä¸ºå½“å‰idå³e.currentTarget.dataset.idã€‚ç„¶åç”¨this.setDataï¼ŒæŠŠ_idçš„å€¼ç»™åˆ°left_id 4ï¼‰å›åˆ°wxmlï¼Œç”¨left_id==item.id? &#39;active&#39;:&#39;&#39;åˆ¤æ–­ï¼Œå¦‚æœç‚¹å‡»çš„left_idç­‰äºitem.idï¼Œå°±ä¼šè§¦å‘activeçš„cssæ ·å¼ã€‚è¿™é‡Œçš„æ•ˆæœæ˜¯å­—è‰²å˜çº¢ã€‚ 3.2 é—®é¢˜1ï¼‰æ€ä¹ˆè®¾ç½®åˆå§‹idå’Œindexï¼ˆç”¨äºåˆå§‹åŒ–åæ˜¾ç¤ºå›¾ç‰‡ï¼‰ï¼Ÿ å¯ä»¥åœ¨jsçš„pageçš„dataé‡Œï¼Œè®¾ç½®index=0ã€id=1ã€‚ 4ã€å³ä¾§åˆ†ç±»æ˜ç»†4.1 æ€è·¯ï¼š1ï¼‰ç›®çš„æ˜¯å¯ä»¥ç”¨wx:for=&quot;&quot;åŠ è½½æ•°æ®ã€‚ 2ï¼‰æ‹¿åˆ°navRightListçš„æ•°æ®è¡¨ã€‚å¦‚æœapiåŒ…å«indexå’Œshowï¼Œåœ¨åŒä¸ªapiè¯·æ±‚ä¸­é¡ºä¾¿setDataï¼Œè®©navRightList: res.data.categoriesã€‚å¦‚æœç½‘å€åˆ†å¼€å°±åˆ†å¼€å†™requestã€‚ 3ï¼‰åœ¨å·¦ä¾§æ ‡é¢˜çš„viewé‡Œï¼Œå…ˆè®¾ç½®data-id=&quot;&quot;ã€data-index=&quot;&quot;ã€‚ç„¶ååœ¨ç‚¹å‡»äº‹ä»¶bindtap=â€switch_rightâ€ä¸Šï¼Œè®¾ç½®å½“å‰idå’Œindexçš„å€¼ï¼Œå€¼çš„å…·ä½“è·å–æ–¹æ³•å¯ä»¥å…ˆconsole.log(e)ï¼Œä»è·å–çš„æ•°æ®è¡¨ä¸­å»çœ‹ã€‚ 4ï¼‰OKäº†ï¼Œå¯ä»¥é€šè¿‡wx:for=&quot;&quot;æ‹¿æ•°æ®ã€‚ 5ï¼‰åˆå§‹åŒ–çš„æ•°æ®ï¼ˆå­—è‰²å˜çº¢ã€åŠ è½½ç¬¬ä¸€ç»„çš„å›¾ç‰‡ï¼‰ã€‚åœ¨jsçš„pageçš„dataé‡Œï¼Œè®¾ç½®left_id=1ã€curIndex=0ã€‚ 6ï¼‰æœ€åæ”¹wxssã€‚ å››ã€å•†å“è¯¦æƒ…é¡µwxml 123456789101112131415161718192021222324&lt;swiper class=&quot;goodsimgs&quot; indicator-dots=&quot;true&quot; autoplay=&quot;true&quot; interval=&quot;3000&quot; duration=&quot;1000&quot;&gt; &lt;swiper-item wx:for=&quot;&#123;&#123;picdata&#125;&#125;&quot; wx:key=&quot;&quot;&gt; &lt;image src=&quot;&#123;&#123;item.avatar.medium.url&#125;&#125;&quot; &gt;&lt;/image&gt; &lt;/swiper-item&gt;&lt;/swiper&gt;&lt;view class=&quot;service-policy&quot;&gt; &lt;view class=&quot;item&quot;&gt;30å¤©æ— å¿§é€€è´§&lt;/view&gt; &lt;view class=&quot;item&quot;&gt;48å°æ—¶å¿«é€Ÿé€€æ¬¾&lt;/view&gt; &lt;view class=&quot;item&quot;&gt;æ»¡88å…ƒå…é‚®è´¹&lt;/view&gt;&lt;/view&gt;&lt;view class=&quot;goods-info&quot;&gt; &lt;view class=&quot;c&quot;&gt; &lt;text class=&quot;name&quot;&gt;&#123;&#123;goods.title&#125;&#125;&lt;/text&gt; &lt;text class=&quot;desc&quot;&gt;&#123;&#123;goods.description&#125;&#125;&lt;/text&gt; &lt;text class=&quot;price&quot;&gt;ï¿¥&#123;&#123;goods.price&#125;&#125;&lt;/text&gt; &lt;view class=&quot;brand&quot; wx:if=&quot;&#123;&#123;brand.name&#125;&#125;&quot;&gt; &lt;navigator url=&quot;../brandDetail/brandDetail?id=&#123;&#123;brand.brandId&#125;&#125;&quot;&gt; &lt;text&gt;&#123;&#123;brand.name&#125;&#125;&lt;/text&gt; &lt;/navigator&gt; &lt;/view&gt; &lt;/view&gt;&lt;/view&gt; js 1234567891011121314151617181920212223242526// pages/goods/goods.jsPage(&#123; data: &#123; &#125;, onLoad: function (options) &#123; console.log(options.id) var p_id = options.id var that = this wx.request(&#123; url: &apos;https://luccake.top/api/v1/products/&apos; + p_id, header: &#123; &apos;content-type&apos;: &apos;application/json&apos; // é»˜è®¤å€¼ &#125;, success: function (res) &#123; console.log(res.data.photos) that.setData(&#123; picdata: res.data.photos, goods: res.data &#125;) &#125; &#125;) &#125;,&#125;) wxss 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586.container&#123; margin-bottom: 100rpx;&#125;.goodsimgs&#123; width: 100%; height: 750rpx;&#125;.goodsimgs image&#123; width: 100%; height: 750rpx;&#125;.service-policy&#123; width: 750rpx; height: 75rpx; background: #f8f8f8; padding: 0 31.25rpx; display: flex; flex-flow: row nowrap; align-items: center; justify-content: space-between;&#125;.service-policy .item&#123; background: url(http://nos.netease.com/mailpub/hxm/yanxuan-wap/p/20150730/style/img/icon-normal/servicePolicyRed-518d32d74b.png) 0 center no-repeat; background-size: 10rpx; padding-left: 15rpx; display: flex; align-items: center; font-size: 25rpx;&#125;.goods-info&#123; width: 750rpx; height: 306rpx; overflow: hidden; background: #fff;&#125;.goods-info .c&#123; display: block; width: 718.75rpx; height: 100%; margin-left: 31.25rpx; padding: 38rpx 31.25rpx 38rpx 0; border-bottom: 1px solid #f4f4f4;&#125;.goods-info .c text&#123; display: block; width: 687.5rpx; text-align: center;&#125;.goods-info .name&#123; height: 41rpx; margin-bottom: 5.208rpx; font-size: 41rpx; line-height: 41rpx;&#125;.goods-info .desc&#123; height: 43rpx; margin-bottom: 41rpx; font-size: 24rpx; line-height: 36rpx; color: #999;&#125;.goods-info .price&#123; height: 35rpx; font-size: 35rpx; line-height: 35rpx; color: #b4282d;&#125;.goods-info .brand&#123; margin-top: 23rpx; min-height: 40rpx; text-align: center;&#125;.goods-info .brand text&#123; display: inline-block; width: auto; padding: 2px 30rpx 2px 10.5rpx; line-height: 35.5rpx; border: 1px solid #f48f18; font-size: 25rpx; color: #f48f18; border-radius: 4px; background: url(http://nos.netease.com/mailpub/hxm/yanxuan-wap/p/20150730/style/img/icon-normal/detailTagArrow-18bee52dab.png) 95% center no-repeat; background-size: 10.75rpx 18.75rpx;&#125;","categories":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}],"tags":[{"name":"å¾®ä¿¡ç³»ç»Ÿ","slug":"å¾®ä¿¡ç³»ç»Ÿ","permalink":"http://yoursite.com/tags/å¾®ä¿¡ç³»ç»Ÿ/"}],"keywords":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://yoursite.com/categories/å¾®ä¿¡å°ç¨‹åº/"}]},{"title":"tool-mac-macæœç´¢å·¥å…·","slug":"tool-mac-macæœç´¢å·¥å…· ","date":"2017-12-17T16:10:00.000Z","updated":"2018-01-14T05:02:07.000Z","comments":true,"path":"posts/5756f3fc/","link":"","permalink":"http://yoursite.com/posts/5756f3fc/","excerpt":"","text":"ä¸€ã€æ€»ç»“ï¼šæœ¬æ–‡åªæœ‰è¿™ä¸€æ®µæœ‰ç”¨ï¼Œå…¶ä»–æµ‹è¯•è¿‡æ²¡æ•ˆæœ1ï¼‰spotlightæœç´¢å¾ˆçƒ‚ 2ï¼‰ä¸¤ä¸ªæœæ–‡ä»¶åæ¯”spotlightå¥½ç”¨çš„å·¥å…·ï¼šã€easyfindã€ã€ã€find any fileã€ æ³¨æ„ï¼šåœ¨çŸ¥ä¹æœäº†ä¸€å¤©ï¼Œå‘ç°macä¸Šçš„å„ç§æœç´¢å·¥å…·ï¼Œåªæ”¯æŒæœç´¢æ–‡ä»¶åï¼Œä¸æ”¯æŒæœç´¢æ–‡ä»¶å†…çš„å†…å®¹ã€‚æƒ³è¦æœç´¢å†…å®¹ï¼Œè‡ªå·±æ­åšå®¢ã€æˆ–æ˜¯ç”¨åˆ«äººçš„åšå®¢ã€æˆ–æ˜¯åˆ©ç”¨googleæˆ–ç™¾åº¦çš„æœç´¢æ–¹æ³•site:ç½‘å€ å…³é”®è¯ã€‚ =================== äºŒã€ä»¥ä¸‹æµ‹è¯•æ²¡åµç”¨å¤ªæ­£ç¡®äº†å•Šï¼Œmac ä¸‹æ–‡ä»¶è‚‰çœ¼å¯è§å°±æ˜¯æœä¸å‡ºæ¥ï¼Œç®€ç›´çƒ¦èºã€‚ founder ä¸èƒ½è¯†åˆ«é€šé…ç¬¦ï¼Œåªèƒ½ä»é¦–å­—æœèµ·ï¼Œå¦‚123.abc è¾“å…¥ â€œ12â€ å°†(ä¹Ÿè®¸) æœ‰æ•ˆï¼Œä½†å¦‚è¾“å…¥ 23ï¼Œæˆ–è€…*.abcåˆ™æ— æ•ˆã€‚ Alfredç•¥å¥½ä¸€ç‚¹ï¼Œå¯ä»¥æ”¯æŒé€šé…ç¬¦å¦‚ï¼š.abc æˆ–è€…3.abcè¿™æ ·ã€‚just so soã€‚ Alfredæœ‰ä¸€ä¸ªworkflowï¼Œç­”ä¸»å¯ä»¥è¯•è¯•å“’ï½ Disklensï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¸ªå¾ˆè®¨åŒçš„é—®é¢˜å°±æ˜¯ â€œä»–ä¸ä»…æœç´¢æ–‡ä»¶åï¼Œä¹Ÿæœç´¢æ–‡ä»¶å†…å®¹â€ï¼Œè¿™æ ·æœç´¢çš„ç»“æœç®€ç›´ä»¤äººå´©æºƒï¼ˆæ¯”å¦‚æˆ‘æƒ³æ‰¾ä¸€ä¸ªå« Design_Proj çš„æ–‡ä»¶å¤¹ï¼Œç»“æœä»–æœå‡ºäº†å‡ ç™¾ä¸ªlogæ–‡ä»¶â€”â€”ä»…å› ä¸ºè¿™äº›logæ–‡ä»¶ä¸­è®°å½•äº†è¿™ä¸ªæ–‡ä»¶å¤¹çš„åå­—ï¼‰ everythingçš„ä½œè€…æ›¾åœ¨15å¹´åˆå›å¤æˆ‘è¯´ï¼Œmacä¹Ÿè®¸ä¼šå¼€å‘ï¼ˆä¼°è®¡è„±ç¦»äº†NTFSç»“æ„æ²¡ä»€ä¹ˆå¥½åŠæ³• ï¼‰ è¯•è¯•houdahspot for Mac ä¸ºä½•ä¸ç”¨ mdfindï¼Ÿ Easyfindï¼ï¼ï¼ macçš„æœç´¢å·¥å…·å¼ºçƒˆå®‰åˆ©find any file DEVONsphere Express ifile é—¹äº†åŠå¤©åŸæ¥ä¸æœç´¢æ–‡ä»¶å†…å®¹ &gt; mdfind &lt;å…³é”®è¯&gt; 1ã€kind:æ–‡ä»¶ç±»å‹ å…³é”®è¯ æ–‡ä»¶çš„ç±»å‹ï¼Œå¸¸ç”¨çš„æœ‰ï¼Œimage ï¼ˆå›¾ç‰‡ï¼‰ï¼Œ pdfï¼Œ docï¼ˆæ–‡æ¡£ï¼‰ï¼Œ musicï¼ˆéŸ³ä¹ï¼‰ï¼Œfolderï¼ˆç›®å½•ï¼‰ï¼Œ mail ï¼ˆé‚®ä»¶ï¼‰ï¼Œbookmark ï¼ˆä¹¦ç­¾ï¼‰ ï¼Œ contact ï¼ˆè”ç»œäººï¼‰ç­‰ kind:image parisï¼Œæ‰¾å·´é»çš„ç…§ç‰‡ kind:music britneyï¼Œæœç´¢å°ç”œç”œçš„æ­Œ 2ã€date:æ—¥æœŸ å…³é”®è¯ å¸¸ç”¨æœ‰todayï¼ˆä»Šå¤©ï¼‰ï¼Œ yesterdayï¼ˆæ˜¨å¤©ï¼‰ï¼Œ this weekï¼ˆæœ¬å‘¨ï¼‰ï¼Œ this monthï¼ˆæœ¬æœˆï¼‰ç­‰ date:yesterday 3ã€æœç´¢docæ–‡ä»¶é‡Œçš„å…³é”®è¯","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/å·¥å…·/"},{"name":"mac","slug":"mac","permalink":"http://yoursite.com/tags/mac/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}]},{"title":"ror-tips-ä¸ºä»€ä¹ˆæ–‡ä»¶gitignoreåè¿˜ä¼šè¢«ä¸Šä¼ åˆ°githubï¼Ÿgitignoreæ–‡ä»¶è¢«ä¸Šä¼ åˆ°githubæ€ä¹ˆåŠï¼Ÿ","slug":"ror-tips-ä¸ºä»€ä¹ˆæ–‡ä»¶gitignoreåè¿˜ä¼šè¢«ä¸Šä¼ åˆ°githubï¼Ÿgitignoreæ–‡ä»¶è¢«ä¸Šä¼ åˆ°githubæ€ä¹ˆåŠï¼Ÿ","date":"2017-12-16T16:10:00.000Z","updated":"2018-01-14T05:52:02.000Z","comments":true,"path":"posts/24cbb5e/","link":"","permalink":"http://yoursite.com/posts/24cbb5e/","excerpt":"","text":"æ–¹æ³•ä¸€ï¼šæš‚æ—¶æœ€å¥½çš„è§£æ³•1ï¼‰git rm --cached config/database.ymlå’Œgit rm --cached config/application.yml æ•ˆæœï¼šä¸ä¼šåˆ é™¤æ–‡ä»¶ï¼Œä¼šåˆ é™¤gitè¿½è¸ªè®°å½•ã€‚ ä½†æ˜¯ï¼Œåœ¨githubç‚¹commitè¿›å»çœ‹ï¼Œä»ç„¶å¯ä»¥çœ‹åˆ°åˆšåˆšåˆ é™¤çš„å†…å®¹å³æˆ‘ä»¬çš„å¯†é’¥ã€‚ æ–¹æ³•äºŒï¼šæµ‹è¯•å¤±è´¥ï¼ï¼git rm -r --cached .ï¼Œç„¶åä¿å­˜ã€‚ æ•ˆæœï¼šapplication.ymlå’Œdatabase.ymlæ–‡ä»¶éƒ½è¢«åˆ é™¤äº†ã€‚ä½†æ˜¯ï¼Œå†æ¬¡pushåˆ°githubä¼šå‘ç°å¯ä»¥åœ¨commité‡Œçœ‹åˆ°è¢«åˆ é™¤çš„ä¸¤ä¸ªæ–‡æ¡£ï¼Œå¯†é’¥å…¨éƒ¨å¯ä»¥çœ‹åˆ°ã€‚ å°ç»“ï¼šä¸€ç‚¹éƒ½ä¸å¥½ç”¨ï¼Œæ•ˆæœè·Ÿç›´æ¥åˆ é™¤ä¸¤ä¸ªæ–‡ä»¶ä¸€æ ·ã€‚ æ–¹æ³•ä¸‰ï¼šæµ‹è¯•å¤±è´¥ï¼ï¼å¾ˆå±é™©å‚è€ƒæ–‡æ¡£http://gitbook.tw/chapters/faq/remove-sensitive-data.html http://gitbook.tw/chapters/faq/remove-files-from-git.html æ–¹æ³•1ï¼šå¤±è´¥ï¼ï¼git commitåŠŸèƒ½å¤±æ•ˆä¸èƒ½å†ç”¨gitä¿å­˜ 1ï¼‰ä½¿ç”¨git filter-branch --tree-filter &quot;rm -f config/database.yml&quot;å³å¯ï¼Œå¦‚æœåæ‚”äº†å¯ä»¥git reset refs/original/refs/heads/master --hardæ¢å¤ã€‚ filter-branch é€™å€‹æŒ‡ä»¤å¯ä»¥è®“ä½ æ ¹æ“šä¸åŒçš„ filterï¼Œä¸€å€‹ä¸€å€‹ Commit çš„ä¾†è™•ç†å®ƒã€‚ é€™è£¡ä½¿ç”¨äº† --tree-filter é€™å€‹ filterï¼Œå®ƒå¯ä»¥è®“ä½ åœ¨ Checkout åˆ°æ¯å€‹ Commit çš„æ™‚å€™åŸ·è¡Œä½ æŒ‡å®šçš„æŒ‡ä»¤ï¼ŒåŸ·è¡Œå®Œå¾Œå†è‡ªå‹•å¹«ä½ é‡æ–°å† Commitã€‚ä»¥ä¸Šé¢é€™å€‹ä¾‹å­ä¾†èªªï¼Œä¾¿æ˜¯åŸ·è¡Œã€Œå¼·åˆ¶åˆªé™¤ config/database.yml æª”æ¡ˆã€é€™å€‹æŒ‡ä»¤ã€‚ å› ç‚ºåˆªé™¤äº†æŸå€‹æª”æ¡ˆï¼Œæ‰€ä»¥åœ¨é‚£ä¹‹å¾Œçš„ Commit å…¨éƒ¨éƒ½æœƒé‡æ–°è¨ˆç®—ï¼Œä¹Ÿå°±æ˜¯èªªç­‰æ–¼ç”¢ç”Ÿä¸€ä»½æ–°çš„æ­·å²ç´€éŒ„äº†ã€‚ 2ï¼‰å¦‚æœè¦å¤šæ¬¡ä½¿ç”¨ä¸Šè¾¹çš„å‘½ä»¤ï¼Œä¼šæç¤ºåœ¨å‘½ä»¤é‡ŒåŠ å…¥Force overwriting the backup with -fï¼Œå³git filter-branch -f --tree-filter &quot;rm -f config/database.yml&quot;ï¼Œæ³¨æ„è¿™æ¡å‘½ä»¤æ˜¯ä¸èƒ½æ¢å¤çš„ï¼ï¼â€”â€”ä¸è¿‡ä¹Ÿä¸éš¾ï¼Œå…ˆä»æœ€æ–°åˆ†æ”¯checkoutä¸€ä¸ªåˆ†æ”¯ï¼Œå°±å¯ä»¥éšä¾¿æµ‹è¯• 3ï¼‰æœ€åï¼Œç”¨git push -f origin masterï¼Œå¼ºæ¨githubè¦†ç›–åŸæ¥æ³„éœ²å¯†é’¥çš„ä»£ç ã€‚ æ–¹æ³•å››ï¼šå¤±è´¥ï¼ï¼æ‰€æœ‰çš„åˆ†æ”¯ã€æ‰€æœ‰ç»‘å®šçš„å†…å®¹å…¨éƒ¨æ¸…ç©ºï¼ï¼ï¼å‚è€ƒæ–‡æ¡£åŒæ–¹æ³•ä¸‰ é€™æ‹›æ˜¯å±¬æ–¼ã€Œé€ƒé¿é›–ç„¶å¯æ¥ä½†æ˜¯æœ‰ç”¨ã€çš„åšæ³•ï¼ŒæŠŠå› ç‚ºæ‰€æœ‰çš„ Commit ç´€éŒ„éƒ½åœ¨ .git ç›®éŒ„è£¡ï¼Œæ‰€ä»¥å¯ä»¥é€™æ¨£ï¼š æŠŠ .git ç›®éŒ„åˆªæ‰ã€‚ æŠŠé‚£å€‹å¯†ç¢¼æª”åˆªæ‰æˆ–ä¿®æ‰ã€‚ é‡æ–° Commitã€‚ ä¸è¦ä»¥ç‚ºæˆ‘æ˜¯åœ¨é–‹ç©ç¬‘ï¼Œé€™ä¹Ÿæ˜¯ä¸€æ‹›ï¼Œè€Œä¸”æ˜¯æ¯”è¼ƒä¸éœ€è¦ä»€éº¼æŠ€è¡“çš„æ‹›å¼ï¼Œç¼ºé»å°±æ˜¯ä¹‹å‰çš„ Commit ç´€éŒ„éƒ½ä¸è¦‹äº†ã€‚æ‰€ä»¥é€™å€‹å°ˆæ¡ˆå¦‚æœåªæœ‰ä½ è‡ªå·±ä¸€å€‹äººåšï¼Œè€Œä¸”ä¹Ÿä¸åœ¨ä¹ä¹‹å‰çš„ Commit ç´€éŒ„çš„è©±ï¼Œé€™ä¹Ÿæ˜¯ä¸€å€‹é¸æ“‡ã€‚ ï¼ï¼ï¼å“æ­»æˆ‘äº†ï¼Œè¿˜å¥½åœ¨githubä¸Šæœ‰ä¸Šä¼ æœ€æ–°çš„åˆ†æ”¯ï¼Œå¦åˆ™æ•´ä¸ªä¸“æ¡ˆå…¨æ²¡äº†ï¼Œåæœä¸å ªè®¾æƒ³ã€‚","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/tags/rorçŸ¥è¯†ç‚¹/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"web-page-css/htmlè¯­æ³•ç¬”è®°","slug":"web-page-css:htmlè¯­æ³•ç¬”è®°","date":"2017-12-14T16:10:00.000Z","updated":"2018-01-14T04:43:47.000Z","comments":true,"path":"posts/ef9bbe6f/","link":"","permalink":"http://yoursite.com/posts/ef9bbe6f/","excerpt":"","text":"background-color: rgba(255,255,255,0.5)clearfixæ˜¯ä»€ä¹ˆï¼Ÿ ç”¨æ³•æ³¨æ„ï¼šå¤–å±‚divåŠ ä¸Šclearfixï¼Œå†…å±‚divåŠ ä¸Špull-rightå±æ€§ï¼Œå¦‚ä¸‹ï¼š 123456789&lt;div class=&quot;clearfix&quot;&gt; &lt;h4 class=&quot;pull-right&quot;&gt; åˆè®¡ &lt;%= render_cart_total_price(current_cart) %&gt; å…ƒ &lt;/h4&gt;&lt;/div&gt;&lt;div class=&quot;clearfix&quot;&gt; &lt;%= link_to(&quot;ç¡®è®¤ç»“è´¦&quot;, &quot;#&quot;, class:&quot;btn btn-danger btn-lg pull-right&quot;) %&gt;&lt;/div&gt; è§£å†³ä¸äº†çš„é—®é¢˜ï¼š1ã€é¦–é¡µå¤§å›¾ç”¨bootstrapçš„jumbotronå·¨å¹•å¯ä»¥ç®€å•å‡ºæ•ˆæœï¼Œä½†æ˜¯ä¸èƒ½è‡ªé€‚åº”ï¼Ÿ 2ã€å“ªäº›å±æ€§å¯ä»¥åœ¨ä¸€å¼€å§‹å°±åšé€šç”¨è®¾ç½®ï¼Œå‚è€ƒanndoå’ŒéŸµå„¿çˆ¸çˆ¸çš„ä»£ç ï¼Ÿ 3ã€æŒ‰é’®å’Œæ–‡å­—æ’åœ¨åŒä¸€è¡Œï¼Œå¹¶èƒ½è‡ªé€‚åº”ï¼Œæ¯”å¦‚å¯¼èˆªæ ï¼Ÿ ç®€å•ç²—æš´çš„ä¼˜åŒ–ï¼š1ã€é¦–é¡µå¤§å›¾ï¼Œç”¨bootstrapå·¨å¹•ï¼ˆè‡ªé€‚åº”æœ‰é—®é¢˜ï¼‰ 123456789&lt;div class=&quot;jumbotron&quot;&gt; &lt;div class=&quot;container&quot;&gt; &lt;h1&gt;æ¬¢è¿ç™»é™†é¡µé¢ï¼&lt;/h1&gt; &lt;p&gt;è¿™æ˜¯ä¸€ä¸ªè¶…å¤§å±å¹•ï¼ˆJumbotronï¼‰çš„å®ä¾‹ã€‚&lt;/p&gt; &lt;p&gt;&lt;a class=&quot;btn btn-primary btn-lg&quot; role=&quot;button&quot;&gt; å­¦ä¹ æ›´å¤š&lt;/a&gt; &lt;/p&gt; &lt;/div&gt;&lt;/div&gt; cssè®¾ç½® 1background-image:url(&apos;http://fullstack-public.oss-cn-qingdao.aliyuncs.com/2017-04-15-542213.png&apos;) 2ã€åå°æ“ä½œæŒ‰é’®ï¼Œæ¯”å¦‚ç¼–è¾‘ã€åˆ é™¤ç­‰ã€‚bootstrapæ ·å¼æœ‰warningã€successã€infoã€dangerï¼ˆå››ç§å¾ˆæ­ï¼‰ï¼Œdefaultã€prinaryã€‚ 1&lt;%= link_to(&quot;éšè—&quot;, hide_admin_job_path(job), method: :post, class:&quot;btn btn-warning btn-xs&quot;) %&gt; 3ã€bootstrapç¼©ç•¥å›¾ 1234567891011121314151617181920212223242526&lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-sm-6 col-md-3&quot;&gt; &lt;a href=&quot;#&quot; class=&quot;thumbnail&quot;&gt; &lt;img src=&quot;/wp-content/uploads/2014/06/kittens.jpg&quot; alt=&quot;é€šç”¨çš„å ä½ç¬¦ç¼©ç•¥å›¾&quot;&gt; &lt;/a&gt; &lt;/div&gt; &lt;div class=&quot;col-sm-6 col-md-3&quot;&gt; &lt;a href=&quot;#&quot; class=&quot;thumbnail&quot;&gt; &lt;img src=&quot;/wp-content/uploads/2014/06/kittens.jpg&quot; alt=&quot;é€šç”¨çš„å ä½ç¬¦ç¼©ç•¥å›¾&quot;&gt; &lt;/a&gt; &lt;/div&gt; &lt;div class=&quot;col-sm-6 col-md-3&quot;&gt; &lt;a href=&quot;#&quot; class=&quot;thumbnail&quot;&gt; &lt;img src=&quot;/wp-content/uploads/2014/06/kittens.jpg&quot; alt=&quot;é€šç”¨çš„å ä½ç¬¦ç¼©ç•¥å›¾&quot;&gt; &lt;/a&gt; &lt;/div&gt; &lt;div class=&quot;col-sm-6 col-md-3&quot;&gt; &lt;a href=&quot;#&quot; class=&quot;thumbnail&quot;&gt; &lt;img src=&quot;/wp-content/uploads/2014/06/kittens.jpg&quot; alt=&quot;é€šç”¨çš„å ä½ç¬¦ç¼©ç•¥å›¾&quot;&gt; &lt;/a&gt; &lt;/div&gt;&lt;/div&gt; 4ã€è¡¨æ ¼ï¼Œç”¨table-borderedã€table-hoverï¼Œé…åˆmemetä¸ºtable.table.table-border.table-hover&gt;(thead&gt;tr&gt;th*3)+(tbody&gt;tr&gt;td*3)ã€‚è‡ªé€‚åº”å¯ä»¥è¯•ç”¨ï¼Œæ„Ÿè§‰æ•ˆæœä¸å¥½ã€‚ 1234567891011121314151617181920212223242526272829&lt;table class=&quot;table table-bordered table-hover&quot;&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;èŒä½&lt;/th&gt; &lt;th&gt;èŒä½è¦æ±‚&lt;/th&gt; &lt;th&gt;è–ªèµ„ä¸Šé™&lt;/th&gt; &lt;th&gt;è–ªèµ„ä¸‹é™&lt;/th&gt; &lt;th&gt;è”ç³»æ–¹å¼&lt;/th&gt; &lt;th&gt;å‘å¸ƒæ—¶é—´&lt;/th&gt; &lt;th&gt;æ“ä½œ&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;% @jobs.each do |job| %&gt; &lt;tr&gt; &lt;td&gt;&lt;%= link_to(job.title, job_path(job)) %&gt;&lt;/td&gt; &lt;td&gt;&lt;%= job.description %&gt;&lt;/td&gt; &lt;td&gt;&lt;%= job.wage_upper_bound %&gt;&lt;/td&gt; &lt;td&gt;&lt;%= job.wage_lower_bound %&gt;&lt;/td&gt; &lt;td&gt;&lt;%= job.contact_email %&gt;&lt;/td&gt; &lt;td&gt;&lt;%= job.created_at %&gt;&lt;/td&gt; &lt;td&gt; &lt;%= link_to(&quot;ç¼–è¾‘&quot;, edit_job_path(job)) %&gt; &lt;%= link_to(&quot;åˆ é™¤&quot;, job_path(job), method: :delete, data:&#123;confirm:&quot;ç¡®å®šåˆ é™¤èŒä½ï¼Ÿ&quot;&#125;) %&gt; &lt;/td&gt; &lt;/tr&gt; &lt;% end %&gt; &lt;/tbody&gt;&lt;/table&gt; 5ã€é€šç”¨è®¾ç½®ï¼šå‡ çº§æ ‡é¢˜ã€æ®µè½æ–‡å­—å¤§å°å­—è·è¡Œè·é¢œè‰²ï¼Œå‚è€ƒéŸµå„¿çˆ¸çˆ¸ã€åˆ˜ä¼ å…³äºè®¾è®¡æ„Ÿçš„æ–‡ç« ã€‚ 6ã€è°ƒç”¨ipicå›¾ç‰‡é“¾æ¥çš„æ–¹æ³•ï¼š â‘ ã€cssé‡Œç”¨background-image:url(â€˜https://ws2.sinaimg.cn/large/006tKfTcgy1flu31xaik3j31hc0u0aer.jpgâ€˜); â‘¡ã€src1234567ã€è°ƒç”¨å›¾ç‰‡çš„æ–¹æ³•ï¼ˆ`&lt;img src=&quot;http://xx.com&quot;&gt;`æˆ–`&lt;%= image_tag(xx.url) %&gt;`æˆ–`&lt;%= image_tag(&quot;http://xx.com&quot;) %&gt;`ï¼‰ï¼šâ‘ ã€```&lt;img src=&apos;&lt;%= image_url &apos;logo.png&apos; %&gt;&apos; &gt;```ï¼Œæ–‡ä»¶å¤¹æ˜¯app/assets/imagesæˆ–æ˜¯app/public/imagesã€‚å¦‚æœè¦ä¿®æ”¹æ”¶è—ç½‘å€æ—¶æ˜¾ç¤ºçš„å›¾ç‰‡ï¼Œç”¨```&lt;link rel=&quot;shortcut icon&quot; href=&quot;/images/favicon.ico&quot;&gt; â‘¡ã€è°ƒç”¨æ–‡ä»¶å¤¹app/assets/imagesï¼Œ&lt;%= image_tag(&quot;intro_1.jpg&quot;) %&gt; â‘¢ã€è°ƒç”¨ç›¸å¯¹ç½‘å€pathï¼Œ&lt;%= image_tag(@product.image.thumb.url) %&gt;ã€‚è¿™é‡Œå¯ä»¥å†™æˆ@product.image.urlæˆ–@product.image_url ã€å°ç»“ã€‘å›¾ç‰‡æ”¾asset/imagesï¼Œè°ƒç”¨æœ¬åœ°ã€ç½‘ä¸Šå›¾ç‰‡éƒ½ç”¨&lt;%= image_tag(&quot;&quot;) %&gt; 8ã€æ ¼çº¿ç³»ç»Ÿcol-md-12 1234.col-centered&#123; //Nicæ•™ç¨‹ç”¨çš„ï¼Œpanelå±…ä¸­ float: none; margin: 0 auto;&#125;","categories":[{"name":"webé¡µé¢","slug":"webé¡µé¢","permalink":"http://yoursite.com/categories/webé¡µé¢/"}],"tags":[{"name":"webé¡µé¢","slug":"webé¡µé¢","permalink":"http://yoursite.com/tags/webé¡µé¢/"}],"keywords":[{"name":"webé¡µé¢","slug":"webé¡µé¢","permalink":"http://yoursite.com/categories/webé¡µé¢/"}]},{"title":"ror-system-æ•°æ®åº“SQL","slug":"ror-system-æ•°æ®åº“SQL","date":"2017-12-13T16:10:00.000Z","updated":"2018-01-14T04:43:01.000Z","comments":true,"path":"posts/19619b26/","link":"","permalink":"http://yoursite.com/posts/19619b26/","excerpt":"","text":"1.1ã€æ•°æ®åº“ æ•°æ®åº“ï¼Œå¯ä»¥ä¿å­˜å¤§é‡æ•°æ®ï¼Œè¿˜æä¾›äº†æ–¹ä¾¿çš„æŸ¥è¯¢(Query)æœºåˆ¶ï¼Œä»¥åŠæä¾› CRUD(Create, Read, Update, Delete) æ“ä½œã€‚ å…³ç³»å‹æ•°æ®åº“ï¼Œè¿™ç§æ•°æ®åº“åŒ…æ‹¬å¼€æºçš„ SQLiteã€MySQLã€PostgreSQLï¼Œä»¥åŠéœ€è¦ä»˜è´¹çš„ Oracleã€Microsoft SQL Server ç­‰ç­‰ã€‚ SQLite æ˜¯ä¸€å¥—è½»é‡çº§çš„å…³ç³»å‹æ•°æ®åº“ï¼Œä¹Ÿæ˜¯ Rails å¼€å‘æ—¶é»˜è®¤çš„æ•°æ®åº“ã€‚å®ƒçš„ä¸€ä¸ªæ•°æ®åº“å°±æ˜¯ä¸€ä¸ªæ¡£æ¡ˆã€‚ MySQL æ˜¯ç›®å‰æœ€æµè¡Œçš„å¼€æºæ•°æ®åº“ã€‚å¯å¤„ç†è¶…çº§å¤§é‡æ•°æ®ã€‚ PostgreSQL ç»å¸¸ä¸ MySQL ç›¸æå¹¶è®ºï¼Œæ˜¯ Heroku é»˜è®¤çš„æ•°æ®åº“ã€‚åŠŸèƒ½æ›´å¤šã€‚ Oracle å’Œ MS SQL Serveræœ‰æ›´å¥½çš„è‡ªè°ƒä¼˜åŠŸèƒ½ã€‚ä¾‹å¦‚é“¶è¡Œã€ä¿é™©ä¸šç­‰ä¼šç”¨ã€‚ 2.1ã€å…³ç³»å‹æ•°æ®åº“çš„ç‰¹æ€§ä¸€: Schema Schema çº²è¦å°±æ˜¯ä½¿ç”¨æ•°æ®åº“å­˜æ•°æ®å‰ï¼Œéœ€è¦å…ˆå®šä¹‰ Tables(è¡¨) å’Œ Columns(å­—æ®µ)ï¼š é€šå¸¸åªä¼šåœ¨æ•°æ®åº“é‡Œé¢çºªå½•æ¡£æ¡ˆçš„ metadata ä¾‹å¦‚æ¡£åã€å¤§å°ã€MimeType ç­‰ç­‰ï¼Œè€Œå®é™…çš„æ¡£æ¡ˆåˆ™æ”¾åœ¨æ¡£æ¡ˆç³»ç»Ÿä¸Šï¼Œæˆ–æ˜¯ä¸Šä¼ åˆ°ä¸ƒç‰›æˆ–AWS S3ç­‰ç©ºé—´ã€‚ 2.2ã€å…³ç³»å‹æ•°æ®åº“çš„ç‰¹æ€§äºŒ: SQL æ ‡å‡†è¯­æ³• å…³ç³»å‹æ•°æ®åº“éƒ½æ”¯æ´ä½¿ç”¨ä¸€ç§å«åš SQL (Structured Query Language) çš„ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ã€‚æˆ‘ä»¬ä¼šç”¨è¿™ç§è¯­æ³•æ¥æ“ä½œæ•°æ®åº“ï¼Œä¾‹å¦‚ï¼š 123INSERT INTO events VALUES (&quot;RubyConf&quot;, 100);Event.create( :name =&gt; &quot;RubyConf&quot;, :capacity =&gt; 100) 2.3ã€å…³ç³»å‹æ•°æ®åº“çš„ç‰¹æ€§ä¸‰: ACID è¦è¾¾æˆè¿™ç§è·¨ Tables å¤šä¸ª SQL æ“ä½œå¿…é¡»åŒæ—¶å®Œæˆ(æˆ–å¤±è´¥)çš„éœ€æ±‚ï¼Œå°±å¿…é¡»ç”¨ä¸Š Transaction äº‹åŠ¡ã€‚ä¾‹å¦‚ä½ å’Œåˆ«äººåŒæ—¶åŒä¸€ç§’é’Ÿäº’ç›¸è½¬å¸ï¼Œæ•°æ®åº“ä¼šä¸ä¼šç®—é”™é¦€é¢ï¼Ÿ è¯­æ³•æ˜¯ç”¨ BEGIN; å’Œ COMMIT; æŠŠ SQL å¥åŒ…è£¹åœ¨ä¸€èµ·ï¼Œè¦ä¹ˆä¸€èµ·æˆåŠŸã€è¦ä¹ˆä¸€èµ·å¤±è´¥ã€‚ä¾‹å¦‚ï¼š 123456BEGIN; INSERT INTO histories (user_id, amount) VALUES (1, -100); INSERT INTO histories (user_id, amount) VALUES (2, 100); UPDATE accounts SET balance=200 WHERE id=1; UPDATE accounts SET balance=300 WHERE id=2;COMMIT; åœ¨ Rails ä¸­ï¼Œæ¯ä¸ª model çš„ save å…¶å®éƒ½ä¼šç”¨ Transaction åŒ…èµ·æ¥ï¼ŒåŒ…æ‹¬ model é‡Œé¢çš„æ‰€æœ‰ callback å¦‚æœæ˜¯è·¨ model çš„è¯ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨ ActiveRecord::Base.transaction æ¥åŒ…è£¹ Transaction äº‹åŠ¡ï¼Œä¾‹å¦‚ï¼š 12345ActiveRecord::Base.transaction do A.save B.save C.saveend ACID å…¶å®å°±æ˜¯åœ¨è¯´æ˜ Transactin çš„èƒ½è€ï¼Œä»¥ä¸‹å–è‡ª wikipedia: Atomicity åŸå­æ€§ï¼šä¸€ä¸ªäº‹åŠ¡ï¼ˆtransactionï¼‰ä¸­çš„æ‰€æœ‰æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸å®Œæˆã€‚ Consistency ä¸€è‡´æ€§ï¼šåœ¨äº‹åŠ¡å¼€å§‹ä¹‹å‰å’Œäº‹åŠ¡ç»“æŸä»¥åï¼Œæ•°æ®åº“çš„å®Œæ•´æ€§æ²¡æœ‰è¢«ç ´åã€‚ Isolation éš”ç¦»æ€§ï¼šæ•°æ®åº“å…è®¸å¤šä¸ªå¹¶å‘äº‹åŠ¡åŒæ—¶å¯¹å…¶æ•°æ®è¿›è¡Œè¯»å†™å’Œä¿®æ”¹çš„èƒ½åŠ›ã€‚ Durability æŒä¹…æ€§ï¼šäº‹åŠ¡å¤„ç†ç»“æŸåï¼Œå¯¹æ•°æ®çš„ä¿®æ”¹å°±æ˜¯æ°¸ä¹…çš„ï¼Œå³ä¾¿ç³»ç»Ÿæ•…éšœä¹Ÿä¸ä¼šä¸¢å¤±ã€‚ 3.1ã€å…³ç³»å‹æ•°æ®åº“ä½¿ç”¨ SQL è¯­è¨€: DDL DDL(Data Definition Language)ï¼Œå°±æ˜¯å‘Šè¯‰æ•°æ®åº“å¦‚ä½•å»å®šä¹‰ Schema çº²è¦çš„SQLã€‚ å…³ç³»å‹æ•°æ®åº“ä½¿ç”¨ SQL(Structured Query Language) è¯­è¨€ï¼Œæ¯ä¸ª SQL å¥å­å«åš SQL Query æˆ– SQL Statementã€‚ SQL åˆ†æˆ DDL å’Œ DML ä¸¤ç§ï¼Œéƒ½æ˜¯ç”¨åˆ†å· ; ç»“å°¾ã€‚ 3.2ã€å»ºç«‹ã€åˆ é™¤å’Œæ›´åæ•°æ®åº“ PostgrSQL å¯ç”¨ utf-8ã€MySQL å¯ç”¨ utf8mb4 ç¼–ç ã€‚ SQLite3çš„æŒ‡ä»¤sqlite3 your_db_name.dbã€‚MySQL æŒ‡ä»¤æ˜¯ mysql -u root -pã€‚PostgreSQL çš„æŒ‡ä»¤æ˜¯ psql &lt;database_name&gt;ã€‚ 12æ–°å»ºCREATE TABLE events (name VARCHAR(50) NOT NULL, capacity INTEGER, date DATE); 1234ä¿®æ”¹æ”¹å Tableï¼Œä¾‹å¦‚ ALTER TABLE persons RENAME TO people;æ–°å¢å­—ä¸²ï¼Œä¾‹å¦‚ ALTER TABLE people ADD COLUMN status VARCHAR(50);ä¿®æ”¹å’Œç§»é™¤å­—æ®µï¼šSQLite3 æ²¡æ”¯æ´ï¼Œéœ€è¦å¼€ä¸€ä¸ªæ–° table ç„¶åæŠŠèµ„æ–™å¤åˆ¶è¿‡å» 12åˆ é™¤DROP TABLE IF EXISTS people; åˆ©ç”¨ Migration æ¥ä¸€è‡´ç®¡ç† Schemaï¼Œ Migration ä»£ç ä¹Ÿä¼šæ”¾è¿›ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ Git é‡Œé¢ã€‚ 3.3ã€å…³ç³»å‹æ•°æ®åº“ä½¿ç”¨SQL è¯­è¨€: DML DML(Data Manipulation Language)å°±æ˜¯æ“ä½œæ•°æ®çš„ SQL ï¼Œä¹Ÿå°±æ˜¯åš CRUD çš„æ“ä½œã€‚ æ–°å¢èµ„æ–™ï¼šINSERT INTO xxxs (æ ä½1, æ ä½2) VALUES (å€¼1, å€¼2); 1234ä»¥ä¸‹ SQL ä¼šæ–°å¢æ•°æ®ï¼šINSERT INTO events (capacity, name) VALUES (200, &quot;JSConf&quot;);è¿™ä¸ªå¯¹åº”çš„ Rails è¯­æ³•æ˜¯ Event.create( :capacity =&gt; 200, :name =&gt; &quot;JSConf&quot;) 12æ’å…¥å¤šç¬” INSERT INTO events (capacity, name) VALUES (300, &quot;COSCUP&quot;), (300, &quot;OSDC.TW&quot;); æŸ¥æ‰¾èµ„æ–™ï¼šSELECT æ ä½1, æ ä½2 FROM xxxs; 12345æå…¨éƒ¨ events èµ„æ–™ SELECT * FROM events;å¯¹åº”çš„ Rails è¯­æ³•æ˜¯ Event.all 12345æå‡ºæŒ‡å®šçš„å­—æ®µ SELECT name, capacity FROM events;å¯¹åº”çš„ Rails è¯­æ³•æ˜¯ Event.select(:name, :capacity).all 12345é€’å¢æ’åº SELECT name, capacity FROM events ORDER BY id; æˆ– SELECT name, capacity FROM events ORDER BY id ASC;é€’å‡æ’åº SELECT name, capacity FROM events ORDER BY id DESC;åˆ†é¡µ SELECT name, capacity FROM events ORDER BY capacity DESC, name ASC LIMIT 20 OFFSET 20; ä¿®æ”¹èµ„æ–™ï¼šUPDATE xxxs SET æ ä½1=å€¼1, æ ä½2=å€¼2 WHERE æ ä½3=å€¼3; 12345ä»¥ä¸‹ SQL ä¼šä¿®æ”¹ events table çš„æ‰€æœ‰æ•°æ®æŠŠ capacity æ”¹æˆ 10UPDATE events SET capacity=10; å¯¹åº”çš„ Rails è¯­æ³•æ˜¯ Event.update_all( :capacity =&gt; 10 ) 12345ç”¨ WHERE å¯ä»¥æŒ‡å®šåªæœ‰ä¿®æ”¹ name æ˜¯ &quot;RubyConf&quot; çš„æ•°æ®UPDATE events SET capacity=100 WHERE name=&quot;RubyConf&quot;; å¯¹åº”çš„ Rails è¯­æ³•æ˜¯ Event.where( :name =&gt; &quot;RubyConf&quot; ).update_all( :capacity =&gt; 100) 12345ä¿®æ”¹ capacity å’Œ nameUPDATE events SET capacity=100, name=&quot;RubyConf 2015&quot; WHERE name=&quot;RubyConf&quot;; å¯¹åº”çš„ Rails è¯­æ³•æ˜¯ Event.where( :name =&gt; &quot;RubyConf&quot; ).update_all( :capacity =&gt; 100, :name =&gt; &quot;RubyConf 2015&quot; ) 1234567åœ¨ Rails ä¸­ï¼Œæ¯”è¾ƒå¸¸è§åªä¿®æ”¹ä¸€ç¬”ï¼Œä¾‹å¦‚ï¼š@event = Event.find(123)@event.update( :capacity =&gt; 200)å¯¹åº”çš„ SQL ä¼šæ˜¯SELECT * FROM events WHERE id = 123;UPDATE events SET capacity=200 WHERE id=123; â€‹ åˆ é™¤æ•°æ®æ•°æ®","categories":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}],"tags":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/tags/rorç³»ç»Ÿ/"}],"keywords":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}]},{"title":"tool-vps-éƒ¨ç½²-linuxäº‘æœåŠ¡å™¨éƒ¨ç½²è¿ç»´","slug":"tool-vps-éƒ¨ç½²-linuxäº‘æœåŠ¡å™¨éƒ¨ç½²è¿ç»´","date":"2017-12-13T16:10:00.000Z","updated":"2018-01-14T06:50:37.000Z","comments":true,"path":"posts/d646e837/","link":"","permalink":"http://yoursite.com/posts/d646e837/","excerpt":"","text":"ä¸€ã€å‰åŠéƒ¨åˆ†ä»‹ç»äº‘æœåŠ¡å™¨ç±»å‹IaaSã€PaaSã€SaaSï¼Œå’Œå¸¸ç”¨linuxæŒ‡ä»¤äºŒã€ååŠéƒ¨åˆ†ä»¥IaaSçš„é˜¿é‡Œäº‘æˆ–linodeä¸ºä¾‹ï¼Œç¤ºèŒƒruby on railsåœ¨vpsä¸Šçš„å®‰è£…ã€éƒ¨ç½²ã€è¿ç»´ã€ç¬¬ä¸‰æ–¹æœåŠ¡ã€åŸŸåè®¾å®š1ã€äº‘æœåŠ¡ç±»å‹å’Œå‚å•† IaaSï¼šåŸºç¡€è®¾æ–½æœåŠ¡ï¼ŒInfrastructure-as-a-Serviceï¼ˆç›¸å½“äºæ˜¯ä¹°çš„æˆ¿å­ï¼Œå¯ä»¥ä»»æ„æ‹†æ‰ä¸œè¥¿è£…ä¿®ï¼‰ vpsè™šæ‹Ÿæœºï¼Œå¦‚vultrã€linode äº‘è®¡ç®—å¹³å°ï¼Œäºšé©¬é€Šã€å¾®è½¯ã€è°·æ­Œã€é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ PaaSï¼šå¹³å°æœåŠ¡ï¼ŒPlatform-as-a-Serviceï¼ˆç›¸å½“äºæ˜¯ç§Ÿçš„æˆ¿å­ï¼Œåªèƒ½æŠŠä¸œè¥¿åšå¥½æ‘†è¿›å»ï¼‰ è™šæ‹Ÿä¸»æœºï¼Œå¦‚herokuã€openshift ä»·æ ¼æ¯”IaaSè´µï¼Œå¤§å¤šåªæœ‰ç¾å›½æœºæˆ¿ï¼Œæœ‰èƒ½åŠ›è¿ç»´linuxæœåŠ¡å™¨çš„éƒ½å¾ˆå°‘é€‰ç”¨ SaaSï¼šè½¯ä»¶æœåŠ¡ï¼ŒSoftware-as-a-Serviceï¼ˆåªèƒ½æ‰§è¡Œç‰¹å®šè½¯ä»¶ï¼‰ å¦‚githubã€é‡‘æ•°æ®ã€towerã€office365 2ã€ç§Ÿç”¨äº‘æœåŠ¡å™¨ï¼ˆvultrã€é˜¿é‡Œäº‘ï¼‰ Linux æ—¶ï¼Œé€šå¸¸æ˜¯è®² Linux Kernel (å†…æ ¸)ã€‚ç»™ä¸€èˆ¬ç”¨æˆ·å®‰è£…çš„åˆåˆ†ä¸ºä¸åŒçš„å‘è¡Œç‰ˆæœ¬(Linux distribution)ï¼Œä¾‹å¦‚ Ubuntuã€Linux Mintã€Debianã€CentOSã€Redhat ç­‰ 3ã€CLIå‘½ä»¤ CLIï¼ŒæŒ‡ç”¨æ–‡å­—è¾“å…¥çš„æ–¹å¼æ¥æ“ä½œç”µè„‘ã€‚â€”â€”é«˜æ•ˆã€å ç”¨èµ„æºå°‘ Mac å’Œ Linux éƒ½æ˜¯ UNIX-like æ“ä½œç³»ç»Ÿã€‚çˆ±ç”¨ Mac çš„åŸå› ï¼Œå› ä¸ºæ¥è¿‘ Linux æœåŠ¡å™¨çš„ç¯å¢ƒ Shell æ˜¯æŒ‡å’Œç”µè„‘æ²Ÿé€šçš„æŒ‡ä»¤ Terminal æ˜¯æŒ‡ CLI è¾“å…¥è¾“å‡ºçš„ä»‹é¢ç¨‹åº Console æŒ‡æŸç‰¹å®šçš„æŒ‡ä»¤è¯­è¨€ç¯å¢ƒ GLIï¼ŒæŒ‡ç”¨å›¾å½¢ç”¨æˆ·ç•Œé¢è¾“å…¥çš„æ–¹å¼æ¥æ“ä½œç”µè„‘ 4ã€å¸¸ç”¨å‘½ä»¤ / æ ¹ç›®å½• ~ å®¶ç›®å½• cd pwd ls mkdir touch cp mv ç§»åŠ¨æ¡£æ¡ˆï¼Œæˆ–é‡å‘½å rm åˆ é™¤æ¡£æ¡ˆ rm -r åˆ é™¤æ•´ä¸ªç›®å½•åŠä»¥ä¸‹çš„æ¡£æ¡ˆ sudo apt-get update CLIä¸­å†…å»ºçš„æ˜¯nanoã€æˆ–viï¼ˆviå’ŒvimåŠŸèƒ½æ›´å¼ºä½†è¾ƒéš¾ä¸Šæ‰‹ï¼‰ï¼Œè€Œatomæ˜¯GUI gzip å‹ç¼©æ¡£æ¡ˆ gzip -d è§£å‹ç¼©æ¡£æ¡ˆ tar zcvf xxx.tar.gz xxx å°† xxx ç›®å½•æ‰“åŒ…å¹¶å‹ç¼©æˆ xxx.tar.gz æ¡£æ¡ˆ tar zxcf xxx.tar.gzã€‚å°† xxx.tar.gz è§£å‹ç¼© 5ã€æƒé™ç®¡ç†su æŒ‡ä»¤å¯ä»¥åˆ‡æ¢èº«ä»½ï¼Œä¾‹å¦‚åˆ‡æ¢æˆ root å¸å·ï¼Œä½†æ˜¯æ¯æ¬¡éƒ½è¦è¾“å…¥ï¼› sudoæƒé™ï¼Œå¯ä»¥æš‚æ—¶æå‡æƒé™ã€‚ 6ã€å®‰è£…Linuxã€ruby on railsæ‰€éœ€å¥—ä»¶ã€rubyã€MySQLæˆ–PostgreSQLã€ Nginx + Passenger ç½‘ç«™æœåŠ¡å™¨ åœ¨æœ¬æœºå¼€å‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä½¿ç”¨ puma è¿™ä¸€å¥—ç”± Ruby å†™çš„ç½‘ç«™æœåŠ¡å™¨ï¼Œæ— è®ºæ˜¯é™æ€æ¡£æ¡ˆ(å›¾ç‰‡/CSS/JS)æˆ–æ˜¯ä¼šè¿›åˆ° Rails å¤„ç†çš„åŠ¨æ€ç½‘é¡µï¼Œä¸€å¾‹éƒ½æ˜¯ç”± puma æ¥å¤„ç†ã€‚ Nginx æ˜¯ç›®å‰æœ€æµè¡Œçš„ç½‘ç«™æœåŠ¡å™¨(ç”¨Cè¯­è¨€å¼€å‘çš„)ï¼Œå¯ä»¥éå¸¸é«˜æ•ˆèƒ½åœ°æä¾›é™æ€æ¡£æ¡ˆï¼Œæ•ˆèƒ½æ˜¯çº¯ Ruby ç½‘ç«™æœåŠ¡å™¨çš„æ•°åå€ä»¥ä¸Šã€‚å› æ­¤åƒå›¾æ¡£/CSS/JSç­‰ç­‰é™æ€èµ„æºï¼Œéƒ½ä¼šç”± Nginx å¤„ç† passengeræ˜¯æ”¯æŒrubyçš„webæœåŠ¡å™¨ã€‚Rails åŠ¨æ€ç½‘é¡µçš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬ä¼šå®‰è£… Passenger è¿™ä¸ª Nginx çš„æ‰©å……æ¨¡ç»„æ¥æ‰§è¡Œ Ruby ç¨‹åºã€‚ 7ã€æ–°å¢deployè´¦å· rootè´¦å·æƒé™å¤ªå¤§ï¼Œæ–°å¢deployè´¦å·ï¼Œç”¨æ¥æ”¾Railsä»£ç ã€‚ 8ã€å®‰è£…Capistrano Capistrano æ˜¯ Rails ç¤¾åŒºä¸­æœ€å¸¸ä½¿ç”¨çš„å¸ƒç½²å·¥å…· ap production deployï¼Œè¿™ä¸ªæŒ‡ä»¤ä¼šç™»å…¥è¿œç«¯æœåŠ¡å™¨ï¼ŒæŠŠ Github ä¸Šçš„ä»£ç æŠ“ä¸‹æ¥ï¼Œç„¶åè‡ªåŠ¨æ‰§è¡Œ bundle å®‰è£…å¥—ä»¶ã€è·‘æ•°æ®åº“ migration å’Œç¼–è¯‘ assets ç¼–è¯‘ç­‰ç­‰æ­¥éª¤ï¼š è¦éƒ¨ç½²æ–°ä»£ç ä¸ŠæœåŠ¡å™¨ï¼Œè®°å¾—éœ€è¦å…ˆ git push åˆ° Github ä¸Šï¼Œå†æ‰§è¡Œ cap production deploy","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/å·¥å…·/"},{"name":"vps","slug":"vps","permalink":"http://yoursite.com/tags/vps/"},{"name":"éƒ¨ç½²","slug":"éƒ¨ç½²","permalink":"http://yoursite.com/tags/éƒ¨ç½²/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}]},{"title":"ror-system-ç¼–ç¨‹è¯­è¨€ç¬¬äºŒé›†","slug":"ror-system-ç¼–ç¨‹è¯­è¨€ç¬¬äºŒé›†","date":"2017-12-13T16:10:00.000Z","updated":"2018-01-14T04:43:01.000Z","comments":true,"path":"posts/e7d42cb4/","link":"","permalink":"http://yoursite.com/posts/e7d42cb4/","excerpt":"","text":"å‡½æ•°å¼ç¼–ç¨‹12ã€åŒ¿åå‡½å¼ å‡½å¼ä¹Ÿæ˜¯ä¸€ç§æ•°æ®ç±»å‹ã€‚åˆå«åš First-class function å¤´ç­‰å‡½æ•°ã€‚ ä»¥ä¸‹çš„ Ruby ç¨‹å¼ç ä¸­ï¼Œå˜é‡ x å°±æ˜¯ä¸€ä¸ªå‡½å¼å˜é‡ã€‚å®ƒçš„å€¼ -&gt;{ puts &quot;Hello World&quot;} å«åšåŒ¿åå‡½å¼ã€‚åŒ¿åå‡½å¼è¦é€è¿‡ .call æ‰ä¼šå®é™…è°ƒç”¨ã€‚ 12x = -&gt; &#123; puts &quot;Hello World&quot; &#125;x.call # è¾“å‡º Hello World -&gt; ç­‰åŒäº lambda ç­‰åŒäº Proc.new â€‹ 12x = function()&#123; console.log(&quot;Hello World&quot;) &#125;x() # è¾“å‡º Hello World åœ¨ JavaScript ä¸­è°ƒç”¨ä¸€ä¸ªå‡½å¼ä¸€å®šè¦åŠ ä¸Šæ‹¬å·ï¼Œæ‰€ä»¥ç”¨ x() è¡¨ç¤ºè§¦å‘è°ƒç”¨ã€‚ æ—¢ç„¶å‡½å¼ä¹Ÿæ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†è¿™ä¸ªå‡½å¼å˜é‡å½“ä½œå‚æ•°æ¥ä¼ é€’ 1234567891011121314foo = -&gt; &#123; puts &quot;foo&quot; &#125;def bar(x) puts &quot;bar&quot; x.callendbar(foo)# è¾“å‡º# bar# foo æ³¨æ„åˆ°ç¬¬ä¸€è¡Œå®£å‘Š foo å‡½å¼çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰çœŸçš„è°ƒç”¨å®ƒï¼Œç›´åˆ° x.call æ—¶æ‰è°ƒç”¨å®ƒã€‚ ç›´æ¥å†…åµŒçš„å†™æ³• 123456789101112def bar(x) puts &quot;bar&quot; x.callendbar( -&gt;&#123; puts &quot;zoo&quot; &#125; )# è¾“å‡º# bar# zoo rubyå†™æ³• å¦‚æœå‚æ•°åˆ—æœ€åä¸€ä¸ªå‚æ•°æ˜¯åŒ¿åå‡½å¼ï¼Œé‚£ä¹ˆå°±ä¼šç”¨è¿™ç§ç®€åŒ–çš„å†™æ³•ï¼šä¼ å…¥çš„åŒ¿åå‡½å¼ç”¨ { ...} æˆ– do .... end è¡¨ç¤ºï¼Œç„¶ååœ¨å‡½å¼é‡Œé¢ç”¨ yield è¿™ä¸ªå…³é”®å­—æ¥å®é™…è°ƒç”¨å®ƒã€‚ é€šå¸¸å•è¡Œçš„ç¨‹å¼ä¼šç”¨ { ... } çš„å†™æ³•ï¼Œå¤šè¡Œåˆ™ä¼šç”¨ do ... end çš„å†™æ³•ã€‚è¿™åªæ˜¯ Coding Style æƒ¯ä¾‹è€Œå·²ï¼Œä½œç”¨æ˜¯ä¸€æ ·çš„ã€‚ 12345678910111213141516171819def bar puts &quot;bar&quot; yield(&quot;zoo&quot;)endbar do |x| puts x puts &quot;foo&quot;end# è¾“å‡º# bar# zoo# fooå…¶ä¸­ yield(&quot;zoo&quot;) ä¼šå°† &quot;zoo&quot; å¸¦å…¥åŒ¿åå‡½å¼ï¼Œä¹Ÿå°±æ˜¯å‡½å¼ bar çš„ x å‚æ•° 13ã€åŒ¿åå‡½å¼çš„åº”ç”¨ åŒ¿åå‡½å¼å¯ä»¥å°†å‡½æ•°å½“ä½œå‚æ•°ã€‚ pre-and post-processingå‰ç½®å’Œåç½®å¤„ç† é¦–å…ˆä¸€å®šè¦æ‰“å¼€æ¡£æ¡ˆï¼Œå®Œæˆåä¸€å®šè¦è°ƒç”¨ close æ–¹æ³• 1234f = File.open(&quot;myfile.txt&quot;, &apos;w&apos;) # å‰ç½®å¤„ç†f.write(&quot;Lorem ipsum dolor sit amet&quot;)f.write(&quot;Lorem ipsum dolor sit amet&quot;)f.close # åç½®å¤„ç† æ”¹ç”¨ä¼ å…¥ block å‚æ•°çš„å†™æ³•ï¼Œè¿™æ ·å°±ä¼šè‡ªåŠ¨å…³æ¡£äº†ï¼š 1234File.open(&quot;myfile.txt&quot;, &apos;w&apos;) do |f| f.write(&quot;Lorem ipsum dolor sit amet&quot;) f.write(&quot;Lorem ipsum dolor sit amet&quot;)end callback function å›è°ƒå‡½æ•°çš„æ„æ€æ˜¯å…ˆæŒ–å¥½å‘ï¼Œè®©è°ƒç”¨è¿™ä¸ª API çš„äººå¯ä»¥å¡«è¦æ‰§è¡Œä»€ä¹ˆã€‚ ä¾‹å¦‚ Rails ActiveRecord å¯ä»¥æ³¨å†Œ callback æ–¹æ³•ï¼Œåœ¨ save å‰ååšä¸€äº›äº‹æƒ…ã€‚æˆ‘ä»¬åœ¨ç™¾å®ç®± 2-3 è‡ªè®¢ Model ç½‘å€æ›¾ç»ç”¨è¿‡ before_validation :generate_friendly_id, :on =&gt; :createï¼Œè¿™ä¼šåœ¨ save å‰å»è°ƒç”¨ generate_friendly_id æ–¹æ³•ã€‚ è°ƒç”¨å‡½å¼åœ¨ JavaScript ç”¨çš„å°±æ›´å¤šäº†ï¼Œä¾‹å¦‚ç»‘äº‹ä»¶ï¼š 12345$(&quot;div&quot;).click(function()&#123; console.log(&quot;click!&quot;)&#125;)è¿™ä¸ª click çš„å‚æ•°å°±æ˜¯ä¸€ä¸ªå›è°ƒå‡½å¼ç”¨æ³•ï¼Œå½“æˆ‘ä»¬çœŸæ­£ click æ—¶ï¼Œæ‰ä¼šè°ƒç”¨è¿™ä¸ªåŒ¿åå‡½å¼ã€‚ Closure é—­åŒ…ç‰¹æ€§ æ„æ€æ˜¯å®ƒä¼šå°†å¤–é¢çš„ä½œç”¨åŸŸ(scope)ä¸€èµ·åŒ…è¿›æ¥ï¼Œå‡½å¼å†…å¯ä»¥è¯»å–åˆ°å‡½æ•°å¤–çš„å˜é‡ï¼Œä½†æ˜¯åœ¨åŒ¿åå‡½å¼ä¸­æ–°å»ºç«‹çš„å˜é‡ï¼Œç¦»å¼€åŒ¿åå‡½å¼åä¼šæ¸…æ‰ã€‚ 1234567891011arr = [1,2,3]outer = 1arr.each do puts outer # å¯ä»¥è¯»å–åˆ°å¤–é¢çš„ outer å˜é‡ inner = 4 # æ–°å»ºç«‹ä¸€ä¸ª inner å˜é‡endinner # é”™è¯¯ NameErrorï¼Œæ‰¾ä¸åˆ° inner è¿™ä¸ªå˜é‡ 14ã€Combinator functions Combinator functionsï¼ŒæŒ‡çš„æ˜¯å¤„ç†å®¹å™¨çš„ä¸‰ä¸ªç»„åˆæ‹›æ•°ã€‚ 1ã€æ˜ å°„mapï¼Œçš„æ„æ€å°±æ˜¯å°†å®¹å™¨é‡Œé¢çš„å…ƒç´ ï¼Œä¸€å¯¹ä¸€å˜æ¢æˆå¦ä¸€ä¸ªæ–°çš„å®¹å™¨ã€‚ 123456arr = [1,2,3,4,5,6,7,8,9,10]result = arr.map &#123; |i| i+1 &#125;puts result# è¾“å‡º [2, 3, 4, 5, 6, 7, 8, 9, 10, 11] 2ã€è¿‡æ»¤selectï¼Œå°±æ˜¯å°†å®¹å™¨é‡Œçš„å…ƒç´ ï¼Œæ ¹æ®æŸäº›æ¡ä»¶è¿‡æ»¤å»ºç«‹å¦ä¸€ä¸ªå®¹å™¨ã€‚ 1234arr = [1,2,3,4,5,6,7,8,9,10]result = arr.select&#123; |i| i % 2 == 0 &#125; # è¿™ä¸ªåŒ¿åå‡½å¼è¦å›ä¼  true æˆ– falseputs result 3ã€å½’çº³reduceï¼Œå°±æ˜¯å°†ä¸€ä¸ªå®¹å™¨é‡Œçš„å…ƒç´ ï¼Œå½’çº³æˆä¸€ä¸ªå€¼ï¼š 12345arr = [1,2,3,4,5,6,7,8,9,10]result = arr.reduce(0) &#123; |sum, i| sum + i &#125;puts resultreduce çš„ç¬¬ä¸€ä¸ªå‚æ•° 0 æ˜¯åˆå§‹å€¼ï¼Œç„¶åè¿™ä¸ªåŒ¿åå‡½å¼ä¾åºèµ°è®¿å®¹å™¨ï¼Œä¸¤ä¸ªå‚æ•° sum è·Ÿ iï¼Œå‰è€… sum æ˜¯å‰ä¸€æ¬¡å¾ªç¯çš„å›ä¼ ç»“æœã€‚i æ˜¯è¿™æ¬¡èµ°è®¿çš„å…ƒç´ ã€‚ æ‰¾æœ€å¤§å€¼å…¶å®ä¹Ÿå¯ä»¥ç”¨ reduce æ–¹æ³•ï¼š 123456789101112arr = [9, 2, 10, 6, 2, 4, 5, 6, 0, 4]max = arr.reduce do |max, i| if max &gt; i max else i endendputs max# è¾“å‡º 10 ç»¼åˆåº”ç”¨ï¼šå‡å¦‚æˆ‘ä»¬æƒ³ä»ä»¥ä¸‹çš„æ•°æ®æ‰¾å‡ºå°äº 1000 çš„æœ€å¤§çš„é‡‘é¢ï¼Œè¦æ€ä¹ˆæ‰¾å‘¢ï¼Ÿ 12345678910111213tickets = [ &#123; name: &quot;Ticket A&quot;, amount: 100 &#125;, &#123; name: &quot;Ticket B&quot;, amount: 1123 &#125;, &#123; name: &quot;Ticket C&quot;, amount: 670 &#125;, &#123; name: &quot;Ticket D&quot;, amount: 50 &#125;, &#123; name: &quot;Ticket E&quot;, amount: 990 &#125;,]result = tickets.map&#123; |t| t[:amount] &#125;.select&#123; |a| a &lt; 1000 &#125;.reduce&#123; |x,y|(x &gt; y)? x : y &#125;puts result# è¾“å‡º 990 é¢å‘å¯¹è±¡ç¼–ç¨‹15ã€ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡? æ‰€è°“çš„å¯¹è±¡(Object)å°±æ˜¯æŒ‡ä¸€ä¸ªå¸¦æœ‰çŠ¶æ€å’Œæ–¹æ³•çš„å®¹å™¨ã€‚ 12345678var my_object = &#123; name: &quot;ihower&quot;, move: function()&#123; console.log( this.name + &quot; is moving&quot; ) &#125;&#125;my_object.move() my_object æœ‰ä¸¤ä¸ªå±æ€§ï¼Œä¸€ä¸ªæ˜¯ name ä¸€ä¸ªæ˜¯ moveï¼Œè€Œ move å…¶å®æ˜¯ä¸€ä¸ªåŒ¿åå‡½å¼ã€‚è¿™ä¸ªå¯¹è±¡æœ‰è‡ªå·±çš„çŠ¶æ€(name æ˜¯ ihower)ï¼Œæœ‰è‡ªå·±çš„æ–¹æ³•(move)ã€‚æˆ‘ä»¬æŠŠç›¸å…³çš„æ•°æ®å’Œæ–¹æ³•ï¼Œä¸€èµ·åŒ…è¿›ç‰©ä»¶é‡Œé¢ã€‚ my_object.move() å¯ä»¥çœ‹æˆæ˜¯æœå¯¹è±¡ my_object å‘é€ä¸€ä¸ª move è®¯æ¯ã€‚æ¥æ”¶è€… my_object æ¥åˆ°ä¸€ä¸ª move è®¯æ¯ã€‚ æ‰€è°“çš„ç±»(Class)å°±æ˜¯å»å®šä¹‰äº†æŸä¸€ç§ç±»å‹çš„å¯¹è±¡æ‰€æ‹¥æœ‰çš„å±æ€§å’Œæ–¹æ³•ã€‚é™¤äº† JavaScriptï¼Œå…¶ä»–ç¼–ç¨‹è¯­è¨€åŒ…æ‹¬ Rubyï¼Œéƒ½æ˜¯è¦å…ˆå®šä¹‰ç±»(Class-based)æ‰èƒ½åˆ›é€ å¯¹è±¡ã€‚ ä½ å¯ä»¥æƒ³åƒç±»(Class)å°±æ˜¯å¯¹è±¡(Object)çš„æ¨¡ç‰ˆ ç”±ç±»äº§ç”Ÿå‡ºæ¥çš„ Objectå¯¹è±¡ï¼Œåˆå«åš Instance (å®ä¾‹) 16ã€Ruby è¯­æ³•è¯´æ˜123456789101112131415161718class Person def initialize(name) @name = name end def say(word) puts &quot;#&#123;word&#125;, #&#123;@name&#125;&quot; endendp1 = Person.new(&quot;ihower&quot;)p2 = Person.new(&quot;ihover&quot;)p1.say(&quot;Hello&quot;) # è¾“å‡º Hello, ihowerp2.say(&quot;Hello&quot;) # è¾“å‡º Hello, ihover ç±»ä¸€å®šæ˜¯å¤§å†™å¼€å¤´ï¼Œä¹Ÿæ˜¯ä¸€ç§å¸¸æ•° initialize æ˜¯å¯¹è±¡çš„å»ºæ„æ–¹æ³•ï¼Œå½“è°ƒç”¨ new çš„æ—¶å€™çš„ä¼šæŠŠå‚æ•°ä¼ è¿›è¿™é‡Œ @ å¼€å¤´çš„å˜é‡ï¼Œä¹Ÿå°±æ˜¯èŒƒä¾‹ä¸­çš„ @name å«åšå¯¹è±¡å˜é‡(instance variable)ã€‚è¿™ä¸ªæ˜¯å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ã€‚ def ä¼šå®šä¹‰å¯¹è±¡çš„æ–¹æ³• 1234567891011class Person @@name = â€œihowerâ€ def self.say puts @@name endendPerson.say # è¾“å‡º ihower ä¸¤ä¸ª @@ å¼€å¤´çš„å˜é‡ï¼Œä¹Ÿå°±æ˜¯ @@name å«åšç±»å˜é‡(class variable)ï¼Œè¿™ä¸ªæ˜¯å±äºç±»çš„ ç”¨ self.def å¼€å¤´å®šä¹‰çš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯ def self.say å«åšç±»æ–¹æ³•ã€‚ç”¨ Person.say å°±ä¼šè°ƒç”¨ã€‚ å¦å¤–ï¼Œå¯¹è±¡å˜é‡(@å¼€å¤´)å’Œç±»å˜é‡(@@å¼€å¤´)ï¼Œéƒ½æ˜¯å°è£…åœ¨ç±»å†…éƒ¨ï¼Œç±»å¤–æ— æ³•å­˜å–ã€‚éƒ½éœ€é€è¿‡å®šä¹‰æ–¹æ³•æ‰å¯ä»¥å­˜å–åˆ°ã€‚å¦‚ä¸‹ï¼š 12 â€‹ attr_ çš„ç”¨æ³• 1234567class Person attr_accessor :name attr_reader :foo attr_writer :barend å…¶ä¸­ attr_accessor :name ç­‰åŒäºåˆšåˆšæˆ‘ä»¬è‡ªå®šä¹‰çš„å­˜å–æ–¹æ³•ã€‚attr_reader åªå®šä¹‰è¯»ã€attr_writer åªå®šä¹‰å†™ã€‚ public(å…¬å¼€)ã€protected å’Œ private ä¸åŒï¼Œé»˜è®¤æ˜¯ publicã€‚ privated_method æˆ– protected_methodã€‚è¿™ä¸¤ä¸ªæ–¹æ³•åªèƒ½åœ¨å†…éƒ¨è°ƒç”¨ã€‚ protected å…è®¸è°ƒç”¨åŒä¸€ç±»çš„å¯¹è±¡ã€‚private åˆ™ä¸¥æ ¼é™åˆ¶åœ¨å†…éƒ¨è°ƒç”¨ã€‚ æˆ‘ä»¬å¸Œæœ›ç®¡æ§æœ‰å“ªäº› public æ–¹æ³•ã€‚è¿™äº› public æ˜¯å…¬å¼€çš„ API ä¼šç»™ç¨‹åºå‘˜è°ƒç”¨çš„ï¼Œå¦‚æœæœ‰ä»»ä½•ä¿®æ”¹éƒ½ä¼šå½±å“åˆ°è½¯ä»¶çš„å…¶ä»–åœ°æ–¹è¦ä¸€èµ·ä¿®æ”¹ã€‚ä½†æ˜¯ private ä½† protected æ–¹æ³•å°±åªä¼šå½±å“è¿™ä¸ªå¯¹è±¡çš„å†…éƒ¨è€Œå·²ã€‚ 17ã€ç‰¹æ€§ä¸€: å°è£…(encapsulation) é¢å‘å¯¹è±¡çš„å…¶ä¸­ä¸€ä¸ªç‰¹è‰²å°±æ˜¯å°è£…ï¼Œè°ƒç”¨è€…ä¸éœ€è¦å…³å¿ƒå†…éƒ¨ç»“æ„ï¼Œåªéœ€æ ¹æ®å…¬å¼€æ¥å£è¿›è¡Œæ“ä½œã€‚è¿™æ ·å†…éƒ¨çš„ç»“æ„å¯ä»¥æ ¹æ®æ¶æ„éœ€æ±‚è€Œä¿®æ”¹ï¼Œè€Œä¸ä¼šå½±å“åˆ°å…¶ä»–ç¨‹å¼ã€‚ å¦‚æœæ”¹ç”¨é¢å‘å¯¹è±¡æ¥å†™ï¼Œé¦–å…ˆå®šä¹‰åˆ†æ•°çš„ç±»ï¼š 123456789101112131415161718192021class MyRational attr_accessor :x, :y def initialize(x, y) @x, @y = x, y end def add(target) MyRational.new(@x*target.y + @y*target.x, @y*target.y) endend# 2/3 + 3/4a = MyRational.new(2,3)b = MyRational.new(3,4)c = a.add(b)puts &quot;#&#123;c.x&#125;/#&#123;c.y&#125;&quot; ï¼ï¼ï¼ï¼99ï¼šè¿™ä¸ªä¾‹å­æ²¡çœ‹æ‡‚ï¼Ÿï¼Ÿ 18ã€ç‰¹æ€§äºŒ: ç»§æ‰¿(inheritance) ç»§æ‰¿å¯ä»¥è®©çˆ¶ç±»çš„å®šä¹‰éƒ½å¤åˆ¶åˆ°å­ç±»ï¼Œåœ¨ Ruby ä¸­ç”¨ class Child &lt; Parent ç¬¦å·è¡¨ç¤ºï¼š åœ¨ Rails ä¸­ä¹Ÿå¾ˆå¸¸è§ç»§æ‰¿ï¼Œæ‰“å¼€ä»»ä¸€ä¸ª Model æ¡£æ¡ˆï¼Œéƒ½æ˜¯ç»§æ‰¿è‡ª ApplicationRecordã€‚å†æ‰“å¼€ä¼šå‘ç° ApplicationRecord ç»§æ‰¿è‡ª ActiveRecord::Baseã€‚åè€…æ˜¯ Rails æ¡†æ¶çš„æ ¸å¿ƒç±»ï¼Œæˆ‘ä»¬ä¹‹æ‰€ä»¥å¯ä»¥è°ƒç”¨ .saveã€.findã€.where ç­‰ç­‰æ–¹æ³•å°±æ˜¯åœ¨ ActiveRecord::Base ä¸­å®šä¹‰çš„ã€‚ æ‰“å¼€ä»»ä¸€ä¸ª Controller æ¡£æ¡ˆï¼Œéƒ½æ˜¯ç»§æ‰¿è‡ª ApplicationControllerï¼Œç„¶å ApplicationController åˆæ˜¯ç»§æ‰¿è‡ª ActionController::Baseï¼Œæˆ‘ä»¬ä¹‹æ‰€ä»¥å¯ä»¥è°ƒç”¨ before_actionã€renderã€redirect_to ç­‰ç­‰æ–¹æ³•å°±æ˜¯åœ¨ ActionController::Base ä¸­å®šä¹‰çš„ã€‚ moduleç”¨æ³•ä¸€ï¼šå¤šé‡ç»§æ‰¿ã€‚å¦‚æœæœ‰å¤šä¸ªçˆ¶ç±»è¦ç»§æ‰¿ï¼Œåœ¨ Ruby ä¸­ä¼šç”¨åˆ° moduleï¼š å…¶ä¸­ module Ownership ä¼šç”¨ include çš„è¯­æ³• mix-in(æ··å…¥)åˆ° Car é‡Œé¢ã€‚ 123456789101112131415161718192021222324252627module Ownership def show_owner puts &quot;#&#123;self.class&#125; show_owner called&quot; endendclass Vehicle def move puts &quot;move&quot; endend# Car has two parents: Car and Ownershipclass Car &lt; Vehicle include Ownershipendclass House include Ownershipendcar = Car.newhouse = House.newcar.show_owner()house.show_owner() moduleç”¨æ³•äºŒï¼šå‘½åç©ºé—´ 12345module A class B endendå¦‚æœè¦ä½¿ç”¨å®ƒè¦ç”¨ A::Bã€‚ å¦‚æœ module A å·²ç»å®šä¹‰è¿‡äº†ï¼Œåˆ™å¯ä»¥è¿™æ ·å†™ï¼š 123class A::Cend moduleç”¨æ³•ä¸‰ï¼šå®šä¹‰æ¨¡å—æ–¹æ³•ï¼š 12345678910module MyUtil def self.foobar puts &quot;foobar&quot; endendMyUtil.foobar# è¾“å‡º foobar 19ã€ç‰¹æ€§ä¸‰: å¤šæ€(polymorphism) å¤šæ€çš„æ„æ€æ˜¯å¯ä»¥æŠŠå¾ˆå¤šä¸ä¸€æ ·çš„ä¸œè¥¿ï¼Œå½“ä½œåŒä¸€ç§ä¸œè¥¿æ¥å¤„ç†ã€‚ ä¾‹å¦‚ç®±å­æœ‰å¾ˆå¤šç§ï¼Œæ‰“å¼€çš„å®ä½œæ–¹å¼å„æœ‰ä¸åŒ(æœ‰çš„æœ‰é”ã€æœ‰çš„æ²¡é”)ï¼Œä½†æ˜¯è¿™äº›ç®±å­éƒ½æœ‰æä¾›ã€Œæ‰“å¼€ã€è¿™ä¸ªæ¥å£å¯ä»¥æ“ä½œã€‚ä¸‹å‘½ä»¤çš„äººåªéœ€è¦çŸ¥é“å‘¼å«è¿™ä¸ªæŒ‡ä»¤å³å¯ã€‚ 1234567891011121314151617181920box1 = &#123; :name =&gt; &quot;Box1&quot;, :type =&gt; &quot;locked&quot; &#125;box2 = &#123; :name =&gt; &quot;Box2&quot;, :type =&gt; &quot;unlocked&quot;&#125;box3 = &#123; :name =&gt; &quot;Box3&quot;, :type =&gt; &quot;seal&quot; &#125;def open_box(box) if box[:type] == &quot;locked&quot; puts &quot;Open locked&quot; elsif box[:type] == &quot;unlocked&quot; puts &quot;Open unlocked&quot; elsif box[:type] == &quot;seal&quot; puts &quot;Open Seal&quot; endendarr = [box1, box2, box3]arr.each do |x| open_box(x)endè¿™æ ·è®¾è®¡çš„ç¼ºç‚¹æ˜¯ä¸å¥½æ‰©å……ï¼Œç»´æŠ¤æ€§ä½ã€‚å› ä¸ºæ— è®ºæ˜¯æ–°å¢ä¸åŒçš„ç®±å­ï¼Œæˆ–æ˜¯ä¿®æ”¹æŸä¸€ä¸ªç®±å­æ‰“å¼€çš„è¡Œä¸ºï¼Œéƒ½å¾—ä¿®æ”¹åŒä¸€ä¸ªæ–¹æ³•ï¼Œå¤æ‚åº¦å…¨éƒ¨é›†ä¸­åœ¨ open_box ä¹‹ä¸­ã€‚ è®©æˆ‘ä»¬æ”¹ç”¨é¢å‘å¯¹è±¡æ¥å†™ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940class Box attr_accessor :name def initialize(name) @name = name end def open puts &quot;Open default box&quot; endendclass LockedBox &lt; Box def open puts &quot;Open locked&quot; endendclass UnlockedBox &lt; Box def open puts &quot;Open Unlocked&quot; endendclass SealBox &lt; Box def open puts &quot;Open seal&quot; endendbox1 = LockedBox.new(&quot;Box1&quot;)box2 = UnlockedBox.new(&quot;Box2&quot;)box3 = SealBox.new(&quot;Box3&quot;)arr = [box1, box2, box3]arr.each do |x| x.open()endä»£ç çœ‹èµ·æ¥å¥½åƒå˜å¤šäº†ï¼Œä½†æ˜¯æ‰©å……æ€§å’Œç»´æŠ¤æ€§æ¯”è¾ƒå¥½ã€‚è¿™ç§å¤šå‹çš„ç‰¹å‹è®©æˆ‘ä»¬ä¸éœ€è¦æ‹…å¿ƒç¡®åˆ‡çš„æ•°æ®ç±»å‹ï¼Œåªè¦æ¥å£ä¸€è‡´(éƒ½æœ‰ open æ–¹æ³•)å°±å¯ä»¥æ“ä½œã€‚ é¸­å­å‹åˆ« Duck Typing åœ¨åŠ¨æ€è¯­è¨€ä¸­ï¼Œä¸åŒå¯¹è±¡åªè¦æ–¹æ³•çš„æ¥å£ä¸€æ ·ï¼Œå°±å¯ä»¥æœ‰å¤šæ€çš„ç‰¹å‹ï¼Œè¿™åˆå«åš Duck Typingï¼šå½“çœ‹åˆ°ä¸€åªé¸Ÿèµ°èµ·æ¥åƒé¸­å­ã€æ¸¸æ³³èµ·æ¥åƒé¸­å­ã€å«èµ·æ¥ä¹Ÿåƒé¸­å­ï¼Œé‚£ä¹ˆè¿™åªé¸Ÿå°±å¯ä»¥è¢«ç§°ä¸ºé¸­å­ã€‚ åè¯é‡Šç–‘ï¼šæ–¹æ³•çš„ã€Œæ¥å£(Interface)ã€æŒ‡çš„æ˜¯æ–¹æ³•çš„åç§°å’Œå‚æ•°ï¼Œæ–¹æ³•çš„ã€Œå®ä½œ(Implement)ã€æŒ‡çš„æ˜¯æ–¹æ³•å†…å®é™…è¦åšçš„ä»£ç ã€‚ä¸Šè¿°çš„ LockedBoxã€UnlockedBox å’Œ SealBox éƒ½æœ‰ä¸€æ ·çš„ open æ¥å£ï¼Œä½†æ˜¯å­ç±»åˆ«ä¸­å®šä¹‰äº†ä¸åŒçš„å®ä½œã€‚ 20ã€é¢å‘å¯¹è±¡è®¾è®¡é¢å‘å¯¹è±¡è®¾è®¡åˆæ˜¯ä¸€é—¨å­¦é—®ï¼Œæœ‰å…´è¶£çš„å­¦å‘˜ï¼Œå¯ä»¥æœä»¥ä¸‹å‚è€ƒèµ„æºæœå¯»ï¼š é¢å‘å¯¹è±¡è®¾è®¡å®è·µæŒ‡å—: Ruby è¯­è¨€æè¿° äººæ°‘é‚®ç”µ SOLID OO è®¾è®¡åŸåˆ™ Design Patterns è®¾è®¡æ¨¡å¼ï¼Œæœ€æœ‰åçš„å³ GoF patternsã€‚è®¾è®¡æ¨¡å¼é’ˆå¯¹äº†ç‰¹å®šçš„æƒ…å¢ƒï¼Œæä¾›è®¾è®¡è§£æ³•(é€šå¸¸æ˜¯å¦‚ä½•è®¾è®¡ä½ çš„ç±»åˆ«)ï¼Œå¹¶ä¸”ã€Œå‘½åã€è¿™äº›æ¨¡å¼è®©ç¨‹åºå‘˜å¯ä»¥æ–¹ä¾¿æ²Ÿé€šå’Œå½“ä½œå‘½åçš„å…ƒç´ ã€‚å¦ä¸€æ–¹é¢ä¹Ÿæ˜¯æä¾›ä¸€ç§å¯ä»¥ä¸´æ‘¹çš„è®¾è®¡èŒƒä¾‹ã€‚å¸¸è§çš„è®¾è®¡æ¨¡å¼åŒ…æ‹¬ Factory, Adapter, Composite, Decorator, Iterator, Observer ç­‰ç­‰ å¼‚å¸¸å¤„ç† Exception21ã€ä»€ä¹ˆæ˜¯å¼‚å¸¸å¤„ç† Exception RuntimeError æ˜¯ä¸€ä¸ª Ruby å†…å»ºçš„é»˜è®¤å¼‚å¸¸å¯¹è±¡ï¼Œç”¨æ¥å‚¨å­˜å…³äºè¿™ä¸ªå¼‚å¸¸çš„ä¿¡æ¯ã€‚Rails è¿˜æœ‰å†…å»ºå…¶ä»–ä¸åŒçš„å¼‚å¸¸å¯¹è±¡ï¼Œè¯¦è§ Ruby APIã€‚ raise çš„å¤§å¤šæ˜¯ Ruby æœ¬èº«æˆ–æ˜¯æˆ‘ä»¬ä½¿ç”¨çš„åº“å’Œæ¡†æ¶ä¹‹ä¸­ï¼Œä¾‹å¦‚ï¼š å½“ä½ å¯¹ä¸€ä¸ªå¯¹è±¡è°ƒç”¨ä¸€ä¸ªä¸å­˜åœ¨çš„æ–¹æ³•æ—¶ï¼ŒRuby ä¼šä¸¢å‡º NoMethodError å¼‚å¸¸ åœ¨ Rails ä¸­å½“URLæ‰¾ä¸åˆ°ä»»ä½•è·¯ç”±è§„åˆ™å¯ä»¥ç¬¦åˆæ—¶ï¼Œä¼šä¸¢å‡º Routing Error å¼‚å¸¸ Ruby è¯­æ³•è¯´æ˜: rescue åœ¨ rescue æˆ‘ä»¬ä¼šå†™å¦‚ä½•å»å¤„ç†(æ‹¯æ•‘)å¼‚å¸¸ï¼Œè€Œ rescue =&gt; e çš„ e æ˜¯ä¸ªå¼‚å¸¸å¯¹è±¡ï¼Œä¼šå‚¨å­˜å…³äºè¿™ä¸ªå¼‚å¸¸çš„ä¿¡æ¯ã€‚ å¸¸è§çš„ rescue å¯èƒ½æ˜¯æ˜¾ç¤ºé”™è¯¯è®¯æ¯ï¼Œå‘Šè¯‰ç”¨æˆ·è¿™ä¸ªæ“ä½œå¤±è´¥äº†ï¼Œç„¶åç¨‹åºå›å¤æ­£å¸¸ç»§ç»­æ‰§è¡Œã€‚ Ruby è¯­æ³•: ensure ensure éƒ¨åˆ†åˆ™æ˜¯ä¸ç®¡æœ‰æ²¡æœ‰å‘ç”Ÿå¼‚å¸¸ï¼Œéƒ½ä¸€å®šä¼šæ‰§è¡Œåˆ°ã€‚ Ruby è¯­æ³•: é¡¶å±‚å¼‚å¸¸æ•è· 1234567891011def æŸä¸ªæ–¹æ³•åç§° # do something raise &apos;An error has occured.&apos;rescue =&gt; e puts &apos;I am rescued.&apos;ensure puts &apos;This code gets executed always.&apos;endä¸Šè¿°çš„ begin...rescue è¯­æ³•ï¼Œå¦‚æœæ”¾åœ¨ def æ–¹æ³•å®šä¹‰ä¸­ï¼Œåˆ™å¯ä»¥ç”¨ä»¥ä¸‹çš„ç®€ç•¥å†™æ³•ã€‚ä¹Ÿå°±æ˜¯å¯ä»¥çœç•¥æ‰åŸæœ¬å¼‚å¸¸å¤„ç†çš„ begin è·Ÿç»“å°¾çš„ endã€‚ 22ã€ä»€ä¹ˆæ˜¯ callstack å’Œ backtrace åœ¨ä¸€ä¸ªå¤æ‚çš„è½¯ä»¶ä¸­ï¼Œæ–¹æ³•å†…ä¼šè°ƒç”¨å…¶ä»–æ–¹æ³•ï¼Œç„¶åæ–¹æ³•åˆåœ¨è°ƒç”¨å…¶ä»–æ–¹æ³•ï¼Œä¾‹å¦‚ä»¥ä¸‹èŒƒä¾‹ï¼Œc æ–¹æ³•è°ƒç”¨ b æ–¹æ³•ã€b æ–¹æ³•å†…åˆè°ƒç”¨ a æ–¹æ³•ã€‚è¿™ç§ä¸€å±‚ä¸€å±‚çš„å…³ç³»ï¼Œåˆå«åš callstackã€‚ 1234567891011121314151617181920212223def a puts &quot;a&quot; raise &quot;A error&quot;enddef b puts &quot;b&quot; a()enddef c puts &quot;c&quot; b()endbegin c()rescue =&gt; e puts e.message puts e.backtraceensure puts &quot;finally&quot;end åœ¨ä¸Šè¿°çš„ rescue ä¸­ï¼Œæˆ‘ä»¬ç”¨ e.backtrace å¯ä»¥åˆ—å‡ºè°ƒç”¨çš„ callstack å…³ç³»ï¼Œbacktrace çš„æ„æ€å°±æ˜¯å›æœ”å½“åˆçš„è°ƒç”¨å…³ç³»ã€‚ åœ¨ Rails ä¸­å¦‚æœå‘ç”Ÿå¼‚å¸¸ï¼Œæ ¹æ® development æ¨¡å¼æˆ– production æ¨¡å¼ï¼Œæœ€å¤–å±‚æœ‰ä¸åŒçš„å¼‚å¸¸å¤„ç†ç­–ç•¥ï¼šåœ¨å¼€å‘æ—¶æœ€å¤–å±‚çš„ rescue ä¼šæ˜¾ç¤ºé”™è¯¯çš„ backtraceï¼Œè¿™æ ·å¯ä»¥å¸®åŠ©æˆ‘ä»¬äº†è§£å‘ç”Ÿé”™è¯¯çš„æ¥é¾™å»è„‰ï¼š é»˜è®¤æ˜¾ç¤º Application Trace ä¹Ÿå°±æ˜¯æˆ‘ä»¬å†™çš„ä»£ç  backtraceï¼Œè€Œ Framework Trace åˆ™æ˜¯å‘ç”Ÿåœ¨ Rails æ¡†æ¶å†…çš„ backtraceã€‚ å¦‚æœæ˜¯ production æ¨¡å¼ï¼Œé»˜è®¤çš„æœ€å¤–å±‚ rescue å…¶å®æ˜¯æ˜¾ç¤º 500 é”™è¯¯ç”»é¢(ä¹Ÿå°±æ˜¯ public/500.html)ã€‚ 23ã€å¼‚å¸¸å¤„ç†ç­–ç•¥ åœ¨çœ‹ Ruby API æˆ–æ˜¯ gem çš„ API æ–‡æ¡£æ—¶ï¼Œä½ å¯ä»¥æ³¨æ„ä¸€ä¸‹å®ƒä»¬æ˜¯å¦‚ä½•å¤„ç†å¼‚å¸¸æƒ…å†µçš„ã€‚â€”â€”åœ¨gemçš„é¡µé¢ï¼Œæœç´¢Exceptionså³å¯çœ‹åˆ°ç›¸å…³è¯­æ³•ã€‚ å¦‚æœä½ ç”¨ save çš„è¯ï¼Œå¦‚æœå¤±è´¥åªä¼šå›ä¼  false ç„¶åå°±ç»§ç»­æ‰§è¡Œä¸‹å»ï¼Œç”¨äº† save! å¦‚æœå¤±è´¥ç¨‹åºä¼šä¸­æ–­ã€‚ 24ã€å…³äº Rails çš„å¼‚å¸¸å¤„ç† find API å¦‚æœæ‰¾ä¸åˆ°æ•°æ®ï¼Œä¼šä¸¢ ActiveRecord::RecordNotFound çš„ä¾‹å¤–ã€‚åœ¨ show action æˆ‘ä»¬ç»å¸¸ç”¨è¿™ä¸ª APIã€‚ åœ¨ development å¼€å‘æ¨¡å¼ä¸­ï¼Œä½ ä¼šçœ‹åˆ° ActiveRecord::RecordNotFound å¼‚å¸¸ã€‚åœ¨ production ä¸Šçº¿æ¨¡å¼ï¼Œä¼šæ˜¾ç¤º 404 é¡µé¢(public/404.html) åœ¨ç™¾å®ç®±ç¬¬ä¸€é›†çš„ã€Œè‡ªå®šä¹‰ Model ç½‘å€ã€ä¸­ï¼Œæˆ‘ä»¬æ–°å¢äº†ä¸€ä¸ª friendly_id å­—æ®µï¼Œç„¶å show action æ”¹æˆï¼š 123def show @event = Event.find_by_friendly_id!(params[:id])end ä¸ºä»€ä¹ˆè¿™é‡Œåå¥½ç”¨æŠ›å‡ºå¼‚å¸¸çš„ç­–ç•¥å‘¢ï¼Ÿå¦‚æœæˆ‘ä»¬æ”¹ç”¨ Event.find_by_friendly_id(params[:id]) çš„è¯ï¼Œæ‰¾ä¸åˆ°æ•°æ®æ—¶ä¼šå›ä¼  nilï¼Œé‚£ä¹ˆ @event å˜æˆ nil ç¨‹åºç»§ç»­æ‰§è¡Œï¼ŒæŠ›å‡ºå¼‚å¸¸æ˜¯ NoMethodError æœ€åç¨‹åºä¸­æ–­ã€‚è¿™æ—¶å€™è¦æ‰¾åˆ°çœŸæ­£å¼‚å¸¸çš„åŸå› å°±ä¼šå¤šèŠ±ä¸€ç‚¹æ—¶é—´ã€‚ æˆ‘ä»¬å¸Œæœ›åœ¨å¼‚å¸¸å‘ç”Ÿçš„ç¬¬ä¸€æ—¶é—´å°±ä¸­æ–­ç¨‹åº(fail fast)ï¼Œè€Œä¸æ˜¯è®©ç¨‹åºæ— å£°åœ°ç»§ç»­æ‰§è¡Œä¸‹å»ï¼Œæœ€ååƒä¸€ä¸ªæœªçˆ†å¼¹ä¸€æ ·æœ€åè«åå…¶å¦™åœ°ç‚¸æ‰ã€‚ å¯ä»¥åœ¨ controller ä¸­å®£å‘Š rescue_from å»æ•‘å›ç‰¹å®šçš„å¼‚å¸¸å¯¹è±¡ã€‚ gemç”¨äºå¼‚å¸¸é€šçŸ¥ Exception Notifier Rollbar æ¨èè¿™å¥—ï¼Œæœ‰å…è´¹é¢åº¦ä¸€ä¸ªæœˆè®°å½• 5000 ä¸ªå¼‚å¸¸ Airbrake è¿™äº›ç¬¬ä¸‰æ–¹æœåŠ¡å¯ä»¥åœ¨ç½‘ç«™å‘ç”Ÿå¼‚å¸¸é”™è¯¯çš„æ—¶å€™è‡ªåŠ¨å°†é”™è¯¯è®¯æ¯æ”¶é›†èµ·æ¥ï¼Œå¹¶ä¸”æä¾›äº†è¿˜è›®ä¸é”™çš„åå°å¯ä»¥æµè§ˆï¼Œè¿˜å¯ä»¥ç»Ÿè®¡åŠè¿½è¸ªå¼‚å¸¸å¤„ç†çš„æƒ…å†µã€‚å…è´¹çš„æ–¹æ¡ˆå¯¹äºå°ç½‘ç«™å°±å¾ˆå¤Ÿç”¨ï¼Œéå¸¸æ¨èä½¿ç”¨ã€‚ å…ƒç¼–ç¨‹ Meta-Programming25ã€å…ƒç¼–ç¨‹: define_method å…ƒç¼–ç¨‹(Meta-programming)çš„æ„æ€æ˜¯è®©ç¨‹åºå¸®æˆ‘ä»¬å†™ç¨‹åºã€‚ è¿™å°±æ˜¯ Rails å¾ˆå¤š API ç”¨æ³•ä¹‹æ‰€ä»¥è¿™ä¹ˆ magic èƒŒåçš„ç§˜å¯†æ­¦å™¨ã€‚æ’°å†™å…ƒç¼–ç¨‹çš„èƒ½åŠ›æ˜¯åº“å’Œæ¡†æ¶ä½œè€…çš„å¿…å¤‡æŠ€å·§ã€‚ æ¨èRubyå…ƒç¼–ç¨‹ä¸€ä¹¦ã€‚ define_methodï¼Œæ˜¯ä¸ª Ruby çš„ç±»æ–¹æ³•ï¼Œå¯ä»¥åŠ¨æ€å®šä¹‰å¯¹è±¡æ–¹æ³•ã€‚ define_method(:foo) { puts &quot;bar&quot; } ç­‰åŒäº 123def foo puts &quot;bar&quot;end åŒºåˆ«ä¸defï¼Œå·®åˆ«åœ¨ define_method ç”¨åŒ¿åå‡½å¼æ¥å®šä¹‰æ–¹æ³•ï¼Œæ‰€ä»¥æœ‰ Closure(é—­åŒ…) ç‰¹æ€§ã€‚ Rails å¾ˆå¤šè¿™æ ·çš„å®£å‘ŠèƒŒåï¼Œéƒ½æ˜¯ç”¨ define_method åšå‡ºæ¥çš„ 26ã€å…ƒç¼–ç¨‹: method_missing Ruby åœ¨è°ƒç”¨æ–¹æ³•æ‰¾ä¸åˆ°æ—¶ï¼Œä¼šæ”¹è°ƒç”¨è¿™ä¸ª method_missing è¿™ä¸ªæ–¹æ³•ã€‚ 123456789101112131415161718class Car def go(place) puts &quot;go to #&#123;place&#125;&quot; end def method_missing(name, *args) if name.to_s =~ /^go_to_(.*)/ go($1) else super end endendcar = Car.newcar.go_to_taipei# go to taipei car.blah # NoMethodError: undefined method blah 1234567 * å½“è°ƒç”¨ `go_to_XXXX` æ—¶ï¼Œå› ä¸ºæˆ‘ä»¬å¹¶æ²¡æœ‰ç‰¹åˆ«å®šä¹‰è¿™ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥å°±ä¼šæ”¹æˆè°ƒç”¨ `method_missing` æ–¹æ³•ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­æˆ‘ä»¬å†æ£€æŸ¥æ˜¯ä¸æ˜¯ `go_to_` å¼€å¤´ï¼Œå¦‚æœæ˜¯çš„è¯å°±è°ƒç”¨ `go` æ–¹æ³•ï¼Œä¸ç„¶å°±æ”¹è°ƒç”¨ `super` å›åˆ°åŸæœ¬çš„è¡Œä¸ºï¼Œä¹Ÿå°±æ˜¯æŠ›å‡º NoMethodError å¼‚å¸¸ã€‚ * `super` å½“ä½ åœ¨ç±»åˆ«ä¸­å¤å†™ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œé€è¿‡ `super` å¯ä»¥è°ƒç”¨åˆ°ä¸Šä¸€å±‚è¢«ä½ å¤å†™çš„æ–¹æ³•ã€‚* ä¾‹å¦‚ ActiveRecord çš„ `find_by_XXX(&quot;YYY&quot;)` åŠŸèƒ½ï¼Œä¼šå˜æˆ `where( :XXX =&gt; &quot;YYY&quot; ).first`* åˆä¾‹å¦‚åœ¨ Web API æ•™ç¨‹ä¸­ï¼Œç”¨åˆ° Jbuilder æ ·æ¿æ¥è¾“å‡º JSONã€‚å…¶ä¸­çš„ `number`ã€`available_seats` å’Œ `created_at` æ–¹æ³•å…¶å®éƒ½è¿›åˆ° `method_missing` äº†ã€‚ app/views/api/v1/trains/show.json.jbuilderjson.number @train.numberjson.available_seats @train.available_seatsjson.created_at @train.created_at 123456789101112ï¼ï¼ï¼ï¼ï¼ï¼ï¼99ï¼šmethod_missingåˆ°åº•æ˜¯ä»€ä¹ˆé¬¼ï¼Œå®Œå…¨çœ‹ä¸æ‡‚ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ## 27ã€å…ƒç¼–ç¨‹: Monkey Patch* [çŒ´å­è¡¥ä¸](https://zh.wikipedia.org/wiki/%E7%8C%B4%E8%A1%A5%E4%B8%81)çš„æ„æ€æ˜¯ç›´æ¥å¤å†™ Class çš„å®šä¹‰å»ä¿®æ”¹è¡Œä¸ºï¼Œåœ¨ Rails ä¸­å¸¸ç”¨è¿™æ‹›æ¥æ‰©å¢åŸæœ¬ Ruby çš„è¡Œä¸ºï¼Œä¾‹å¦‚ï¼š* tryæ–¹æ³• * try è¿™ä¸ªæ–¹æ³•çš„åŸç†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ class NilClass def try(*args) nil endend 1234* blank? æ–¹æ³• * blank? è¿™ä¸ªæ–¹æ³•çš„åŸç†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ class Object # åœ¨ Ruby ä¸­æ‰€æœ‰çš„ç±»éƒ½ä¼šç»§æ‰¿è‡ª Object è¿™ä¸ªç±» def blank? respond_to?(:empty?) ? empty? : !self end def present? !blank? end end class NilClass def blank? true endend class FalseClass def blank? true endend class TrueClass def blank? false endend 123456789101112131415# ç¼–ç é£æ ¼## 28ã€ç¼–ç é£æ ¼ Coding Styleç¼–ç é£æ ¼å¯¹äºå›¢é˜Ÿå¼€å‘ååˆ†é‡è¦ï¼Œç»´æŒä¸€æƒ¯çš„é£æ ¼å¯ä»¥å¢åŠ ä»£ç çš„å¯è¯»æ€§ã€‚åœ¨ Ruby å’Œ Rails ç¤¾åŒºä¸­ï¼Œå¤§å¤šä¼šéµå®ˆä»¥ä¸‹çš„é£æ ¼æŒ‡å—ï¼š- [Ruby é£æ ¼æŒ‡å—](https://github.com/JuanitoFatas/ruby-style-guide/blob/master/README-zhCN.md)- [Rails é£æ ¼æŒ‡å—](https://github.com/JuanitoFatas/rails-style-guide/blob/master/README-zhCN.md)- [Udacity Frontend Nanodegree Style Guide](http://udacity.github.io/frontend-nanodegree-styleguide/index.html)- [A guide for programming in style](https://github.com/thoughtbot/guides/tree/master/style)å¯¹ä¸ªäººæ¥è¯´ï¼Œç¼–ç é£æ ¼ä¹Ÿä»£è¡¨äº†ä½ çš„ä»£ç æœ‰æ²¡æœ‰åœ¨ç¼–ç¨‹è¯­è¨€ç¤¾åŒºã€Œæ¥åœ°æ°”ã€ï¼Œæ›´æ˜¯ä»£ç ç»™äººçš„ç¬¬ä¸€å°è±¡ã€‚ä¸€ä¸ªç¼©è¿›ä¸ä½³çš„ä»£ç ï¼Œç»™äººçš„ç¬¬ä¸€å°è±¡å°±æ˜¯ã€Œä¸ä¸“ä¸šã€ã€‚","categories":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}],"tags":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/tags/rorç³»ç»Ÿ/"}],"keywords":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}]},{"title":"ror-system-Api","slug":"ror-system-Api","date":"2017-12-13T16:10:00.000Z","updated":"2018-01-14T04:43:01.000Z","comments":true,"path":"posts/c0ce8aa/","link":"","permalink":"http://yoursite.com/posts/c0ce8aa/","excerpt":"","text":"çœ‹ç¬¬å››éï¼Œåˆçœ‹æ‡‚äº†ä¸€äº›ä¸œè¥¿ 1ã€çˆ¬è™«çš„å…³é”®å®‰è£… rest-client è¿™ä¸ª gemï¼Œå¯ä»¥è®©æˆ‘ä»¬ç”¨ Ruby å‘é€ HTTP è¯·æ±‚ï¼š é€è¿‡ Nokogiri è¿™ä¸ªåº“å¯ä»¥å¸®åŠ©æˆ‘ä»¬è§£æ HTMLï¼Œé€è¿‡ CSS selector ä»æ–‡ä»¶ä¸­æ¯”å¯¹å‡ºæƒ³è¦çš„èµ„è®¯ã€‚ 123require &apos;nokogiri&apos;doc = Nokogiri::HTML.parse(response.body)doc.css(&quot;.today .tem&quot;).map&#123; |x| x.text &#125; # å¾—åˆ° [&quot;\\n13Â°C\\n&quot;, &quot;\\n2Â°C\\n&quot;, &quot;\\n&quot;] é‡ç‚¹ä»£ç ï¼š12response = RestClient.get &quot;http://v.juhe.cn/weather/citys&quot;, :params =&gt; &#123; :key =&gt; &quot;ä½ ç”³è¯·çš„keyæ”¾è¿™é‡Œ&quot; &#125;data = JSON.parse(response.body) ç¬¬ä¸€è¡Œç”¨ rest-client è¿™ä¸ª gemï¼Œå‘é€httpè¯·æ±‚ï¼Œå¹¶é™„å¸¦API keyå¯ä»¥è®©ç³»ç»ŸéªŒè¯æˆ‘ä»¬åˆ†èº«ä»½è®©æˆ‘ä»¬æœ‰æƒé™æŠ“æ•°æ®ã€‚ ç¬¬äºŒè¡Œæ˜¯æŠŠjsonå­—ä¸²è½¬å›rubyã€‚ 2ã€Api keyçš„ä½œç”¨å¯†é’¥ï¼Œæä¾›äº†è¿™ä¸ªkeyï¼Œç›´æ¥å°±å¯ä»¥ç›¸å½“äºé€šè¿‡èº«ä»½éªŒè¯ï¼Œå¦‚å·²ç»ç™»å½•äº†ã€æˆ–æ˜¯ç®¡ç†å‘˜ã€æˆ–æ˜¯è¶…çº§ä¼šå‘˜ç­‰èº«ä»½ã€‚ è‡ªå®šä¹‰API keyï¼Œæ˜¯åœ¨modelé‡Œç”¨before_create :generate_authentication_tokenæ¥è°ƒç”¨ã€‚ 12345678app/models/user.rb class User &lt; ApplicationRecord+ before_create :generate_authentication_token++ def generate_authentication_token+ self.authentication_token = Devise.friendly_token+ end 3ã€controller å¸¸ç”¨ä»£ç 123456789101112131415161718app/controller/api/v1/reservations_controller.rb+ class Api::V1::ReservationsController &lt; ApiController+ def index+ @reservations = current_user.reservations++ render :json =&gt; &#123;+ :data =&gt; @reservations.map &#123; |reservation|+ &#123;+ :booking_code =&gt; reservation.booking_code,+ :train_number =&gt; reservation.train.number,+ :seat_number =&gt; reservation.seat_number,+ :customer_name =&gt; reservation.customer_name,+ :customer_phone =&gt; reservation.customer_phone+ &#125;+ &#125;+ &#125;+ end ç¬¬ä¸€éƒ¨åˆ†ï¼Œè·Ÿå¹³æ—¶çš„CRUDä¸€æ ·ã€‚ ç¬¬äºŒéƒ¨åˆ†ï¼Œå› ä¸ºApiçœç•¥äº†viewsæ–‡æ¡£ï¼Œç›¸å½“äºæŠŠviewsè¦ä¼ é€’çš„å‚æ•°æ”¾åœ¨controlleré‡Œï¼Œå¹¶è½¬æ¢æˆapiç”¨çš„jsonæ ¼å¼ã€‚ ç”¨ JBuilder å¯ä»¥é‡æ„ä»¥ä¸Šä»£ç ï¼Œç‰¹åˆ«æ˜¯GETè¿™ç§å­—æ®µç‰¹åˆ«å¤šçš„ä»£ç ã€‚123456789app/controllers/api/v1/trains_controller.rb def show @train = Train.find_by_number!( params[:train_number] )- render :json =&gt; &#123;- :number =&gt; @train.number,- :available_seats =&gt; @train.available_seats- &#125; end æ–°å¢ app/views/api/v1/trains/show.json.jbuilder æ¡£æ¡ˆï¼Œè¿™å°±æ˜¯ JBuilder æ ·æ¿ï¼Œå³action.json.jbuilderã€‚ ç”¨JBuilderç®€åŒ–åçš„ä»£ç å¦‚ä¸‹ï¼š 12345app/views/api/v1/trains/show.json.jbuilderjson.number @train.numberjson.available_seats @train.available_seatsjson.created_at @train.created_at 4ã€routes.rb å¸¸ç”¨ä»£ç ä»¥ä¸‹æ˜¯è·¯ç”±routes.rbçš„å†™æ³•ï¼ˆè¿™ç§å†™æ³•åªé€‚ç”¨äºrubyï¼Œå¸¸ç”¨å†™æ³•è¦æ¯ä¸ªactioné€æ¡åˆ—å‡ºï¼‰ï¼š 123456namespace :api, :defaults =&gt; &#123; :format =&gt; :json &#125; do namespace :v1 do resources :trains, :only =&gt; [:index, :show] resources :reservations, :only =&gt; [:show, :create, :update, :destroy] endend å¸¸ç”¨çš„å†™æ³•å¦‚ä¸‹ï¼š 1234567891011121314151617config/routes.rb Rails.application.routes.draw do+ namespace :api, :defaults =&gt; &#123; :format =&gt; :json &#125; do+ namespace :v1 do+ get &quot;/trains&quot; =&gt; &quot;trains#index&quot;, :as =&gt; :trains+ get &quot;/trains/:train_number&quot; =&gt; &quot;trains#show&quot;, :as =&gt; :train++ get &quot;/reservations/:booking_code&quot; =&gt; &quot;reservations#show&quot;, :as =&gt; :reservation+ post &quot;/reservations&quot; =&gt; &quot;reservations#create&quot;, :as =&gt; :create_reservations+ patch &quot;/reservations/:booking_code&quot; =&gt; &quot;reservations#update&quot;, :as =&gt; :update_reservation+ delete &quot;/reservations/:booking_code&quot; =&gt; &quot;reservations#destroy&quot;, :as =&gt; :cancel_reservation+ post &quot;/signup&quot; =&gt; &quot;auth#signup&quot;+ post &quot;/login&quot; =&gt; &quot;auth#login&quot;+ post &quot;/logout&quot; =&gt; &quot;auth#logout&quot;+ end+ end å…¶ä¸­post &quot;/reservations&quot; =&gt; &quot;reservations#create&quot;, :as =&gt; :create_reservationsçš„æ„æ€æ˜¯ å®¢æˆ·ç«¯é€å‡º POST /api/v1/reservations æ—¶ï¼Œä¼šè¿›å…¥ Api::V1::ReservationsController çš„ create æ–¹æ³•ï¼Œè€Œ as å‚æ•°çš„æ„æ€æ˜¯äº§ç”Ÿè¿™ä¸ªåœ°å€çš„è·¯ç”±æ–¹æ³•å«åš api_v1_create_reservations_pathã€‚ æœ€åï¼Œ:defaults =&gt; { :format =&gt; :json } æ„æ€æ˜¯é»˜è®¤å®¢æˆ·ç«¯è¦æ±‚çš„æ˜¯ JSON æ ¼å¼ï¼Œæœ¬æ¥çš„é»˜è®¤å€¼æ˜¯ HTMLã€‚å¦‚æœæ²¡æœ‰æ”¹è¿™ä¸ªçš„è¯ï¼Œä½ å¿…é¡»åœ¨ç½‘å€æœ€åé¢åŠ ä¸Š .json æ¥æŒ‡å®šå®¢æˆ·ç«¯è¦æ±‚çš„æ ¼å¼ï¼Œä¾‹å¦‚ GET /api/v1/trains.jsonã€‚ 4ã€Api keyå¤šç”¨äºwebç«¯ï¼Œæ‰‹æœºç«¯æ€ä¹ˆåŠï¼Ÿåšæ³¨å†Œã€ç™»å½•çš„apiç«¯å£ï¼ˆæˆ‘çš„ç†è§£æ˜¯ä¸€ä¸ªç½‘å€å°±æ˜¯ä¸€ä¸ªç«¯å£ï¼‰5ã€å…¶ä»–åªæœ‰ form-data æ‰èƒ½ä¸Šä¼ æ¡£æ¡ˆï¼ˆå¦‚å›¾ç‰‡ã€pdfï¼‰ï¼Œè€Œä¸æ˜¯json è¿› rails c è¾“å…¥ 100.times { |i| Train.create( :number =&gt; &quot;T#{i}&quot; ) } å°±ä¼šäº§ç”Ÿä¸€ç™¾ç¬”èµ„æ–™ã€‚","categories":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}],"tags":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/tags/rorç³»ç»Ÿ/"}],"keywords":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}]},{"title":"ror-system-è‡ªåŠ¨åŒ–æµ‹è¯•","slug":"ror-system-è‡ªåŠ¨åŒ–æµ‹è¯•","date":"2017-12-13T16:10:00.000Z","updated":"2018-01-14T04:43:01.000Z","comments":true,"path":"posts/bf9570f4/","link":"","permalink":"http://yoursite.com/posts/bf9570f4/","excerpt":"","text":"1gem &apos;rspec-rails&apos; 1gem &apos;capybara&apos; è‡ªåŠ¨åŒ–æµ‹è¯•åˆ†æˆå‡ ç§ä¸åŒç±»å‹ï¼Œç›®å‰å­¦çš„è¿™ç§æ˜¯é’ˆå¯¹å•ä¸€ç±»åˆ«çš„æ–¹æ³•è¿›è¡Œæµ‹è¯•ï¼Œå«åšå•å…ƒæµ‹è¯•(Unit Testing)ã€‚ ä½ ä¼šå‘ç°æˆ‘ä»¬ä¸éœ€è¦ä¸€å¼€å§‹å°±æŠŠå…¨éƒ¨æµ‹è¯•æ¡ˆä¾‹éƒ½å…ˆå†™ä¸Šå»(è¿™æ ·è¦ä¸€æ¬¡é€šè¿‡æ‰€æœ‰æµ‹è¯•ä¼šå¾ˆè¾›è‹¦)ï¼Œè€Œæ˜¯æ–°å†™ä¸€æ®µæµ‹è¯•ç è®©æµ‹è¯•å¤±è´¥ï¼Œæ”¹ä¸€ä¸‹å®ä½œè®©æµ‹è¯•é€šè¿‡ï¼Œç„¶åå†æ–°å†™ä¸‹ä¸€ä¸ªæµ‹è¯•ç è®©æµ‹è¯•å¤±è´¥ï¼Œç„¶åå†æ”¹å®ä½œï¼Œå¦‚æ­¤è¿­ä»£äº¤æ›¿ã€‚ è¿™ç§æŠ€å·§ï¼Œåœ¨è½¯ä»¶å¼€å‘é¢†åŸŸæœ‰ä¸€ä¸ªå¾ˆå“äº®çš„åç§°ï¼Œå«åš TDD(Test-Driven Development)ï¼Œæµç¨‹æ˜¯è¿™æ ·çš„ï¼ˆæµç¨‹çš„æœ€åä¸€æ­¥æ˜¯é‡æ„ï¼‰ï¼š rspecæµ‹è¯•æ–‡æ¡£vsï¼Œcontext å’Œ describe ä½œç”¨ä¸€æ¨¡ä¸€æ ·ï¼Œå•çº¯åªæ˜¯åˆ†ç±»ç»„ç»‡è€Œå·²ï¼Œæ²¡æœ‰å®é™…ä½œç”¨ã€‚ åœ¨æµ‹è¯•ä»£ç ä¸­ï¼Œä½ å¯ä»¥ç›´æ¥ puts å˜é‡ï¼Œè·‘æµ‹è¯•çš„æ—¶å€™å°±ä¼šå°å‡ºæ¥äº†ã€‚è¿™æ˜¯æœ€ç®€å•çš„é™¤é”™æ–¹å¼ã€‚æˆ–æ˜¯ä½ å¯ä»¥åœ¨ä»»æ„åœ°æ–¹æ”¾ byebug ä¸‹ä¸­æ–­ç‚¹ï¼Œå°±ä¼šåœ¨æ‰§è¡Œåˆ°é‚£ä¸€è¡Œæ—¶åœä¸‹æ¥ï¼Œå¯ä»¥æ£€æŸ¥å˜é‡ï¼Œè¾“å…¥ continue å°±ä¼šç»§ç»­æ‰§è¡Œä¸‹å»ã€‚ åˆšåˆšéƒ½æ˜¯è·‘å•ä¸ªæµ‹è¯•æ¡£æ¡ˆï¼Œå¦‚æœè¦è·‘å…¨éƒ¨æµ‹è¯•ï¼Œå¯ä»¥æ‰§è¡Œ rake specã€‚é€šå¸¸æˆ‘ä»¬ä¼šåœ¨ git push å‰ï¼Œå°½é‡è·‘è¿‡ä¸€æ¬¡å…¨éƒ¨çš„æµ‹è¯•ã€‚","categories":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}],"tags":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/tags/rorç³»ç»Ÿ/"}],"keywords":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}]},{"title":"ror-system-æ¨¡æ‹Ÿé¢è¯•(è§†é¢‘)","slug":"ror-system-æ¨¡æ‹Ÿé¢è¯•(è§†é¢‘)","date":"2017-12-13T16:10:00.000Z","updated":"2018-01-14T04:43:01.000Z","comments":true,"path":"posts/2682de6f/","link":"","permalink":"http://yoursite.com/posts/2682de6f/","excerpt":"","text":"ä¸€ã€äººæ ¼æŒ–æ˜çš„ç‰¹è´¨çš„é¢˜é¢è¯•è¢«å± æ€æŒ«è´¥çš„åŸå› ï¼š 1ã€ä¸çŸ¥é“å¦‚ä½•å‹¾èµ·åˆ«äººçš„å…´è¶£ 2ã€åœ¨æŠ€æœ¯ç»†èŠ‚ç­”ä¸ä¸Šæ¥ 1ã€å½“åˆä¸ºä»€ä¹ˆæƒ³è¦æ¥è§¦railsçš„ï¼ˆå…¬å¸å…³å¿ƒçš„åªæ˜¯ä½ æ˜¯ä¸æ˜¯ä¸€ä¸ªå€¼å¾—æŒ–æ˜çš„äººï¼‰ï¼Ÿ2ã€ä½ ä¹‹å‰æ˜¯å¿µåœŸæœ¨å·¥ç¨‹çš„ï¼Œç°åœ¨æƒ³è¦è½¬å¼€å‘ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¹ˆå¤§çš„è·¨åº¦ï¼Ÿ3ã€ä½ æ˜¯æ€æ ·å­¦ä¹ ruby on rails çš„ï¼Ÿç‚¹è¯„1ï¼šæ­å–œä½ ä»Šå¤©3ä¸ªé—®é¢˜ï¼Œè®©ä½ é˜µäº¡äº†ã€‚ã€‚ ä½ å¿…é¡»åœ¨å‰ä¸¤ä¸ªé—®é¢˜å°±è®©é¢è¯•å®˜çŸ¥é“ï¼Œä½ æ˜¯å¾ˆæœ‰çƒ­æƒ…å­¦æŠ€æœ¯çš„äººï¼Œæ¥ç€ä»ä½ çš„å›ç­”å¯ä»¥æ‰¾çš„å‡ºè¦ç»§ç»­é—®ä½ çš„æŠ€æœ¯é—®é¢˜ã€‚ä½ çš„å›ç­”è®©æˆ‘å¤±å»å…´è¶£å†é—®ä½ ï¼Œä½ çš„å›ç­”æ²¡æœ‰ä¸å¥½ä½ ç­”çš„ä¸­è§„ä¸­çŸ©ï¼Œä½†æ˜¯åœ¨æŠ€æœ¯é¢è¯•æ˜¯ä¸åˆæ ¼çš„ï¼Œå› ä¸ºä»–å¦‚æœç”¨ä½ é‚£ä»–æ˜¯åœ¨ç”¨ä¸€ä¸ªè½¬è¡Œçš„ä½†æ˜¯ä¸çŸ¥é“è‡ªå·±åœ¨å¹²å˜›çš„äººï¼ˆåˆé‡åˆ°ä¸€ä¸ªæƒ³è¦è½¬è¡Œçš„å°ç™½ï¼Œä»–è¿è‡ªå·±åœ¨åšä»€ä¹ˆéƒ½ä¸çŸ¥é“ï¼Œè€Œäº‹å®ä¸Šä½ ä¸æ˜¯è¿™æ ·å­çš„ï¼‰ã€‚ ä½ è¦è®©ä»–è®¤ä¸ºè™½ç„¶ä½ ä¸æ˜¯ç§‘ç­çš„ï¼Œä½†æ˜¯ä½ éå¸¸æœ‰çƒ­æƒ…æŠŠå®ƒå­¦å¥½ã€éå¸¸æœ‰ç‹¼æ€§ã€‚ æˆ‘æ˜¯å­¦åœŸæœ¨çš„ï¼Œæˆ‘åœ¨å­¦åœŸæœ¨çš„æ—¶å€™æˆ‘ä¼šæ“ä½œä¸€äº›è½¯ä»¶ï¼Œç„¶åè¿™äº›è½¯ä»¶æˆ‘ä»¬å¸¸å¸¸åšä¸€äº›é‡å¤çš„äº‹æƒ…ï¼Œåšå¤šäº†è§‰å¾—ä¸ä¼šç¼–ç¨‹çœŸçš„å¥½éº»çƒ¦ï¼Œæ‰€ä»¥æˆ‘æƒ³è¦é€è¿‡ç¼–ç¨‹è§£å†³è¿™äº›é‡å¤çš„äº‹æƒ…ï¼Œä½¿æˆ‘çš„ä¸“ä¸šå¾—åˆ°å¾ˆå¤§çš„æå‡ã€‚ ä½†æ˜¯å› ä¸ºå­¦ç€å­¦ç€æˆ‘å‘ç°ï¼Œæˆ‘å¯¹ç¼–ç¨‹åè€Œæœ‰æ›´å¤§çš„çƒ­æƒ…ï¼Œæ‰€ä»¥æˆ‘å°±å»çŸ¥ä¹æ‰¾äº†ä¸€ä¸‹å“ªé—¨æŠ€æœ¯æ¯”è¾ƒé€‚åˆæˆ‘ï¼Œæ¥ç€æˆ‘å‘ç°äº†ruby on railsï¼Œå› ä¸ºå®ƒå¯ä»¥ååŠ©æˆ‘å¾ˆå¿«çš„è§£å†³é—®é¢˜ã€‚ æ¥ç€ä»–ä¼šé—®ä½ æ˜¯æ€æ ·å­¦ä¹ ruby on rails çš„ï¼Ÿä½ åˆšåˆšè¯´è‡ªå­¦ã€åˆ»è‹¦ç»ƒä¹ ï¼Œä½†æ˜¯è¿™æ ·çš„å›ç­”ä¸åˆæ ¼ï¼Œå› ä¸ºæˆ‘ä¸çŸ¥é“è¦é—®ä½ ä»€ä¹ˆï¼Ÿ ä¸€ä¸ªé¢è¯•å®˜åœ¨å¯¹ä½ æ²¡å…´è¶£çš„æ—¶å€™ï¼Œæœ€å¤šåªä¼šé—®ä½ 6ä¸ªé—®é¢˜ã€‚ é¢è¯•çš„é—®é¢˜æ˜¯ä¸€ä¸ªå‹¾ä¸€ä¸ªè¿™æ ·ä¸‹å»çš„ï¼Œä½ åˆšåˆšçš„å›ç­”è®©æˆ‘åœ¨ç¬¬3ä¸ªé—®é¢˜å°±ä¸çŸ¥é“è¦æ€ä¹ˆé—®ä¸‹å»ã€‚ä½ è¦åˆ¶é€ è®©ä»–ç»§ç»­é—®ä½ çš„ç‚¹ï¼Œè®©ä»–æœ‰å…´è¶£é—®ä½ æŠ€æœ¯ç»†èŠ‚ï¼Œè€ŒæŠ€æœ¯ç»†èŠ‚ç­”ä¸ä¸Šæ¥æ²¡å…³ç³»ï¼Œå› ä¸ºä½ æœ‰å°è¯•åœ¨å›ç­”ï¼Œè®©ä»–è§‰å¾—ä½ æœ‰æŠ€æœ¯äººçš„è„‘ã€‚ æˆ‘é¦–å…ˆä¹°ä¸€æœ¬ä¹¦ï¼Œåšä¸€äº›ç½‘ä¸Šçš„å…¬å¼€æ•™æï¼Œç„¶åæˆ‘å­¦ä¼šäº†åšjob-listingã€12 in 12ã€‚æ…¢æ…¢äº†æ¯”è¾ƒç†Ÿæ‚‰railsçš„æ¶æ„ï¼Œæˆ‘ç»§ç»­åšä¸€äº›æ¯”è¾ƒå¤æ‚æ¶æ„çš„ä¸œè¥¿æ¯”å¦‚jdstoreï¼Œç”šè‡³æˆ‘æœ‰å‚åŠ è¡¥ä¹ ç­ï¼Œç„¶ååœ¨é‡Œé¢å¤–é¢æœ‰å‚åŠ å¤§èµ›ï¼Œè·Ÿé˜Ÿå‹ç»„é˜Ÿåšä¸€ä¸ªå»ºç«™é¡¹ç›®ã€‚ â€‹ ç‚¹è¯„2ï¼š -50åˆ†çš„å›ç­”ï¼Œä½ è¯´ä½ ä¸Šè¡¥ä¹ ç­ç›´æ¥æ‰£30åˆ†ï¼Œ å› ä¸ºæˆ‘æƒ³è¦æ¥è§¦ruby on railsï¼Œä½†æ˜¯è‡ªå­¦åˆè§‰å¾—é€Ÿåº¦ä¸å¤Ÿå¿«ï¼Œæ‰€ä»¥æˆ‘æœ€åå»å‚åŠ ä¸€ä¸ªè¡¥ä¹ ç­ï¼Œä¸»è¦å­¦äº†ä¸¤ä¸ªé¡¹ç›®ï¼Œç¬¬ä¸€ä¸ªæ˜¯job-listingå°±æ˜¯å­¦ç®€å•çš„CRUDï¼Œç¬¬äºŒä¸ªæ˜¯å•†åº—é¡¹ç›®ï¼Œå­¦ä¼šä»é›¶æ„å»ºä¸€ä¸ªçœŸå®çš„é¡¹ç›®ï¼Œè¿˜å­¦ä¹ åˆ°UserStoryå¹¶å®è·µæ•´ä¸ªé¡¹ç›®ã€‚ åœ¨è¡¥ä¹ ç­çš„æ—¶å€™ï¼Œè¿™ä¸¤ä¸ªé¡¹ç›®éƒ½æ˜¯æœ‰æ¯”èµ›çš„ï¼Œæˆ‘æ‹¿åˆ°äº†æ¯”è¾ƒå¥½çš„æˆç»©ï¼Œç¬¬ä¸€æ¬¡æ‹¿åˆ°3ç­‰å¥–ï¼Œç¬¬äºŒæ¬¡æ‹¿åˆ°ä¼˜ç§€ä½œå“å¥–ã€‚æˆ‘è§‰å¾—ç¬¬äºŒæ¬¡çš„ä½œå“å…¶å®æˆ‘è¿˜æ˜¯è›®éª„å‚²çš„ã€‚ï¼ˆä»–é—®ä½ ä½ ä¸ºä»€ä¹ˆè§‰å¾—éª„å‚²ï¼Ÿï¼‰å…¶å®æˆ‘ä¸€å¼€å§‹æ˜¯å®Œå…¨ä¸ä¼šçš„ï¼Œä½†æ˜¯ç¬¬ä¸€æ¬¡è·å¥–è®©æˆ‘è·å¾—å¾ˆå¤§çš„ä¿¡å¿ƒï¼Œæ‰€ä»¥ç¬¬äºŒæ¬¡æˆ‘å°±å¾ˆæƒ³è¦å†æ¥å†å‰æ‹¿åˆ°æ›´å¥½çš„åæ¬¡ã€‚ è€Œä¸”è¿™æ¬¡æ˜¯è¦æ±‚åŒäººç»„é˜Ÿçš„ï¼Œåœ¨æ¯”èµ›ä¸­ï¼Œæˆ‘æ˜¯æ‹…ä»»ä¸»ç¨‹çš„å·¥ä½œï¼Œåœ¨è¿™æ¬¡æ¯”èµ›ä¸­å­¦åˆ°å¾ˆå¤šå’Œé˜Ÿå‹åä½œçš„æŠ€å·§ï¼Œåœ¨æœ€åæˆ‘ä»¬ä¹Ÿå–å¾—å¾ˆå¥½çš„æˆç»©ã€‚ ä»¥ä¸Šè¿™æ®µï¼Œå°±æŠŠä½ ä¸ªäººçš„ä¼˜ç‚¹å®Œå…¨çš„æš´éœ²å‡ºæ¥ï¼Œè€Œä¸”ä»–å¯ä»¥é—®ã€‚æ¯”å¦‚ï¼š1ã€ä½ ä½œä¸ºä¸»ç¨‹ï¼Œä½ å†™äº†å“ªäº›åŠŸèƒ½ï¼Ÿ 2ã€ä½ æ€ä¹ˆæ ·è·Ÿåˆ«äººåä½œï¼›3ã€ä½ è§‰å¾—å½“ä¸­ä½ è§‰å¾—æœ€æŒ‘æˆ˜çš„æ˜¯ä»€ä¹ˆï¼Ÿ æˆ‘æ˜¯åœ¨èŒå­¦ä¹ çš„ï¼Œåªæœ‰æ™šä¸Šæœ‰æ—¶é—´ï¼Œæˆ‘ä¼šè·Ÿé˜Ÿå‹mergeä»£ç ï¼Œè®¨è®ºä¸€äº›åŠŸèƒ½çš„å–èˆæœ‰æ—¶ä¼šåµçš„å¾ˆæ¿€çƒˆï¼Œä½†æ˜¯æˆ‘ä»¬æœ€åå…‹æœäº†ã€‚ï¼ˆåœ¨èŒè¿˜å­¦ä¹ +æœ‰åŠæ³•ç®¡ç†å†²çª+æœ‰åŠæ³•ç»§ç»­æ¨è¿›ï¼‰ ä½ çš„äººæŠ€æœ¯åº•å­éƒ½ä¸é”™ï¼Œä½†æ˜¯å¾ˆéš¾é—®å•Šï¼Œé—®ä¸å‡ºæ¥ã€‚æˆ‘éƒ½è¿˜æ²¡æœ‰é—®ä»–æŠ€æœ¯é—®é¢˜å°±è¢«æˆ‘é—®å®äº†ã€‚è¿™æ ·å°±å¾ˆå¯æƒœäº†ã€‚ ç‚¹è¯„31ã€å› ä¸ºæˆ‘å°æ—¶å€™å°±å¾ˆå–œæ¬¢ä½œå¼Šï¼Œä¸è¿‡ä½œå¼Šä¸æ˜¯åªè¯´æ˜¯å­¦ç§‘ä¸Šè¾¹çš„éƒ¨åˆ†ï¼Œæˆ‘è§‰å¾—å¯¹ç©æ¸¸æˆæ–¹é¢ä½œå¼Šæ˜¯ä¸€ä»¶å¾ˆé…·ç‚«çš„äº‹æƒ…ã€‚å¤§å­¦çš„æ—¶å€™å­¦è¿‡ä¸€äº›ç®€å•çš„phpå’Œjavaï¼Œé‚£æ—¶å€™å¬åŒå­¦è·Ÿæˆ‘è¯´rubyçš„ä¸œè¥¿ï¼Œæˆ‘è§‰å¾—å¾ˆæ–°å¥‡å¯¹è¿™ä»¶äº‹æƒ…å¾ˆå¥½å¥‡ï¼Œç„¶åæˆ‘å°±å»å°è¯•ã€‚åæ¥å‘ç°ï¼Œrailså¯ä»¥åšåˆ°è¯­ä¹‰åŒ–çš„ç®€çŸ­ï¼Œç„¶åå½“å…µçš„æ—¶å€™æˆ‘æ›¿æˆ‘çš„å•ä½åšä¸€ä¸ªå¯ä»¥æœå¯»å­—æ®µæŸ¥å‡ºèˆªç©ºç”¨è¯­çš„å°å·¥å…·ã€‚â€”â€”å°±å‘ç°railså¯ä»¥è®©æˆ‘åœ¨è¿™ä¹ˆçŸ­çš„æ—¶é—´å†…åšåˆ°ï¼Œè€Œphpå’Œjavaå°±è¦èŠ±æ¯”è¾ƒé•¿çš„æ—¶é—´ï¼Œè§‰å¾—å¾ˆå¥½ç©æƒ³è¦ç»§ç»­å­¦ä¸‹å»ã€‚ 2ã€ä¸€å¼€å§‹æ˜¯ä¸Šç½‘è‡ªå­¦ï¼Œåæ¥æˆ‘å‘ç°é‡åˆ°å¾ˆå¤šéƒ¨ç½²ç¯å¢ƒçš„é—®é¢˜ï¼Œä»¥åŠä¸€äº›æ–‡ä»¶æˆ‘æ˜¯çœ‹ä¸å¤ªæ‡‚çš„ï¼Œç”šè‡³èŠ±äº†å¾ˆå¤šæ—¶é—´çœ‹æ‡‚äº†ä»¥åï¼Œæˆ‘å‘ç°ä¸€äº›é—®é¢˜æ²¡åŠæ³•å¦‚æœŸè§£å†³ã€‚è¿™ä¸ªæ—¶é—´å¾ˆæ°å·§çš„æˆ‘æ‰“äº†åœºhekesonï¼Œå‘ç°æˆ‘railsçš„èƒ½åŠ›å°±åªåˆ°rails101çš„èƒ½åŠ›ï¼Œåœ¨æ¯”èµ›çš„ç«åŠ›è¾“å‡ºä¸Šé¢æˆ‘å¯èƒ½åªåšåˆ°äº†20-30%ã€‚æˆ‘æƒ³è¦æŠŠè¿™ä»¶äº‹æƒ…åšçš„æ›´å¥½ï¼Œæ‰€ä»¥æˆ‘å°±æŠ¥åäº†åŸ¹è®­ç­ï¼Œå­¦äº†ä¸€æ•´å¥—railsçš„è¯¾ç¨‹ï¼Œæˆ‘å‘ç°èƒ½ä»æˆ‘åŸæœ¬è‡ªå­¦çš„ä¸œè¥¿å˜å¾—æ›´å¥½ã€æ›´ç³»ç»ŸåŒ–ï¼Œæ›´çŸ¥é“å¦‚ä½•æŠŠrailså­¦å¥½ã€‚ 3ã€ï¼ˆå¬åˆ°ä¸¤ä¸ªå…³é”®å­—ï¼Œâ‘ ã€hekesonå› ä¸ºä»–ä¹äºæŒ‘æˆ˜è€Œä¸”æœ‰åšå°é¡¹ç›®ï¼›â‘¡ã€ä»–æ„¿æ„å»æå‡è‡ªå·±â€”â€”ã€é—®é¢˜ã€‘ä½ hekesonå¤§æ¦‚æ˜¯åœ¨åšä»€ä¹ˆï¼Ÿï¼‰åšå¤§æ•°æ®çš„æ¯”èµ›ï¼Œå»æå®˜æ–¹æœæä¾›çš„apiï¼Œæä¾›facebookä¸Šé¢æœ€å¤šç‚¹èµæ•°ã€æœ€å¤šåˆ†äº«æ•°è¿™æ ·çš„ä¸œè¥¿ï¼Œå¯ä»¥åšå‡ºä¸€ä¸ªæ€æ ·çš„åˆ†æã€‚æˆ–è€…æ˜¯ç”¨æ‹›è˜ç½‘ç«™çš„æ•°æ®ï¼Œèƒ½å¤Ÿåšå‡ºæ€ä¹ˆæ ·çš„åˆ†æã€‚ç„¶åæˆ‘ä»¬å°±ç”¨railsåšå‡ºä¸€ä¸ªbadbossï¼Œå¯ä»¥æ‰¾å‡ºè¯„åˆ†æ¯”è¾ƒä¸å¥½çš„ä¸œè¥¿ï¼Œæ‰¾åˆ°çƒ‚è€æ¿è®©æ•´ä¸ªæ±‚èŒä½“ç³»å˜å¾—æ›´å¥½ã€‚å› ä¸ºé‚£æ—¶å€™åªæœ‰rails101çš„ç¨‹åº¦ï¼Œæ‰€ä»¥åªèƒ½å»ºmodelå’Œåšç®€å•çš„viewï¼Œcontrollerå’Œçˆ¬è™«çš„éƒ¨åˆ†å°±æ¯”è¾ƒä¸ç†Ÿã€‚ 4ã€ï¼ˆã€é—®é¢˜ã€‘ä½ è§‰å¾—æ¯”èµ›ä¸­æ¯”è¾ƒéš¾çš„ä¸œè¥¿ï¼Ÿï¼‰ä¸Šé¢å·²ç»å›ç­”äº†ã€‚ 5ã€ã€é—®é¢˜ã€‘åŸ¹è®­ç­æ˜¯æ€æ ·æŠŠä½ çš„æŠ€æœ¯æå‡çš„ï¼Ÿâ€”â€”ä¸€å¼€å§‹æ¥è§¦è¿™ä¸ªåŸ¹è®­ç­ï¼Œå½“æˆ‘é‡åˆ°é—®é¢˜çš„æ—¶å€™ï¼Œæˆ‘æœ‰çº¿ä¸ŠåŠ©æ•™å¯ä»¥é—®ï¼Œè€Œæœ€é‡è¦çš„æ˜¯è¿˜æœ‰ç»„ç»‡meetupï¼Œåœ¨ä¸Šé¢å¯ä»¥é—®é“ä¸ä¸€æ ·çš„åŒå­¦ï¼Œå­¦ä¹ åˆ°å¼€å‘ä¸Šçš„æŠ€å·§ï¼Œé€è¿‡åˆ«äººçš„æ“ä½œç„¶åè‡ªå·±å»å®æ“ï¼Œæˆ‘æ‰çŸ¥é“è¿™æ˜¯æ€ä¹ˆç©çš„ã€‚åœ¨å­¦ä¹ ä¸­ï¼Œæˆ‘è§‰å¾—æ¯”è¾ƒå°è±¡æ·±åˆ»çš„æ˜¯å®ƒæœ‰åŠä¸¤æ¬¡æ¯”èµ›ã€‚ç¬¬ä¸€æ¬¡åšï¼Œä¸å¤ªä¼šä½¿ç”¨htmlå’Œcssï¼Œæ¯”èµ›åç‰¹åˆ«å»è¡¥è¶³è¿™ä¸ªéƒ¨åˆ†ï¼Œç„¶åç¬¬äºŒæ¬¡æ¯”èµ›æ‹¿åˆ°äº†ç¬¬ä¸€åã€‚è¿™ä¸ªåŸ¹è®­ç­è®©æˆ‘çŸ¥é“äº†æˆ‘ä¸ä¼šä»€ä¹ˆï¼Œç„¶åæˆ‘èƒ½å¤Ÿåœ¨è¿™é‡Œæå‡ä»€ä¹ˆã€‚ï¼ˆä»åŸå…ˆä¸ä¼šï¼Œåˆ°è¿›æ­¥äº†æ‹¿åˆ°ç¬¬ä¸€åï¼Œä¼˜ç‚¹æ˜¯æˆé•¿å¿«ã€‚ã€é—®é¢˜ã€‘ä½ æ‹¿ç¬¬ä¸€åçš„ä½œå“æ˜¯ä»€ä¹ˆï¼Œå¯ä»¥è®²è®²èƒŒåçš„æ•…äº‹å—ï¼Ÿï¼‰ 6ã€åšè´­ç‰©ç½‘ç«™ï¼Œæˆ‘æƒ³åšæ”¯ä»˜å®çš„ä¸²æ¥ï¼Œè¯»äº†æ”¯ä»˜å®å®˜æ–¹çš„æ–‡ä»¶ï¼Œå°è¯•æ¥apiã€‚è¿‡ç¨‹ä¸­æˆ‘è§‰å¾—å¾ˆå‘ï¼Œå› ä¸ºæˆ‘èŠ±äº†3-5å¤©çš„æ—¶é—´ï¼Œæ¥å®Œåä¸€ç›´è·³errorï¼Œåæ¥æ‰å‘ç°åŸæ¥æ˜¯å› ä¸ºæˆ‘æ²¡æœ‰åŠå…¬å¸ï¼Œç„¶åå°±å»æ‰¾äº†ä¸€ä¸ªå»ç”³è¯·ï¼Œåæ¥å‘ç°æˆåŠŸæ¥ä¸Šåæ‰¾äº†ä¸€äº›æœ‹å‹åšæµ‹è¯•ã€‚åæ¥åœ¨æ‹‰ç¥¨è¿‡ç¨‹ä¸­ï¼Œä»–ä»¬å‘ç°æˆ‘æ˜¯å”¯ä¸€ä¼šæ¥æ”¯ä»˜å®çš„äººï¼Œå°±éå¸¸æ”¯æŒæˆ‘ï¼Œå› ä¸ºå¤§å®¶éƒ½å–œæ¬¢è¿™ä¸ªä¸œè¥¿ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—è¦æŠŠå®ƒåšæˆæ•™ç¨‹ï¼Œä¹Ÿå› ä¸ºè¿™æ ·å­æ‹¿åˆ°ç¬¬ä¸€åã€‚ã€é—®é¢˜ã€‘ä½ ä»¬ç½‘ç«™å¤§æ¦‚æ˜¯åšä»€ä¹ˆï¼Ÿ 7ã€å› ä¸ºæˆ‘å–œæ¬¢ç©æ”¹è£…æœºè½¦ï¼Œæˆ‘çš„ideaæ˜¯åšä¸€ä¸ªè´­ç‰©ç½‘å¯ä»¥ä¹°å–æ”¹è£…é›¶ä»¶ï¼Œä¸»è¦çš„æ„æƒ³æ˜¯æ¯ä¸€ä¸ªé›¶ä»¶éƒ½å¯ä»¥åœ¨ä¸Šè¾¹ä¹°å–ï¼Œä¸‹å•åä»åå°å¯ä»¥äº†è§£åˆ°ç”¨æˆ·æƒ³è¦ä¹°ä»€ä¹ˆä¸œè¥¿ï¼Œæ–¹ä¾¿æˆ‘ä»¬åšä¸€ä¸ªç»Ÿè®¡ã€‚ å°ç»“ï¼š 1ã€æˆåŠŸé—®äº†7ä¸ªé—®é¢˜ï¼Œè€Œä¸”éƒ½è®©æˆ‘æœ‰å…´è¶£å†é—®ä¸‹å»ï¼Œè€Œä¸”ä»–è®²çš„æˆ‘éƒ½æ‡‚ã€‚è€Œä¸”æ¯ä¸ªå›ç­”éƒ½è®©æˆ‘èƒ½æ‰¾å‡ºç»§ç»­é—®çš„ç‚¹ã€‚ 2ã€å‡¸æ˜¾ä»–çš„ç‰¹è´¨ï¼Œä¸ºä»€ä¹ˆæ‹¿ç¬¬ä¸€åï¼Œè¿™æ˜¯ä»–çš„å…´è¶£ã€ä»–çš„ç‹‚çƒ­ï¼Œæ„¿æ„ä¸ºè‡ªå·±å…´è¶£å»é’»ç ”æŠ€æœ¯çš„äººï¼Œè¿™æ˜¯ä½œä¸ºç¨‹åºå‘˜å¾ˆé‡è¦çš„ç‰¹è´¨ã€‚ä½ è¦è®©äººå®¶çœ‹åˆ°ä½ æ˜¯æœ‰äººæ ¼çš„ï¼Œä½ ä¼šå»ç ”ç©¶æŠ€æœ¯ã€åšå¥½ã€ç”šè‡³æ‹¿åˆ°ç¬¬ä¸€åï¼Œè¿™æ–¹é¢çš„äººæ ¼ä¼šè®©ä½ æ‹¿åˆ°å¾ˆé«˜åˆ†ã€‚ 3ã€ç¨‹åºå‘˜çœ‹ä¸¤ä»¶äº‹æƒ…ï¼š â‘ ã€è¿™ä¸ªäººæ˜¯ä¸æ˜¯æœ‰é€‚åˆå½“ç¨‹åºå‘˜çš„ç‰¹è´¨ï¼Œå› ä¸ºæœ‰ç‰¹è´¨æ˜¯è¿œæ¯”ä½ ç°åœ¨å­¦äº†å¤šå°‘ä¸œè¥¿è¿˜é‡è¦çš„ã€‚ä»–ä»¬è¦ç¡®è®¤ä½ æ˜¯ä»–ä»¬çš„åŒä¸€ç§ç”Ÿç‰©ï¼ˆå¯¹ä¸–ç•Œå¥½å¥‡ã€æ„¿æ„è§£å†³é—®é¢˜ã€æœ‰åŠæ³•è‡ªå·±æ‰¾åˆ°ç­”æ¡ˆï¼‰ã€‚ â‘¡ã€æ¥ä¸‹æ¥æ‰æ˜¯ä½ æŠ€æœ¯å¥½ä¸å¥½ï¼Œå¦‚æœä½ æœ¬èº«ä¸æ˜¯é‚£ç§äººï¼Œé‚£ä½ å­¦æŠ€æœ¯å°±ä¼šå¾ˆæ…¢ï¼Œä»–ä¹Ÿä¸æƒ³è¦å¸¦ä½ ï¼Œå› ä¸ºä»–å¸®ä½ ä¹Ÿéƒ½æ˜¯æœ‰é™åº¦çš„å¸®ï¼Œå¦‚æœä½ è®©ä»–è§‰å¾—ä½ ä¼šæ‹–ç´¯ä»–ï¼Œæˆ–æ˜¯æ²¡æƒ³æ³•çš„äººï¼Œé‚£å°±ä¼šå¾ˆæƒ¨ã€‚ ihoweræ°´å¹³è‡ªæµ‹ åˆ†æ•°åªä»£è¡¨ä½ ç›®å‰çš„å­¦ä¹ çŠ¶å†µ 100åˆ†ï¼šå¾ˆèµ„æ·± 60-80ï¼šä¸­é˜¶å¹¶æœ‰ä¸€å®šç»å† 40-60ï¼šæˆ‘ä»¬ä¼šæ‹¿åˆ° ä½äº40ï¼šç»ƒä¹ æ¬¡æ•°ä¸å¤Ÿã€ç›´æ’­æ²¡çœ‹ è®­ç»ƒè¥çŸ¥é“æ€ä¹ˆåšä¸€ä¸ªç®€å•çš„å°é¡¹ç›®ä½œä¸ºä½œå“ çŸ¥é“æ±‚èŒé¢è¯•çš„æŠ€å·§ æ±‚èŒéƒ¨åˆ†æœ‰å“ªäº›æ³¨æ„çš„äº‹é¡¹","categories":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}],"tags":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/tags/rorç³»ç»Ÿ/"}],"keywords":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}]},{"title":"ror-system-apiæœ€å°å¯è¡Œä»£ç ","slug":"ror-system-apiæœ€å°å¯è¡Œä»£ç ","date":"2017-12-13T16:10:00.000Z","updated":"2018-01-14T06:53:03.000Z","comments":true,"path":"posts/867a72a6/","link":"","permalink":"http://yoursite.com/posts/867a72a6/","excerpt":"","text":"APIæœ€å°å¯è¡Œä»£ç 1ã€indexä¸ºä¾‹æœ€å°å¯è¡Œä»£ç 1ï¼‰ config/routes 12345namespace :api, :defaults =&gt; &#123; :format =&gt; :json &#125; do namespace :v1 do resources :products, :only =&gt; [:index] endend 2ï¼‰æ–°å»ºapi controller rails g controller api --no-assets ä¿®æ”¹ api_controller.rb 1234app/controllers/api_controller.rb- class ApiController &lt; ApplicationController+ class ApiController &lt; ActionController::Baseend 3ï¼‰æ–°å»ºapi products controller rails g controller api::v1::products --no-assets ä¿®æ”¹app/controllers/api/v1/products_controller.rbï¼ˆæŸ¥çœ‹db/schemaçœ‹è¦åŠ å…¥ä»€ä¹ˆæ ä½ï¼‰ 1234567891011121314151617class Api::V1::ProductsController &lt; ApiController def index @products = Product.all render :json =&gt; &#123; :data =&gt; @products.map&#123; |product| &#123; :title =&gt; product.title, :description =&gt; product.description, :quantity =&gt; product.quantity, :price =&gt; product.price, :created_at =&gt; product.created_at, :updated_at =&gt; product.updated_at, :image =&gt; product.image &#125; &#125; &#125; endend 2ã€ç”¨JBuilderé‡æ„ä»£ç å‚è€ƒèµ„æ–™ http://motion-express.com/blog/20140829-ruby-gem-jbuilder https://github.com/rails/jbuilder 2.1 æœ€å¸¸ç”¨ä»£ç 1ï¼‰æ¯”å¦‚åˆ†ç±»views/categoriesæ–‡ä»¶å¤¹ä¸‹ã€‚ æ–°å»ºapp/views/api/v1/categories/index.json.jbuilder 123json.categories do json.array! @categories, :partial =&gt; &quot;item&quot;, :as =&gt; &quot;category&quot;end æ–°å»ºapp/views/api/v1/categories/show.json.jbuilder 1json.partial! &apos;item&apos;, category: @category ç”¨partialé‡æ„ï¼Œapp/views/api/v1/categories/_item.json.jbuilder 123json.id category.idjson.name category.namejson.partial! &apos;api/v1/products/item&apos;, product: category.products #æœ€å…³é”®çš„product:è¦å•æ•° 2ï¼‰æ¯”å¦‚å•†å“views/productsæ–‡ä»¶å¤¹ä¸‹ã€‚ æ–°å»ºapp/views/api/v1/products/index.json.jbuilder 1json.partial! &apos;item&apos;, product: @products æ–°å»ºapp/views/api/v1/products/_item.json.jbuilder 1json.products product.each&#123;&#125; #æœ€å…³é”®çš„product.eachçš„productè¦å•æ•° 2.2 ã€bugã€‘å¸¸è§æŠ¥é”™1ï¼‰å†™partialæ—¶ï¼Œindexçš„each{}å¦‚æœå†™åœ¨å…±ç”¨è¡¨å•ï¼Œè¢«showå¼•ç”¨æ—¶ä¼šæŠ¥é”™ï¼Ÿï¼Ÿ è§£æ³•ä¸€ï¼šä¸è¦ç”¨each{}ï¼Œè€Œæ˜¯åªå†™æƒ³è¦è°ƒç”¨çš„æ ä½ã€‚ è§£æ³•äºŒï¼šeach{}è¿˜æ˜¯æ”¾åœ¨indexï¼Œå¯èƒ½éƒ¨åˆ†æ•°æ®ä¼šé‡å¤å‡ºç°ï¼Œä½†æ˜¯ä¸å½±å“è°ƒç”¨ã€‚ 2.3 å¦‚æœåªéœ€è¦éƒ¨åˆ†æ•°æ®ï¼Œç”¨json.array!éå†ï¼ˆå³controllerä¸­ç”¨çš„mapå¾ªç¯ï¼‰1ï¼‰æœªé‡æ„ï¼šå¦‚ä¸‹app/views/api/v1/categories/index.json.jbuilder 1234567json.categories do json.array! @categories do |category| json.id category.id json.name category.name json.created_at category.created_at endend 2.4 è®²è§£ï¼šç”¨å…±ç”¨è¡¨å•partialå®ç°indexè°ƒç”¨showçš„æ•°æ®1ï¼‰æ¡ˆä¾‹ï¼Œè§2.1ã€‚ 2ï¼‰è®²è§£ã€‚ åœ¨indexï¼Œåªæœ‰@productsï¼Œä¸èƒ½è¯»å‡ºæ¥@productæ˜¯è°ï¼Œæ‰€æœ‰ç”¨category: @product.categoryä»ä¼šæŠ¥é”™è¯´categoryæœªå®šä¹‰ã€‚åœ¨showçš„_itemï¼Œproductå°±æ˜¯å½“å‰çš„productï¼Œæ‰€ä»¥category: @product.categoryå°±æ˜¯å½“å‰å•†å“çš„åˆ†ç±»ã€‚ æ‰€ä»¥ï¼Œproductçš„partialå†™æ³•å¦‚ä¸‹ï¼Œæœ€æœ€å…³é”®çš„æ˜¯category:å¿…é¡»æ˜¯å•æ•° 1json.partial! &apos;api/v1/categories/item&apos;, category: product.category categoryçš„partialå†™æ³•å¦‚ä¸‹ï¼Œæœ€æœ€å…³é”®çš„æ˜¯product:å¿…é¡»æ˜¯å•æ•° 1json.partial! &apos;api/v1/products/item&apos;, product: category.products","categories":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}],"tags":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/tags/rorç³»ç»Ÿ/"}],"keywords":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}]},{"title":"ror-system-rails guides 6-10","slug":"ror-system-rails guides 6-10","date":"2017-12-13T16:10:00.000Z","updated":"2018-01-14T04:43:01.000Z","comments":true,"path":"posts/70576f9e/","link":"","permalink":"http://yoursite.com/posts/70576f9e/","excerpt":"","text":"å…­ã€Active Record æŸ¥è¯¢æ¥å£ ä¸ƒã€Action View æ¦‚è§ˆ å…«ã€Rails å¸ƒå±€å’Œè§†å›¾æ¸²æŸ“ render å‘Šè¯‰ Rails æ„å»ºå“åº”æ—¶ä½¿ç”¨å“ªä¸ªè§†å›¾ï¼ˆæˆ–å…¶ä»–é™æ€èµ„æºï¼‰ï¼Œå³æ¸²æŸ“å“ªä¸ªè§†å›¾ã€‚ redirect_to ï¼Œå®ƒå‘Šè¯‰æµè§ˆå™¨å‘å¦ä¸€ä¸ª URL å‘èµ·æ–°è¯·æ±‚ï¼Œå³é‡å®šå‘ã€‚ yield æ ‡æ˜ä¸€ä¸ªåŒºåŸŸï¼Œæ¸²æŸ“çš„è§†å›¾ä¼šæ’å…¥è¿™é‡Œã€‚æ˜¯ä¿æŒå¸ƒå±€ç®€æ´çš„åˆ©å™¨ã€‚ 3.4.6 å±€éƒ¨å˜é‡å…«ã€è¡¨å•è¾…åŠ©æ–¹æ³• 12ä½¿ç”¨ä¸¤ä¸ªæ•£åˆ—ä½œä¸ºå‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠç¬¬ä¸€ä¸ªæ•£åˆ—æ”¾åœ¨å¤§æ‹¬å·ä¸­ï¼Œæˆ–è€…æŠŠä¸¤ä¸ªæ•£åˆ—éƒ½æ”¾åœ¨å¤§æ‹¬å·ä¸­ã€‚form_tag(&#123;controller: &quot;people&quot;, action: &quot;search&quot;&#125;, method: &quot;get&quot;, class: &quot;nifty_form&quot;) fields_foråœ¨form_for å†…ä½¿ç”¨ åœ¨æ¨¡å‹ä¸­ä½¿ç”¨å•è¡¨ç»§æ‰¿ï¼ˆsingle-table inheritanceï¼ŒSTIï¼‰æ—¶ï¼Œå¦‚æœåªæœ‰çˆ¶ç±»å£°æ˜ä¸ºèµ„æºï¼Œåœ¨å­ç±»ä¸Šå°±ä¸èƒ½ä½¿ç”¨è®°å½•è¯†åˆ«æŠ€æœ¯ã€‚è¿™æ—¶ï¼Œå¿…é¡»æ˜¾å¼è¯´æ˜æ¨¡å‹åç§°ã€:url å’Œ :methodã€‚ ä¹ã€Action Controller æ¦‚è§ˆ å…³è”æ•°ç»„æ˜¯è¿™æ ·çš„æ•°ç»„ï¼Œå®ƒçš„æ¯ä¸ªæ•°æ®å…ƒç´ ä¸ä¸€ä¸ªé”®ç›¸å¯¹é…å¯¹ï¼Œè¯¥é”®ç”¨äºè¯†åˆ«æ•°æ®å…ƒç´ ã€‚ç”±äºæ•£åˆ—å‡½æ•°ç”¨æ¥åˆ›å»ºå…³è”æ•°ç»„ä¸­çš„æŒ‡å®šå…ƒç´ ï¼Œå¹¶åœ¨å…³è”æ•°ç»„ä¸­æŸ¥æ‰¾æŒ‡å®šå…ƒç´ ï¼Œå› æ­¤å…³è”æ•°ç»„é€šå¸¸ç§°ä¸ºæ•£åˆ—ã€‚åœ¨æŸç§æ„ä¹‰ä¸Šï¼Œæ•°ç»„å…ƒç´ ä¸åˆ—è¡¨ç±»ä¼¼ï¼Œè€Œæ•£åˆ—å…ƒç´ çš„å­˜æ”¾ä¸å‡ ä½•ç±»ä¼¼ï¼Œå…¶å…ƒç´ ä¹‹é—´æ²¡æœ‰ç›¸å¯¹æ¬¡åºã€‚åœ¨Rubyä¸­ï¼Œæ•°ç»„ä¸æ•£åˆ—ä¹‹é—´çš„ä¸¤ä¸ªæœ€æœ¬è´¨çš„åŒºåˆ«æ˜¯ï¼šæ•°ç»„ä½¿ç”¨æ•°å€¼ä¸‹æ ‡æ¥å®šä½ç‰¹å®šçš„å…ƒç´ ï¼Œè€Œæ•£åˆ—ä½¿ç”¨å­—ç¬¦ä¸²å€¼ï¼ˆé”®ï¼‰æ¥å®šä½å…ƒç´ ï¼›æ•°ç»„ä¸­çš„å…ƒç´ æŒ‰ä¸‹æ ‡æ’åºï¼Œè€Œæ•£åˆ—ä¸­çš„å…ƒç´ åˆ™ä¸æ˜¯ã€‚æ•£åˆ—çš„åˆ›å»ºæ–¹æ³•æœ‰ä¸¤ç§ï¼šnewæ–¹æ³•æˆ–å°†ä¸€ä¸ªå­—é¢é‡èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ã€‚ paramså…è®¸æ‰¹é‡èµ‹å€¼ åœ¨æ§åˆ¶å™¨ä¸­ï¼Œå¯ä»¥é€šè¿‡å®ä¾‹æ–¹æ³• session è®¿é—®ä¼šè¯ã€‚ä¼šè¯æ˜¯æƒ°æ€§åŠ è½½çš„ã€‚å¦‚æœåœ¨åŠ¨ä½œä¸­ä¸è®¿é—®ï¼Œä¸ä¼šè‡ªåŠ¨åŠ è½½ã€‚ é—ªç°æ¶ˆæ¯flash(:noitceã€:alertã€:warning)ï¼Œæ˜¯ä¼šè¯çš„ä¸€ä¸ªç‰¹æ®Šéƒ¨åˆ†ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½ä¼šæ¸…ç©ºã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå…¶ä¸­å­˜å‚¨çš„æ•°æ®åªèƒ½åœ¨ä¸‹æ¬¡è¯·æ±‚æ—¶ä½¿ç”¨ï¼Œå› æ­¤å¯ç”¨äºä¼ é€’é”™è¯¯æ¶ˆæ¯ç­‰ã€‚ :only é€‰é¡¹çš„æ„æ€æ˜¯åªè·³è¿‡è¿™äº›åŠ¨ä½œã€‚ åã€Rails è·¯ç”±å…¨è§£ æœ‰ä¸€ä¸ªé•¿æœŸå­˜åœ¨çš„ç¼ºé™·ä½¿ form_for è¾…åŠ©æ–¹æ³•æ— æ³•è‡ªåŠ¨å¤„ç†å•æ•°èµ„æºã€‚æœ‰ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯ç›´æ¥æŒ‡å®šè¡¨å• URLï¼Œä¾‹å¦‚ï¼š 1form_for @geocoder, url: geocoder_path do |f| å¦‚æœæƒ³æŠŠ /articles è·¯å¾„ï¼ˆä¸å¸¦ /admin å‰ç¼€ï¼‰ æ˜ å°„åˆ° Admin::Articles æ§åˆ¶å™¨ä¸Šï¼Œå¯ä»¥è¿™æ ·å£°æ˜ï¼š 123scope module: &apos;admin&apos; do resources :articles, :commentsend 123resources :photos do get &apos;preview&apos;, on: :memberend å¦‚æœä¸ä½¿ç”¨ :on é€‰é¡¹ï¼Œåˆ›å»ºçš„æˆå‘˜è·¯ç”±ä¹Ÿæ˜¯ç›¸åŒçš„ï¼Œä½†èµ„æº ID å°±å¿…é¡»é€šè¿‡ params[:photo_id] è€Œä¸æ˜¯ params[:id] æ¥è·å–äº†ã€‚ å¯¹äºæŠŠæ—§ç³»ç»Ÿçš„ URL åœ°å€æ˜ å°„åˆ°æ–° Rails åº”ç”¨ä¸Šçš„æƒ…å†µï¼Œç®€å•è·¯ç”±å³éèµ„æºå¼ç‰¹åˆ«é€‚ç”¨ã€‚","categories":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}],"tags":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/tags/rorç³»ç»Ÿ/"}],"keywords":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}]},{"title":"ror-system-ç½‘ç«™å®‰å…¨","slug":"ror-system-ç½‘ç«™å®‰å…¨","date":"2017-12-13T16:10:00.000Z","updated":"2018-01-14T04:43:01.000Z","comments":true,"path":"posts/7286171a/","link":"","permalink":"http://yoursite.com/posts/7286171a/","excerpt":"","text":"ç¬¬äºŒç«  XSSè·¨ç«™è„šæœ¬æ”»å‡»æ˜¯ä»€ä¹ˆï¼Ÿ æ˜¯æ¶æ„ç”¨æˆ·ï¼ŒæŠŠä»£ç æ³¨å…¥ç½‘é¡µçš„ï¼Œå®‰å…¨æ¼æ´æ”»å‡»ã€‚ â‘ ã€sanitize ç™½åå•**è¿‡æ»¤** åªå…è®¸éƒ¨åˆ†çš„ HTML æ ‡ç±¤ï¼š&lt;%= sanitize comment.content %&gt; â‘¡ã€ç”±äº Rails é»˜è®¤ä¼šè„±é€¸ HTML çš„å…³ç³»ï¼Œæ‰€ä»¥ Rails å¯¹ XSS æ˜¯æœ‰äº†åŸºæœ¬çš„é˜²å¾¡ã€‚éœ€ç”¨.html_safeå°å¿ƒå¤„ç†é‚£äº›æ˜¯å®‰å…¨çš„å­—ç¬¦ä¸²ã€å“ªäº›æ˜¯ç”¨æˆ·è¾“å…¥çš„ä¸å®‰å…¨å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼š 1str = &quot;&lt;div class =&apos;user-link&apos;&gt;&quot;.html_safe + link_to(image_tag(gravatar_url), user_path(user)) + &quot; &quot; + user.display_name + &quot;&lt;/div&gt;&quot;.html_safe ç¬¬ä¸‰ç«  ä»€ä¹ˆæ˜¯ CSRFè·¨ç«™è¯·æ±‚ä¼ªé€  ? æ˜¯æŒŸåˆ¶ç”¨æˆ·ï¼Œå¯¹ç½‘ç«™æ‰§è¡Œéæœ¬æ„æ“ä½œï¼Œçš„æ”»å‡»ã€‚ï¼ˆéª‡å®¢æŒ–å‘è®©æœ‰æƒé™çš„ç”¨æˆ·å»è·³ï¼‰ â‘ ã€routesé‡Œçš„get :highlightæ”¹æˆpost highlightã€‚ å¦‚ä½•é˜²å¾¡ POST ç±»å‹çš„ CSRF æ”»å‡»ï¼Ÿ è¿™ä¸ªé˜²å¾¡åŠŸèƒ½ Rails å·²ç»å†…å»ºäº†ï¼Œä¿®æ”¹ app/controllers/application_controller.rbï¼Œæ‰“å¼€ protect_from_forgery with: :exceptionã€‚ åœ¨ Rails äº§ç”Ÿçš„è¡¨å•ä¸­ï¼Œå°±æœ‰å¸¦è¿™ä¸ªå‚æ•° authenticity_token éª‡å®¢åœ¨å…¶ä»–ç½‘ç«™æŒ–çš„å‘å› ä¸ºæ²¡æœ‰è¿™ä¸ªauthenticity_tokenå‚æ•°ï¼Œé€è¿‡æ¥çš„æ—¶å€™å°±ä¼šè¢« Rails é˜»æŒ¡ä½ï¼Œä¼šæœ‰ä»¥ä¸‹çš„é”™è¯¯ç”»é¢ï¼šï¼ˆrailsç½‘ç«™ authenticity_tokenå¤±æ•ˆä¹Ÿä¼šæŠ¥é”™ï¼‰ ç¬¬å››ç«  ä»€ä¹ˆæ˜¯ SQLï¼Ÿ åœ¨ Rails log ä¸­ï¼Œåªè¦å¯¹æ•°æ®åº“åšä»»ä½• CRUD æ“ä½œï¼Œéƒ½ä¼šæ˜¯ä¸€ä¸ª SQLã€‚å¦‚@events = Event.allï¼Œå³SELECT &quot;events&quot;.* FROM &quot;events&quot; ä»€ä¹ˆæ˜¯ SQL Injectionæ•°æ®åº“æ³¨å…¥æ”»å‡»? å¯ä»¥ç ´åæˆ‘ä»¬çš„æ•°æ®åº“ã€ä¿®æ”¹æ•°æ®èµ„æ–™ã€è·³è¿‡ç™»å…¥å¯†ç æ£€æŸ¥ç­‰ã€‚ å¦‚ä½•é˜²å¾¡ SQL æ³¨å…¥æ”»å‡» ï¼Ÿ è·Ÿé˜²å¾¡ XSS ä¸€æ ·çš„é“ç†ï¼Œæ‰€æœ‰ç”¨æˆ·ä¼ è¿›æ¥è¦ä»£å…¥ SQL çš„å‚æ•°ï¼Œéƒ½å¿…é¡»åŠ ä»¥é€¸å‡ºã€‚ â‘ ã€arrayå†™æ³• @registrations = Registraion.where( :status =&gt; params[:status] ) â‘¡ã€hashå†™æ³• @registrations = Registraion.where( &quot;status = ?&quot;, params[:status] ) é™¤äº†é€¸å‡ºä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨ç™½åå•çš„è¿‡æ»¤æ–¹å¼ï¼ˆå› ä¸ºwhereã€orderã€pluckç­‰æ–¹æ³•åœ¨ActiveReocrd ä¸­éƒ½æ²¡æœ‰å¸®æˆ‘ä»¬åšé€¸å‡ºï¼‰ ï¼ŒæŠŠif params[:sort]æ”¹æˆ if params[:sort] &amp;&amp; [&quot;id DESC&quot;, &quot;id ASC&quot;].include?(params[:sort]) ç¬¬äº”ç«  ä»€ä¹ˆæ˜¯hashå¤§é‡èµ‹å€¼ï¼Ÿ newæ–¹æ³•æ¥å—hashåšèµ‹å€¼ï¼Œå¦‚paramsçš„ç”¨æ³•å°±æ˜¯ä¸€ä¸ªhash 1Event.new( &#123; :name =&gt; &quot;Foo&quot;, :description =&gt; &quot;Bar&quot; &#125; ) æ”¾åœ¨æ–¹æ³•å‚æ•°æœ€åé¢çš„ Hashï¼Œå®ƒçš„ { } æ˜¯å¯ä»¥çœç•¥çš„ï¼Œå› æ­¤è¿™åˆç­‰åŒäºï¼š 1Event.new( :name =&gt; &quot;Foo&quot;, :description =&gt; &quot;Bar&quot; ) æ”»å‡»æ–¹æ³•ï¼š ç”±äºparamsä¸­å…è®¸äº†:roleï¼Œæ‰€ä»¥é€šè¿‡ä¿®æ”¹èƒ½name=â€event[role]â€å¹¶è¾“å…¥adminï¼Œå°±èƒ½æŠŠæ™®é€šè´¦å·ç¼–ç¨‹ç®¡ç†å‘˜ã€‚ params.require(:event).permit(:name, :description) å°±æ˜¯åœ¨åšç™½åå•çš„æ£€æŸ¥ï¼Œåªèƒ½å…è®¸ params[:event][:name] å’Œ params[:event][:description] ç¬¬å…­ç«  ä»€ä¹ˆæ˜¯åŠ å¯†cookieï¼Ÿ è®©æœåŠ¡å™¨åœ¨æµè§ˆå™¨ä¸Šç•™æ•°æ®çš„åŠŸèƒ½ã€‚ å¯¹ç§°å¯†é’¥åŠ å¯†ç®—æ³• ç”¨ä¸€æŠŠå¯†é’¥æ¥åšåŠ å¯†ï¼Œå¹¶ä¸”ç”¨è¿™ä¸ªå¯†é’¥å¯ä»¥è§£å¯†å›æ¥ã€‚ åœ¨ Rails ä¸­ï¼Œé»˜è®¤çš„ Session å®é™…ä¸Šå°±æ˜¯åŠ å¯†çš„ Cookieï¼Œæˆ‘ä»¬åœ¨è´­ç‰©è½¦æ•™ç¨‹ä¸­ï¼Œä½¿ç”¨äº† session[:cart_id]æ¥å‚¨å­˜è¿½è¸ªç”¨æˆ·æ˜¯å“ªä¸€å°è´­ç‰©è½¦ã€‚ åœ¨ Rails ä¸­ï¼Œè¿™ä¸€æŠŠå¯†é’¥å°±å­˜åœ¨ config/secrets.yml å¦‚ä½•é˜²å¾¡? â‘ ã€ä¸è¦å¤–æ³„å¯†é’¥ â‘¡ã€å¦‚æœä½ çš„ç½‘ç«™éœ€è¦éå¸¸é«˜çš„å®‰å…¨æ€§ï¼Œåˆ™ä¸å»ºè®®ä½¿ç”¨ Cookie åŠ å¯†æ¥åš Sessionã€‚åœ¨ Rails å¯ä»¥æ›´æ¢ Session Storeå­˜å‚¨çš„æ–¹å¼ï¼Œä¾‹å¦‚æ¢æˆ Active Recordâ€™s Session Storeã€‚è¿™ä¼šå°† Session æ•°æ®å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œè€Œä¸æ˜¯ Cookie ä¹‹ä¸­ï¼Œè¿™æ ·éª‡å®¢å°±å®Œå…¨æ— ä»ä¸‹æ‰‹äº†ã€‚ æ‰“å¼€ config/initializers/session_store.rb è§‚å¯Ÿçœ‹çœ‹ï¼š 12config/initializers/session_store.rbRails.application.config.session_store :cookie_store, key: &apos;_hackme-app_session&apos; ç¬¬ä¸ƒç«  ä»€ä¹ˆæ˜¯ DoS æ‹’ç»æœåŠ¡æ”»å‡» æƒ³åƒä½ ä»Šå¤©å¼€ä¸€é—´ä¹¦åº—ï¼Œæ¶æ„çš„å¯¹æ‰‹æ‰¾äº†è·‘è…¿100äººåœ¨ä½ çš„åº—é—¨å£åªçœ‹ä¸ä¹°ï¼Œè¿™ä¸€ç§æ”»å‡»å°±å«åš DoS æ‹’ç»æœåŠ¡æ”»å‡»ã€‚ä¸åƒå‰å‡ ç« ï¼Œéª‡å®¢çš„ç›®çš„æ˜¯çªƒå–èµ„æ–™æˆ–æ˜¯ä¿®æ”¹èµ„æ–™ï¼ŒDoS æ”»å‡»çš„ç›®çš„æ˜¯è®©ä½ åšä¸æˆç”Ÿæ„ï¼Œè®©ä½ çš„ç½‘ç«™æ— æ³•æœåŠ¡æ­£å¸¸ç”¨æˆ·ã€‚ æ”»å‡»çš„æ‰‹æ³•å°±æ˜¯ï¼Œä¸æ–­åœ°å‘é€ HTTP è¯·æ±‚è®©æœåŠ¡å™¨å¿™ä¸è¿‡æ¥ã€‚ DoS æ€ä¹ˆé˜²å¾¡ ä¸å¤ªå¥½é˜²å¾¡ï¼Œå› ä¸ºå¹¶ä¸æ˜¯å› ä¸ºç½‘ç«™æœ‰æ¼æ´é€ æˆã€‚å¤§æ–¹å‘åªèƒ½æƒ³åŠæ³•å»è¾¨è¯†æ”»å‡»æ–¹çš„æ ·æ€ï¼Œç„¶åè¿›è¡Œå°é”ã€‚ å°é”æ”»å‡»æ–¹çš„ IP ç½‘ç»œåœ°å€æ˜¯æœ€åŸºæœ¬çš„æ‰‹æ³• å®‰è£… rack-attack gemï¼Œè¿™å¯ä»¥è®¾å®šå½“ç‰¹å®š IP ä½å€å°±æŸä¸€æ®µæ—¶é—´å†…å­˜å–å¤ªå¤šæ¬¡çš„è¯ï¼Œè‡ªåŠ¨è¿›è¡Œå°é” ä¸è¿‡å›°éš¾ç‚¹åœ¨äºå¤ªå¤šæ¬¡æ˜¯å¤šå°‘æ¬¡ï¼Œè®¾å¤ªä½ä¼šé˜»æŒ¡åˆ°æ­£å¸¸ç”¨æˆ·ï¼Œä¾‹å¦‚å…¬å¸ã€vpnç”¨æˆ·å…±äº«ä¸€ä¸ªIPã€‚ æ”¹è¿›ç½‘ç«™æ•ˆèƒ½ å¦‚æœçœŸçš„é¢ä¸´å¤§é‡çš„DDoS æ”»å‡»ï¼Œå°±ä¸æ˜¯Rails åº”ç”¨å±‚çº§å¯ä»¥å¤„ç†å¾—äº†ï¼Œå¿…é¡»è´­ä¹°ä¸“é—¨çš„ç½‘ç»œé˜²ç«å¢™ï¼Œä¾‹å¦‚ç™¾åº¦å®‰å…¨ã€äº‘ç›¾DDoSé«˜é˜²IPç­‰ç­‰äº‘æœåŠ¡å•†çš„äº§å“ã€‚ ç¬¬å…«ç«  å®‰è£…gem &#39;brakeman&#39; æ£€æµ‹ä»£ç ï¼Œæ‰§è¡Œ brakemanåˆ†ææœ‰å¯èƒ½æœ‰æ¼æ´çš„åœ°æ–¹ã€‚ å®‰è£… gem &#39;bundler-audit&#39; æ£€æµ‹å¥—ä»¶ï¼Œæ‰§è¡Œ bundle-auditæ£€æŸ¥å·²è£…gemæ˜¯å¦æœ‰å®‰å…¨æ¼æ´éœ€è¦å‡çº§ã€‚bundle update å¥—ä»¶åç§° å°±å¯ä»¥è¿›è¡Œå‡çº§ã€‚ ç¬¬ä¹ç«  æ•£åˆ—å‡½æ•° æ˜¯ä¸€ç§èƒ½å°†æ•°æ®å˜æˆæ‘˜è¦(digest)çš„ç®—æ³•ï¼Œæ‰§è¡Œ irbï¼Œç„¶åè¾“å…¥ä»¥ä¸‹ä»£ç å®éªŒçœ‹çœ‹ï¼š 1234require &apos;digest&apos;Digest::SHA1.hexdigest &apos;12345678&apos;å¾—åˆ° &quot;7c222fb2927d828af22f592134e8932480637c0d&quot; ç›¸åŒçš„æ•°æ®ï¼Œæ¯æ¬¡éƒ½ä¼šå¾—åˆ°ä¸€æ ·çš„æ‘˜è¦ æ•£åˆ—å‡½æ•°æ˜¯å•å‘çš„ï¼Œæ— æ³•é€†æ¨ï¼šåªèƒ½ä»æ•°æ®ç®—å‡ºæ‘˜è¦ï¼Œä¸èƒ½ä»æ‘˜è¦ç®—å‡ºæ•°æ® æ•£åˆ—å‡½æ•°çš„ç”¨é€” æ‘˜è¦å€¼æ‹¿æ¥å¿«é€Ÿæ¯”è¾ƒä¸¤ä¸ªæ–‡æ¡£æ˜¯å¦ç›¸åŒ Git ç”¨è¿™ä¸ªæ‘˜è¦å€¼å½“ä½œæ¯æ¬¡ commit çš„å”¯ä¸€è¯†åˆ« ID ç½‘ç»œä¼ æ¡£çš„æ—¶å€™ï¼Œé€è¿‡æ¯”è¾ƒè¿™ä¸ªæ‘˜è¦ï¼Œå°±å¯ä»¥çŸ¥é“ä¸‹è½½äº†å®Œæ•´æ­£ç¡®çš„æ¡£æ¡ˆã€‚ Asset pipeline ä¼šå°† CSS å’Œ JavaScript å‹ç¼©ï¼Œæ¡£åå°±æ˜¯é€è¿‡æ•£åˆ—å‡½æ•°äº§ç”Ÿçš„ ç”¨æˆ·æ³¨å†Œæ—¶è¾“å…¥çš„å¯†ç ï¼Œåœ¨å®é™…å­˜å‚¨è¿›æ•°æ®åº“æ—¶ï¼Œä¼šå…ˆç»è¿‡æ•£åˆ—å‡½æ•°ï¼Œå˜æˆæ‘˜è¦å€¼ã€‚æ•°æ®åº“é‡Œé¢æ²¡æœ‰å­˜ç”¨æˆ·çš„æ˜ç ï¼Œè€Œæ˜¯å­˜å¯†ç æ‘˜è¦åçš„å€¼ã€‚ æ•°æ®åº“ä¸ä¼šå­˜ç”¨æˆ·çš„æ˜ç ï¼Œæ‰€ä»¥å³ä½¿æ˜¯æ•°æ®åº“ç®¡ç†å‘˜ï¼Œä¹Ÿä¸ä¼šçŸ¥é“ç”¨æˆ·çœŸæ­£çš„å¯†ç æ˜¯ä»€ä¹ˆã€‚çŸ¥é“ encrypted_password å¹¶æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œå› ä¸ºæˆ‘ä»¬æ— æ³•é€†æ¨ã€‚ ä¸‡ä¸€æ•°æ®åº“æ•´ä¸ªå¤–æ´©äº†ï¼Œéª‡å®¢ä¹Ÿæ— æ³•çŸ¥é“ç”¨æˆ·çš„å¯†ç  è¦æ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªç½‘ç«™æœ‰æ²¡æœ‰å­˜æ˜ç å‘¢ï¼Ÿ åªè¦è¯•è¯•çœ‹å¿˜è®°å¯†ç ç¨‹åºå³å¯ï¼Œå¦‚æœç½‘ç«™ç›´æ¥å°†ä½ çš„å¯†ç å¯„ç»™ä½ ï¼Œé‚£å°±ä»£è¡¨ä»–çš„æ•°æ®åº“å­˜æ˜ç ã€‚ ç¬¬åç«  HTTPSéå¯¹ç§°åŠ å¯† å¯ä»¥åœ¨ä¸äº¤æ¢å¯†é’¥çš„æƒ…å†µä¸‹ï¼Œå®ç°æµè§ˆå™¨å’ŒæœåŠ¡å™¨çš„è¿çº¿ã€‚ åœ¨éå¯¹ç§°åŠ å¯†ç®—æ³•ä¸­ï¼Œä¼šæœ‰ä¸¤æŠŠé’¥åŒ™ï¼Œä¸€æŠŠå«åšå…¬é’¥ã€ä¸€æŠŠå«åšå¯†é’¥ã€‚ é€è¿‡å…¬é’¥åŠ å¯†çš„å¯†æ–‡ï¼Œåªæœ‰å¯†é’¥èƒ½å¤Ÿè§£å¼€ é€è¿‡å¯†é’¥åŠ å¯†çš„å¯†æ–‡ï¼Œåªæœ‰å…¬é’¥èƒ½å¤Ÿè§£å¼€ åœ¨éƒ¨ç½² Linux æœåŠ¡å™¨æ—¶ï¼Œæˆ‘ä»¬ä¼šå°†è‡ªå·±çš„å…¬é’¥æ”¾åœ¨æœåŠ¡å™¨ä¸Šï¼Œè¿™æ ·ç™»å…¥çš„æ—¶å€™å°±ä¸éœ€è¦æ‰“å¸å·å¯†ç ï¼ŒæœåŠ¡å™¨å°±èƒ½è®¤è¯ä½  åœ¨ Git ä¹‹ä¸­ï¼Œæˆ‘ä»¬ä¼šå°†è‡ªå·±çš„å…¬é’¥æ”¾åœ¨ Github ä¸Šï¼Œè¿™æ · git push å’Œ pull æ—¶ï¼ŒGithub å°±èƒ½åšè®¤è¯ã€‚ å‰©ä¸‹ä¿¡ä»»é—®é¢˜ï¼Œæˆ‘ä»¬æ€ä¹ˆçŸ¥é“è¿™ä¸ªå…¬é’¥çœŸçš„ä»£è¡¨è¿™ä¸ªç½‘ç«™ä¸»ï¼Ÿ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ç”³è¯·æˆ–è´­ä¹°ç½‘ç«™å®‰å…¨å‡­è¯(SSL certificate)çš„åŸå› ã€‚","categories":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}],"tags":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/tags/rorç³»ç»Ÿ/"}],"keywords":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}]},{"title":"ror-system-Ajaxäº¤äº’å¼ç½‘é¡µåº”ç”¨","slug":"ror-system-Ajaxäº¤äº’å¼ç½‘é¡µåº”ç”¨","date":"2017-12-13T16:10:00.000Z","updated":"2018-01-14T04:43:01.000Z","comments":true,"path":"posts/765fb13d/","link":"","permalink":"http://yoursite.com/posts/765fb13d/","excerpt":"","text":"1.1ã€Jquery1jquery å°±å¯¹javascriptçš„ä¸€ä¸ªæ‰©å±•ï¼Œå°è£…ï¼Œå°±æ˜¯è®©javascriptæ›´å¥½ç”¨ï¼Œæ›´ç®€å•ã€‚äººå®¶æ€ä¹ˆè¯´çš„æ¥ç€ï¼Œjqueryå°±æ˜¯è¦ç”¨æ›´å°‘çš„ä»£ç ï¼Œæ¼‚äº®çš„å®Œæˆæ›´å¤šçš„åŠŸèƒ½ã€‚ jQueryæ˜¯ä¸€å¥—æœ€å¤šäººä½¿ç”¨çš„ JavaScript å‡½å¼åº“ï¼Œå¯ä»¥æ’°å†™å„ç§ç½‘é¡µæ•ˆæœï¼Œæœ‰ä¸°å¯Œçš„ç¤¾åŒºå’Œå„ç§ Plugins å¤–æŒ‚ã€‚ å®ƒçš„ä¸»è¦ä½œç”¨æ˜¯æ“çºµç½‘é¡µçš„ DOM(Document Object Model)ï¼šæµè§ˆå™¨ä¼šè§£æ HTML ç„¶åæ˜¾ç¤ºåœ¨ç”»é¢ä¸Šï¼Œè¿™ä¸ªè§£æå‡ºæ¥çš„ç»“æ„å°±å«åš DOM 12345678910111213&lt;p&gt; &lt;a id=&quot;my-click&quot;&gt;Click Me&lt;/a&gt;&lt;/p&gt;&lt;div id=&quot;foo&quot; style=&quot;border: 1px solid red;&quot;&gt; &lt;p&gt;bar&lt;/p&gt;&lt;/div&gt;&lt;script&gt; $(&quot;#my-click&quot;).click(function()&#123; $(&quot;#foo&quot;).html(&apos;&lt;h1&gt;zoo&lt;/h1&gt;&apos;); &#125;)&lt;/script&gt; è§£è¯´ï¼š &lt;script&gt;...&lt;/script&gt; åŒ…èµ·æ¥çš„éƒ¨åˆ†å°±æ˜¯å†™ JavaScript çš„åœ°æ–¹ è¿™ä¸ªé’±å· $ ç­‰åŒäº jQuery $(&quot;#my-click&quot;) æ˜¯ jQuery çš„é€‰æ‹©å™¨ç”¨æ³•ï¼Œä¼šæŒ‘å‡º id æ˜¯ my-click çš„å…ƒç´ ï¼Œåœ¨è¿™é‡Œå°±æ˜¯æŒ‡ Click Me çš„è¶…è¿ç»“ã€‚åœ¨ HTML ä¸Š id æ˜¯å”¯ä¸€çš„ï¼Œä¸èƒ½æœ‰é‡å¤çš„ idã€‚ .click( function(){...} ) ä¼šç»‘è®¢ä¸€ä¸ªç‚¹å‡»(click)äº‹ä»¶åœ¨è¯¥å…ƒç´ ä¸Šé¢ï¼Œå½“ç”¨æˆ·ç‚¹å‡»è¿™ä¸ªå…ƒç´ æ—¶ï¼Œå°±ä¼šæ‰§è¡Œé‡Œé¢çš„ function $(&quot;#foo&quot;).html(&#39;&lt;h1&gt;zoo&lt;/h1&gt;&#39;) ä¼šæŠŠ #foo è¿™ä¸ªå…ƒç´ çš„å†…å®¹ç½®æ¢æˆ &lt;h1&gt;zoo&lt;/h1&gt; è¯·è¯•è¯•çœ‹æŠŠ html æ¢æˆä»¥ä¸‹ç”¨æ³•ï¼Œè§‚å¯Ÿçœ‹çœ‹æœ‰ä»€ä¹ˆå·®åˆ«ï¼š text æ–‡å­—æ›¿æ¢ prepend æŠŠå†…å®¹æ’åœ¨æŒ‡å®šå…ƒç´ é‡Œé¢çš„æœ€å‰é¢ append æŠŠå†…å®¹æ’åœ¨æŒ‡å®šå…ƒç´ é‡Œé¢çš„æœ€åé¢ before æŠŠå†…å®¹æ’åœ¨æŒ‡å®šå…ƒç´ çš„å‰é¢ after æŠŠå†…å®¹æ’åœ¨æŒ‡å®šå…ƒç´ çš„åé¢ 1.2ã€$(document).ready æ˜¯ä¸€ä¸ªæµè§ˆå™¨çš„äº‹ä»¶ï¼Œä¼šåœ¨åŠ è½½ HTML å®Œæˆä¹‹åï¼Œæ‰æ‰§è¡Œé‡Œé¢çš„ function 1.3ã€æœ€å¸¸è§çš„ jQuery ä½¿ç”¨å¥—è·¯äº†ï¼ŒåŒ…æ‹¬ï¼š ç”¨é€‰æ‹©å™¨ Selector é€‰å–å‡ºç›®æ ‡å…ƒç´ ï¼Œä¾‹å¦‚ $(&quot;#æŸä¸ªID&quot;)å’Œ $(&quot;.æŸä¸ªclass&quot;)ã€‚ ç»‘å®šä¸€ä¸ªäº‹ä»¶(Event)ä¸Šå»ï¼Œä¾‹å¦‚ click å’Œ hover äº‹ä»¶ å½“äº‹ä»¶è¢«è§¦å‘çš„æ—¶å€™ï¼Œæ‰§è¡ŒæŸä¸ª DOM æ“ä½œæ¥æ”¹å˜ HTMLï¼Œå¯èƒ½æ˜¯æ”¹å˜å…ƒç´ çš„å±æ€§ã€æ’å…¥æ–°å†…å®¹ã€æ–°å¢æˆ–ç§»é™¤ class å±æ€§ç­‰ç­‰ã€‚ç›®å‰å­¦åˆ°çš„ç”¨æ³•æœ‰ï¼š html append prepend before after remove replaceWith toggle addClass å’Œ removeClass 2.1ã€Ajaxï¼ˆ99ï¼šç›¸å½“äºæŠŠåŸæ¥controlleré‡Œçš„é‡å®šå‘ç”¨jqueryé‡æ–°å†™åˆ°viewsçš„xx.js.erbé‡Œï¼‰ Ajax æ˜¯ä¸€ç§å¢å¼º UI çš„æ–¹å¼ï¼Œæˆ‘ä»¬ä¼šå…ˆæŠŠåŸºæœ¬åŠŸèƒ½å®Œæˆï¼Œå†æ ¹æ®éœ€è¦æ”¹æˆ Ajax æ•ˆæœã€‚ æ¥ä¸‹æ¥è¦ä»‹ç»çš„ Ajax(Asynchronous JavaScript and XML) å¼‚æ­¥çš„JavaScriptä¸XMLæŠ€æœ¯ï¼Œåˆ™å¯ä»¥ä¸éœ€è¦æ•´é¡µæ›¿æ¢ï¼Œåªæ›´æ–°éƒ¨åˆ†ç½‘é¡µï¼Œè¿™å¯ä»¥å¤§å¤§çš„æ”¹è¿› UI ååº”é€Ÿåº¦ã€‚ç›®å‰å·²ç»ä¸æµè¡Œç”¨ XML äº†ï¼Œå› æ­¤å¸¸è§çš„å›ä¼ ä¼šç”¨ JSON å’Œ Script æ ¼å¼ï¼š ç”¨ JSON æ ¼å¼ï¼Œå¿…é¡»å†™è‡ªå®šä¹‰çš„ JavaScript å»å¤„ç† Ajax çš„å‘é€å’Œæ¥æ”¶å¤„ç†ã€‚JavaScript å¼ºè€…æˆ–å›¢é˜Ÿä¸­æœ‰å‰ç«¯å·¥ç¨‹å¸ˆä¼šåå¥½è¿™ç§æ–¹å¼ã€‚ 2.2ã€ 12- &lt;%= link_to &quot;Delete&quot;, post_path(post), :method =&gt; :delete, :class =&gt; &quot;btn btn-danger&quot; %&gt;+ &lt;%= link_to &quot;Delete&quot;, post_path(post), :method =&gt; :delete, :remote =&gt; true, :class =&gt; &quot;btn btn-danger&quot; %&gt; é€è¿‡ :remote =&gt; true å°±ä¼šå˜æˆ Ajax é€å‡ºäº†ï¼Œä¸éœ€è¦è‡ªå·±å†™ $(&quot;xxx&quot;).click å»ç»‘äº‹ä»¶ã€‚ 1234567app/controllers/posts_controller.rb def destroy @post = current_user.posts.find(params[:id]) @post.destroy- render :js =&gt; &quot;alert(&apos;ok&apos;);&quot; end 123app/views/posts/index.html.erb- &lt;div class=&quot;panel panel-default&quot;&gt;+ &lt;div id=&quot;post-&lt;%= post.id %&gt;&quot; class=&quot;panel panel-default&quot;&gt; 12app/views/posts/destroy.js.erb $(&quot;#post-&lt;%= @post.id %&gt;&quot;).remove(); è§£è¯´ï¼š é’ˆå¯¹è¦è¢«ç§»é™¤çš„ &lt;div&gt; åŒºå—ï¼Œæˆ‘ä»¬è¡¥ä¸Šäº†ä¸€ä¸ª idï¼Œä¾‹å¦‚ &lt;div id=&quot;post-123&quot;&gt;ï¼Œè¿™æ ·ç­‰ä¼š jQuery è¦ç§»é™¤çš„æ—¶å€™ï¼Œå°±å¯ä»¥ç›´æ¥æŠ“åˆ°è¦ç§»é™¤å“ªä¸€ä¸ªå…ƒç´ äº† ä¸€ä¸ª action å¦‚æœæ²¡æœ‰å†™æ˜ redirect æˆ– render çš„è¯ï¼Œå°±ä¼šé»˜è®¤å»æ‰¾ action åç§°çš„æ ·æ¿ã€‚äºæ˜¯è¿™é‡Œå°±ä¼šå»æ‰¾ destroy.js.erb destroy.js.erb é‡Œé¢è¦å†™å›ä¼ çš„ JavaScript ä»£ç ï¼Œè¿™ä¸ªæ¡£æ¡ˆä¹Ÿæ˜¯ erb æ ·æ¿ï¼Œæ‰€ä»¥å¯ä»¥ç”¨ &lt;%= XXX %&gt; å†…åµŒ Ruby è¯­æ³• å†æ¬¡æµ‹è¯•çœ‹çœ‹åˆ é™¤ï¼Œä½ ä¼šå‘ç°åˆ é™¤çš„æ“ä½œå˜æˆè¶…çº§ç¥é€Ÿã€‚ 2.3ã€ form_for ä¹Ÿå¯ä»¥ç”¨è¿™æ‹›ã€‚æ¥ä¸‹æ¥åšåšçœ‹æ–°å¢è´´æ–‡ï¼š 1$(&quot;#post-list&quot;).prepend(&quot;&lt;%=j render :partial =&gt; &quot;post&quot;, :locals =&gt; &#123; :post =&gt; @post &#125; %&gt;&quot;); å…¶ä¸­ j ç­‰åŒäº escape_javascriptï¼Œè¿™ä¼šåšé€¸å‡ºå¥½è®© partial å­—ä¸²å¯ä»¥å˜æˆåˆæ³•çš„ JavaScript å­—ä¸²ï¼š 3.1ã€ajaxè¿›é˜¶ç”¨æ³• ä¸ç”¨:remote =&gt; trueï¼Œè€Œæ˜¯æ‰‹å†™ jQuery å»ç»‘äº‹ä»¶é€ Ajaxï¼Œå–å¾— JSON å›ä¼ å¹¶æ›´æ–° DOM 3.1ã€Turbolinksçš„å‘ åŠ é€Ÿæ¢é¡µï¼Œä¸é‡æ–°è½½å…¥ HTML çš„ headï¼Œåªè½½å…¥æ–°çš„ bodyçš„å·¥å…·ã€‚","categories":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}],"tags":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/tags/rorç³»ç»Ÿ/"}],"keywords":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}]},{"title":"ror-system-ç¼–ç¨‹è¯­è¨€ç¬¬ä¸€é›†","slug":"ror-system-ç¼–ç¨‹è¯­è¨€ç¬¬ä¸€é›†","date":"2017-12-13T16:10:00.000Z","updated":"2018-01-14T04:43:01.000Z","comments":true,"path":"posts/d7c2c06c/","link":"","permalink":"http://yoursite.com/posts/d7c2c06c/","excerpt":"","text":"ç¨‹åºæ˜¯å¦‚ä½•è¿ä½œçš„ï¼Ÿ1ã€å‰è¨€ ç¨‹åºåœ¨è®¡ç®—æœºä¸­æ˜¯å¦‚ä½•æ‰§è¡Œçš„? Ruby ç¼–ç¨‹è¯­è¨€å’Œå…¶ä»–ç¨‹å¼è¯­è¨€æœ‰ä»€ä¹ˆä¸åŒ? è®¡ç®—æœºçš„æ¶æ„æ˜¯ä»€ä¹ˆï¼Ÿå†…å­˜æ˜¯å¹²å˜›çš„ï¼Ÿ æ“ä½œç³»ç»Ÿæ˜¯å¹²å˜›çš„? å„ç§æ•°æ®å‹æ€çš„å·®å¼‚ ä¸ºä»€ä¹ˆæœ‰ä¹±ç ? ä»€ä¹ˆæ˜¯ Unicode ä¸‡å›½ç ? ä»€ä¹ˆæ˜¯æ­£è§„è¡¨ç¤ºæ³• Regular Expressionï¼Œè¿™å¯ä»¥å¹²å˜›ï¼Ÿ ä»€ä¹ˆæ˜¯ç®—æ³•ã€æ•°æ®ç»“æ„ï¼Ÿ å¦‚ä½•ç”¨ BigO è¯„ä¼°ç®—æ³•æ•ˆèƒ½ï¼Œäº†è§£ä¸åŒæ•°æ®ç»“æ„çš„æ•ˆèƒ½å·®å¼‚ 2ã€ä»€ä¹ˆæ˜¯ç¼–ç¨‹è¯­è¨€2.1ã€é«˜çº§è¯­è¨€ ä½çº§è¯­è¨€æŒ‡çš„æ˜¯æœºå™¨è¯­è¨€å’Œæ±‡ç¼–è¯­è¨€ï¼Œä¸€æ­¥ä¸€æ­¥æŒ‡ç¤ºç”µè„‘å¾®å¤„ç†å™¨å¦‚ä½•åŠ¨ä½œï¼Œæ˜¯æœ€åŸå§‹çš„ç¼–ç¨‹è¯­è¨€ã€‚ä½çº§è¯­è¨€ä¸æ˜¯è¯´æ¯”é«˜çº§è¯­è¨€å·®ï¼Œè€Œæ˜¯æŒ‡æŠ½è±¡åŒ–çš„ç¨‹åº¦æ¯”è¾ƒä½ï¼Œä¸ç”µè„‘ç¡¬ä»¶çš„æŒ‡ä»¤ç›´æ¥å¯¹åº”çš„æ„æ€ã€‚ æœºå™¨è¯­è¨€ä¼šæŒ‡ç¤º CPU è¿›è¡Œä»€ä¹ˆæ“ä½œï¼šé¦–å…ˆå°†æŒ‡ä»¤å’Œæ•°æ®ä»å†…å­˜æ¬è¿› CPU çš„å¯„å­˜å™¨ï¼Œæ¥ç€ CPU è¿›è¡Œè®¡ç®—ï¼Œç„¶åå°†ç»“æœä»CPU å¯„å­˜å™¨æ¬å›å†…å­˜ï¼Œä»£ç é•¿å¾—åƒè¿™æ ·ï¼š 123000000 00001 00010 00110 00000 100000100011 00011 01000 00000 00001 000100000010 00000 00000 00000 10000 000000 æ±‡ç¼–è¯­è¨€ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯å¯¹åº”æœºå™¨è¯­è¨€ï¼Œåªæ˜¯ç»™äºˆç¬¦å·æ„ä¹‰ï¼Œé•¿å¾—åƒè¿™æ ·ï¼š 123456MOV eax, 1ADD eax, 4SUB eax, 2MOV num, eaxINVOKE printf, ADDR formatStr, numret 0 ä½çº§è¯­è¨€å†™èµ·æ¥å¾ˆè´¹äº‹ï¼Œä½†ç”µè„‘è·‘èµ·æ¥é£å¿«ã€‚æ³¨æ„ï¼Œä¸åŒ CPU çš„æœºå™¨ç (åˆå«åš native code)æ˜¯ä¸ä¸€æ ·çš„ã€‚å› æ­¤ Intel x86 å’Œ ARM CPU çš„ä»£ç ã€32ä½å…ƒå’Œ64ä½å…ƒçš„ç¨‹åºæ˜¯ä¸é€šç”¨çš„ã€‚ 2.2ã€é«˜çº§è¯­è¨€ åœ¨ C è¯­è¨€ä¸­ï¼Œä½¿ç”¨å˜é‡éœ€è¦å…ˆå®£å‘Šæ•°æ®å‹æ€ï¼Œä¾‹å¦‚è¿™é‡Œæ˜¯ int è¡¨ç¤ºæ•´æ•°ã€‚å®ƒä¼šé¢„å…ˆè·Ÿå†…å­˜è¦å›ºå®šçš„ç©ºé—´(int ä¼šè¦ 4 bytes)ã€‚åœ¨ C è¯­è¨€ä¸­ï¼Œè¦ä½¿ç”¨å˜é‡éƒ½å¿…é¡»è·Ÿå†…å­˜å…ˆè®²è¦å¤šå°‘ç©ºé—´ã€‚ ç”µè„‘å¯ä»¥æ‰§è¡Œæœºå™¨ç ï¼Œä½†æ˜¯æ— æ³•ç›´æ¥æ¶ˆåŒ–é«˜çº§è¯­è¨€ï¼Œè¿™äº›é«˜çº§è¯­è¨€çš„æºä»£ç éƒ½å¿…é¡»ç»è¿‡ä¸€ä¸ªç¼–è¯‘(compile)çš„è¿‡ç¨‹ï¼Œè½¬æ¢æˆäºŒè¿›åˆ¶æœºå™¨è¯­è¨€ï¼Œä¹Ÿå°±æ˜¯å¯æ‰§è¡Œçš„æ¡£æ¡ˆã€‚ ç›®å‰ç»å¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€çš„ç¼–è¯‘å™¨ï¼Œéƒ½æ˜¯ç”¨ C è¯­è¨€å†™çš„ï¼Œä¾‹å¦‚ Ruby ä¹Ÿæ˜¯ç”¨ C è¯­è¨€å†™çš„ã€‚ 3ã€ä»€ä¹ˆæ˜¯æ“ä½œç³»ç»Ÿ ä¸åŒçš„æ“ä½œç³»ç»Ÿï¼Œä¼šæä¾›ä¸åŒçš„ API è®©ç¼–ç¨‹è¯­è¨€å¯ä»¥è°ƒç”¨ç¡¬ä»¶èµ„æºã€‚ 4ã€å†…å­˜ç®¡ç†4.1ã€å†…å­˜ äº†è§£å†…å­˜æ˜¯ç¼–ç¨‹éå¸¸é‡è¦çš„æ¦‚å¿µï¼Œå› ä¸ºå¦‚æœä½ æŠŠå†…å­˜ç”¨å…‰äº†ï¼Œæ“ä½œç³»ç»Ÿå°±å¾—å»æŠŠç¡¬ç›˜æ¨¡æ‹Ÿæˆå†…å­˜ä½¿ç”¨ï¼Œä½†æ˜¯ç”±äºç¡¬ç›˜çš„é€Ÿåº¦è·Ÿå†…å­˜å·®å¤ªå¤šäº†ï¼Œæ•´å°ç”µè„‘çš„æ•ˆèƒ½ä¼šæ€¥å‰§ä¸‹æ»‘ï¼Œå°±ä¼šå‘ˆç°å½“æœºçš„çŠ¶æ€ã€‚ä¸€å°ç”µè„‘çš„å†…å­˜æ˜¯æœ‰é™çš„ï¼Œä½ çš„ MacBook å¯èƒ½åªæœ‰ 4G æˆ– 8Gï¼Œç§Ÿä¸€å°æœåŠ¡å™¨ï¼Œæœ€é‡è¦çš„ä¹Ÿæ˜¯å…ˆçœ‹æœ‰å¤šå°‘å†…å­˜ç©ºé—´å¯ä»¥ä½¿ç”¨ã€‚å†…å­˜è¶Šå¤šï¼Œå¯ä»¥åŒæ—¶æ‰§è¡Œçš„ç¨‹åºå°±è¶Šå¤šã€‚ C è¯­è¨€ä¸­éœ€è¦æ‰‹åŠ¨ç®¡ç†å†…å­˜ã€‚åœ¨ç¡¬ä»¶èµ„æºæœ‰é™æˆ–éœ€è¦æ•ˆèƒ½è‡³ä¸Šçš„è½¯ä»¶ä¸­ï¼Œæ‰‹åŠ¨ç®¡ç†å†…å­˜æœ‰å…¶å¿…è¦ï¼Œä½†æ˜¯ç¼ºç‚¹å°±æ˜¯é™ä½äº†å¼€å‘æ•ˆç‡ï¼Œå¼€å‘è€…å¿…é¡»æ³¨æ„å¥½å†…å­˜ç®¡ç†ï¼Œç”¨çš„æ—¶å€™è¦å…ˆå®£å‘Šï¼Œä¸ç”¨çš„æ—¶å€™è¦é‡Šæ”¾å›æ“ä½œç³»ç»Ÿã€‚ 4.2ã€javaè¯­è¨€ ç¬¬äºŒé‡è¦çš„å¯èƒ½å°±æ˜¯ Java è¯­è¨€äº†Java æœ‰è®¸å¤šé‡å¤§çš„å‘æ˜ï¼Œå…¶ä¸­é¢å‘å¯¹è±¡æˆ‘ä»¬ä¸‹ä¸€ä¸ªæ•™ç¨‹ä¼šæ•™çš„é‡ç‚¹ï¼Œå¦å¤–å°±æ˜¯å†…éƒ¨ Virtual Machine(VM)è·¨å¹³å°è®¾è®¡ï¼Œä»¥åŠå’Œåƒåœ¾å›æ”¶ Garbage Collection (GC)) äº†ï¼Œæˆ‘ä»¬å…ˆè°ˆè°ˆ GCã€‚ GC æ˜¯ç¼–ç¨‹è¯­è¨€çš„ä¸€ç§å†…éƒ¨åŠŸèƒ½ï¼Œä½œç”¨æ˜¯è‡ªåŠ¨æŠŠå†æ²¡æœ‰ç”¨åˆ°çš„å˜é‡ï¼ŒæŠŠå†…å­˜é‡Šå‡ºå›æ“ä½œç³»ç»Ÿã€‚ â€‹ 5ã€ç¼–è¯‘å‹è¯­è¨€å’Œè§£é‡Šå‹è¯­è¨€ ç¼–è¯‘å‹è¯­è¨€åŒ…æ‹¬ï¼šC è¯­è¨€ã€C++ã€Java è¯­è¨€ç­‰ç­‰ï¼Œè¿™ç§è¯­è¨€è¦æ±‚ä¸€å®šè¦å…ˆæŠŠå…¨éƒ¨ä»£ç ç¼–è¯‘å˜æˆæœºå™¨ç (native code)ï¼Œä¹Ÿå°±æ˜¯å¯æ‰§è¡Œçš„æ¡£æ¡ˆã€‚è½¯ä»¶æ•£å¸ƒå’Œåˆ†äº«çš„æ—¶å€™ï¼Œæ˜¯æ‹¿æœ€åçš„æ‰§è¡Œæ¡£ã€‚åœ¨è¿™ç±»è¯­è¨€ä¸­ï¼Œä½¿ç”¨å˜é‡å¿…é¡»äº‹å…ˆå®£å‘Šç±»å‹ï¼Œä¾‹å¦‚è¿™ä¸ªå˜é‡ä¸€å¼€å§‹å®£å‘Šæ˜¯ intï¼Œé‚£å°±ä¸€å®šåªèƒ½æ˜¯ intï¼Œä¸èƒ½æ¢æˆå­˜å­—ç¬¦ä¸²ã€‚ ç¼–è¯‘å‹è¯­è¨€æ¯æ¬¡ä¿®æ”¹ä»£ç ï¼Œéƒ½å¿…é¡»é‡æ–°æŠŠç¨‹åºç¼–è¯‘å¥½ï¼Œå¦‚æœç¨‹åºä»»ä¸€è¡Œæœ‰é”™ï¼Œå°±æ— æ³•ç¼–è¯‘ã€‚ä½†æ˜¯å› ä¸ºéƒ½å…ˆç¼–è¯‘å¥½äº†ï¼Œæ‰€ä»¥æ‰§è¡Œçš„é€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œè€Œä¸”æ‰§è¡Œæ¡£å¾ˆå°ã€‚åˆšåˆšçš„ C è¯­è¨€èŒƒä¾‹ï¼Œç¼–è¯‘ååªæœ‰8Kçš„å¤§å°ã€‚ â€‹ è§£é‡Šå‹è¯­è¨€åŒ…æ‹¬: Rubyã€Pythonã€JavaScriptã€PHP ç­‰ç­‰ï¼Œè¿™ç§è¯­è¨€ä¸éœ€è¦å…ˆç¼–è¯‘ï¼Œè€Œæ˜¯é€è¿‡ä¸€ç§å«åšè§£é‡Šå™¨(interpreter)çš„è½¯ä»¶ï¼Œé€è¡Œç¼–è¯‘ç„¶åç›´æ¥æ‰§è¡Œã€‚è½¯ä»¶æ•£å¸ƒå’Œåˆ†äº«çš„æ—¶å€™ï¼Œæ˜¯æ‹¿æºä»£ç ã€‚åœ¨è¿™ç±»è¯­è¨€ä¸­ï¼Œä½¿ç”¨å˜é‡ä¸éœ€è¦äº‹å…ˆå®£å‘Šç±»å‹ï¼Œä¸€å¼€å§‹å­˜æ•´æ•°ï¼Œåæ¥æ¢æˆå­˜å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥ã€‚ è§£é‡Šå‹è¯­è¨€ä¸éœ€è¦å…ˆç¼–è¯‘ï¼Œä¿®æ”¹èµ·æ¥æ¯”è¾ƒæ–¹ä¾¿ï¼Œå†™ä»£ç ä¹Ÿå¿«ä¸€äº›ï¼Œä½†æ˜¯ä»»ä½•é”™è¯¯éƒ½è¦ç­‰åˆ°çœŸæ­£æ‰§è¡Œä¹‹åï¼Œæ‰ä¼šçŸ¥é“ã€‚å› ä¸ºè¦ç­‰åˆ°æ‰§è¡Œæ—¶æ‰ç¼–è¯‘ï¼Œæ‰€ä»¥æ‰§è¡Œçš„é€Ÿåº¦è¾ƒæ…¢ã€‚ä¸€ä¸ªåªæœ‰ä¸€è¡Œçš„ Ruby ä»£ç ç¨‹åºï¼Œå¦‚æœè¦å†å¦ä¸€å°ç”µè„‘è·‘èµ·æ¥ï¼Œé‚£å°ç”µè„‘ä¹Ÿå¿…é¡»æŠŠ Ruby è§£é‡Šå™¨å®‰è£…èµ·æ¥ï¼Œè€Œä¸”è·‘èµ·æ¥è‡³å°‘éœ€è¦ 5MB çš„å†…å­˜ï¼Œå³ä½¿åªæ˜¯è¾“å‡ºä¸€è¡Œ Hello Worldã€‚ ã€Œæœºå™¨è¯­è¨€ -&gt; ç»„åˆè¯­è¨€ -&gt; C è¯­è¨€ -&gt; Java è¯­è¨€ -&gt; åŠ¨æ€è¯­è¨€ã€è¶Šå¾€å³è¾¹æ‰§è¡Œæ•ˆèƒ½è¾ƒå·®ï¼Œä½†å¼€å‘èµ·æ¥æ•ˆç‡æ¯”è¾ƒå¥½ã€‚ å¦ä¸€æ–¹é¢ç”±äºç¡¬ä»¶æ•ˆèƒ½çš„å¢å¼ºï¼ŒäººåŠ›å¼€å‘æˆæœ¬æ¯”èµ·è½¯ä»¶çš„æ‰§è¡ŒæœŸçš„æ•ˆèƒ½ï¼Œä¹Ÿè¶Šæ¥è¶Šé‡è¦ã€‚åœ¨ç¡¬ä»¶èµ„æºæœ‰é™çš„è¡ŒåŠ¨è£…ç½®åŠåµŒå…¥å¼ç³»ç»Ÿä¸Šï¼Œä»æ˜¯é™æ€è¯­è¨€çš„å¤©ä¸‹ã€‚ 6ã€å„ç§ç¼–ç¨‹è¯­è¨€ä»‹ç»6.1ã€ç¼–ç¨‹è¯­è¨€ç§ç±» C è¯­è¨€: å¼€å‘ç³»ç»Ÿç¨‹å¼ (System Programming)ã€æ“ä½œç³»ç»Ÿã€ç¼–è¯‘å™¨ç­‰ç­‰å·¥å…·å¿…å¤‡è¯­è¨€ã€‚ç»è¿‡ç¼–è¯‘å¯ä»¥ç§»æ¤åˆ°ä¸åŒç¡¬ä»¶ä¸Šã€‚ C++ è¯­è¨€: å¤šäº†ä¸€å¤§å †åŠŸèƒ½å’Œé¢å‘å¯¹è±¡çš„è¶…çº§å¤æ‚ç‰ˆ C è¯­è¨€ï¼Œå¤§å‹è½¯ä»¶å¦‚ Google Chrome, Qt, WebKit, V8, HHVM æˆ–æ˜¯æ•ˆèƒ½è¦æ±‚é«˜çš„æ¸¸æˆç­‰ç­‰ï¼Œç”¨ C++ æ¯”è¾ƒå¤šã€‚ä½†æ˜¯ C++ ç”±äºè¯­æ³•å¤ªå¤šå¤ªå¤æ‚ï¼Œè¢«è®¤ä¸ºæ˜¯æœ€ä¸å¥½ä¸Šæ‰‹çš„è¯­è¨€ä¹‹ä¸€ã€‚Linux å’Œ Git çš„å‘æ˜äºº Linusï¼Œå°±åšå†³åå¯¹ C++ã€‚ Java è¯­è¨€: æä¾›è·¨å¹³å° VMã€é¢å‘å¯¹è±¡ï¼Œä½¿ç”¨ GC å†…å­˜åƒåœ¾è‡ªåŠ¨å›æ”¶ï¼Œç”±äºå‘å±•å·²ä¹…ï¼Œæ•ˆèƒ½ä¹Ÿéå¸¸å¥½ï¼Œåç«¯å¾ˆå¤šä¼ä¸šè½¯ä»¶å’Œä¸­é—´ä»¶ä½¿ç”¨ï¼Œåœ¨è¶…å¤§å‹ç½‘ç«™ä¸­ä¹Ÿååˆ†å¸¸è§ï¼Œä¾‹å¦‚é˜¿é‡Œå·´å·´ã€Twitterã€Linkedin æœåŠ¡ç«¯ã€‚å‰ç«¯æ–¹é¢è¦ Android è½¯ä»¶ä¹Ÿæ˜¯ç”¨ Java è¯­è¨€ã€‚ Scala è¯­è¨€ã€Clojure è¯­è¨€ã€JRuby è¯­è¨€ç­‰ç­‰ï¼šè¿™äº›è¯­è¨€éƒ½å»ºæ„ä¸Š JVM ä¸Šï¼Œé€è¿‡ç¼–è¯‘å˜æˆ Java å­—èŠ‚ç ï¼Œå°±å¯ä»¥åœ¨ä¸åŒå¹³å°ä¸Šæ‰§è¡Œã€‚è¿™äº›è¯­è¨€ç”¨è‡ªå·±åå¥½çš„è¯­æ³•è®¾è®¡ï¼Œç„¶åæ­ä¸Š Java VM å‘å±•æˆç†Ÿçš„ä¾¿è½¦ï¼Œå¯ä»¥è°ƒç”¨ Java çš„åº“ã€‚ C# è¯­è¨€: å¾®è½¯çš„å®˜æ–¹è¯­è¨€ï¼Œå½“å¹´æ˜¯ä»¿ Java æ‰€æ¨å‡ºçš„ç¼–ç¨‹è¯­è¨€ã€‚å®ƒçš„ .NET framework ç­‰åŒäº JVM çš„è®¾è®¡ã€‚åœ¨ .NET ä¸Šè¿˜æœ‰å…¶ä»–å¾®è½¯çš„ç¼–ç¨‹è¯­è¨€ VB.NET, ASP.NET, F# ç­‰ç­‰ Objective-C å’Œ Swiftï¼Œè‹¹æœä¸“ç”¨çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ’°å†™ MacOS å’Œ iOS åº”ç”¨å¿…å¤‡ PHP è¯­è¨€ï¼Œå½“å¹´å‘æ˜çš„æ—¶å€™å«åš Personal Home Pageï¼Œæ‰€ä»¥å«åš PHPã€‚PHP çš„åˆè¡·æ˜¯ä½œä¸º HTML æ ·æ¿(å°±åƒæ˜¯ Rails é‡Œé¢çš„ html.erb)ï¼Œä¸»æ”» Web åº”ç”¨ã€‚å› ä¸ºå®¹æ˜“ä¸Šæ‰‹ä½¿ç”¨ï¼Œåœ¨ 2000 å¹´åˆæ­é… MySQL æ•°æ®åº“éå¸¸æµè¡Œã€‚ Python è¯­è¨€: ä¹Ÿæ˜¯åŠ¨æ€è¯­è¨€çš„ä¸€ç§ï¼Œå’Œ Ruby æ—¶å¸¸æ‹¿æ¥å¯¹æ¯”ã€‚è¿‘å¹´æ¥åœ¨æ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ é¢†åŸŸç”¨å¾—å¾ˆå¤šã€‚ JavaScript è¯­è¨€: æ‰˜æµè§ˆå™¨çš„ç¦ï¼Œæˆä¸ºå…¨ä¸–ç•Œæœ€é£è¡Œçš„è¯­è¨€ã€‚åç«¯å¯ä»¥ç”¨ Node.js å•ç‹¬å°† JavaScript è·‘åœ¨æœåŠ¡å™¨ä¸Šï¼Œè€Œä¸éœ€è¦ä¾èµ–æµè§ˆå™¨çš„ç¯å¢ƒã€‚ R è¯­è¨€: ç”¨äºæ•°æ®åˆ†æé¢†åŸŸï¼Œå­¦æœ¯é¢†åŸŸç”¨çš„å¾ˆå¤šã€‚ä½†ä¸ä¼šæ‹¿æ¥åšè½¯ä»¶åº”ç”¨ã€‚ 6.2ã€åº”ç”¨æ¡ˆä¾‹ Java: Google, Oracle Swift, Objective-C: Apple C#: Microsoft, stack overflow PHP: wikipedia, vimeo, facebook Ruby: airbnb, shopify, github, twitter, groupon, basecamp, hulu+ Python: youtube, quora, google, instagram, pinterest Java å½“å¹´çš„ä¸€ä¸ªç†å¿µæ˜¯è·¨å¹³å°(Windowsã€Macã€Linux ç­‰) Ruby å…¶å®ä¹Ÿæ˜¯è·¨å¹³å°ã€‚ä¸è¿‡å¾ˆå¤š Ruby åº“æ˜¯ç”¨ C è¯­è¨€å†™çš„ï¼Œå› æ­¤ä¸ä¸€å®šèƒ½åœ¨ä¸åŒå¹³å°ä¸Šé¡ºåˆ©ç¼–è¯‘æˆåŠŸï¼Œå› ä¸ºè¿™äº› C ä»£ç å¯èƒ½æœ‰ä¾èµ–æ“ä½œç³»ç»Ÿçš„ã€‚ Web åº”ç”¨ï¼Œæµè§ˆå™¨æ‰æ˜¯çœŸæ­£è·¨å¹³å°çš„è½¯ä»¶ã€‚ å¼€å‘ç³»ç»Ÿç¨‹å¼(ä¾‹å¦‚æ“ä½œç³»ç»Ÿã€ç¼–è¯‘å™¨)ï¼Œé€‚åˆ C è¯­è¨€ å¼€å‘ Web åç«¯åº”ç”¨ï¼Œé€‚åˆ PHP/Ruby/Python/Node.js å¼€å‘ Web å‰ç«¯åº”ç”¨ï¼Œå¾—ç”¨ JavaScript å¼€å‘ Android åº”ç”¨ï¼Œå¾—ç”¨ Java å¼€å‘ iOS åº”ç”¨ï¼Œå¾—ç”¨ Swift æˆ– Objective-C 6.3ã€ç¼–ç¨‹è¯­è¨€å’Œç¼–ç¨‹è¯­è¨€çš„å®ä½œï¼ˆå³ç¼–è¯‘å™¨ï¼‰ æœ€åï¼Œã€Œç¼–ç¨‹è¯­è¨€ã€å’Œã€Œç¼–ç¨‹è¯­è¨€çš„å®ä½œã€æ˜¯ä¸ä¸€æ ·çš„æ¦‚å¿µï¼Œå‰è€…æ˜¯æŒ‡è¯­æ³•çš„è§„æ ¼å®šä¹‰ï¼Œåè€…æ˜¯æŒ‡ç¼–è¯‘å™¨(æˆ–è§£é‡Šå™¨)ã€‚åŒä¸€é—¨ç¼–ç¨‹è¯­è¨€ï¼Œä½†æ˜¯æœ‰ä¸åŒå®¶çš„ç¼–è¯‘å™¨(æˆ–è§£é‡Šå™¨)æ˜¯å¸¸è§çš„äº‹æƒ…ï¼Œä¾‹å¦‚ï¼š JavaScript çš„è¯­æ³•æ ‡å‡†å«åš ECMAScriptï¼Œä½†æ˜¯ JavaScript çš„å®ä½œæœ‰å¾ˆå¤šï¼ŒåŒ…æ‹¬ Chrome æµè§ˆå™¨ç”¨çš„ V8 å¼•æ“)ã€Safari ç”¨ WebKitã€Firefox ç”¨ SpiderMonkeyã€‚è™½ç„¶éƒ½å« JavaScript è¯­è¨€ï¼Œä½†æ˜¯çœŸæ­£è·‘åœ¨ä¸åŒæµè§ˆå™¨æ—¶ï¼Œå®é™…ä¸Šæ˜¯ä¸åŒçš„è§£é‡Šå™¨ï¼Œè¿˜æ˜¯æœ‰å·®å¼‚çš„ã€‚ Ruby æœ‰ CRuby(åˆå«åš MRIï¼Œå¤§å®¶ç›®å‰å®‰è£…çš„å°±æ˜¯ MRI ç‰ˆæœ¬)ã€JRubyã€Rubuniusã€ RubyMotion ç­‰ç­‰ PHP æœ‰ Zend Engine (è¿™æ˜¯å®˜æ–¹ç‰ˆ) å’Œ HipHop (è¿™æ˜¯ Facebook é’ˆå¯¹ PHP é‡å†™è¿‡çš„ PHP è§£é‡Šå™¨ï¼Œä»¥æ”¹è¿›æ•ˆèƒ½) Objective-C å’Œ Swift å½“ç„¶å°±è°¨æ­¤ Apple ä¸€å®¶å‡ºç¼–è¯‘å™¨ .NET æœ‰å¾®è½¯å®˜æ–¹ç‰ˆå’Œ Mono Java æœ‰ HotSpot (è¿™æ˜¯ Oracle çš„å®˜æ–¹ç‰ˆæœ¬) å’Œ OpenJDK (è¿™æ˜¯å¼€æºç‰ˆæœ¬ï¼Œåœ¨ Linux å®‰è£…çš„è¯ä¼šè£…åˆ°è¿™ä¸ªç‰ˆæœ¬) ç¼–ç¨‹è¯­è¨€çš„è®¾è®¡7ã€æ•°æ®ç±»å‹ Data Type: åŸºæœ¬æ•°æ®ç±»å‹ åŸºæœ¬æ•°æ®ç±»å‹åŒ…æ‹¬ String å­—ç¬¦ä¸²ã€Integer æ•´æ•°ã€Float æµ®ç‚¹æ•°ã€Boolean å¸ƒæ—ã€nil ç©ºå€¼ç­‰ã€‚ å„ä¸ªå›½å®¶è‡ªå®šä¹‰äº†å„è‡ªè¯­è¨€çš„å­—ç¬¦é›†ï¼Œä¾‹å¦‚ï¼š 123GB 2312 ä¿¡æ¯äº¤æ¢ç”¨æ±‰å­—ç¼–ç å­—ç¬¦é›†ï¼Œæ”¶å½•äº†6763ä¸ªç®€ä½“æ±‰å­—Big5 å¤§äº”ç ï¼Œæ”¶å½•äº†13,060ä¸ªç¹ä½“æ±‰å­—ï¼Œåœ¨å°æ¹¾ã€é¦™æ¸¯ä¸æ¾³é—¨ä½¿ç”¨Shift JIS æ—¥æ–‡ ä¹±ç æ˜¯å› ä¸ºä½¿ç”¨å­—ç¬¦é›†å»æ˜¾ç¤ºã€‚ Unicode ä¸‡å›½ç ï¼Œè¿™ä¸ªè®¡åˆ’å®šä¹‰äº†å…¨ä¸–ç•Œæ‰€æœ‰è¯­è¨€çš„ç¼–ç ã€‚åœ¨è¿™ä¸ªè®¡åˆ’ä¸‹ï¼Œå®šä¹‰äº†å‡ ä¸ªå­—ç¬¦é›†æ ‡å‡†ï¼š 123UTF-32 ç”¨ 4 bytes æ¥å­˜ä¸€ä¸ªå­—ç¬¦UTF-16 ç”¨ 2 æˆ– 4 bytesï¼Œæ±‰å­—ä¼šæ˜¯ 4 bytesUTF-8 ç”¨ä¸å®šé•¿åº¦ 1~4 bytesï¼Œä¸€ä¸ªè‹±æ–‡å­—æ¯ç”¨ 1 byte å­˜å‚¨ï¼Œä¸€ä¸ªæ±‰å­—ä¼šç”¨ 3 bytes å­˜å‚¨ å…¶ä¸­ UTF-32 å¾ˆå°‘ä½¿ç”¨ï¼Œå› ä¸ºå¤ªæµªè´¹ç©ºé—´äº†ã€‚æœ¬æ¥ä¸€ä¸ªè‹±æ–‡å­—æ¯ç”¨ 1 byte å°±å¯ä»¥å­˜ï¼Œæ”¹æˆç”¨ 4 bytes åï¼Œå‰é¢ä¸‰ä¸ª bytes éƒ½æ˜¯ 0ï¼Œè€—è´¹çš„ç©ºé—´å˜æˆå››å€ã€‚ è›®å¤šç¼–ç¨‹è¯­è¨€å†…éƒ¨æ˜¯ç”¨ UTF-16 æ—¶åšå­—ç¬¦ä¸²çš„ï¼Œä¾‹å¦‚ Java å’Œ Pythonã€‚ è‡³äº UTF-8 åˆ™æ˜¯ç›®å‰æœ€ä¸ºé€šè¡Œçš„æ ‡å‡†ï¼Œæ—¢èƒ½è¡¨ç¤ºæ‰€æœ‰è¯­è¨€ï¼Œç©ºé—´ä¸Šåˆæ¯”è¾ƒèŠ‚çœã€‚æ¯”å¦‚rubyã€‚ Symbol æ˜¯ Ruby è¯­è¨€ç‰¹æœ‰çš„ç±»å‹ï¼Œä½œç”¨è·Ÿå­—ç¬¦ä¸²å¾ˆåƒï¼Œä½†æ˜¯æ˜¯å”¯ä¸€ä¸”ä¸ä¼šå˜åŠ¨çš„è¯†åˆ«åç§°ï¼Œç”¨å†’å· : å¼€å¤´ï¼Œä¾‹å¦‚ :this_is_a_symbol Floatç¬¦ç‚¹æ•°æœ‰ä¸ªæœ€å¤§çš„ç¼ºç‚¹å°±æ˜¯è¾“å…¥ä¸å‚¨å­˜çš„å€¼ä¸ä¸€å®šç²¾ç¡®ã€è®¡ç®—åçš„ç»“æœå¯èƒ½ä¼šæœ‰å¾®å°è¯¯å·®(å› ä¸ºæ— æ³•åˆšå¥½ç”¨ 2 çš„æŒ‡æ•°æ¥è¡¨ç¤ºï¼Œåªèƒ½é€¼è¿‘) 120.1 + 0.2 # å¾—åˆ° 0.300000000000000040.1 + 0.2 == 0.3 # å¾—åˆ° false åœ¨ JavaScript è¯­è¨€ä¸­ï¼Œæ‰€æœ‰æ•°å€¼éƒ½æ˜¯æµ®ç‚¹æ•°ã€‚ Decimal åè¿›åˆ¶æ•° 123# æ€»å…±å…­ä½æ•°ï¼Œå°ä½æ•°ä¸‰ä½t.decimal &quot;currency_rate&quot;, precision: 6, scale: 3 8ã€ç»„åˆæ•°æ®ç±»å‹ (Reference Data Types) ç»„åˆæ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬ Arrayã€Hash å’Œç¨‹åºå‘˜è‡ªè®¢çš„å¤åˆèµ„æ–™ç±»å‹(ä¹Ÿå°±æ˜¯ Class)ï¼Œè¿™ç§ç±»å‹çš„æ•°æ®æ˜¯ä¸€ç§å®¹å™¨ï¼Œé‡Œé¢å¯ä»¥æ”¾ä¸Šè¿°çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œæˆ–æ˜¯ç»„åˆå…¶ä»–çš„ç»„åˆæ•°æ®ç±»å‹ã€‚ Arrayï¼Œæ¯ä¸ªæ•°ç»„å…ƒç´ ï¼Œåœ¨å†…å­˜é‡Œé¢çš„å¤§å°æ˜¯å›ºå®šçš„ã€‚é€è¿‡ç´¢å¼•ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå¿«å°±è®¡ç®—å‡ºè¯¥å…ƒç´ åœ¨å†…å­˜ä¸­çš„ä½ç½®ã€‚ 1|1|2|3|4|5|6|7|8| ä¾‹å¦‚å‡è®¾æ¯ä¸ªå…ƒç´ å  4 bytesï¼Œarr[0] åœ¨å†…å­˜ä½ç½® 100ï¼Œé‚£ arr[3] å°±æ˜¯ 100 + 4*3 åœ¨ä½ç½® 112 äº†ã€‚ Hashï¼Œä¸€ç§ Key-Value çš„å®¹å™¨ï¼Œé€šå¸¸ç”¨ Symbol æˆ–å­—ç¬¦ä¸²å½“ä½œç´¢å¼•ï¼Œè¦äº†è§£æ•£åˆ— Hash çš„åŸç†ï¼Œéœ€è¦å…ˆçŸ¥é“ä»€ä¹ˆæ˜¯æ•£åˆ—å‡½æ•°ã€‚ 1|aa|ab|ac|ad|.....|zx|zy|zz| å‡è®¾åˆå§‹ä½ç½®æ˜¯ 100ï¼Œå¦‚æœç»™ä¸€ä¸ª key ç®—å‡ºæ¥çš„æ•£åˆ—å€¼æ˜¯ adï¼Œé‚£æˆ‘ä»¬å°±æŠŠå€¼æ”¾åœ¨ 100 + 4*3 åœ¨ä½ç½® 112ã€‚è¿™æ ·è®¾è®¡çš„å¥½å¤„æ˜¯ï¼Œéšä¾¿ç»™ä¸€ä¸ª keyï¼Œéƒ½å¯ä»¥é©¬ä¸Šç®—å‡ºå®ƒåœ¨å†…å­˜ä¸­çš„ä½ç½®ï¼Œéå¸¸æœ‰æ•ˆç‡ã€‚ ä¸ºä»€ä¹ˆç¼–ç¨‹è¯­è¨€ä¼šè¿™æ ·è®¾è®¡å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºç»„åˆæ•°æ®ç±»å‹æ˜¯ä¸ªå®¹å™¨ï¼Œè¿™ä¸ªå®¹å™¨å¯èƒ½å­˜æœ‰éå¸¸å¤šçš„æ•°æ®ï¼Œå¤åˆ¶çš„æˆæœ¬æ˜¯å¾ˆé«˜çš„ã€‚å› æ­¤åœ¨é»˜è®¤çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸ä¼šçœŸçš„å»å¤åˆ¶å®ƒçš„å€¼ï¼Œè€Œæ˜¯å¤åˆ¶å¼•ç”¨è€Œå·²ã€‚ å°±åœ°ç¼–è¾‘(in-place editing)ï¼Œåšæ’åºã€‚ 1234a = [5,1,9]b = a.sortb ä¼šæ˜¯æ’åºå¥½çš„ [1,5,9]ï¼Œä½†æ˜¯ a æ˜¯æ²¡æœ‰å˜çš„ï¼Œè¿˜æ˜¯ [5,1,9] 1234a = [5,1,9]a.sort!è¿™ä¸ª a ç›´æ¥è¢«ä¿®æ”¹äº†ï¼Œå˜æˆ [1,5,9] å¯¹ Ruby æ¥è¯´ï¼Œè¿™ä¸ª ! åªæ˜¯åå­—çš„ä¸€éƒ¨åˆ†ï¼Œæ²¡æœ‰ç‰¹åˆ«çš„ä½œç”¨ã€‚åªæ˜¯ä¸€ä¸ªæƒ¯ä¾‹æé†’ä½ è¯´è¿™ä¸ªæ–¹æ³•ä¼šæœ‰ å‰¯ä½œç”¨(side-effect)ã€‚ æ¯”æ‰§è¡Œé€Ÿåº¦çš„è¯ï¼Œã€ŒIn-placeã€åšä¿®æ”¹(mutate) æ˜¯æ¯”ã€Œå›ä¼ æ–°çš„å‰¯æœ¬ã€è¿˜å¿«ï¼Œå› ä¸ºåè€…éœ€è¦æ–°çš„å†…å­˜ç©ºé—´æ¥å­˜å‚¨ã€‚ä¸è¿‡ï¼Œå®é™…å†™ä»£ç æ—¶ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šåå¥½ã€Œå›ä¼ æ–°çš„å‰¯æœ¬ã€çš„æ–¹å¼ï¼Œå› ä¸ºè¿™æ ·æ¯”è¾ƒä¸å®¹æ˜“æœ‰ bugã€‚ ï¼ï¼ï¼ï¼99é—®é¢˜ï¼šxxï¼ˆparamsï¼‰å‚æ•°é‡Œï¼Œå€¼paramsï¼Œå‚æ•°æ˜¯åŸºæœ¬ç±»å‹è¿˜æ˜¯å¼•ç”¨ç±»å‹ï¼Ÿï¼Ÿ ç»„åˆæ•°æ®ç±»åˆ«çš„ = æŒ‡æ´¾åªä¼šå¤åˆ¶å¼•ç”¨ï¼Œå¦‚æœéœ€è¦çœŸçš„å¤åˆ¶å€¼ï¼Œä¼šæ”¹ç”¨ clone æ–¹æ³•ï¼Œæ”¹äº† a[0]ï¼Œå°±ä¸ä¼šå½±å“åˆ° b äº†ã€‚ 12345a = [1,2,3]b = a.clonea[0] = 999ab 9ã€ä½œç”¨åŸŸ Variable Scope å˜é‡ä½œç”¨åŸŸ Variable Scope æŒ‡çš„æ˜¯å˜é‡å¯ä»¥è¢«å­˜å–åˆ°çš„èŒƒå›´ï¼Œä¸€èˆ¬åˆ†æˆæœ¬åœ°å˜é‡(Local variable)å’Œå…¨å±€å˜é‡(Global variable) 123456789def foo x = 1endx = 2foo()x # ä»ç„¶æ˜¯ 2 è¿™æ®µç®€å•çš„ç¨‹åºä¸­ï¼Œå®£å‘Šåœ¨æ–¹æ³•é‡Œé¢çš„å±€éƒ¨å˜é‡ xï¼Œåªå¯ä»¥åœ¨è¯¥æ–¹æ³•å†…å­˜å–çš„åˆ°ï¼Œå¯¹å¤–é¢æ¥è¯´æ˜¯æ²¡æœ‰å½±å“çš„ã€‚å¯¹ Ruby æ¥è¯´ï¼Œä¸€ä¸ªå±€éƒ¨å˜é‡çš„ scope å°±æ˜¯åœ¨è¯¥æ–¹æ³•å†…ã€‚ è‡³äºå…¨å±€å˜é‡åˆ™æ˜¯ä¸ç®¡åœ¨ç¨‹å¼å“ªé‡Œï¼Œéƒ½å¯ä»¥å­˜å–çš„åˆ°ã€‚åœ¨ Ruby ä¹‹ä¸­ä¼šç”¨ å¼€å¤´ï¼Œä¾‹å¦‚ 1234567891011121314151617181920212223242526272829303132* Ruby è¿˜æœ‰å¯¹è±¡å˜é‡(Instance variable) Scope å’Œç±»å˜é‡(Class variable) scopeã€‚## 10ã€æ­£åˆ™è¡¨è¾¾å¼ Regular Expression* [æ­£åˆ™è¡¨è¾¾å¼ Regular Expression](https://zh.wikipedia.org/wiki/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F)æ˜¯ä¸€ç§ç²¾å·§æ¯”å¯¹å­—ä¸²çš„æ–¹å¼ã€‚ä¾‹å¦‚``` /\\A[a-z0-9\\-]+\\z/ ```ï¼Œæ£€æŸ¥å­—ç¬¦ä¸²å¿…é¡»æ˜¯å°å†™aåˆ°zï¼Œæˆ–æ•°å­—0åˆ°9ï¼Œæˆ–æ˜¯æ¨ªçº¿`-`ã€‚ * `.` ç¬¦åˆä»»ä½•å•ä¸€å­—ç¬¦ * `\\w` å•å­—å­—ç¬¦ * `\\d` æ•°å­—å­—ç¬¦ * `\\s` ä»»ä½•ç©ºç™½ * `\\S` éç©ºç™½ * `^` è¡Œé¦–ä½ç½® * `*` å‡ºç° 0 æ¬¡ä»¥ä¸Š * `+` å‡ºç° 1 æ¬¡ä»¥ä¸Š * `?` å‡ºç° 0 æˆ– 1 æ¬¡ * `&#123;m,n&#125;` å‡ºç° m æ¬¡åˆ° n æ¬¡ * `[a-z]` a åˆ° z èŒƒå›´å†…çš„ä»»ä½•å•ä¸€å­—ç¬¦ * `[^a-z]` é a-z ä¹‹å¤–çš„ä»»ä½•å•ä¸€å­—ç¬¦ï¼ï¼ï¼ï¼ï¼ï¼99çœ‹å®Œè¿˜æ˜¯ä¸æ‡‚``` /\\A[a-z0-9\\-]+\\z/ ```æ¯ä¸ªå­—ç¬¦çš„æ„æ€ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ# ç®—æ³•å’Œæ•°æ®ç»“æ„## 11ã€ä»€ä¹ˆæ˜¯ç®—æ³•?* ç»“æ„åŒ–ç¨‹å¼è®¾è®¡ (Structured programming) ï¼Œå®ƒé‡‡ç”¨å‡½å¼ã€ç¨‹å¼ç åŒºå—ã€forå¾ªç¯ä»¥åŠwhileå¾ªç¯ç­‰ç»“æ„ï¼Œæ¥å–ä»£ä¼ ç»Ÿçš„ [goto](https://zh.wikipedia.org/wiki/Goto)è¯­æ³•ã€‚* ç¨‹å¼ä»å¯ä»¥éšä¾¿è·³æ¥è·³å»çš„ goto å†™æ³•ï¼Œå˜æˆé™åˆ¶æˆä¸‰ç§æµç¨‹æ§åˆ¶ï¼šå¾ªåº(prodecure)ã€åˆ†æ­§(if-else)ã€åå¤(while loop)ã€‚ ä¾‹å¦‚ï¼Œè¿™æ˜¯ä¸€ä¸ªç»™æ•°ç»„æ±‚æœ€å¤§å€¼çš„ç®—æ³•ï¼Œå…ˆå‡è®¾ç¬¬ä¸€ä¸ªå…ƒç´ æœ€å¤§ï¼Œç„¶åä¾åºèµ°è®¿æ•°ç»„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œæ£€æŸ¥å“ªä¸€ä¸ªæ¯”è¾ƒå¯¹å°±æŒ‡æ´¾ç»™ max å˜é‡ã€‚æœ€åè·‘å®Œå‰©ä¸‹æ¥çš„ max å°±æ˜¯æœ€å¤§å€¼ã€‚ def find_max(arr) max = arr[0] arr.each do |a| if a &gt; max max = a end end return maxend 123456789101112## 12ã€å¦‚ä½•è¯„ä¼°ç®—æ³•* ç”¨ä¸€ç§å«åš Big-O çš„ç¬¦å·æ¥æè¿°ç®—æ³•çš„å¤æ‚åº¦ï¼Œå¤æ‚åº¦å¯ä»¥åˆ†æˆæ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦ã€‚å‰è€…è®¡ç®—è¿™ä¸ªç®—æ³•è¦èŠ±å¤šå°‘æ­¥éª¤ï¼Œåè€…åˆ™æ˜¯è€—è´¹å¤šå°‘å†…å­˜ç©ºé—´ã€‚é€šå¸¸æˆ‘ä»¬æ¯”è¾ƒå…³å¿ƒå‰è€…ã€‚ ![](https://ws4.sinaimg.cn/large/006tNc79gy1flijft886ij30pp0isabu.jpg)* åœ¨ç¼–ç¨‹åŸºç¡€ç»ƒä¹ ä¸­ï¼Œæœ‰ä¸€é¢˜æ˜¯åœ¨æ•°ç»„ä¸­æ‰¾åˆ°æœ€å¤§(æˆ–æœ€å°)çš„æ•°å­—ï¼Œä¾‹å¦‚ `arr = [5,1,9,4]`ï¼Œä»¥ä¸‹ä¸¤ç§ç®—æ³•éƒ½å¯ä»¥å¾—åˆ°ç­”æ¡ˆï¼šdef find_max(arr) max = arr[0] arr.each do |a| if a &gt; max max = a end end return maxend * ç¬¬äºŒç§çœ‹èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯ç°åœ¨ä½ å¯ä»¥åˆ¤æ–­ç¬¬ä¸€ç§æ–¹æ³•æ˜¯ O(n)ï¼Œç¬¬äºŒç§ç¡®æ˜¯ O(nlogn) äº†ï¼Œå‰è€…æ¯”è¾ƒå¥½ã€‚ def find_max(arr) max = arr[0] arr.each do |a| if a &gt; max max = a end end return maxend 12 def find_max(arr) arr.sort.lastend 12345678910111213141516171819202122## 13ã€ä»€ä¹ˆæ˜¯æ•°æ®ç»“æ„?* æ•°æ®ç»“æ„å®šä¹‰èµ„æ–™ä¹‹é—´çš„ç›¸äº’å…³ç³»ï¼Œæ˜¯è®¾è®¡ç®—æ³•çš„è½½ä½“ï¼Œæ•°æ®è¾“å…¥è¾“å‡ºå’Œè®¾è®¡ç®—æ³•æ­¥éª¤æ—¶ï¼Œéƒ½ä¼šå¯¹åº”äºä½¿ç”¨çš„æ•°æ®ç»“æ„ã€‚ * å¯¹ Ruby ç¨‹åºå‘˜æ¥è¯´ï¼Œæœ€å¸¸ç”¨çš„å°±æ˜¯ Array å’Œ Hashã€‚* æ’å…¥å’Œåˆ é™¤åˆ°å®¹å™¨é‡Œé¢ * å¦‚æœåˆšå¥½åœ¨æœ€å(ä¾‹å¦‚ Arrar#push æ–¹æ³•)ï¼Œæ˜¯ O(1) * å¦‚æœåœ¨æ•°ç»„ä¸­é—´æ’å…¥ä¸€ä¸ªå€¼ï¼Œå› ä¸ºæ•°ç»„æ˜¯å†…å­˜ä¸­ã€Œè¿ç»­ã€çš„ç©ºé—´ï¼Œä¸­é—´æ–°æ’å…¥ï¼Œä¼šéœ€è¦æ¬åŠ¨åé¢æ‰€æœ‰å…ƒç´ çš„ä½ç½®å¾€åç§»åŠ¨ä¸€æ ¼ï¼Œè¿™æ˜¯ O(n) çš„ç®—æ³• * å¯¹æ•£åˆ— Hash æ¥è¯´ï¼Œæ’å…¥æ˜¯å¹³å‡å¤æ‚åº¦æ˜¯ O(1)* æ£€æŸ¥ä¸€ä¸ªå€¼éƒ½æ²¡æœ‰åœ¨å®¹å™¨é‡Œé¢ * Array æ˜¯ O(n)ï¼Œéœ€è¦èµ°è®¿æ•´ä¸ªæ•°ç»„ä¾åºæ£€æŸ¥ * Hash æ˜¯ O(1)ï¼Œåªè¦å°† key ç»è¿‡æ•£åˆ—ç®—æ³•ï¼Œå°±å¯ä»¥ç›´æ¥æ£€æŸ¥é‚£ä¸ªä½ç½®æœ‰æ²¡æœ‰æ•°æ®ã€‚ â€‹ user system total real 0.000000 0.000000 0.000000 ( 0.005854) # æ•°ç»„ä¸€ 0.060000 0.010000 0.070000 ( 0.064084) # åå€å¤§çš„æ•°ç»„äºŒï¼šæ—¶é—´çº¦æˆé•¿ 10 å€ 0.000000 0.000000 0.000000 ( 0.000005) # æ•£åˆ—ä¸€: 0.000000 0.000000 0.000000 ( 0.000005) # åå€å¤§çš„æ•£åˆ—äºŒ: æ—¶é—´ä¸€æ · â€‹``` æ•°æ®åº“æ‰“ç´¢å¼•çš„åŸç†ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œæ²¡æœ‰æ‰“ç´¢å¼•å°±æ˜¯ O(n)ï¼Œæœ‰æ‰“ç´¢å¼•æ˜¯ O(logn)ã€‚ 14ã€ç®—æ³•çš„æé™ æœ‰æ²¡æœ‰ä¸èƒ½è®¡ç®—çš„é—®é¢˜ï¼Ÿ ä¾‹å¦‚åœæœºé—®é¢˜ï¼šä½ æ²¡åŠæ³•å†™ä¸€ä¸ªè½¯ä»¶ï¼Œå»åˆ¤æ–­å¦ä¸€ä¸ªè½¯ä»¶ä¼šä¸ä¼šå½“æœºã€‚ Big-O æ˜¯ O(2^N)ï¼Œè¦æ±‚æœ€ä½³è§£æ˜¯ä¸åˆ‡å®é™…çš„ï¼Œåªèƒ½ç”¨æœ€ä½³åŒ–é€¼è¿‘è§£ã€‚ å·²çŸ¥æœ€ä½³è§£å°±æ˜¯ O(2^N) çš„ç®—æ³•é—®é¢˜ï¼Œå°±å«åš NP ç±»å‹)çš„ç®—æ³•é—®é¢˜ï¼Œä¾‹å¦‚æ²³å†…å¡”æ­¥éª¤ï¼šå‡è®¾æœ‰ N ä¸ªçš„ç¯ï¼Œé‚£ä¹ˆæœ€ä½³è§£çš„ç§»åŠ¨æ­¥éª¤æ˜¯ 2^N - 1 è¥¿æ´‹æ£‹å¿…èƒœç­–ç•¥ä¹Ÿæ˜¯ NP ç±»å‹ å·²çŸ¥æœ‰æŒ‡æ•°æ—¶é—´è§£ï¼Œä½†æ˜¯ä¸ç¡®å®šæœ‰æ²¡æœ‰æ›´å¥½çš„å¤šé¡¹å¼æ—¶é—´è§£ï¼Œè¿™å°±ä½œ NP-Complete ç±»å‹çš„é—®é¢˜ã€‚ä¾‹å¦‚ æ—…è¡Œæ¨é”€å‘˜é—®é¢˜æ˜¯ O(n!) né˜¶å±‚æ—¶é—´ã€‚ 15ã€æ¨èä¹¦ç±è¿™é—¨æ•™ç¨‹çš„çŸ¥è¯†ç‚¹éå¸¸å¤šï¼ŒåŒ…æ‹¬äº†è®¡ç®—æœºå¤§å­¦æœ¬ç§‘ 1. æ•°æ®ç»“æ„ 2. ç®—æ³• 3. æ“ä½œç³»ç»Ÿ 4. ç¼–è¯‘å™¨ 5. ç¼–ç¨‹è¯­è¨€ï¼Œå¤§ä¸€åˆ°å¤§ä¸‰å…±äº”é—¨å¿…ä¿®è¯¾ç¨‹çš„ä¸»è¦æ¦‚å¿µã€‚æˆ‘æ¨èä»¥ä¸‹çš„ä¹¦ç±å¯ä»¥ç»§ç»­è¿›ä¿®ï¼š æ”¹å˜æœªæ¥çš„ä¹å¤§ç®—æ³• ä»‹ç»ä¹ä¸ªå½±å“ä¸–ç•Œçš„é‡è¦çš„ç®—æ³•ï¼Œæ²¡æœ‰ä»£ç ï¼Œæ˜¯ç§‘æ™®ä¹¦ ä¸€è·¯ç¼–ç¨‹ï¼Œå…¥é—¨ç¨‹åº¦çš„æ¦‚æ‹¬æ€§ä»‹ç»è½¯ä»¶ç¼–ç¨‹ ä»£ç ä¹‹éš ä»‹ç»ç¼–ç¨‹è¯­è¨€çš„è®¾è®¡ ç¨‹åºæ˜¯æ€æ ·è·‘èµ·æ¥çš„ è®¡ç®—æœºæ˜¯æ€æ ·è·‘èµ·æ¥çš„ å¤§è¯æ•°æ®ç»“æ„ ç®—æ³•å›¾è§£ æ”¾å¿ƒï¼Œè¿™äº›éƒ½ä¸æ˜¯å¤§éƒ¨å¤´çš„æ•™ç§‘ä¹¦ 16ã€å…³äºç®—æ³•å’Œæ‰¾å·¥ä½œé¢è¯•æœ‰äº›å…¬å¸å¾ˆçˆ±è€ƒç®—æ³•é¢˜ç›®ï¼Œç‰¹åˆ«æ˜¯å¤§å‹å…¬å¸ï¼Œä¾‹å¦‚ Googleã€Microsofã€Facebookã€BAT ç­‰å¤§ä¼ä¸šã€‚å› ä¸ºä»–ä»¬åå¥½å­¦å†å¥½è®¡ç®—æœºæœ¬ç§‘ç³»åˆšæ¯•ä¸šï¼Œèªæ˜ã€åº•å­å¥½çš„å­¦ç”Ÿï¼Œä¸çœ‹é‡ä½œå“é›†ï¼Œæ‹›è˜åå†å†…è®­ã€‚ å¦‚æœä½ å¯¹è¿™ç±»å‹å…¬å¸æœ‰åå¥½ï¼Œä½ éœ€è¦ç†Ÿæ‚‰å„ç§æ•°æ®ç»“æ„çš„æ“ä½œç®—æ³•ï¼Œä¾‹å¦‚ Stackã€Queueã€Linked Listã€Treeã€Graph ç­‰ç­‰ã€‚ åŸºæœ¬çš„è§£é¢˜ç­–ç•¥æ˜¯ï¼šå…ˆå¾ˆå¿«çš„ç”¨æš´åŠ›è§£(Brute-force)ï¼Œå…ˆåˆ«æ‹…å¿ƒç®—æ³•æ•ˆç‡ã€‚ç„¶åå†æœ€ä½³åŒ–ï¼Œæ‰¾å‡ºå“ªäº›æ­¥éª¤æ˜¯å¤šä½™é‡å¤çš„è®¡ç®—ã€‚é€šå¸¸è€ƒå®˜éƒ½ä¼šé€æ­¥æç¤ºä½ å®Œæˆæœ€ä½³åŒ–ã€‚ ä½ éœ€è¦èŠ±æ—¶é—´ç»ƒä¹ ç†Ÿæ‚‰é¢˜å‹ï¼šä¾‹å¦‚ http://www.coderbyte.com/ https://leetcode.com/ Cracking the Coding Interview å°±ç®—æ˜¯å¤§ç¥ï¼Œç¢°åˆ°è¿™ç§å…¬å¸ä¸å…ˆåˆ·é¢˜ä¹Ÿæ˜¯è¢«æ‹’çš„ã€‚ https://twitter.com/mxcl/status/608682016205344768 http://osherove.com/blog/2011/4/5/my-google-rejection-letter.html","categories":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}],"tags":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/tags/rorç³»ç»Ÿ/"}],"keywords":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}]},{"title":"ror-system-rails guides 1-5","slug":"ror-system-rails guides 1-5","date":"2017-12-13T16:10:00.000Z","updated":"2018-01-14T04:43:01.000Z","comments":true,"path":"posts/30d3b38f/","link":"","permalink":"http://yoursite.com/posts/30d3b38f/","excerpt":"","text":"ä¸€ã€Active Record åŸºç¡€ 1 Active Record æ˜¯ä»€ä¹ˆï¼Ÿ Active Record æ˜¯ MVC ä¸­çš„ Mï¼ˆæ¨¡å‹ï¼‰ï¼Œè´Ÿè´£å¤„ç†æ•°æ®å’Œä¸šåŠ¡é€»è¾‘ï¼Œæ˜¯ä¸€ç§å¯¹è±¡å…³ç³»æ˜ å°„ç³»ç»Ÿã€‚ 2 Active Record ä¸­çš„â€œå¤šçº¦å®šå°‘é…ç½®â€åŸåˆ™2.1 å‘½åçº¦å®š æ•°æ®åº“è¡¨åï¼šå¤æ•°ï¼Œä¸‹åˆ’çº¿åˆ†éš”å•è¯ï¼ˆä¾‹å¦‚ book_clubsï¼‰ æ¨¡å‹ç±»åï¼šå•æ•°ï¼Œæ¯ä¸ªå•è¯çš„é¦–å­—æ¯å¤§å†™ï¼ˆä¾‹å¦‚ BookClubï¼‰ æ¨¡å‹/ç±» è¡¨/æ¨¡å¼ Article articles LineItem line_items Deer deers Mouse mice Person people 2.2 æ¨¡å¼çº¦å®š ä¸»é”®å’Œå¤–é”® 3 åˆ›å»º Active Record æ¨¡å‹12class Product &lt; ApplicationRecordend ä¸Šé¢çš„ä»£ç ä¼šåˆ›å»º Product æ¨¡å‹ï¼Œå¯¹åº”äºæ•°æ®åº“ä¸­çš„ products è¡¨ã€‚åŒæ—¶ï¼Œproducts è¡¨ä¸­çš„å­—æ®µä¹Ÿæ˜ å°„åˆ° Product æ¨¡å‹å®ä¾‹çš„å±æ€§ä¸Šã€‚ 4 è¦†ç›–å‘½åçº¦å®š .table_name= æ–¹æ³•å¯ä»¥æŒ‡å®šè¦ä½¿ç”¨çš„è¡¨åã€‚å¦‚æœè¿™ä¹ˆåšï¼Œè¿˜è¦è°ƒç”¨ set_fixture_class æ–¹æ³•ï¼Œæ‰‹åŠ¨æŒ‡å®šå›ºä»¶ï¼ˆmy_products.ymlï¼‰çš„ç±»å 123class Product &lt; ApplicationRecord self.table_name = &quot;my_products&quot;end 12345class ProductTest &lt; ActiveSupport::TestCase set_fixture_class my_products: Product fixtures :my_products ...end .primary_key= æ–¹æ³•æŒ‡å®šè¡¨çš„ä¸»é”® 123class Product &lt; ApplicationRecord self.primary_key = &quot;product_id&quot;end 5 CRUDï¼šè¯»å†™æ•°æ®5.1 åˆ›å»ºnew æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œcreate æ–¹æ³•åˆ›å»ºæ–°å¯¹è±¡ï¼Œå¹¶å°†å…¶å­˜å…¥æ•°æ®åº“ã€‚è°ƒç”¨ user.save å¯ä»¥æŠŠè®°å½•å­˜å…¥æ•°æ®åº“ã€‚ 5.2 è¯»å– Active Record ä¸ºè¯»å–æ•°æ®åº“ä¸­çš„æ•°æ®æä¾›äº†ä¸°å¯Œçš„ APIï¼Œå¦‚.allã€.firstç­‰ã€‚ findã€find_byã€whereä¸‰ç§æŸ¥è¯¢APIçš„åŒºåˆ«ï¼Ÿ findæ˜¯æ‰¾ä¸€ä¸ªæˆ–å¤šä¸ªid david = User.find_by(name: &#39;David&#39;)ï¼ŒæŸ¥æ‰¾è¿”å›ç¬¬ä¸€ä¸ªåä¸º David çš„ç”¨æˆ· users = User.where(name: &#39;David&#39;)ï¼ŒæŸ¥æ‰¾æ‰€æœ‰åä¸º Davidçš„ç”¨æˆ· 5.3 æ›´æ–° user.name = &#39;Dave&#39; user.saveï¼Œç›¸å½“äºæ˜¯user.update(name: &#39;Dave&#39;) é‡æ›´æ–°å¤šä¸ªè®°å½•User.update_all &quot;max_login_attempts = 3, must_change_password = &#39;true&#39;&quot; 5.4 åˆ é™¤user.destroy 6 æ•°æ®éªŒè¯åœ¨å­˜å…¥æ•°æ®åº“ä¹‹å‰ï¼ŒActive Record è¿˜å¯ä»¥éªŒè¯æ¨¡å‹ã€‚æ¨¡å‹éªŒè¯æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œå¯ä»¥æ£€æŸ¥å±æ€§å€¼æ˜¯å¦ä¸ä¸ºç©ºï¼Œæ˜¯å¦æ˜¯å”¯ä¸€çš„ã€æ²¡æœ‰åœ¨æ•°æ®åº“ä¸­å‡ºç°è¿‡ï¼Œç­‰ç­‰ã€‚ 7 å›è°ƒActive Record å›è°ƒç”¨äºåœ¨æ¨¡å‹ç”Ÿå‘½å‘¨æœŸçš„ç‰¹å®šäº‹ä»¶ä¸Šç»‘å®šä»£ç ï¼Œç›¸åº”çš„äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œæ‰§è¡Œç»‘å®šçš„ä»£ç ã€‚ä¾‹å¦‚åˆ›å»ºæ–°çºªå½•æ—¶ã€æ›´æ–°è®°å½•æ—¶ã€åˆ é™¤è®°å½•æ—¶ï¼Œç­‰ç­‰ 8 è¿ç§»Rails æä¾›äº†ä¸€ä¸ª DSLï¼ˆDomain-Specific Languageï¼‰ç”¨æ¥å¤„ç†æ•°æ®åº“æ¨¡å¼ï¼Œå«åšâ€œè¿ç§»â€ã€‚è¿ç§»çš„ä»£ç å­˜å‚¨åœ¨ç‰¹å®šçš„æ–‡ä»¶ä¸­ï¼Œé€šè¿‡ rails å‘½ä»¤æ‰§è¡Œï¼Œå¯ä»¥ç”¨åœ¨ Active Record æ”¯æŒçš„æ‰€æœ‰æ•°æ®åº“ä¸Šã€‚ äºŒã€Active Record è¿ç§» 1 è¿ç§»æ¦‚è¿° è¿ç§»æ˜¯ä»¥ä¸€è‡´å’Œè½»æ¾çš„æ–¹å¼æŒ‰æ—¶é—´é¡ºåºä¿®æ”¹æ•°æ®åº“æ¨¡å¼çš„å®ç”¨æ–¹æ³•ã€‚å®ƒä½¿ç”¨ Ruby DSLï¼Œå› æ­¤ä¸å¿…æ‰‹åŠ¨ç¼–å†™ SQLã€‚ å¯ä»¥æŠŠè¿ç§»çœ‹åšæ•°æ®åº“çš„æ–°â€œç‰ˆæœ¬â€ã€‚æ•°æ®åº“æ¨¡å¼ä¸€å¼€å§‹å¹¶ä¸åŒ…å«ä»»ä½•å†…å®¹ï¼Œä¹‹åé€šè¿‡ä¸€ä¸ªä¸ªè¿ç§»æ¥æ·»åŠ æˆ–åˆ é™¤æ•°æ®è¡¨ã€å­—æ®µå’Œè®°å½•ã€‚ Active Record è¿˜ä¼šæ›´æ–° db/schema.rb æ–‡ä»¶ï¼Œä»¥åŒ¹é…æœ€æ–°çš„æ•°æ®åº“ç»“æ„ã€‚ å¦‚æœæƒ³åœ¨è¿ç§»ä¸­å®Œæˆä¸€äº› Active Record ä¸çŸ¥å¦‚ä½•æ’¤é”€çš„æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨ reversible do |dir| æ–¹æ³•ï¼Œæˆ–è€…ç”¨ def up å’Œ def down æ–¹æ³•æ¥ä»£æ›¿ change æ–¹æ³• 2 åˆ›å»ºè¿ç§»2.1 åˆ›å»ºç‹¬ç«‹çš„è¿ç§» rails generate migrationï¼Œä¼šåˆ›å»ºç©ºçš„è¿ç§»ï¼Œå¹¶è¿›è¡Œé€‚å½“å‘½åã€‚ rails generate migration xxx:string:index å¦‚æœè¿ç§»åç§°æ˜¯ AddXXXToYYY æˆ– RemoveXXXFromYYY çš„å½¢å¼ï¼Œå¹¶ä¸”åé¢è·Ÿç€å­—æ®µåå’Œç±»å‹åˆ—è¡¨ï¼Œé‚£ä¹ˆä¼šç”ŸæˆåŒ…å«åˆé€‚çš„ add_column æˆ– remove_column è¯­å¥çš„è¿ç§»ï¼ˆç”¨äºè¡¥å……æ ä½ï¼‰ã€‚å¦‚ä¸‹ï¼š 1234567rails generate migration RemovePartNumberFromProducts part_number:stringclass RemovePartNumberFromProducts &lt; ActiveRecord::Migration[5.0] def change remove_column :products, :part_number, :string endend å¦‚æœè¿ç§»åç§°æ˜¯ CreateXXX çš„å½¢å¼ï¼Œå¹¶ä¸”åé¢è·Ÿç€å­—æ®µåå’Œç±»å‹åˆ—è¡¨ï¼Œé‚£ä¹ˆä¼šç”Ÿæˆç”¨äºåˆ›å»ºåŒ…å«æŒ‡å®šå­—æ®µçš„ XXX æ•°æ®è¡¨çš„è¿ç§»ã€‚å¦‚ä¸‹ï¼š 1234567891011rails generate migration CreateProducts name:string part_number:stringclass CreateProducts &lt; ActiveRecord::Migration[5.0] def change create_table :products do |t| t.string :name t.string :part_number end endend å…¶ä»–æ•°æ®è¡¨ references å­—æ®µç±»å‹ä½œä¸ºå‚æ•°ï¼ˆè¿˜å¯ä½¿ç”¨ belongs_toï¼‰ã€‚å¦‚ä¸‹ï¼š 1234567rails generate migration AddUserRefToProducts user:referencesclass AddUserRefToProducts &lt; ActiveRecord::Migration[5.0] def change add_reference :products, :user, foreign_key: true endend å¦‚æœè¿ç§»åç§°ä¸­åŒ…å« JoinTableï¼Œç”Ÿæˆå™¨ä¼šåˆ›å»ºè”ç»“æ•°æ®è¡¨ã€‚å¦‚ä¸‹ï¼š 12345678910rails g migration CreateJoinTableCustomerProduct customer productclass CreateJoinTableCustomerProduct &lt; ActiveRecord::Migration[5.0] def change create_join_table :customers, :products do |t| # t.index [:customer_id, :product_id] # t.index [:product_id, :customer_id] end endend 2.2 æ¨¡å‹ç”Ÿæˆå™¨ ä»€ä¹ˆæ˜¯è„šæ‰‹æ¶ç”Ÿæˆå™¨ï¼Ÿ åœ¨é¡¹ç›®æœ€å¼€å§‹çš„æ—¶å€™ï¼Œå°±å¸®ä½ æ­å»ºå¥½æ¶å­ï¼Œè„šæ‰‹æ¶å·¥å…·ä¼šç”Ÿæˆå¥½ä¸€äº›åŸºæœ¬ä»£ç ï¼Œä¸€èˆ¬æ˜¯éµå¾ªMVCç»“æ„ä»£ç ã€‚æ¯”å¦‚ç”Ÿæˆå¥½ struts+spring+hibernate ä¸‰ä¸ªæ¡†æ¶æ•´åˆå¥½çš„è„šæ‰‹æ¶ä»£ç ï¼Œä¼šåŒ…å«ä¸€ä¸‹ç®€å•çš„CRUDä»£ç ã€æ•°æ®æºã€è§†å›¾å±‚ç­‰ç­‰é¡¹ç›®ä¸­å¾ˆå¸¸ç”¨çš„ã€‚ æ¨¡å‹å’Œè„šæ‰‹æ¶ç”Ÿæˆå™¨ä¼šç”Ÿæˆé€‚ç”¨äºæ·»åŠ æ–°æ¨¡å‹çš„è¿ç§»ã€‚åœ¨rails g migration xxx:xxxæ·»åŠ å­—æ®µåç§°:ç±»å‹,é‚£ä¹ˆæ·»åŠ è¿™äº›å­—æ®µæ‰€éœ€çš„è¯­å¥ä¹Ÿä¼šè¢«åˆ›å»ºã€‚ 2.3 ä¼ é€’ç±»å‹ä¿®é¥°ç¬¦ è¿™äº›ç±»å‹ä¿®é¥°ç¬¦ç”¨å¤§æ‹¬å·æ‹¬èµ·æ¥ï¼Œæ”¾åœ¨å­—æ®µç±»å‹ä¹‹åã€‚ 12345678rails generate migration AddDetailsToProducts &apos;price:decimal&#123;5,2&#125;&apos; supplier:references&#123;polymorphic&#125;class AddDetailsToProducts &lt; ActiveRecord::Migration[5.0] def change add_column :products, :price, :decimal, precision: 5, scale: 2 add_reference :products, :supplier, polymorphic: true endend 3 ç¼–å†™è¿ç§»ä¸‰ã€Active Record æ•°æ®éªŒè¯ 2 æ•°æ®éªŒè¯è¾…åŠ©æ–¹æ³•2.11 uniqueness è¿™ä¸ªè¾…åŠ©æ–¹æ³•åœ¨ä¿å­˜å¯¹è±¡ä¹‹å‰éªŒè¯å±æ€§å€¼æ˜¯å¦æ˜¯å”¯ä¸€çš„ã€‚ 3 å¸¸ç”¨çš„éªŒè¯é€‰é¡¹3-1ã€allow_nil å¦‚æœè¦éªŒè¯çš„å€¼ä¸º nil å°±è·³è¿‡éªŒè¯ã€‚ 3-2ã€ :allow_blank å¦‚æœè¦éªŒè¯çš„å€¼ä¸ºç©ºï¼ˆè°ƒç”¨ blank? æ–¹æ³•åˆ¤æ–­ï¼Œä¾‹å¦‚ nil æˆ–ç©ºå­—ç¬¦ä¸²ï¼‰ï¼Œå°±è·³è¿‡éªŒè¯ã€‚ 3-3ã€ :message3-4ã€:on é€‰é¡¹æŒ‡å®šä»€ä¹ˆæ—¶å€™éªŒè¯ã€‚ on: :createï¼ŒæŒ‡å®šåªåœ¨åˆ›å»ºè®°å½•æ—¶éªŒè¯ï¼›æˆ–è€…ä½¿ç”¨ on: :updateï¼ŒæŒ‡å®šåªåœ¨æ›´æ–°è®°å½•æ—¶éªŒè¯ã€‚ è¿˜å¯ä»¥ä½¿ç”¨ on: å®šä¹‰è‡ªå®šä¹‰çš„ä¸Šä¸‹æ–‡ã€‚å¿…é¡»æŠŠä¸Šä¸‹æ–‡çš„åç§°ä¼ ç»™ valid?ã€invalid? æˆ– save æ‰èƒ½è§¦å‘è‡ªå®šä¹‰çš„ä¸Šä¸‹æ–‡ã€‚ â€‹ 4 ä¸¥æ ¼éªŒè¯ å½“å¯¹è±¡æ— æ•ˆæ—¶æŠ›å‡º ActiveModel::StrictValidationFailed å¼‚å¸¸ã€‚è¿˜å¯ä»¥é€šè¿‡ :strict é€‰é¡¹æŒ‡å®šæŠ›å‡ºä»€ä¹ˆå¼‚å¸¸ï¼š 12345class Person &lt; ApplicationRecord validates :token, presence: true, uniqueness: true, strict: TokenGenerationExceptionend Person.new.valid? # =&gt; TokenGenerationException: Token can&apos;t be blank 5 æ¡ä»¶éªŒè¯ :if å’Œ :unless é€‰é¡¹æŒ‡å®šï¼Œè¿™ä¸¤ä¸ªé€‰é¡¹çš„å€¼å¯ä»¥æ˜¯ç¬¦å·ã€å­—ç¬¦ä¸²ã€Proc æˆ–æ•°ç»„ã€‚:if é€‰é¡¹æŒ‡å®šä½•æ—¶åšéªŒè¯ã€‚å¦‚æœè¦æŒ‡å®šä½•æ—¶ä¸åšéªŒè¯ï¼Œä½¿ç”¨ :unless é€‰é¡¹ã€‚ 5.1 ä½¿ç”¨ç¬¦å· è¡¨ç¤ºè¦åœ¨éªŒè¯ä¹‹å‰æ‰§è¡Œå¯¹åº”çš„æ–¹æ³•ã€‚ 1validates :card_number, presence: true, if: :paid_with_card? 5.2 ä½¿ç”¨ Proc ä½¿ç”¨ Proc å¯¹è±¡å¯ä»¥åœ¨è¡Œé—´ç¼–å†™æ¡ä»¶ï¼Œä¸ç”¨å®šä¹‰é¢å¤–çš„æ–¹æ³•ã€‚ 1234class Account &lt; ApplicationRecord validates :password, confirmation: true, unless: Proc.new &#123; |a| a.password.blank? &#125;end 5.3 æ¡ä»¶ç»„åˆ åŒä¸€ä¸ªæ¡ä»¶ä¼šç”¨åœ¨å¤šä¸ªéªŒè¯ä¸Šï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨ with_options æ–¹æ³•ã€‚ 12345class User &lt; ApplicationRecord with_options if: :is_admin? do |admin| admin.validates :password, length: &#123; minimum: 10 &#125; admin.validates :email, presence: true end 5.4 è”åˆæ¡ä»¶ å¦‚æœæ˜¯å¦åšæŸä¸ªéªŒè¯è¦æ»¡è¶³å¤šä¸ªæ¡ä»¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„ã€‚ 12345class Computer &lt; ApplicationRecord validates :mouse, presence: true, if: [&quot;market.retail?&quot;, :desktop?], unless: Proc.new &#123; |c| c.trackpad.present? &#125;end 6 è‡ªå®šä¹‰éªŒè¯6.1 è‡ªå®šä¹‰éªŒè¯ç±»(class) è‡ªå®šä¹‰çš„éªŒè¯ç±»ç»§æ‰¿è‡ª ActiveModel::Validatorï¼Œå¿…é¡»å®ç° validate æ–¹æ³•ï¼Œå…¶å‚æ•°æ˜¯è¦éªŒè¯çš„è®°å½•ï¼Œç„¶åéªŒè¯è¿™ä¸ªè®°å½•æ˜¯å¦æœ‰æ•ˆã€‚è‡ªå®šä¹‰çš„éªŒè¯ç±»é€šè¿‡ validates_with æ–¹æ³•è°ƒç”¨ã€‚ 12345678910111213class MyValidator &lt; ActiveModel::Validator def validate(record) unless record.name.starts_with? &apos;X&apos; record.errors[:name] &lt;&lt; &apos;Need a name starting with X please!&apos; end endend class Person include ActiveModel::Validations validates_with MyValidatorend åœ¨è‡ªå®šä¹‰çš„éªŒè¯ç±»ä¸­éªŒè¯å•ä¸ªå±æ€§ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯ç»§æ‰¿ ActiveModel::EachValidator ç±»ã€‚æ­¤æ—¶ï¼Œè‡ªå®šä¹‰çš„éªŒè¯ç±»å¿…é¡»å®ç° validate_each æ–¹æ³•ã€‚ 123456789101112class EmailValidator &lt; ActiveModel::EachValidator def validate_each(record, attribute, value) unless value =~ /\\A([^@\\s]+)@((?:[-a-z0-9]+\\.)+[a-z]&#123;2,&#125;)\\z/i record.errors[attribute] &lt;&lt; (options[:message] || &quot;is not an email&quot;) end endend class Person &lt; ApplicationRecord validates :email, presence: true, email: trueend 6.2 è‡ªå®šä¹‰éªŒè¯æ–¹æ³• éªŒè¯æ–¹æ³•å¿…é¡»ä½¿ç”¨ç±»æ–¹æ³• validateï¼ˆAPIï¼‰æ³¨å†Œï¼Œä¼ å…¥è‡ªå®šä¹‰éªŒè¯æ–¹æ³•åçš„ç¬¦å·å½¢å¼ã€‚ è‡ªå®šä¹‰çš„éªŒè¯æ–¹æ³•ä¼šæŒ‰ç…§æ³¨å†Œçš„é¡ºåºæ‰§è¡Œã€‚ ä½¿ç”¨ validate æ–¹æ³•æ³¨å†Œè‡ªå®šä¹‰éªŒè¯æ–¹æ³•æ—¶å¯ä»¥è®¾ç½® :on é€‰é¡¹ï¼ŒæŒ‡å®šä»€ä¹ˆæ—¶å€™éªŒè¯ã€‚:on çš„å¯é€‰å€¼ä¸º :create å’Œ :updateã€‚ 12345678class Invoice &lt; ApplicationRecord validate :active_customer, on: :create def active_customer errors.add(:customer_id, &quot;is not active&quot;) unless customer.active? endend 7 å¤„ç†éªŒè¯é”™è¯¯7.1 errors person.errors.messages # =&gt; {}ï¼Œé”®æ˜¯æ¯ä¸ªå±æ€§çš„åç§°ï¼Œå€¼æ˜¯ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«é”™è¯¯æ¶ˆæ¯å­—ç¬¦ä¸²ã€‚ 1234567class Person &lt; ApplicationRecord validates :name, presence: true, length: &#123; minimum: 3 &#125;end person = Person.new(name: &quot;John Doe&quot;)person.valid? # =&gt; trueperson.errors.messages # =&gt; &#123;&#125; 7.2 errors[] å¦‚ä¸Šä»£ç ï¼Œerrors[] ç”¨äºè·å–æŸä¸ªå±æ€§ä¸Šçš„é”™è¯¯æ¶ˆæ¯ï¼Œè¿”å›ç»“æœæ˜¯ä¸€ä¸ªç”±è¯¥å±æ€§æ‰€æœ‰é”™è¯¯æ¶ˆæ¯å­—ç¬¦ä¸²ç»„æˆçš„æ•°ç»„ï¼Œæ¯ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºä¸€ä¸ªé”™è¯¯æ¶ˆæ¯ã€‚å¦‚æœå­—æ®µä¸Šæ²¡æœ‰é”™è¯¯ï¼Œåˆ™è¿”å›ç©ºæ•°ç»„ã€‚ 123456789class Person &lt; ApplicationRecord validates :name, presence: true, length: &#123; minimum: 3 &#125;endperson = Person.newperson.valid? # =&gt; falseperson.errors[:name] # =&gt; [&quot;can&apos;t be blank&quot;, &quot;is too short (minimum is 3 characters)&quot;] 7.3 errors.add add æ–¹æ³•ç”¨äºæ‰‹åŠ¨æ·»åŠ æŸå±æ€§çš„é”™è¯¯æ¶ˆæ¯ï¼Œå®ƒçš„å‚æ•°æ˜¯å±æ€§å’Œé”™è¯¯æ¶ˆæ¯ã€‚ ä½¿ç”¨ errors.full_messagesï¼ˆæˆ–ç­‰ä»·çš„ errors.to_aï¼‰æ–¹æ³•è°ƒç”¨ 1234567891011121314class Person &lt; ApplicationRecord def a_method_used_for_validation_purposes errors.add(:name, &quot;cannot contain the characters !@#%*()_-+=&quot;) endend person = Person.create(name: &quot;!@#&quot;) person.errors[:name] # =&gt; [&quot;cannot contain the characters !@#%*()_-+=&quot;] person.errors.full_messages # =&gt; [&quot;Name cannot contain the characters !@#%*()_-+=&quot;] &lt;&lt; çš„ä½œç”¨ä¸ errors#add ä¸€æ ·ï¼šæŠŠä¸€ä¸ªæ¶ˆæ¯è¿½åŠ åˆ° errors.messages æ•°ç»„ä¸­ã€‚ 12345678910111213class Person &lt; ApplicationRecord def a_method_used_for_validation_purposes errors.messages[:name] &lt;&lt; &quot;cannot contain the characters !@#%*()_-+=&quot; endend person = Person.create(name: &quot;!@#&quot;) person.errors[:name] # =&gt; [&quot;cannot contain the characters !@#%*()_-+=&quot;] person.errors.to_a # =&gt; [&quot;Name cannot contain the characters !@#%*()_-+=&quot;] 7.4 errors.details ä½¿ç”¨ errors.add æ–¹æ³•å¯ä»¥ä¸ºè¿”å›çš„é”™è¯¯è¯¦æƒ…æ•£åˆ—æŒ‡å®šéªŒè¯ç¨‹åºç±»å‹ã€‚ å¦‚æœæƒ³æå‡é”™è¯¯è¯¦æƒ…çš„ä¿¡æ¯é‡ï¼Œå¯ä»¥ä¸º errors.add æ–¹æ³•æä¾›é¢å¤–çš„é”®ï¼ŒæŒ‡å®šä¸å…è®¸çš„å­—ç¬¦ã€‚ 1234567891011class Person &lt; ApplicationRecord def a_method_used_for_validation_purposes errors.add(:name, :invalid_characters, not_allowed: &quot;!@#%*()_-+=&quot;) endend person = Person.create(name: &quot;!@#&quot;) person.errors.details[:name]# =&gt; [&#123;error: :invalid_characters, not_allowed: &quot;!@#%*()_-+=&quot;&#125;] 7.5 errors[:base] é”™è¯¯æ¶ˆæ¯å¯ä»¥æ·»åŠ åˆ°æ•´ä¸ªå¯¹è±¡ä¸Šï¼Œè€Œä¸æ˜¯é’ˆå¯¹æŸä¸ªå±æ€§ã€‚å¦‚æœä¸æƒ³ç®¡æ˜¯å“ªä¸ªå±æ€§å¯¼è‡´å¯¹è±¡æ— æ•ˆï¼Œåªæƒ³æŠŠå¯¹è±¡æ ‡è®°ä¸ºæ— æ•ˆçŠ¶æ€ï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ã€‚errors[:base] æ˜¯ä¸ªæ•°ç»„ï¼Œå¯ä»¥æ·»åŠ å­—ç¬¦ä¸²ä½œä¸ºé”™è¯¯æ¶ˆæ¯ã€‚ 12345class Person &lt; ApplicationRecord def a_method_used_for_validation_purposes errors[:base] &lt;&lt; &quot;This person is invalid because ...&quot; endend 7.6 errors.clear æƒ³æ¸…é™¤ errors é›†åˆä¸­çš„æ‰€æœ‰é”™è¯¯æ¶ˆæ¯ï¼Œå¯ä»¥ä½¿ç”¨ clear æ–¹æ³•ã€‚ å½“ç„¶ï¼Œåœ¨æ— æ•ˆçš„å¯¹è±¡ä¸Šè°ƒç”¨ errors.clear æ–¹æ³•åï¼Œå¯¹è±¡è¿˜æ˜¯æ— æ•ˆçš„ï¼Œè™½ç„¶ errors é›†åˆä¸ºç©ºäº†ï¼Œä½†ä¸‹æ¬¡è°ƒç”¨ valid? æ–¹æ³•ï¼Œæˆ–è°ƒç”¨å…¶ä»–æŠŠå¯¹è±¡å­˜å…¥æ•°æ®åº“çš„æ–¹æ³•æ—¶ï¼Œ ä¼šå†æ¬¡è¿›è¡ŒéªŒè¯ã€‚å¦‚æœä»»ä½•ä¸€ä¸ªéªŒè¯å¤±è´¥äº†ï¼Œerrors é›†åˆä¸­å°±å†æ¬¡å‡ºç°å€¼äº†ã€‚ 7.7 errors.size size æ–¹æ³•è¿”å›å¯¹è±¡ä¸Šé”™è¯¯æ¶ˆæ¯çš„æ€»æ•°ã€‚ 8 åœ¨è§†å›¾ä¸­æ˜¾ç¤ºéªŒè¯é”™è¯¯ ä½¿ç”¨è„šæ‰‹æ¶æ—¶ï¼ŒRails ä¼šåœ¨ç”Ÿæˆçš„ _form.html.erb ä¸­åŠ å…¥ä¸€äº› ERB ä»£ç ï¼Œæ˜¾ç¤ºæ¨¡å‹é”™è¯¯æ¶ˆæ¯çš„å®Œæ•´åˆ—è¡¨ã€‚å‡å¦‚æœ‰ä¸ªæ¨¡å‹å¯¹è±¡å­˜å‚¨åœ¨å®ä¾‹å˜é‡ @article ä¸­ï¼Œè§†å›¾çš„ä»£ç å¯ä»¥è¿™ä¹ˆå†™ï¼š 1234567891011&lt;% if @article.errors.any? %&gt; &lt;div id=&quot;error_explanation&quot;&gt; &lt;h2&gt;&lt;%= pluralize(@article.errors.count, &quot;error&quot;) %&gt; prohibited this article from being saved:&lt;/h2&gt; &lt;ul&gt; &lt;% @article.errors.full_messages.each do |msg| %&gt; &lt;li&gt;&lt;%= msg %&gt;&lt;/li&gt; &lt;% end %&gt; &lt;/ul&gt; &lt;/div&gt;&lt;% end %&gt; æ­¤å¤–ï¼Œå¦‚æœä½¿ç”¨ Rails çš„è¡¨å•è¾…åŠ©æ–¹æ³•ç”Ÿæˆè¡¨å•ï¼Œå¦‚æœæŸä¸ªè¡¨å•å­—æ®µéªŒè¯å¤±è´¥ï¼Œä¼šæŠŠå­—æ®µåŒ…å«åœ¨ä¸€ä¸ª &lt;div&gt; ä¸­ã€‚è„šæ‰‹æ¶é»˜è®¤æ·»åŠ çš„ CSS è§„åˆ™å¦‚ä¸‹ï¼š 123&lt;div class=&quot;field_with_errors&quot;&gt; &lt;input id=&quot;article_title&quot; name=&quot;article[title]&quot; size=&quot;30&quot; type=&quot;text&quot; value=&quot;&quot;&gt;&lt;/div&gt; 12345.field_with_errors &#123; padding: 2px; background-color: red; display: table;&#125; å››ã€Active Record å›è°ƒ 1 å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ åœ¨ Rails åº”ç”¨æ­£å¸¸è¿ä½œæœŸé—´ï¼Œå¯¹è±¡å¯ä»¥è¢«åˆ›å»ºã€æ›´æ–°ã€ä¿å­˜æˆ–åˆ é™¤ã€‚ 2 å›è°ƒæ¦‚è¿° å›è°ƒæ˜¯åœ¨å¯¹è±¡ç”Ÿå‘½å‘¨æœŸçš„æŸäº›æ—¶åˆ»è¢«è°ƒç”¨çš„æ–¹æ³•ã€‚ 2.1 æ³¨å†Œå›è°ƒ å›è°ƒåœ¨ä½¿ç”¨ä¹‹å‰éœ€è¦æ³¨å†Œã€‚æˆ‘ä»¬å¯ä»¥å…ˆæŠŠå›è°ƒå®šä¹‰ä¸ºæ™®é€šæ–¹æ³•ï¼Œç„¶åä½¿ç”¨å®å¼ç±»æ–¹æ³•æŠŠè¿™äº›æ™®é€šæ–¹æ³•æ³¨å†Œä¸ºå›è°ƒï¼š â€”â€”99ï¼šâ€œç±»å®ï¼Œä¹¦ä¸­ç»™å‡ºçš„è§£é‡Šå¾ˆç®€å•, Use a class method in a class definition. å°±æ˜¯åœ¨ä¸€ä¸ªç±»å®šä¹‰ä¸­ä½¿ç”¨ä¸€ä¸ªç±»æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»æ–¹æ³•å°±å«ç±»å®ã€‚â€å¦‚ä¸‹åœ¨Userçš„classä¸­ä½¿ç”¨self.loginï¼Œè¿™å°±æ˜¯å®å¼ç±»æ–¹æ³•ï¼Ÿbefore_validationå°±æ˜¯æ³¨å†Œï¼Ÿ é€šå¸¸åº”è¯¥æŠŠå›è°ƒå®šä¹‰ä¸ºç§æœ‰æ–¹æ³•privateã€‚å¦‚æœæŠŠå›è°ƒå®šä¹‰ä¸ºå…¬å…±æ–¹æ³•ï¼Œå°±å¯ä»¥ä»æ¨¡å‹å¤–éƒ¨è°ƒç”¨å›è°ƒï¼Œè¿™æ ·åšè¿åäº†å¯¹è±¡å°è£…åŸåˆ™ã€‚ 123456789101112class User &lt; ApplicationRecord validates :login, :email, presence: true before_validation :ensure_login_has_a_value private def ensure_login_has_a_value if login.nil? self.login = email unless email.blank? end endend 3 å¯ç”¨çš„å›è°ƒ3.1 åˆ›å»ºå¯¹è±¡ &amp; 3.2 æ›´æ–°å¯¹è±¡123456789before_validationafter_validationbefore_savearound_savebefore_updatearound_updateafter_updateafter_saveafter_commit/after_rollback 3.3 åˆ é™¤å¯¹è±¡1234before_destroyaround_destroyafter_destroyafter_commit/after_rollback æ— è®ºæŒ‰ä»€ä¹ˆé¡ºåºæ³¨å†Œå›è°ƒï¼Œåœ¨åˆ›å»ºå’Œæ›´æ–°å¯¹è±¡æ—¶ï¼Œafter_save å›è°ƒæ€»æ˜¯åœ¨æ›´æ˜ç¡®çš„ after_create å’Œ after_update å›è°ƒä¹‹åè¢«è°ƒç”¨ã€‚ 3.4 after_initialize å’Œ after_find å›è°ƒ å½“ Active Record å¯¹è±¡è¢«å®ä¾‹åŒ–æ—¶ï¼Œä¸ç®¡æ˜¯é€šè¿‡ç›´æ¥ä½¿ç”¨ new æ–¹æ³•è¿˜æ˜¯ä»æ•°æ®åº“åŠ è½½è®°å½•ï¼Œéƒ½ä¼šè°ƒç”¨ after_initialize å›è°ƒã€‚ å½“ Active Record ä»æ•°æ®åº“ä¸­åŠ è½½è®°å½•æ—¶ï¼Œä¼šè°ƒç”¨ after_find å›è°ƒã€‚ å¦‚æœåŒæ—¶å®šä¹‰äº† after_initialize å’Œ after_find å›è°ƒï¼Œä¼šå…ˆè°ƒç”¨ after_find å›è°ƒã€‚ 3.5 after_touch å›è°ƒ å½“æˆ‘ä»¬åœ¨ Active Record å¯¹è±¡ä¸Šè°ƒç”¨ touch æ–¹æ³•æ—¶ï¼Œä¼šè°ƒç”¨ after_touch å›è°ƒã€‚ after_touch å›è°ƒå¯ä»¥å’Œ belongs_to ä¸€èµ·ä½¿ç”¨ï¼š 12345class User &lt; ApplicationRecord after_touch do |user| puts &quot;You have touched an object&quot; endend 4 è°ƒç”¨å›è°ƒ ä¸‹é¢è¿™äº›æ–¹æ³•ä¼šè§¦å‘å›è°ƒï¼š 123456789101112131415createcreate!decrement!destroydestroy!destroy_allincrement!savesave!save(validate: false)toggle!update_attributeupdateupdate!valid? æ­¤å¤–ï¼Œä¸‹é¢è¿™äº›æŸ¥æ‰¾æ–¹æ³•ä¼šè§¦å‘ after_find å›è°ƒï¼š 12345678allfirstfindfind_byfind_by_*find_by_*!find_by_sqllast æ¯æ¬¡åˆå§‹åŒ–ç±»çš„æ–°å¯¹è±¡æ—¶éƒ½ä¼šè§¦å‘ after_initialize å›è°ƒã€‚ 5 è·³è¿‡å›è°ƒ è¯·æ…é‡åœ°ä½¿ç”¨è¿™äº›æ–¹æ³•ï¼Œå› ä¸ºæœ‰äº›å›è°ƒåŒ…å«äº†é‡è¦çš„ä¸šåŠ¡è§„åˆ™å’Œåº”ç”¨é€»è¾‘ï¼Œåœ¨ä¸äº†è§£æ½œåœ¨å½±å“çš„æƒ…å†µä¸‹å°±è·³è¿‡å›è°ƒï¼Œå¯èƒ½å¯¼è‡´æ— æ•ˆæ•°æ®ã€‚ 123456789101112decrementdecrement_counterdeletedelete_allincrementincrement_countertoggletouchupdate_columnupdate_columnsupdate_allupdate_counters 6 åœæ­¢æ‰§è¡Œ æ•´ä¸ªå›è°ƒé“¾åŒ…è£…åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ã€‚åªè¦æœ‰å›è°ƒæŠ›å‡ºå¼‚å¸¸ï¼Œå›è°ƒé“¾éšå³åœæ­¢ï¼Œå¹¶ä¸”å‘å‡º ROLLBACK æ¶ˆæ¯ã€‚å¦‚æœæƒ³æ•…æ„åœæ­¢å›è°ƒé“¾ï¼Œå¯ä»¥è¿™ä¹ˆåšï¼šthrow :abort 7 å…³è”å›è°ƒ å›è°ƒä¸ä»…å¯ä»¥åœ¨æ¨¡å‹å…³è”ä¸­ä½¿ç”¨ï¼Œè¿˜å¯ä»¥é€šè¿‡æ¨¡å‹å…³è”å®šä¹‰ã€‚å‡è®¾æœ‰ä¸€ä¸ªç”¨æˆ·åœ¨åšå®¢ä¸­å‘è¡¨äº†å¤šç¯‡æ–‡ç« ï¼Œç°åœ¨æˆ‘ä»¬è¦åˆ é™¤è¿™ä¸ªç”¨æˆ·ï¼Œé‚£ä¹ˆè¿™ä¸ªç”¨æˆ·çš„æ‰€æœ‰æ–‡ç« ä¹Ÿåº”è¯¥åˆ é™¤ï¼Œä¸ºæ­¤æˆ‘ä»¬é€šè¿‡ Article æ¨¡å‹å’Œ User æ¨¡å‹çš„å…³è”æ¥ç»™ User æ¨¡å‹æ·»åŠ ä¸€ä¸ª after_destroy å›è°ƒï¼š 1234567891011class User &lt; ApplicationRecord has_many :articles, dependent: :destroyend class Article &lt; ApplicationRecord after_destroy :log_destroy_action def log_destroy_action puts &apos;Article destroyed&apos; endend 8 æ¡ä»¶å›è°ƒ8.1 ä½¿ç”¨ç¬¦å·ä½œä¸º :if å’Œ :unless é€‰é¡¹çš„å€¼ å¯ä»¥ä½¿ç”¨ç¬¦å·ä½œä¸º :if å’Œ :unless é€‰é¡¹çš„å€¼ï¼Œè¿™ä¸ªç¬¦å·ç”¨äºè¡¨ç¤ºå…ˆäºå›è°ƒè°ƒç”¨çš„æ–­è¨€æ–¹æ³•ã€‚å½“ä½¿ç”¨ :if é€‰é¡¹æ—¶ï¼Œå¦‚æœæ–­è¨€æ–¹æ³•è¿”å› false å°±ä¸ä¼šè°ƒç”¨å›è°ƒï¼›å½“ä½¿ç”¨ :unless é€‰é¡¹æ—¶ï¼Œå¦‚æœæ–­è¨€æ–¹æ³•è¿”å› true å°±ä¸ä¼šè°ƒç”¨å›è°ƒã€‚ 123class Order &lt; ApplicationRecord before_save :normalize_card_number, if: :paid_with_card?end 8.2 ä½¿ç”¨ Proc ä½œä¸º :if å’Œ :unless é€‰é¡¹çš„å€¼ åœ¨éªŒè¯æ–¹æ³•éå¸¸çŸ­æ—¶æœ€é€‚åˆä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œè¿™ç±»éªŒè¯æ–¹æ³•é€šå¸¸åªæœ‰ä¸€è¡Œä»£ç ï¼š 12345class Order &lt; ApplicationRecord before_save :normalize_card_number, if: Proc.new &#123; |order| order.paid_with_card? &#125;end 8.3 åœ¨æ¡ä»¶å›è°ƒä¸­ä½¿ç”¨å¤šä¸ªæ¡ä»¶ åœ¨ç¼–å†™æ¡ä»¶å›è°ƒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åŒä¸€ä¸ªå›è°ƒå£°æ˜ä¸­æ··åˆä½¿ç”¨ :if å’Œ :unless é€‰é¡¹ï¼š 12345class Comment &lt; ApplicationRecord after_create :send_email_to_author, if: :author_wants_emails?, unless: Proc.new &#123; |comment| comment.article.ignore_comments? &#125;end 9 å›è°ƒç±» æœ‰æ—¶éœ€è¦åœ¨å…¶ä»–æ¨¡å‹ä¸­é‡ç”¨å·²æœ‰çš„å›è°ƒæ–¹æ³•ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒActive Record å…è®¸æˆ‘ä»¬ç”¨ç±»æ¥å°è£…å›è°ƒæ–¹æ³• 123456789101112131415åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¸º PictureFile æ¨¡å‹åˆ›å»ºäº† PictureFileCallbacks å›è°ƒç±»ï¼Œåœ¨è¿™ä¸ªå›è°ƒç±»ä¸­åŒ…å«äº† after_destroy å›è°ƒæ–¹æ³•ï¼šclass PictureFileCallbacks def after_destroy(picture_file) if File.exist?(picture_file.filepath) File.delete(picture_file.filepath) end endendåœ¨ä¸Šé¢çš„ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå½“åœ¨å›è°ƒç±»ä¸­å£°æ˜å›è°ƒæ–¹æ³•æ—¶ï¼Œå›è°ƒæ–¹æ³•æ¥å—æ¨¡å‹å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚å›è°ƒç±»å®šä¹‰ä¹‹åå°±å¯ä»¥åœ¨æ¨¡å‹ä¸­ä½¿ç”¨äº†ï¼šclass PictureFile &lt; ApplicationRecord after_destroy PictureFileCallbacks.newend è¯·æ³¨æ„ï¼Œä¸Šé¢æˆ‘ä»¬æŠŠå›è°ƒå£°æ˜ä¸ºå®ä¾‹æ–¹æ³•ï¼Œå› æ­¤éœ€è¦å®ä¾‹åŒ–æ–°çš„ PictureFileCallbacks å¯¹è±¡ã€‚å½“å›è°ƒæƒ³è¦ä½¿ç”¨å®ä¾‹åŒ–çš„å¯¹è±¡çš„çŠ¶æ€æ—¶ï¼Œè¿™ç§å£°æ˜æ–¹å¼ç‰¹åˆ«æœ‰ç”¨ã€‚å°½ç®¡å¦‚æ­¤ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¼šæŠŠå›è°ƒå£°æ˜ä¸ºç±»æ–¹æ³•ï¼š å¦‚æœæŠŠå›è°ƒå£°æ˜ä¸ºç±»æ–¹æ³•ï¼Œå°±ä¸éœ€è¦å®ä¾‹åŒ–æ–°çš„ PictureFileCallbacks å¯¹è±¡ã€‚ 1234class PictureFile &lt; ApplicationRecord after_destroy PictureFileCallbacksend 10 äº‹åŠ¡å›è°ƒ after_commit å’Œ after_rollback è¿™ä¸¤ä¸ªå›è°ƒä¼šåœ¨æ•°æ®åº“äº‹åŠ¡å®Œæˆæ—¶è§¦å‘ã€‚å®ƒä»¬å’Œ after_saveå›è°ƒéå¸¸ç›¸ä¼¼ï¼ŒåŒºåˆ«åœ¨äºå®ƒä»¬åœ¨æ•°æ®åº“å˜æ›´å·²ç»æäº¤æˆ–å›æ»šåæ‰ä¼šæ‰§è¡Œï¼Œå¸¸ç”¨äº Active Record æ¨¡å‹éœ€è¦å’Œæ•°æ®åº“äº‹åŠ¡ä¹‹å¤–çš„ç³»ç»Ÿäº¤äº’çš„åœºæ™¯ã€‚ ç”±äºåªåœ¨æ‰§è¡Œåˆ›å»ºã€æ›´æ–°æˆ–åˆ é™¤åŠ¨ä½œæ—¶è§¦å‘ after_commit å›è°ƒæ˜¯å¾ˆå¸¸è§çš„ï¼Œè¿™äº›æ“ä½œéƒ½æ‹¥æœ‰åˆ«åï¼š 123after_create_commitafter_update_commitafter_destroy_commit åœ¨äº‹åŠ¡ä¸­åˆ›å»ºã€æ›´æ–°æˆ–åˆ é™¤æ¨¡å‹æ—¶ä¼šè°ƒç”¨ after_commit å’Œ after_rollback å›è°ƒã€‚ç„¶è€Œï¼Œå¦‚æœå…¶ä¸­æœ‰ä¸€ä¸ªå›è°ƒå¼•å‘å¼‚å¸¸ï¼Œå¼‚å¸¸ä¼šå‘ä¸Šå†’æ³¡ï¼Œåç»­ after_commit å’Œ after_rollback å›è°ƒä¸å†æ‰§è¡Œã€‚ äº”ã€Active Record å…³è” 1 ä¸ºä»€ä¹ˆä½¿ç”¨å…³è” Rails çŸ¥é“ä¸¤ä¸ªæ¨¡å‹ä¹‹é—´æœ‰è”ç³»ï¼Œç›¸å…³æ“ä½œå¯ä»¥å¾—åˆ°ç®€åŒ–ã€‚ 2 å…³è”çš„ç±»å‹ å…³è”ä½¿ç”¨å®å¼è°ƒç”¨å®ç°ï¼Œç”¨å£°æ˜çš„å½¢å¼ä¸ºæ¨¡å‹æ·»åŠ åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œå£°æ˜ä¸€ä¸ªæ¨¡å‹å±äºï¼ˆbelongs_toï¼‰å¦ä¸€ä¸ªæ¨¡å‹åï¼ŒRails ä¼šç»´æŠ¤ä¸¤ä¸ªæ¨¡å‹ä¹‹é—´çš„â€œä¸»é”®-å¤–é”®â€å…³ç³»ï¼Œè€Œä¸”è¿˜ä¼šå‘æ¨¡å‹ä¸­æ·»åŠ å¾ˆå¤šå®ç”¨çš„æ–¹æ³•ã€‚ 1234567Rails æ”¯æŒå…­ç§å…³è”ï¼šbelongs_tohas_onehas_manyhas_many :throughhas_one :throughhas_and_belongs_to_many 2.1 belongs_to å…³è” belongs_to å…³è”åˆ›å»ºä¸¤ä¸ªæ¨¡å‹ä¹‹é—´ä¸€å¯¹ä¸€çš„å…³ç³»ï¼Œå£°æ˜æ‰€åœ¨çš„æ¨¡å‹å®ä¾‹å±äºå¦ä¸€ä¸ªæ¨¡å‹çš„å®ä¾‹ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœåº”ç”¨ä¸­æœ‰ä½œè€…å’Œå›¾ä¹¦ä¸¤ä¸ªæ¨¡å‹ï¼Œè€Œä¸”æ¯æœ¬ä¹¦åªèƒ½æŒ‡å®šç»™ä¸€ä½ä½œè€… 123class Book &lt; ApplicationRecord belongs_to :authorend ç›¸åº”çš„è¿ç§»å¦‚ä¸‹ï¼š 1234567891011121314class CreateBooks &lt; ActiveRecord::Migration[5.0] def change create_table :authors do |t| t.string :name t.timestamps end create_table :books do |t| t.belongs_to :author, index: true t.datetime :published_at t.timestamps end endend 2.2 has_one å…³è” has_one å…³è”ä¹Ÿå»ºç«‹ä¸¤ä¸ªæ¨¡å‹ä¹‹é—´çš„ä¸€å¯¹ä¸€å…³ç³»ï¼Œä½†è¯­ä¹‰å’Œç»“æœæœ‰ç‚¹ä¸ä¸€æ ·ã€‚è¿™ç§å…³è”è¡¨ç¤ºæ¨¡å‹çš„å®ä¾‹åŒ…å«æˆ–æ‹¥æœ‰å¦ä¸€ä¸ªæ¨¡å‹çš„å®ä¾‹ã€‚ ä¾‹å¦‚ï¼Œåº”ç”¨ä¸­æ¯ä¸ªä¾›åº”å•†åªæœ‰ä¸€ä¸ªè´¦æˆ· 123class Supplier &lt; ApplicationRecord has_one :accountend ç›¸åº”çš„è¿ç§»å¦‚ä¸‹ï¼š 1234567891011121314class CreateSuppliers &lt; ActiveRecord::Migration[5.0] def change create_table :suppliers do |t| t.string :name t.timestamps end create_table :accounts do |t| t.belongs_to :supplier, index: true t.string :account_number t.timestamps end endend æ ¹æ®ä½¿ç”¨éœ€è¦ï¼Œå¯èƒ½è¿˜è¦ä¸º accounts è¡¨ä¸­çš„ supplier åˆ—åˆ›å»ºå”¯ä¸€æ€§ç´¢å¼•å’Œï¼ˆæˆ–ï¼‰å¤–é”®çº¦æŸã€‚è¿™é‡Œï¼Œæˆ‘ä»¬åƒä¸‹é¢è¿™æ ·å®šä¹‰è¿™ä¸€åˆ—ï¼š 12345create_table :accounts do |t| t.belongs_to :supplier, index: &#123; unique: true &#125;, foreign_key: true # ...end 2.3 has_many å…³è” has_many å…³è”å»ºç«‹ä¸¤ä¸ªæ¨¡å‹ä¹‹é—´çš„ä¸€å¯¹å¤šå…³ç³»ã€‚åœ¨ belongs_to å…³è”çš„å¦ä¸€ç«¯ç»å¸¸ä¼šä½¿ç”¨è¿™ä¸ªå…³è”ã€‚ å£°æ˜ has_many å…³è”æ—¶ï¼Œå¦ä¸€ä¸ªæ¨¡å‹ä½¿ç”¨å¤æ•°å½¢å¼ã€‚ ä¾‹å¦‚ï¼Œå¯¹åº”ç”¨ä¸­çš„ä½œè€…å’Œå›¾ä¹¦æ¨¡å‹æ¥è¯´ 123class Author &lt; ApplicationRecord has_many :booksend ç›¸åº”çš„è¿ç§»å¦‚ä¸‹ï¼š 1234567891011121314class CreateAuthors &lt; ActiveRecord::Migration[5.0] def change create_table :authors do |t| t.string :name t.timestamps end create_table :books do |t| t.belongs_to :author, index: true t.datetime :published_at t.timestamps end endend 2.4 has_many :through å…³è” has_many :through å…³è”ç»å¸¸ç”¨äºå»ºç«‹ä¸¤ä¸ªæ¨¡å‹ä¹‹é—´çš„å¤šå¯¹å¤šå…³è”ã€‚è¿™ç§å…³è”è¡¨ç¤ºä¸€ä¸ªæ¨¡å‹çš„å®ä¾‹å¯ä»¥å€Ÿç”±ç¬¬ä¸‰ä¸ªæ¨¡å‹ï¼Œæ‹¥æœ‰é›¶ä¸ªå’Œå¤šä¸ªå¦ä¸€æ¨¡å‹çš„å®ä¾‹ã€‚ physician.patients = patientsä¼šä¸ºæ–°å»ºç«‹çš„å…³è”å¯¹è±¡åˆ›å»ºè”ç»“æ¨¡å‹å®ä¾‹ã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªå¯¹è±¡åˆ é™¤äº†ï¼Œç›¸åº”çš„è”ç»“è®°å½•ä¹Ÿä¼šåˆ é™¤ã€‚ è‡ªåŠ¨åˆ é™¤è”ç»“æ¨¡å‹çš„æ“ä½œç›´æ¥æ‰§è¡Œï¼Œä¸ä¼šè§¦å‘ *_destroy å›è°ƒã€‚ ä¾‹å¦‚ï¼Œåœ¨åŒ»ç–—é”»ç‚¼ä¸­ï¼Œç—…äººè¦å’ŒåŒ»ç”Ÿçº¦å®šç»ƒä¹ æ—¶é—´ 1234567891011121314class Physician &lt; ApplicationRecord has_many :appointments has_many :patients, through: :appointmentsend class Appointment &lt; ApplicationRecord belongs_to :physician belongs_to :patientend class Patient &lt; ApplicationRecord has_many :appointments has_many :physicians, through: :appointmentsend ç›¸åº”çš„è¿ç§»å¦‚ä¸‹ï¼š 1234567891011121314151617181920class CreateAppointments &lt; ActiveRecord::Migration[5.0] def change create_table :physicians do |t| t.string :name t.timestamps end create_table :patients do |t| t.string :name t.timestamps end create_table :appointments do |t| t.belongs_to :physician, index: true t.belongs_to :patient, index: true t.datetime :appointment_date t.timestamps end endend 2.5 has_one :through å…³è” has_one :through å…³è”å»ºç«‹ä¸¤ä¸ªæ¨¡å‹ä¹‹é—´çš„ä¸€å¯¹ä¸€å…³ç³»ã€‚è¿™ç§å…³è”è¡¨ç¤ºä¸€ä¸ªæ¨¡å‹é€šè¿‡ç¬¬ä¸‰ä¸ªæ¨¡å‹æ‹¥æœ‰å¦ä¸€æ¨¡å‹çš„å®ä¾‹ã€‚ ä¾‹å¦‚ï¼Œæ¯ä¸ªä¾›åº”å•†åªæœ‰ä¸€ä¸ªè´¦æˆ·ï¼Œè€Œä¸”æ¯ä¸ªè´¦æˆ·éƒ½æœ‰ä¸€ä¸ªè´¦æˆ·å†å² 12345678910111213class Supplier &lt; ApplicationRecord has_one :account has_one :account_history, through: :accountend class Account &lt; ApplicationRecord belongs_to :supplier has_one :account_historyend class AccountHistory &lt; ApplicationRecord belongs_to :accountend ç›¸åº”çš„è¿ç§»å¦‚ä¸‹ï¼š â€‹123456789101112131415161718192021class CreateAccountHistories &lt; ActiveRecord::Migration[5.0] def change create_table :suppliers do |t| t.string :name t.timestamps end create_table :accounts do |t| t.belongs_to :supplier, index: true t.string :account_number t.timestamps end create_table :account_histories do |t| t.belongs_to :account, index: true t.integer :credit_rating t.timestamps end endendâ€‹ ![](https://ws3.sinaimg.cn/large/006tKfTcgy1flc9ad3xitj30u210uajb.jpg) 2.6 has_and_belongs_to_many å…³è” ç›´æ¥å»ºç«‹ä¸¤ä¸ªæ¨¡å‹ä¹‹é—´çš„å¤šå¯¹å¤šå…³ç³»ï¼Œä¸å€Ÿç”±ç¬¬ä¸‰ä¸ªæ¨¡å‹ã€‚ ä¾‹å¦‚ï¼Œåº”ç”¨ä¸­æœ‰è£…é…ä½“å’Œé›¶ä»¶ä¸¤ä¸ªæ¨¡å‹ï¼Œæ¯ä¸ªè£…é…ä½“æœ‰å¤šä¸ªé›¶ä»¶ï¼Œæ¯ä¸ªé›¶ä»¶åˆå¯ç”¨äºå¤šä¸ªè£…é…ä½“ 1234567class Assembly &lt; ApplicationRecord has_and_belongs_to_many :partsend class Part &lt; ApplicationRecord has_and_belongs_to_many :assembliesend ç›¸åº”çš„è¿ç§»å¦‚ä¸‹ï¼š â€‹12345678910111213141516171819class CreateAssembliesAndParts &lt; ActiveRecord::Migration[5.0] def change create_table :assemblies do |t| t.string :name t.timestamps end create_table :parts do |t| t.string :part_number t.timestamps end create_table :assemblies_parts, id: false do |t| t.belongs_to :assembly, index: true t.belongs_to :part, index: true end endendâ€‹ ![](https://ws4.sinaimg.cn/large/006tKfTcgy1flc9hkgojnj30t00u2tf2.jpg) 2.7 åœ¨ belongs_to å’Œ has_one ä¹‹é—´é€‰æ‹© äºŒè€…ä¹‹é—´çš„åŒºåˆ«æ˜¯åœ¨å“ªé‡Œæ”¾ç½®å¤–é”®ï¼ˆå¤–é”®åœ¨ belongs_to å…³è”æ‰€åœ¨æ¨¡å‹å¯¹åº”çš„è¡¨ä¸­ï¼‰ï¼Œä¸è¿‡ä¹Ÿè¦è€ƒè™‘æ•°æ®çš„è¯­ä¹‰ã€‚has_one çš„æ„æ€æ˜¯æŸæ ·ä¸œè¥¿å±äºæˆ‘ï¼Œå³å“ªä¸ªä¸œè¥¿æŒ‡å‘ä½ ã€‚ ä¾‹å¦‚ï¼Œè¯´ä¾›åº”å•†æœ‰ä¸€ä¸ªè´¦æˆ·ï¼Œæ¯”è´¦æˆ·æ‹¥æœ‰ä¾›åº”å•†æ›´åˆç† 2.8 åœ¨ has_many :through å’Œ has_and_belongs_to_many ä¹‹é—´é€‰æ‹© æ ¹æ®ç»éªŒï¼Œå¦‚æœæƒ³æŠŠå…³è”æ¨¡å‹å½“åšç‹¬ç«‹å®ä½“ä½¿ç”¨ï¼Œè¦ç”¨ has_many :through å…³è”ï¼›å¦‚æœä¸éœ€è¦ä½¿ç”¨å…³è”æ¨¡å‹ï¼Œå»ºç«‹ has_and_belongs_to_many å…³è”æ›´ç®€å•ï¼ˆä¸è¿‡è¦è®°å¾—åœ¨æ•°æ®åº“ä¸­åˆ›å»ºè”ç»“è¡¨ï¼‰ã€‚ å¦‚æœè¦å¯¹è”ç»“æ¨¡å‹åšæ•°æ®éªŒè¯ã€è°ƒç”¨å›è°ƒï¼Œæˆ–è€…ä½¿ç”¨å…¶ä»–å±æ€§ï¼Œè¦ä½¿ç”¨ has_many :through å…³è”ã€‚ 2.9 å¤šæ€å…³è” å…³è”è¿˜æœ‰ä¸€ç§é«˜çº§å½¢å¼â€”â€”å¤šæ€å…³è”ï¼ˆpolymorphic associationï¼‰ã€‚åœ¨å¤šæ€å…³è”ä¸­ï¼Œåœ¨åŒä¸€ä¸ªå…³è”ä¸­ï¼Œä¸€ä¸ªæ¨¡å‹å¯ä»¥å±äºå¤šä¸ªæ¨¡å‹ã€‚ ä¾‹å¦‚ï¼Œå›¾ç‰‡æ¨¡å‹å¯ä»¥å±äºé›‡å‘˜æ¨¡å‹æˆ–è€…äº§å“æ¨¡å‹ 123456789101112class Picture &lt; ApplicationRecord belongs_to :imageable, polymorphic: trueend class Employee &lt; ApplicationRecord has_many :pictures, as: :imageableend class Product &lt; ApplicationRecord has_many :pictures, as: :imageableend åœ¨ belongs_to ä¸­æŒ‡å®šä½¿ç”¨å¤šæ€ï¼Œå¯ä»¥ç†è§£æˆåˆ›å»ºäº†ä¸€ä¸ªæ¥å£ï¼Œå¯ä¾›ä»»ä½•ä¸€ä¸ªæ¨¡å‹ä½¿ç”¨ã€‚ åœ¨ Employee æ¨¡å‹å®ä¾‹ä¸Šï¼Œå¯ä»¥ä½¿ç”¨ @employee.pictures è·å–å›¾ç‰‡é›†åˆã€‚ ç±»ä¼¼åœ°ï¼Œå¯ä½¿ç”¨ @product.pictures è·å–äº§å“çš„å›¾ç‰‡ã€‚ åœ¨ Picture æ¨¡å‹çš„å®ä¾‹ä¸Šï¼Œå¯ä»¥ä½¿ç”¨ @picture.imageable è·å–çˆ¶å¯¹è±¡ã€‚ä¸è¿‡äº‹å…ˆè¦åœ¨å£°æ˜å¤šæ€æ¥å£çš„æ¨¡å‹ä¸­åˆ›å»ºå¤–é”®å­—æ®µå’Œç±»å‹å­—æ®µï¼š 12345678910111213class CreatePictures &lt; ActiveRecord::Migration[5.0] def change create_table :pictures do |t| t.string :name t.integer :imageable_id t.string :imageable_type t.timestamps end add_index :pictures, [:imageable_type, :imageable_id] endend ä¸Šé¢çš„è¿ç§»å¯ä»¥ä½¿ç”¨ t.references ç®€åŒ–ï¼š 12345678910class CreatePictures &lt; ActiveRecord::Migration[5.0] def change create_table :pictures do |t| t.string :name t.references :imageable, polymorphic: true, index: true t.timestamps end endend 2.10 è‡ªè”ç»“ è®¾è®¡æ•°æ®æ¨¡å‹æ—¶ï¼Œæ¨¡å‹æœ‰æ—¶è¦å’Œè‡ªå·±å»ºç«‹å…³ç³»ã€‚ ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªæ•°æ®åº“è¡¨ä¸­ä¿å­˜æ‰€æœ‰é›‡å‘˜çš„ä¿¡æ¯ï¼Œä½†è¦å»ºç«‹ç»ç†å’Œä¸‹å±ä¹‹é—´çš„å…³ç³» 123456class Employee &lt; ApplicationRecord has_many :subordinates, class_name: &quot;Employee&quot;, foreign_key: &quot;manager_id&quot; belongs_to :manager, class_name: &quot;Employee&quot;end åœ¨è¿ç§»ï¼ˆæ¨¡å¼ï¼‰ä¸­ï¼Œè¦æ·»åŠ ä¸€ä¸ªå¼•ç”¨å­—æ®µï¼ŒæŒ‡å‘æ¨¡å‹è‡ªèº«ï¼š â€‹123456789class CreateEmployees &lt; ActiveRecord::Migration[5.0] def change create_table :employees do |t| t.references :manager, index: true t.timestamps end endendâ€‹ 3 å°æŠ€å·§å’Œæ³¨æ„äº‹é¡¹ ä¸ºäº†åœ¨ Rails åº”ç”¨ä¸­æœ‰æ•ˆä½¿ç”¨ Active Record å…³è”ï¼Œè¦äº†è§£ä»¥ä¸‹å‡ ç‚¹ï¼š 12345æ§åˆ¶ç¼“å­˜é¿å…å‘½åå†²çªæ›´æ–°æ¨¡å¼æ§åˆ¶å…³è”çš„ä½œç”¨åŸŸåŒå‘å…³è” 3.1 æ§åˆ¶ç¼“å­˜ å…³è”æ·»åŠ çš„æ–¹æ³•éƒ½ä¼šä½¿ç”¨ç¼“å­˜ï¼Œè®°å½•æœ€è¿‘ä¸€æ¬¡æŸ¥è¯¢çš„ç»“æœï¼Œä»¥å¤‡åç”¨ã€‚ç¼“å­˜è¿˜ä¼šåœ¨æ–¹æ³•ä¹‹é—´å…±äº«ã€‚ 123author.books # ä»æ•°æ®åº“ä¸­æ£€ç´¢å›¾ä¹¦author.books.size # ä½¿ç”¨ç¼“å­˜çš„å›¾ä¹¦å‰¯æœ¬author.books.empty? # ä½¿ç”¨ç¼“å­˜çš„å›¾ä¹¦å‰¯æœ¬ åº”ç”¨çš„å…¶ä»–éƒ¨åˆ†å¯èƒ½ä¼šä¿®æ”¹æ•°æ®ï¼Œé‚£ä¹ˆåº”è¯¥æ€ä¹ˆé‡è½½ç¼“å­˜å‘¢ï¼Ÿåœ¨å…³è”ä¸Šè°ƒç”¨ reload å³å¯ï¼š 12345author.books # ä»æ•°æ®åº“ä¸­æ£€ç´¢å›¾ä¹¦author.books.size # ä½¿ç”¨ç¼“å­˜çš„å›¾ä¹¦å‰¯æœ¬author.books.reload.empty? # ä¸¢æ‰ç¼“å­˜çš„å›¾ä¹¦å‰¯æœ¬ # é‡æ–°ä»æ•°æ®åº“ä¸­æ£€ç´¢ 3.2 é¿å…å‘½åå†²çª å› ä¸ºåˆ›å»ºå…³è”æ—¶ï¼Œä¼šå‘æ¨¡å‹æ·»åŠ åŒåæ–¹æ³•ï¼Œæ‰€ä»¥å…³è”çš„åå­—ä¸èƒ½å’Œ ActiveRecord::Base ä¸­çš„å®ä¾‹æ–¹æ³•åŒåã€‚å¦‚æœåŒåï¼Œå…³è”æ–¹æ³•ä¼šè¦†ç›– ActiveRecord::Base ä¸­çš„å®ä¾‹æ–¹æ³•ï¼Œå¯¼è‡´é”™è¯¯ã€‚ 3.3 æ›´æ–°æ¨¡å¼ å¯¹ belongs_to å…³è”æ¥è¯´ï¼Œè¦åˆ›å»ºå¤–é”®ï¼›å¯¹ has_and_belongs_to_many å…³è”æ¥è¯´ï¼Œè¦åˆ›å»ºç›¸åº”çš„è”ç»“è¡¨ã€‚ 3.3.1 åˆ›å»º belongs_to å…³è”æ‰€éœ€çš„å¤–é”® ä¸ºäº†æå‡æŸ¥è¯¢æ€§èƒ½ï¼Œæœ€å¥½ä¸ºå¤–é”®æ·»åŠ ç´¢å¼•ï¼›ä¸ºäº†ä¿è¯å‚ç…§å®Œæ•´æ€§ï¼Œæœ€å¥½ä¸ºå¤–é”®æ·»åŠ çº¦æŸï¼š 12345678910111213class CreateBooks &lt; ActiveRecord::Migration[5.0] def change create_table :books do |t| t.datetime :published_at t.string :book_number t.integer :author_id end add_index :books, :author_id add_foreign_key :books, :authors endend 3.3.2 åˆ›å»º has_and_belongs_to_many å…³è”æ‰€éœ€çš„è”ç»“è¡¨ åˆ›å»º has_and_belongs_to_many å…³è”åï¼Œå¿…é¡»æ‰‹åŠ¨åˆ›å»ºè”ç»“è¡¨ã€‚é™¤éä½¿ç”¨ :join_table é€‰é¡¹æŒ‡å®šäº†è”ç»“è¡¨çš„åç§°ï¼Œå¦åˆ™ Active Record ä¼šæŒ‰ç…§ç±»åå‡ºç°åœ¨å­—å…¸ä¸­çš„é¡ºåºä¸ºè¡¨èµ·åã€‚å› æ­¤ï¼Œä½œè€…å’Œå›¾ä¹¦æ¨¡å‹ä½¿ç”¨çš„è”ç»“è¡¨é»˜è®¤åä¸ºâ€œauthors_booksâ€ï¼Œå› ä¸ºåœ¨å­—å…¸ä¸­ï¼Œâ€œaâ€åœ¨â€œbâ€å‰é¢ã€‚ æˆ‘ä»¬æŠŠ id: false é€‰é¡¹ä¼ ç»™ create_table æ–¹æ³•ï¼Œå› ä¸ºè¿™ä¸ªè¡¨ä¸å¯¹åº”æ¨¡å‹ã€‚åªæœ‰è¿™æ ·ï¼Œå…³è”æ‰èƒ½æ­£å¸¸å»ºç«‹ã€‚å¦‚æœåœ¨ä½¿ç”¨ has_and_belongs_to_many å…³è”æ—¶é‡åˆ°å¥‡æ€ªçš„è¡Œä¸ºï¼Œä¾‹å¦‚æç¤ºæ¨¡å‹ ID æŸåï¼Œæˆ– ID å†²çªï¼Œæœ‰å¯èƒ½å°±æ˜¯å› ä¸ºåˆ›å»ºäº†ä¸»é”®ã€‚ 1234567class Assembly &lt; ApplicationRecord has_and_belongs_to_many :partsend class Part &lt; ApplicationRecord has_and_belongs_to_many :assembliesend ä¸Šè¿°å…³è”éœ€è¦åœ¨è¿ç§»ä¸­åˆ›å»º assemblies_parts è¡¨ï¼Œè€Œä¸”è¯¥è¡¨æ— ä¸»é”®ï¼š 123456789101112class CreateAssembliesPartsJoinTable &lt; ActiveRecord::Migration[5.0] def change create_table :assemblies_parts, id: false do |t| t.integer :assembly_id t.integer :part_id end add_index :assemblies_parts, :assembly_id add_index :assemblies_parts, :part_id endend 3.4 æ§åˆ¶å…³è”çš„ä½œç”¨åŸŸ é»˜è®¤æƒ…å†µä¸‹ï¼Œå…³è”åªä¼šæŸ¥æ‰¾å½“å‰æ¨¡å—ä½œç”¨åŸŸä¸­çš„å¯¹è±¡ã€‚ ç¬¬ä¸€æ®µä»£ç èƒ½æ­£å¸¸è¿è¡Œï¼Œå› ä¸º Supplier å’Œ Account åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸä¸­ã€‚ 123456789101112module MyApplication module Business class Supplier &lt; ApplicationRecord has_one :account end class Account &lt; ApplicationRecord belongs_to :supplier end endend ä½†ç¬¬äºŒæ®µä»£ç å°±ä¸è¡Œäº†ï¼Œå› ä¸º Supplier å’Œ Account åœ¨ä¸åŒçš„ä½œç”¨åŸŸä¸­ã€‚ 1234567891011121314module MyApplication module Business class Supplier &lt; ApplicationRecord has_one :account end end module Billing class Account &lt; ApplicationRecord belongs_to :supplier end endend ç¬¬äºŒæ®µä»£ç æ”¹æˆç¬¬ä¸‰æ®µï¼Œå£°æ˜å…³è”æ—¶æŒ‡å®šå®Œæ•´çš„ç±»åå¯æ­£å¸¸å…³è”ã€‚ä½†å•°å—¦ä¸å¦‚ç”¨ç¬¬ä¸€æ®µã€‚ 12345678910111213141516module MyApplication module Business class Supplier &lt; ApplicationRecord has_one :account, class_name: &quot;MyApplication::Billing::Account&quot; end end module Billing class Account &lt; ApplicationRecord belongs_to :supplier, class_name: &quot;MyApplication::Business::Supplier&quot; end endend 3.5 åŒå‘å…³è” å³åœ¨ä¸¤ä¸ªæ¨¡å‹ä¸­éƒ½è¦å£°æ˜å…³è”ã€‚è¿™æ ·ä¸€æ¥ï¼ŒActive Record åªä¼šåŠ è½½ä¸€ä¸ª Author å¯¹è±¡å‰¯æœ¬ï¼Œä»è€Œç¡®ä¿åº”ç”¨è¿è¡Œæ•ˆç‡æ›´é«˜æ•ˆï¼Œå¹¶é¿å…æ•°æ®ä¸ä¸€è‡´ã€‚ å…·æœ‰ä¸‹è¿°é€‰é¡¹çš„å…³è”Active Recordæ— æ³•è‡ªåŠ¨è¯†åˆ«ï¼š 12345:conditions:through:polymorphic:class_name:foreign_key Active Record æä¾›äº† inverse_of é€‰é¡¹ï¼Œå¯ä»¥é€šè¿‡å®ƒæ˜ç¡®å£°æ˜åŒå‘å…³è”ï¼š 1234567class Author &lt; ApplicationRecord has_many :books, inverse_of: &apos;writer&apos;end class Book &lt; ApplicationRecord belongs_to :writer, class_name: &apos;Author&apos;, foreign_key: &apos;author_id&apos;end inverse_of æœ‰äº›é™åˆ¶ï¼š ä¸æ”¯æŒ :through å…³è”ï¼› ä¸æ”¯æŒ :polymorphic å…³è”ï¼› ä¸æ”¯æŒ :as é€‰é¡¹ï¼› 4 å…³è”è¯¦è§£4.1 belongs_to å…³è”è¯¦è§£ belongs_to å…³è”åˆ›å»ºä¸€ä¸ªæ¨¡å‹ä¸å¦ä¸€ä¸ªæ¨¡å‹ä¹‹é—´çš„ä¸€å¯¹ä¸€å…³ç³»ã€‚ç”¨æ•°æ®åº“æœ¯è¯­æ¥è¯´ï¼Œå°±æ˜¯è¿™ä¸ªç±»ä¸­åŒ…å«å¤–é”®ã€‚ 4.1.1 belongs_to å…³è”æ·»åŠ çš„æ–¹æ³• å£°æ˜ belongs_to å…³è”åï¼Œæ‰€åœ¨çš„ç±»è‡ªåŠ¨è·å¾—äº†äº”ä¸ªå’Œå…³è”ç›¸å…³çš„æ–¹æ³•ï¼š 12345associationassociation=(associate)build_association(attributes = &#123;&#125;)create_association(attributes = &#123;&#125;)create_association!(attributes = &#123;&#125;) å¯¹ä¸‹è¿°å£°æ˜æ¥è¯´ï¼š 123class Book &lt; ApplicationRecord belongs_to :authorend Book æ¨¡å‹çš„æ¯ä¸ªå®ä¾‹éƒ½è·å¾—äº†è¿™äº›æ–¹æ³•ï¼š 12345authorauthor=build_authorcreate_authorcreate_author! åœ¨ has_one å’Œ belongs_to å…³è”ä¸­ï¼Œå¿…é¡»ä½¿ç”¨ build_* æ–¹æ³•æ„å»ºå…³è”å¯¹è±¡ã€‚association.build æ–¹æ³•æ˜¯åœ¨ has_many å’Œ has_and_belongs_to_many å…³è”ä¸­ä½¿ç”¨çš„ã€‚åˆ›å»ºå…³è”å¯¹è±¡è¦ä½¿ç”¨ create_* æ–¹æ³•ã€‚ 4.1.1.1 association 1ã€@author= @book.authorï¼Œå¦‚æœæ‰¾ä¸åˆ°å…³è”çš„å¯¹è±¡ï¼Œè¿”å› nilã€‚ 2ã€å¦‚æœå…³è”çš„å¯¹è±¡ä¹‹å‰å·²ç»å–å›ï¼Œä¼šè¿”å›ç¼“å­˜ç‰ˆæœ¬ã€‚å¦‚æœä¸æƒ³ä½¿ç”¨ç¼“å­˜ç‰ˆæœ¬ï¼ˆå¼ºåˆ¶è¯»å–æ•°æ®åº“ï¼‰åœ¨çˆ¶å¯¹è±¡ä¸Šè°ƒç”¨ #reload æ–¹æ³•ã€‚ 4.1.1.2 association=(associate) è¿™ä¸ªæ–¹æ³•çš„åº•å±‚æ“ä½œæ˜¯ï¼Œä»å…³è”å¯¹è±¡ä¸Šè¯»å–ä¸»é”®ï¼Œç„¶åæŠŠå€¼èµ‹ç»™è¯¥ä¸»é”®å¯¹åº”çš„å¯¹è±¡@book.author = @author 4.1.1.3 build_association(attributes = {}) build_association æ–¹æ³•è¿”å›è¯¥å…³è”ç±»å‹çš„ä¸€ä¸ªæ–°å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡ä½¿ç”¨ä¼ å…¥çš„å±æ€§åˆå§‹åŒ–ï¼Œå¯¹è±¡çš„å¤–é”®ä¼šè‡ªåŠ¨è®¾ç½®ï¼Œä½†å…³è”å¯¹è±¡ä¸ä¼šå­˜å…¥æ•°æ®åº“ã€‚ 123&gt; @author = @book.build_author(author_number: 123,&gt; author_name: &quot;John Doe&quot;)&gt; 4.1.1.4 create_association(attributes = {}) create_association æ–¹æ³•è¿”å›è¯¥å…³è”ç±»å‹çš„ä¸€ä¸ªæ–°å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡ä½¿ç”¨ä¼ å…¥çš„å±æ€§åˆå§‹åŒ–ï¼Œå¯¹è±¡çš„å¤–é”®ä¼šè‡ªåŠ¨è®¾ç½®ï¼Œåªè¦èƒ½é€šè¿‡æ‰€æœ‰æ•°æ®éªŒè¯ï¼Œå°±ä¼šæŠŠå…³è”å¯¹è±¡å­˜å…¥æ•°æ®åº“ã€‚ 123&gt; @author = @book.create_author(author_number: 123,&gt; author_name: &quot;John Doe&quot;)&gt; 4.1.1.5 create_association!(attributes = {}) ä¸ create_association æ–¹æ³•ä½œç”¨ç›¸åŒï¼Œä½†æ˜¯å¦‚æœè®°å½•æ— æ•ˆï¼Œä¼šæŠ›å‡º ActiveRecord::RecordInvalid å¼‚å¸¸ã€‚ 4.1.2 belongs_to æ–¹æ³•çš„é€‰é¡¹ å®šåˆ¶çš„æ–¹æ³•å¾ˆç®€å•ï¼Œå£°æ˜å…³è”æ—¶ä¼ å…¥é€‰é¡¹æˆ–è€…ä½¿ç”¨ä»£ç å—å³å¯ã€‚belongs_to å…³è”æ”¯æŒä¸‹åˆ—é€‰é¡¹ï¼š 1234567891011:autosave:class_name:counter_cache:dependent:foreign_key:primary_key:inverse_of:polymorphic:touch:validate:optional 4.1.2.1 :autosave å¦‚æœæŠŠ :autosave é€‰é¡¹è®¾ä¸º trueï¼Œä¿å­˜çˆ¶å¯¹è±¡æ—¶ï¼Œä¼šè‡ªåŠ¨ä¿å­˜æ‰€æœ‰å­å¯¹è±¡ï¼Œå¹¶æŠŠæ ‡è®°ä¸ºææ„çš„å­å¯¹è±¡é”€æ¯ã€‚ 4.1.2.2 :class_name å¦‚æœå¦ä¸€ä¸ªæ¨¡å‹æ— æ³•ä»å…³è”çš„åç§°è·å–ï¼Œå¯ä»¥ä½¿ç”¨ :class_name é€‰é¡¹æŒ‡å®šæ¨¡å‹åã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€æœ¬ä¹¦å±äºä¸€ä½ä½œè€…ï¼Œä½†æ˜¯è¡¨ç¤ºä½œè€…çš„æ¨¡å‹æ˜¯ Patronï¼Œå°±å¯ä»¥è¿™æ ·å£°æ˜å…³è”ï¼š 12345&gt;&gt; class Book &lt; ApplicationRecord&gt; belongs_to :author, class_name: &quot;Patron&quot;&gt; end&gt; 4.1.2.3 :counter_cache å¦‚æœæƒ³çŸ¥é“ @author.books.size çš„ç»“æœï¼Œè¦åœ¨æ•°æ®åº“ä¸­æ‰§è¡Œ COUNT(*) æŸ¥è¯¢ã€‚å¦‚æœä¸æƒ³æ‰§è¡Œè¿™ä¸ªæŸ¥è¯¢ï¼Œå¯ä»¥åœ¨å£°æ˜ belongs_to å…³è”çš„æ¨¡å‹ä¸­åŠ å…¥è®¡æ•°ç¼“å­˜åŠŸèƒ½ï¼š 4.1.2.4 :dependent :dependent é€‰é¡¹æ§åˆ¶å±ä¸»é”€æ¯åæ€ä¹ˆå¤„ç†å…³è”çš„å¯¹è±¡ï¼š :destroyï¼šä¹Ÿé”€æ¯å…³è”çš„å¯¹è±¡ :delete_allï¼šç›´æ¥ä»æ•°æ®åº“ä¸­åˆ é™¤å…³è”çš„å¯¹è±¡ï¼ˆä¸æ‰§è¡Œå›è°ƒï¼‰ :nullifyï¼šæŠŠå¤–é”®è®¾ä¸º NULLï¼ˆä¸æ‰§è¡Œå›è°ƒï¼‰ :restrict_with_exceptionï¼šå¦‚æœæœ‰å…³è”çš„è®°å½•ï¼ŒæŠ›å‡ºå¼‚å¸¸ :restrict_with_errorï¼šå¦‚æœæœ‰å…³è”çš„å¯¹è±¡ï¼Œä¸ºå±ä¸»æ·»åŠ ä¸€ä¸ªé”™è¯¯ 4.1.2.5 :foreign_key Rails éƒ½ä¸ä¼šè‡ªåŠ¨åˆ›å»ºå¤–é”®å­—æ®µ xxx_idï¼Œä½ è¦è‡ªå·±åœ¨è¿ç§»ä¸­åˆ›å»ºã€‚ 4.1.2.6 :primary_key Rails å‡å®šä½¿ç”¨è¡¨ä¸­çš„ id åˆ—ä¿å­˜ä¸»é”®ã€‚ä½¿ç”¨ :primary_key é€‰é¡¹å¯ä»¥æŒ‡å®šä½¿ç”¨å…¶ä»–åˆ—ã€‚ 12345678&gt; class User &lt; ApplicationRecord&gt; self.primary_key = &apos;guid&apos; # ä¸»é”®æ˜¯ guidï¼Œä¸æ˜¯ id&gt; end&gt; &gt; class Todo &lt; ApplicationRecord&gt; belongs_to :user, primary_key: &apos;guid&apos;&gt; end&gt; &gt; æ‰§è¡Œ @user.todos.create æ—¶ï¼Œ@todo è®°å½•çš„ç”¨æˆ· ID æ˜¯ @user çš„ guid å€¼ã€‚ 4.1.2.7 :inverse_of :inverse_of é€‰é¡¹æŒ‡å®š belongs_to å…³è”å¦ä¸€ç«¯çš„ has_many å’Œ has_one å…³è”åã€‚ä¸èƒ½å’Œ :polymorphic é€‰é¡¹ä¸€èµ·ä½¿ç”¨ã€‚ 123456789&gt;&gt; class Author &lt; ApplicationRecord&gt; has_many :books, inverse_of: :author&gt; end&gt; &gt; class Book &lt; ApplicationRecord&gt; belongs_to :author, inverse_of: :books&gt; end&gt; 4.1.2.8 :polymorphic :polymorphic é€‰é¡¹ä¸º true æ—¶ï¼Œè¡¨æ˜è¿™æ˜¯ä¸ªå¤šæ€å…³è”ã€‚ 4.1.2.9 :touch å¦‚æœæŠŠ :touch é€‰é¡¹è®¾ä¸º trueï¼Œä¿å­˜æˆ–é”€æ¯å¯¹è±¡æ—¶ï¼Œå…³è”å¯¹è±¡çš„ updated_at æˆ– updated_on å­—æ®µä¼šè‡ªåŠ¨è®¾ä¸ºå½“å‰æ—¶é—´ã€‚è¿˜å¯æŒ‡å®šè¦æ›´æ–°å“ªä¸ªæ—¶é—´æˆ³å­—æ®µï¼š 12345&gt;&gt; class Book &lt; ApplicationRecord&gt; belongs_to :author, touch: :books_updated_at&gt; end&gt; 4.1.2.10 :validate å¦‚æœæŠŠ :validate é€‰é¡¹è®¾ä¸º trueï¼Œä¿å­˜å¯¹è±¡æ—¶ï¼Œä¼šåŒæ—¶éªŒè¯å…³è”çš„å¯¹è±¡ã€‚è¯¥é€‰é¡¹çš„é»˜è®¤å€¼æ˜¯ falseï¼Œä¿å­˜å¯¹è±¡æ—¶ä¸éªŒè¯å…³è”çš„å¯¹è±¡ 4.1.2.11 :optional å¦‚æœæŠŠ :optional é€‰é¡¹è®¾ä¸º trueï¼Œä¸ä¼šéªŒè¯å…³è”çš„å¯¹è±¡æ˜¯å¦å­˜åœ¨ã€‚è¯¥é€‰é¡¹çš„é»˜è®¤å€¼æ˜¯ falseã€‚ 4.1.3 belongs_to çš„ä½œç”¨åŸŸ åœ¨ä½œç”¨åŸŸä»£ç å—ä¸­å¯ä»¥ä½¿ç”¨ä»»ä½•ä¸€ä¸ªæ ‡å‡†çš„æŸ¥è¯¢æ–¹æ³•ã€‚ä¸‹é¢åˆ†åˆ«ä»‹ç»è¿™å‡ ä¸ªï¼š 1234whereincludesreadonlyselect 4.1.3.1 where where æ–¹æ³•æŒ‡å®šå…³è”å¯¹è±¡å¿…é¡»æ»¡è¶³çš„æ¡ä»¶ã€‚ 12345&gt;&gt; class book &lt; ApplicationRecord&gt; belongs_to :author, -&gt; &#123; where active: true &#125;&gt; end&gt; 4.1.3.2 includes includes æ–¹æ³•æŒ‡å®šä½¿ç”¨å…³è”æ—¶è¦åŠæ—©åŠ è½½çš„é—´æ¥å…³è”ã€‚ å¦‚æœç»å¸¸è¦ç›´æ¥ä»å•†å“ä¸Šè·å–ä½œè€…å¯¹è±¡ï¼ˆ@line_item.book.authorï¼‰ï¼Œå°±å¯ä»¥åœ¨å…³è”ä¸­æŠŠä½œè€…ä»å•†å“å¼•å…¥å›¾ä¹¦ä¸­ï¼š 1234567891011121314&gt;&gt; class LineItem &lt; ApplicationRecord&gt; belongs_to :book, -&gt; &#123; includes :author &#125;&gt; end&gt; &gt; class Book &lt; ApplicationRecord&gt; belongs_to :author&gt; has_many :line_items&gt; end&gt; &gt; class Author &lt; ApplicationRecord&gt; has_many :books&gt; end&gt; &gt; ç›´æ¥å…³è”æ²¡å¿…è¦ä½¿ç”¨ includesï¼Œå¸¸ç”¨äºå¤šå¯¹å¤šå…³è”ã€‚ 4.1.3.3 readonly å¦‚æœä½¿ç”¨ readonlyï¼Œé€šè¿‡å…³è”è·å–çš„å¯¹è±¡æ˜¯åªè¯»çš„ã€‚ 4.1.3.4 select 1ã€select æ–¹æ³•ç”¨äºè¦†ç›–æ£€ç´¢å…³è”å¯¹è±¡ä½¿ç”¨çš„ SQL SELECT å­å¥ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒRails æ£€ç´¢æ‰€æœ‰å­—æ®µã€‚ 2ã€å¦‚æœåœ¨ belongs_to å…³è”ä¸­ä½¿ç”¨ select æ–¹æ³•ï¼Œåº”è¯¥åŒæ—¶è®¾ç½® :foreign_key é€‰é¡¹ï¼Œç¡®ä¿è¿”å›çš„ç»“æœæ­£ç¡®ã€‚ 4.1.4 ä»€ä¹ˆæ—¶å€™ä¿å­˜å¯¹è±¡ æŠŠå¯¹è±¡èµ‹å€¼ç»™ belongs_to å…³è”ä¸ä¼šè‡ªåŠ¨ä¿å­˜å¯¹è±¡ï¼Œä¹Ÿä¸ä¼šä¿å­˜å…³è”çš„å¯¹è±¡ã€‚ 4.2 has_one å…³è”è¯¦è§£ has_one å…³è”å»ºç«‹ä¸¤ä¸ªæ¨¡å‹ä¹‹é—´çš„ä¸€å¯¹ä¸€å…³ç³»ã€‚ç”¨æ•°æ®åº“æœ¯è¯­æ¥è¯´ï¼Œè¿™ç§å…³è”çš„æ„æ€æ˜¯å¤–é”®åœ¨å¦ä¸€ä¸ªç±»ä¸­ã€‚å¦‚æœå¤–é”®åœ¨è¿™ä¸ªç±»ä¸­ï¼Œåº”è¯¥ä½¿ç”¨ belongs_to å…³è”ã€‚ 4.2.1 has_one å…³è”æ·»åŠ çš„æ–¹æ³• å£°æ˜ has_one å…³è”åï¼Œå£°æ˜æ‰€åœ¨çš„ç±»è‡ªåŠ¨è·å¾—äº†äº”ä¸ªå…³è”ç›¸å…³çš„æ–¹æ³•ï¼šâ€”â€”åŒ4.1çš„belongs_to 12345associationassociation=(associate)build_association(attributes = &#123;&#125;)create_association(attributes = &#123;&#125;)create_association!(attributes = &#123;&#125;) 123class Supplier &lt; ApplicationRecord has_one :accountend 12345accountaccount=build_accountcreate_accountcreate_account! 4.2.1.1 association4.2.1.2 association=(associate)4.2.1.3 build_association(attributes = {})4.2.1.5 create_association!(attributes = {})4.2.2 has_one æ–¹æ³•çš„é€‰é¡¹ æœ‰æ—¶è¿˜æ˜¯éœ€è¦å®šåˆ¶ has_one å…³è”çš„è¡Œä¸ºã€‚å®šåˆ¶çš„æ–¹æ³•å¾ˆç®€å•ï¼Œå£°æ˜å…³è”æ—¶ä¼ å…¥é€‰é¡¹å³å¯ã€‚ ä¾‹å¦‚ï¼Œä¸‹é¢çš„å…³è”ä½¿ç”¨äº†ä¸¤ä¸ªé€‰é¡¹ï¼š 1234class Supplier &lt; ApplicationRecord has_one :account, class_name: &quot;Billing&quot;, dependent: :nullifyend has_one å…³è”æ”¯æŒä¸‹åˆ—é€‰é¡¹ï¼š 1234567891011:as:autosave:class_name:dependent:foreign_key:inverse_of:primary_key:source:source_type:through:validate 4.2.2.1 :as :as é€‰é¡¹è¡¨æ˜è¿™æ˜¯å¤šæ€å…³è”ã€‚å‰æ–‡å·²ç»è¯¦ç»†ä»‹ç»è¿‡å¤šæ€å…³è”ã€‚ 4.2.2.2 :autosave å¦‚æœæŠŠ :autosave é€‰é¡¹è®¾ä¸º trueï¼Œä¿å­˜çˆ¶å¯¹è±¡æ—¶ï¼Œä¼šè‡ªåŠ¨ä¿å­˜æ‰€æœ‰å­å¯¹è±¡ï¼Œå¹¶æŠŠæ ‡è®°ä¸ºææ„çš„å­å¯¹è±¡é”€æ¯ã€‚ 4.2.2.3 :class_name å¦‚æœå¦ä¸€ä¸ªæ¨¡å‹æ— æ³•ä»å…³è”çš„åç§°è·å–ï¼Œå¯ä»¥ä½¿ç”¨ :class_name é€‰é¡¹æŒ‡å®šæ¨¡å‹åã€‚ä¾‹å¦‚ï¼Œä¾›åº”å•†æœ‰ä¸€ä¸ªè´¦æˆ·ï¼Œä½†è¡¨ç¤ºè´¦æˆ·çš„æ¨¡å‹æ˜¯ Billingï¼Œé‚£ä¹ˆå°±å¯ä»¥è¿™æ ·å£°æ˜å…³è”ï¼š 12345&gt;&gt; class Supplier &lt; ApplicationRecord&gt; has_one :account, class_name: &quot;Billing&quot;&gt; end&gt; 4.2.2.4 :dependent æ§åˆ¶å±ä¸»é”€æ¯åæ€ä¹ˆå¤„ç†å…³è”çš„å¯¹è±¡ï¼š 123456&gt; :destroyï¼šä¹Ÿé”€æ¯å…³è”çš„å¯¹è±¡ï¼›&gt; :deleteï¼šç›´æ¥æŠŠå…³è”çš„å¯¹è±¡ä»æ•°æ®åº“ä¸­åˆ é™¤ï¼ˆä¸æ‰§è¡Œå›è°ƒï¼‰ï¼›&gt; :nullifyï¼šæŠŠå¤–é”®è®¾ä¸º NULLï¼Œä¸æ‰§è¡Œå›è°ƒï¼›&gt; :restrict_with_exceptionï¼šæœ‰å…³è”çš„å¯¹è±¡æ—¶æŠ›å‡ºå¼‚å¸¸ï¼›&gt; :restrict_with_errorï¼šæœ‰å…³è”çš„å¯¹è±¡æ—¶ï¼Œå‘å±ä¸»æ·»åŠ ä¸€ä¸ªé”™è¯¯ï¼›&gt; 4.2.2.5 :foreign_key æŒ‰ç…§çº¦å®šï¼Œåœ¨å¦ä¸€ä¸ªæ¨¡å‹ä¸­ç”¨æ¥å­˜å‚¨å¤–é”®çš„å­—æ®µåæ˜¯æ¨¡å‹åååŠ  _idã€‚:foreign_key é€‰é¡¹ç”¨äºè®¾ç½®è¦ä½¿ç”¨çš„å¤–é”®åï¼š 12345&gt;&gt; class Supplier &lt; ApplicationRecord&gt; has_one :account, foreign_key: &quot;supp_id&quot;&gt; end&gt; 4.2.2.6 :inverse_of :inverse_of é€‰é¡¹æŒ‡å®š has_one å…³è”å¦ä¸€ç«¯çš„ belongs_to å…³è”åã€‚ä¸èƒ½å’Œ :through æˆ– :as é€‰é¡¹ä¸€èµ·ä½¿ç”¨ã€‚ 123456789&gt;&gt; class Supplier &lt; ApplicationRecord&gt; has_one :account, inverse_of: :supplier&gt; end&gt; &gt; class Account &lt; ApplicationRecord&gt; belongs_to :supplier, inverse_of: :account&gt; end&gt; 4.2.2.7 :primary_key æŒ‰ç…§çº¦å®šï¼Œç”¨æ¥å­˜å‚¨è¯¥æ¨¡å‹ä¸»é”®çš„å­—æ®µå idã€‚:primary_key é€‰é¡¹ç”¨äºè®¾ç½®è¦ä½¿ç”¨çš„ä¸»é”®åã€‚ 4.2.2.8 :source :source é€‰é¡¹æŒ‡å®š has_one :through å…³è”çš„æºå…³è”åç§°ã€‚ 4.2.2.9 :source_type :source_type é€‰é¡¹æŒ‡å®šé€šè¿‡å¤šæ€å…³è”å¤„ç† has_one :through å…³è”çš„æºå…³è”ç±»å‹ã€‚ 4.2.2.10 :through :through é€‰é¡¹æŒ‡å®šç”¨äºæ‰§è¡ŒæŸ¥è¯¢çš„è”ç»“æ¨¡å‹ã€‚å‰æ–‡è¯¦ç»†ä»‹ç»è¿‡ has_one :through å…³è”ã€‚ 4.2.2.11 :validate å¦‚æœæŠŠ :validate é€‰é¡¹è®¾ä¸º trueï¼Œä¿å­˜å¯¹è±¡æ—¶ï¼Œä¼šåŒæ—¶éªŒè¯å…³è”çš„å¯¹è±¡ã€‚è¯¥é€‰é¡¹çš„é»˜è®¤å€¼æ˜¯ falseï¼Œå³ä¿å­˜å¯¹è±¡æ—¶ä¸éªŒè¯å…³è”çš„å¯¹è±¡ã€‚ 4.2.3 has_one çš„ä½œç”¨åŸŸ åœ¨ä½œç”¨åŸŸä»£ç å—ä¸­å¯ä»¥ä½¿ç”¨ä»»ä½•ä¸€ä¸ªæ ‡å‡†çš„æŸ¥è¯¢æ–¹æ³•ã€‚ä¸‹é¢ä»‹ç»å…¶ä¸­å‡ ä¸ªï¼šâ€”â€”åŒ4.1çš„belongs_to 1234whereincludesreadonlyselect 4.2.3.1 where4.2.3.2 includes4.2.3.3 readonly4.2.3.4 select4.2.4 æ£€æŸ¥å…³è”çš„å¯¹è±¡æ˜¯å¦å­˜åœ¨ æ£€æŸ¥å…³è”çš„å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œå¯ä»¥ä½¿ç”¨ association.nil? æ–¹æ³•ï¼š 1234if @supplier.account.nil? @msg = &quot;No account found for this supplier&quot;end 4.2.5 ä»€ä¹ˆæ—¶å€™ä¿å­˜å¯¹è±¡ æŠŠå¯¹è±¡èµ‹å€¼ç»™ has_one å…³è”æ—¶ï¼Œé‚£ä¸ªå¯¹è±¡ä¼šè‡ªåŠ¨ä¿å­˜ï¼ˆå› ä¸ºè¦æ›´æ–°å¤–é”®ï¼‰ã€‚è€Œä¸”æ‰€æœ‰è¢«æ›¿æ¢çš„å¯¹è±¡ä¹Ÿä¼šè‡ªåŠ¨ä¿å­˜ï¼Œå› ä¸ºå¤–é”®ä¹Ÿå˜äº† å¦‚æœçˆ¶å¯¹è±¡ï¼ˆhas_one å…³è”å£°æ˜æ‰€åœ¨çš„æ¨¡å‹ï¼‰æ²¡ä¿å­˜ï¼ˆnew_record? æ–¹æ³•è¿”å› trueï¼‰ï¼Œé‚£ä¹ˆå­å¯¹è±¡ä¹Ÿä¸ä¼šä¿å­˜ã€‚åªæœ‰ä¿å­˜äº†çˆ¶å¯¹è±¡ï¼Œæ‰ä¼šä¿å­˜å­å¯¹è±¡ã€‚ 4.3 has_many å…³è”è¯¦è§£ has_many å…³è”å»ºç«‹ä¸¤ä¸ªæ¨¡å‹ä¹‹é—´çš„ä¸€å¯¹å¤šå…³ç³»ã€‚ç”¨æ•°æ®åº“æœ¯è¯­æ¥è¯´ï¼Œè¿™ç§å…³è”çš„æ„æ€æ˜¯å¤–é”®åœ¨å¦ä¸€ä¸ªç±»ä¸­ï¼ŒæŒ‡å‘è¿™ä¸ªç±»çš„å®ä¾‹ã€‚ 4.3.1 has_many å…³è”æ·»åŠ çš„æ–¹æ³• å£°æ˜ has_many å…³è”åï¼Œå£°æ˜æ‰€åœ¨çš„ç±»è‡ªåŠ¨è·å¾—äº† 16 ä¸ªå…³è”ç›¸å…³çš„æ–¹æ³•ï¼š 12345678910111213141516collectioncollection&lt;&lt;(object, &amp;#8230;&amp;#8203;)collection.delete(object, &amp;#8230;&amp;#8203;)collection.destroy(object, &amp;#8230;&amp;#8203;)collection=(objects)collection_singular_idscollection_singular_ids=(ids)collection.clearcollection.empty?collection.sizecollection.find(&amp;#8230;&amp;#8203;)collection.where(&amp;#8230;&amp;#8203;)collection.exists?(&amp;#8230;&amp;#8203;)collection.build(attributes = &#123;&#125;, &amp;#8230;&amp;#8203;)collection.create(attributes = &#123;&#125;)collection.create!(attributes = &#123;&#125;) è¿™äº›ä¸ªæ–¹æ³•ä¸­çš„ collection è¦æ›¿æ¢æˆä¼ ç»™ has_many æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚collection_singular è¦æ›¿æ¢æˆç¬¬ä¸€ä¸ªå‚æ•°çš„å•æ•°å½¢å¼ã€‚å¯¹å¦‚ä¸‹çš„å£°æ˜æ¥è¯´ï¼š 1234class Author &lt; ApplicationRecord has_many :booksend 123456789101112131415161718æ¯ä¸ª Author æ¨¡å‹å®ä¾‹éƒ½è·å¾—äº†è¿™äº›æ–¹æ³•ï¼šbooksbooks&lt;&lt;(object, ...)books.delete(object, ...)books.destroy(object, ...)books=(objects)book_idsbook_ids=(ids)books.clearbooks.empty?books.sizebooks.find(...)books.where(...)books.exists?(...)books.build(attributes = &#123;&#125;, ...)books.create(attributes = &#123;&#125;)books.create!(attributes = &#123;&#125;) 4.3.1.1 collection4.3.1.2 collection&lt;&lt;(object, &amp;#8230;&amp;#8203;)4.3.1.3 collection.delete(object, &amp;#8230;&amp;#8203;)4.3.1.4 collection.destroy(object, &amp;#8230;&amp;#8203;)4.3.1.5 collection=(objects)4.3.1.6 collection_singular_ids4.3.1.7 collection_singular_ids=(ids)4.3.1.8 collection.clear4.3.1.9 collection.empty?4.3.1.10 collection.size4.3.1.11 collection.find(&amp;#8230;&amp;#8203;)4.3.2 collection.where(&amp;#8230;&amp;#8203;)4.3.2.1 collection.exists?(&amp;#8230;&amp;#8203;)4.3.2.2 collection.build(attributes = {}, &amp;#8230;&amp;#8203;)4.3.2.3 collection.create(attributes = {})4.3.3 collection.create!(attributes = {})4.3.4 has_many æ–¹æ³•çš„é€‰é¡¹ æœ‰æ—¶è¿˜æ˜¯éœ€è¦å®šåˆ¶ has_many å…³è”çš„è¡Œä¸ºã€‚å®šåˆ¶çš„æ–¹æ³•å¾ˆç®€å•ï¼Œå£°æ˜å…³è”æ—¶ä¼ å…¥é€‰é¡¹å³å¯ã€‚ 123456789101112:as:autosave:class_name:counter_cache:dependent:foreign_key:inverse_of:primary_key:source:source_type:through:validate 4.3.4.1 :as4.3.4.2 :autosave4.3.4.3 :class_name4.3.4.4 :counter_cache4.3.4.5 :dependent4.3.4.6 :foreign_key4.3.4.7 :inverse_of4.3.4.8 :primary_key4.3.4.9 :source4.3.4.10 :source_type4.3.4.11 :through4.3.4.12 :validate4.3.5 has_many çš„ä½œç”¨åŸŸ åœ¨ä½œç”¨åŸŸä»£ç å—ä¸­å¯ä»¥ä½¿ç”¨ä»»ä½•ä¸€ä¸ªæ ‡å‡†çš„æŸ¥è¯¢æ–¹æ³•ã€‚ä¸‹é¢ä»‹ç»å…¶ä¸­å‡ ä¸ªï¼š 12345678910whereextendinggroupincludeslimitoffsetorderreadonlyselectdistinct 4.3.5.1 where4.3.5.2 extending4.3.5.3 group4.3.5.4 includes4.3.5.5 limit4.3.5.6 offset4.3.5.7 order4.3.5.8 readonly4.3.5.9 select4.3.5.10 distinct4.3.6 ä»€ä¹ˆæ—¶å€™ä¿å­˜å¯¹è±¡ æŠŠå¯¹è±¡èµ‹å€¼ç»™ has_many å…³è”æ—¶ï¼Œä¼šè‡ªåŠ¨ä¿å­˜å¯¹è±¡ï¼ˆå› ä¸ºè¦æ›´æ–°å¤–é”®ï¼‰ã€‚å¦‚æœä¸€æ¬¡èµ‹å€¼å¤šä¸ªå¯¹è±¡ï¼Œæ‰€æœ‰å¯¹è±¡éƒ½ä¼šè‡ªåŠ¨ä¿å­˜ã€‚ 4.4 has_and_belongs_to_many å…³è”è¯¦è§£ has_and_belongs_to_many å…³è”å»ºç«‹ä¸¤ä¸ªæ¨¡å‹ä¹‹é—´çš„å¤šå¯¹å¤šå…³ç³»ã€‚ç”¨æ•°æ®åº“æœ¯è¯­æ¥è¯´ï¼Œè¿™ç§å…³è”çš„æ„æ€æ˜¯æœ‰ä¸ªè”ç»“è¡¨åŒ…å«æŒ‡å‘è¿™ä¸¤ä¸ªç±»çš„å¤–é”®ã€‚ 4.4.1 has_and_belongs_to_many å…³è”æ·»åŠ çš„æ–¹æ³• å£°æ˜ has_and_belongs_to_many å…³è”åï¼Œå£°æ˜æ‰€åœ¨çš„ç±»è‡ªåŠ¨è·å¾—äº† 16 ä¸ªå…³è”ç›¸å…³çš„æ–¹æ³•ï¼š 12345678910111213141516collectioncollection&lt;&lt;(object, &amp;#8230;&amp;#8203;)collection.delete(object, &amp;#8230;&amp;#8203;)collection.destroy(object, &amp;#8230;&amp;#8203;)collection=(objects)collection_singular_idscollection_singular_ids=(ids)collection.clearcollection.empty?collection.sizecollection.find(&amp;#8230;&amp;#8203;)collection.where(&amp;#8230;&amp;#8203;)collection.exists?(&amp;#8230;&amp;#8203;)collection.build(attributes = &#123;&#125;)collection.create(attributes = &#123;&#125;)collection.create!(attributes = &#123;&#125;) 4.4.1.1 é¢å¤–çš„åˆ—æ–¹æ³• å¦‚æœåœ¨å¤šå¯¹å¤šå…³è”ä¸­éœ€è¦ä½¿ç”¨è¿™ä¹ˆå¤æ‚çš„æ•°æ®è¡¨ï¼Œåº”è¯¥ç”¨ has_many :through å…³è”ä»£æ›¿ has_and_belongs_to_many å…³è”ã€‚ 4.4.1.2 collection 4.4.1.3 collection&lt;&lt;(object, &amp;#8230;&amp;#8203;) 4.4.1.4 collection.delete(object, &amp;#8230;&amp;#8203;) 4.4.1.5 collection.destroy(object, &amp;#8230;&amp;#8203;) 4.4.1.6 collection=(objects) 4.4.1.7 collection_singular_ids 4.4.1.8 collection_singular_ids=(ids) 4.4.1.9 collection.clear 4.4.1.10 collection.empty? 4.4.1.11 collection.size 4.4.1.12 collection.find(&amp;#8230;&amp;#8203;) 4.4.1.13 collection.where(&amp;#8230;&amp;#8203;) 4.4.1.14 collection.exists?(&amp;#8230;&amp;#8203;) 4.4.1.15 collection.build(attributes = {}) 4.4.1.16 collection.create(attributes = {}) 4.4.1.17 collection.create!(attributes = {}) 4.4.2 has_and_belongs_to_many æ–¹æ³•çš„é€‰é¡¹ has_and_belongs_to_many å…³è”æ”¯æŒä»¥ä¸‹é€‰é¡¹ï¼š 123456:association_foreign_key:autosave:class_name:foreign_key:join_table:validate 4.4.2.1 :association_foreign_key 4.4.2.2 :autosave 4.4.2.3 :class_name 4.4.2.4 :foreign_key 4.4.2.5 :join_table 4.4.2.6 :validate 4.4.3 has_and_belongs_to_many çš„ä½œç”¨åŸŸ åœ¨ä½œç”¨åŸŸä»£ç å—ä¸­å¯ä»¥ä½¿ç”¨ä»»ä½•ä¸€ä¸ªæ ‡å‡†çš„æŸ¥è¯¢æ–¹æ³•ã€‚ 12345678910whereextendinggroupincludeslimitoffsetorderreadonlyselectdistinct 4.4.3.1 where 4.4.3.2 extending 4.4.3.3 group 4.4.3.4 includes 4.4.3.5 limit 4.4.3.6 offset 4.4.3.7 order 4.4.3.8 readonly 4.4.3.9 select 4.4.3.10 distinct 4.4.4 ä»€ä¹ˆæ—¶å€™ä¿å­˜å¯¹è±¡ æŠŠå¯¹è±¡èµ‹å€¼ç»™ has_and_belongs_to_many å…³è”æ—¶ï¼Œä¼šè‡ªåŠ¨ä¿å­˜å¯¹è±¡ï¼ˆå› ä¸ºè¦æ›´æ–°å¤–é”®ï¼‰ã€‚å¦‚æœä¸€æ¬¡èµ‹å€¼å¤šä¸ªå¯¹è±¡ï¼Œæ‰€æœ‰å¯¹è±¡éƒ½ä¼šè‡ªåŠ¨ä¿å­˜ã€‚ 4.5 å…³è”å›è°ƒ å…³è”å›è°ƒå’Œæ™®é€šå›è°ƒå·®ä¸å¤šï¼Œåªä¸è¿‡ç”±é›†åˆç”Ÿå‘½å‘¨æœŸä¸­çš„äº‹ä»¶è§¦å‘ã€‚å…³è”å›è°ƒæœ‰å››ç§ï¼š 1234before_addafter_addbefore_removeafter_remove å…³è”å›è°ƒåœ¨å£°æ˜å…³è”æ—¶å®šä¹‰ã€‚åŒä¸€äº‹ä»¶å¯ä»¥è§¦å‘å¤šä¸ªå›è°ƒï¼Œå¤šä¸ªå›è°ƒä½¿ç”¨æ•°ç»„æŒ‡å®šï¼š 12345678910111213class Author &lt; ApplicationRecord has_many :books, before_add: [:check_credit_limit, :calculate_shipping_charges] def check_credit_limit(book) ... end def calculate_shipping_charges(book) ... endend å¦‚æœ before_add å›è°ƒæŠ›å‡ºå¼‚å¸¸ï¼Œä¸ä¼šæŠŠå¯¹è±¡æ·»åŠ åˆ°é›†åˆä¸­ã€‚ç±»ä¼¼åœ°ï¼Œå¦‚æœ before_remove æŠ›å‡ºå¼‚å¸¸ï¼Œå¯¹è±¡ä¸ä¼šä»é›†åˆä¸­åˆ é™¤ã€‚ 4.6 å…³è”æ‰©å±• Rails åŸºäºå…³è”ä»£ç†å¯¹è±¡è‡ªåŠ¨åˆ›å»ºçš„åŠŸèƒ½æ˜¯æ­»çš„ï¼Œå¯ä»¥é€šè¿‡åŒ¿åæ¨¡å—ã€æ–°çš„æŸ¥æ‰¾æ–¹æ³•ã€åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•ç­‰è¿›è¡Œæ‰©å±•ã€‚ä¾‹å¦‚ï¼š 12345678class Author &lt; ApplicationRecord has_many :books do def find_by_book_prefix(book_number) find_by(category_id: book_number[0..2]) end endend å¦‚æœæ‰©å±•è¦åœ¨å¤šä¸ªå…³è”ä¸­ä½¿ç”¨ï¼Œå¯ä»¥å°†å…¶å†™å…¥å…·åæ‰©å±•æ¨¡å—ã€‚ä¾‹å¦‚ï¼š 1234567891011121314module FindRecentExtension def find_recent where(&quot;created_at &gt; ?&quot;, 5.days.ago) endend class Author &lt; ApplicationRecord has_many :books, -&gt; &#123; extending FindRecentExtension &#125;end class Supplier &lt; ApplicationRecord has_many :deliveries, -&gt; &#123; extending FindRecentExtension &#125;end åœ¨æ‰©å±•ä¸­å¯ä»¥ä½¿ç”¨å¦‚ä¸‹ proxy_association æ–¹æ³•çš„ä¸‰ä¸ªå±æ€§è·å–å…³è”ä»£ç†çš„å†…éƒ¨ä¿¡æ¯ï¼š 123proxy_association.ownerï¼šè¿”å›å…³è”æ‰€å±çš„å¯¹è±¡ï¼›proxy_association.reflectionï¼šè¿”å›æè¿°å…³è”çš„åå°„å¯¹è±¡ï¼›proxy_association.targetï¼šè¿”å› belongs_to æˆ– has_one å…³è”çš„å…³è”å¯¹è±¡ï¼Œæˆ–è€… has_many æˆ– has_and_belongs_to_many å…³è”çš„å…³è”å¯¹è±¡é›†åˆï¼› 5 å•è¡¨ç»§æ‰¿ æœ‰æ—¶å¯èƒ½æƒ³åœ¨ä¸åŒçš„æ¨¡å‹ä¸­å…±ç”¨ç›¸åŒçš„å­—æ®µå’Œè¡Œä¸ºã€‚ å‡å¦‚æœ‰ Carã€Motorcycle å’Œ Bicycle ä¸‰ä¸ªæ¨¡å‹ï¼Œæˆ‘ä»¬æƒ³åœ¨å®ƒä»¬ä¸­å…±ç”¨ color å’Œ price å­—æ®µï¼Œä½†æ˜¯å„è‡ªçš„å…·ä½“è¡Œä¸ºä¸åŒï¼Œè€Œä¸”ä½¿ç”¨ä¸åŒçš„æ§åˆ¶å™¨ã€‚ åœ¨ Rails ä¸­å®ç°è¿™ä¸€éœ€æ±‚éå¸¸ç®€å•ã€‚é¦–å…ˆï¼Œç”ŸæˆåŸºæ¨¡å‹ Vehicleï¼š 1$ rails generate model vehicle type:string color:string price:decimal&#123;10.2&#125; å¯¹è¿™ä¸ªä¾‹å­æ¥è¯´ï¼Œâ€œtypeâ€å­—æ®µçš„å€¼å¯èƒ½æ˜¯â€œCarâ€ã€â€œMotorcycleâ€æˆ–â€œBicycleâ€ã€‚å¦‚æœè¡¨ä¸­æ²¡æœ‰â€œtypeâ€å­—æ®µï¼Œå•è¡¨ç»§æ‰¿æ— æ³•å·¥ä½œã€‚ ç„¶åï¼Œç”Ÿæˆä¸‰ä¸ªæ¨¡å‹ï¼Œéƒ½ç»§æ‰¿è‡ª Vehicleã€‚ä¸ºæ­¤ï¼Œå¯ä»¥ä½¿ç”¨ parent=PARENT é€‰é¡¹ã€‚è¿™æ ·ï¼Œç”Ÿæˆçš„æ¨¡å‹ç»§æ‰¿æŒ‡å®šçš„çˆ¶æ¨¡å‹ï¼Œè€Œä¸”ä¸ç”Ÿæˆå¯¹åº”çš„è¿ç§»ï¼ˆå› ä¸ºè¡¨å·²ç»å­˜åœ¨ï¼‰ã€‚ä¾‹å¦‚ï¼Œç”Ÿæˆ Car æ¨¡å‹çš„å‘½ä»¤æ˜¯ï¼š 1$ rails generate model car --parent=Vehicle ç”Ÿæˆçš„æ¨¡å‹å¦‚ä¸‹ï¼š 12class Car &lt; Vehicleend è¿™æ„å‘³ç€ï¼Œæ·»åŠ åˆ° Vehicle ä¸­çš„æ‰€æœ‰è¡Œä¸ºåœ¨ Car ä¸­éƒ½å¯ç”¨ï¼Œä¾‹å¦‚å…³è”ã€å…¬å¼€æ–¹æ³•ï¼Œç­‰ç­‰ã€‚ åˆ›å»ºä¸€è¾†æ±½è½¦ï¼Œç›¸åº”çš„è®°å½•ä¿å­˜åœ¨ vehicles è¡¨ä¸­ï¼Œè€Œä¸” type å­—æ®µçš„å€¼æ˜¯â€œCarâ€ï¼šå¯¹åº”çš„ SQL å¦‚ä¸‹ï¼š 1Car.create(color: &apos;Red&apos;, price: 10000) 1INSERT INTO &quot;vehicles&quot; (&quot;type&quot;, &quot;color&quot;, &quot;price&quot;) VALUES (&apos;Car&apos;, &apos;Red&apos;, 10000) æŸ¥è¯¢æ±½è½¦è®°å½•æ—¶åªä¼šæœç´¢æ­¤ç±»è½¦è¾†ï¼šå¯¹åº”çš„ SQL å¦‚ä¸‹ï¼š 1Car.all 1SELECT &quot;vehicles&quot;.* FROM &quot;vehicles&quot; WHERE &quot;vehicles&quot;.&quot;type&quot; IN (&apos;Car&apos;)","categories":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}],"tags":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/tags/rorç³»ç»Ÿ/"}],"keywords":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}]},{"title":"ror-system-MVCè¯­æ³•ç¬”è®°","slug":"ror-system-MVCè¯­æ³•ç¬”è®°","date":"2017-12-13T16:10:00.000Z","updated":"2018-01-14T04:43:01.000Z","comments":true,"path":"posts/7d273add/","link":"","permalink":"http://yoursite.com/posts/7d273add/","excerpt":"","text":"ã€å°ç»“ã€‘å¢åŠ controllerï¼Œå°±è¦æƒ³è¦åŠ routesï¼Œç„¶ååœ¨viewsé‡Œæ·»åŠ è·¯å¾„ï¼Œç„¶ååœ¨controlleré‡ŒæŠŠåŠ¨ä½œè¡¥å…¨ã€‚ ã€å°ç»“ã€‘å¢åŠ æ ä½ï¼Œä¿®æ”¹viewså’Œcontrollerï¼Œç”šè‡³modelåï¼Œè¦è®°å¾—åŠ å…¥paramsä¸­ã€‚ ruby Where is the method â€˜selfâ€™ defined in my Rails app ç°åœ¨æ‰æ‡‚çš„MVCï¼š123456789def index @job = Job.find(params[:job_id]) @resumes = Resume.allend def index @job = Job.find(params[:job_id]) @resumes = @job.resumes.order(&quot;created_at DESC&quot;)end â‘ ã€controlleré‡Œçš„å³è¾¹å‚æ•°æ˜¯ç±»ï¼ˆå¤§å†™å¼€å¤´ï¼‰ï¼Œæ‰€ä»¥Resume.allå°±æ˜¯æå‡ºResumeè¿™ä¸ªç±»é‡Œæ‰€æœ‰çš„æ•°æ®ã€‚â‘¡ã€@resumesä¸ºä»€ä¹ˆè¦åŠ sï¼Œå°±æ˜¯å› ä¸ºå³è¾¹æå‡ºæ¥çš„æ•°æ®æ˜¯å¤æ•°çš„ã€‚ â‘¢ã€ç„¶åçœ‹åˆ°ç›¸åº”çš„indexçš„viewsï¼Œ&lt;% @resumes.each do |resume| %&gt;è¿™é‡Œçš„@resumeså°±æ˜¯ä¸Šé¢indexé‡Œçš„@resumes æ€ä¹ˆè§£è¯»è¿™äº›éœ€æ±‚ï¼Ÿè´­ç‰©è½¦ç»ƒä¹ ä½œä¸š 1ã€è¯·è®¾è®¡ä¸€ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥ä¸€é”®æ¸…ç©ºè´­ç‰©è½¦å†…æ‰€æœ‰çš„ç‰©å“ 2ã€æŸæ ·ä¸œè¥¿çªç„¶ä¸æƒ³ä¹°äº†ï¼Œæˆ‘å¯ä»¥åœ¨è´­ç‰©è½¦å†…åˆ é™¤å®ƒ 3ã€å·²ç»åŠ å…¥è´­ç‰©è½¦çš„ç‰©å“ï¼Œä¸èƒ½é‡å¤è¢«åŠ å…¥ 4ã€å¯ä»¥æ›´æ”¹è´­ç‰©è½¦å†…è´­ä¹°çš„æ•°é‡( åŸæœ¬é¢„è®¾æ•°é‡éƒ½æ˜¯1ï¼‰ 5ã€åº“å­˜ä¸º 0 çš„è´§å“ä¸èƒ½è´­ä¹° 6ã€åœ¨è´­ç‰©è½¦æ–°å¢æ•°é‡æ—¶ï¼Œä¸èƒ½æ›´æ–°è¶…è¿‡åŸæœ‰åº“å­˜çš„æ•°é‡ 1ã€æ¸…ç©ºæ‰€æœ‰ç‰©å“å³è¦æ¸…ç©ºæ ¼å­cart_itemï¼Œæ˜¯ä¸€ä¸ªåŠ¨ä½œï¼Œåœ¨cartçš„controlleré‡Œå®šä¹‰ä¸€ä¸ªæ–°çš„åŠ¨ä½œã€routesåŠ è·¯å¾„delete :cleanï¼Œå› ä¸ºæ¸…ç©ºæ˜¯é’ˆå¯¹å¤šä¸ªæ ¼å­æ‰€ä»¥ç”¨collectionã€‚2ã€åˆ é™¤ä¸€ä¸ªcart_itemï¼Œæ˜¯ä¸€ä¸ªåŠ¨ä½œï¼Œåˆ é™¤ä¸€ä»¶æ˜¯destroyçš„actionï¼Œæ‰€ä»¥æ·»åŠ cart_itemçš„controllerå’Œç›¸åº”çš„destroyçš„actionã€‚3ã€å•†å“å·²åŠ å…¥è´­ç‰©è½¦è¯´æ˜è½¦å­idå·²çŸ¥ã€‚ã€‚ã€‚åŠ å…¥äº§å“çš„å…³é”®ä»£ç æ˜¯add_products_to_cartã€‚ã€‚ã€‚ Include?æ˜¯ä»€ä¹ˆï¼Ÿ æ­£è§£ï¼šåœ¨current_cart.add_product_to_cart(@product)åŠ å…¥åˆ¤æ–­ï¼Œå½“å‰è½¦å­æ˜¯å¦åŒ…å«è¿™ä»¶å•†å“if !current_cart.products.include?(@product)ã€‚include?åœ¨dashä¸ŠæŸ¥åˆ°rubyå’Œrailséƒ½æœ‰è¿™æ ·çš„ç”¨æ³•ã€‚4ã€å•†å“æ•°é‡æ˜¯current_cart.current_item.product.countã€‚ã€‚ã€‚æ­£è§£ï¼šæ›´æ”¹æ•°é‡æ„å‘³ç€è¦editå’Œupdateæ•°é‡ï¼Œå•†å“æ•°é‡å‰è¾¹æœ‰å®šä¹‰cart_item.quantity5ã€æ¢ä¸ªè¯´æ³•æ˜¯å¦‚æœåº“å­˜ä¸º0åˆ™æç¤ºå•†å“æ— åº“å­˜ï¼Œæ˜¯ä¸€ä¸ªifåˆ¤æ–­ï¼Œå•†å“æ•°é‡æ˜¯cart_item.quantityï¼Œè¦æ”¹çš„ä½ç½®æœ‰product_controllerçš„add_to_cartè¡Œä¸ºã€‚6ã€æ›´æ–°ä¸ºcart_item_controllerçš„updateè¡Œä¸ºå¢åŠ ifæ¡ä»¶ã€‚ æ€ä¹ˆè§£è¯»è¿™äº›éœ€æ±‚ï¼Ÿè®¢å•çŠ¶æ€åˆ‡æ¢ 1ã€å»ºç«‹ admin/orders å¯ä»¥çœ‹åˆ°ç³»ç»Ÿå†…æ‰€æœ‰è®¢å• 2ã€admin çš„ order åˆ—è¡¨åº”è¦èƒ½æ˜¾ç¤ºè®¢å•çŠ¶æ€ 3ã€ä½¿ç”¨è€…å¯ä»¥â€œç”³è¯·å–æ¶ˆè®¢å•â€ 4ã€ä½¿ç”¨è€…â€œç”³è¯·å–æ¶ˆè®¢å•â€åï¼Œç®¡ç†å‘˜åº”è¯¥è¦æ”¶åˆ°â€œç”³è¯·é€šçŸ¥ä¿¡â€ 5ã€åå°ç®¡ç†å‘˜å¯ä»¥â€œå–æ¶ˆè®¢å•â€ã€â€œå‡ºè´§â€ 6ã€åå°ç®¡ç†â€œå‡ºè´§â€åï¼Œç³»ç»Ÿåº”è¯¥å¯„å‡ºé€šçŸ¥ä¿¡ 7ã€åå°ç®¡ç†å‘˜â€œå–æ¶ˆè®¢å•â€åï¼Œç³»ç»Ÿåº”è¯¥å¯„å‡ºé€šçŸ¥ä¿¡ å…¶ä»–123456gem &apos;letter_opener&apos;, group: :developmentAï¼šè¿™ä¸ªgemåªåœ¨developmentå¼€å‘ç¯å¢ƒä¸‹ä½¿ç”¨config/environments/development.rbconfig.action_mailer.default_url_options = &#123; host: &apos;localhost:3000&apos; &#125; #gemå®˜ç½‘æ²¡æœ‰ç»™è¿™æ¡ä»£ç ï¼Œæµ‹è¯•å‘ç°æ²¡æœ‰è¿™æ¡ä¹Ÿå¯ä»¥è¿è¡Œã€‚config.action_mailer.delivery_method = :letter_opener ç½‘å€https://fullstack.xinshengdaxue.com/posts/661#taskä¸­çš„#taskæ˜¯ä»€ä¹ˆï¼ŸAï¼š#åƒé”šç‚¹ä¸€æ ·ï¼Œä»£è¡¨ç½‘é¡µä¸­çš„ä¸€ä¸ªä½ç½®ï¼Œæµè§ˆå™¨è¯»å–urlåä¼šæ»šåŠ¨åˆ°taskæ‰€åœ¨ä½ç½®ã€‚ Modelè§‚å¯Ÿå‘ç°ï¼šmodelçš„ä¿¡æ¯æ˜¯å¯ä»¥åœ¨ä¸åŒåçš„controlleré‡Œè°ƒç”¨ã€‚ æŸ¥æ‰¾validatesç›¸å…³ç”¨æ³•ï¼šhttps://guides.ruby.tw/rails3/active_record_validations_callbacks.html æˆ–https://ruby-china.github.io/rails-guides/active_record_validations.html Active Record æ•°æ®éªŒè¯ 123&gt; validates_presence_of :name&gt; Aï¼švalidates_presence_of ç¡®å®šå±æ€§æ˜¯å­˜åœ¨çš„ï¼Œéç©ºéniléfalseã€‚&gt; &gt; 12rails g migration/modelï¼Œæ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡å»ºç«‹å°±è¦modelï¼ŸAï¼šæ˜¯ 123admin_jobçš„controlleré‡Œæ²¡æœ‰é‡æ–°å¢åŠ titleå’Œdescriptionæ ä½ï¼ˆå³rails g model title:string description:textï¼‰ï¼Œæ˜¯ä¸æ˜¯æ„å‘³ç€å¢åŠ çš„æ ä½æ¯ä¸ªcontrolleréƒ½å¯ä»¥è°ƒç”¨ï¼ŸAï¼šæ²¡é”™ï¼Œä¸ç®¡æ˜¯adminä¸‹é¢çš„jobs_controller è¿˜æ˜¯controllersç›®å½•ä¸‹é¢çš„ï¼Œæ‰“äº¤é“çš„æ•°æ®éƒ½æ˜¯åŒä¸€ä¸ªjob modelï¼Œå› ä¸ºæ™®é€šç”¨æˆ·å’Œç®¡ç†å‘˜éƒ½æ˜¯å¯¹åŒä¸€ä¸ªjobç›¸å…³çš„ä¿¡æ¯è¿›è¡Œæ“ä½œçš„ã€‚ 123rails g migrationçš„æ•°æ®ä¹Ÿå±äºjob modelå—ï¼Ÿæˆ–æ˜¯è¯´ï¼Œå¦‚æœæˆ‘æ‹¿æ–°å»ºçš„adminçš„controllerå»è°ƒç”¨6-3åˆ›å»ºçš„é‚£äº›æ ä½ï¼ˆwage_lower_bound/wage_upper_bound/contact_emailï¼‰ä¹Ÿæ˜¯å¯ä»¥çš„ï¼ŸAï¼šæ•´ç†è‡ªå·±çš„ç†è§£ï¼š&quot;çœ‹atomçš„æ¶æ„å›¾ï¼Œmodelé‡Œæ²¡æœ‰admin_job.rbï¼Œå› ä¸ºå‰åå°éƒ½æ˜¯ç”¨job.rbï¼Œè€Œå†™è¿›dbï¼šmigrateçš„æ•°æ®å› ä¸ºæ˜¯add_more_detail_to_jobï¼Œæ¶‰åŠåˆ°jobï¼Œæ‰€ä»¥modelè°ƒç”¨çš„æ—¶å€™æ˜¯åœ¨jobä¸­æ‰§è¡Œï¼Œæ‰€ä»¥dbé‡Œçš„æ•°æ®ç›¸å½“äºæ˜¯åœ¨model/jobé‡Œã€‚&quot;æ˜¯çš„ï¼Œä½ è¿™æ ·ç†è§£åŸºæœ¬æ˜¯å¯¹çš„ã€‚é‚£ä¸ªåé¢çš„to_jobï¼Œjobä»£è¡¨çš„å°±æ˜¯modelã€‚æ‰€è°“çš„rails çº¦å®šä¼˜äºé…ç½®ï¼Œto_jobå°±æ˜¯å…¶ä¸­çš„ä¸€ä¸ªä¾‹å­ã€‚ 12çŸ¥é“11-1ï¼Œmodelä¸­åªæœ‰userå’Œjobï¼Œä¸ç”¨å†™å…³ç³»ï¼Œä½†æ˜¯åŠ å…¥resumeå°±è¦å†™ï¼Œæ˜¯å› ä¸ºä¸¤ä¸ªå°±ä¸ç”¨å¤šä¸ªå°±è¦å—ï¼Ÿå¦‚æœresumeä¸å†™å…³ç³»ä¼šæ€æ ·ï¼ŸAï¼šä¼šæç¤ºå‡ºé”™ï¼Œè‡ªå·±è¯•è¯•ï¼Œä¸€èˆ¬modelä¸­çš„rbæ–‡ä»¶éƒ½æ˜¯è¦æ ¹æ®æ‰€éœ€åŠŸèƒ½è®¾ç½®å…³ç³»çš„ã€‚æ¯”å¦‚ï¼Œåšæ‹›è˜003çš„11-2QAï¼Œè¦å…ˆæ‰¾åˆ°jobï¼Œå†æ‰¾ç›¸å…³çš„resumeï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ç›¸å…³å…³ç³»job has_many :resumesï¼Œç³»ç»Ÿå°±ä¸çŸ¥é“è¦å»å“ªé‡Œæ‰¾resumeã€‚ 1234567- event :make_payment do+ event :make_payment, after_commit: :pay! do transitions from: :order_placed, to: :paid end 1ã€after_commitæ˜¯ä»€ä¹ˆï¼Ÿ Aï¼šrailså†…å»ºcallbackï¼Œafter_commitè¿™ä¸ªcallbackæ˜¯åœ¨è®°å½•è¢«åˆ›å»ºï¼Œæ›´æ–°æˆ–é”€æ¯åè°ƒç”¨çš„ã€‚ .xxxçš„ç”¨æ³•åœ¨modelï¼Œè·Ÿcontrollerä¸€æ ·æ˜¯æ‰§è¡ŒåŠ¨ä½œ123456789101112&gt; cart_items.destroy_all&gt; 1ã€destroy_allå’Œdelete_allçš„åŒºåˆ«ï¼Ÿ&gt; Aï¼šéƒ½ç”¨äºæ‰¹é‡åˆ é™¤è¡¨æ ¼æ•°æ®ã€‚&gt;&gt; delete_all æ˜¯ä¸€æ¡sqlè¯­å¥åˆ é™¤ï¼Œå®ƒä¼šç›´æ¥æ‰§è¡Œåˆ é™¤è€Œä¸æŸ¥è¯¢æ•°æ®ï¼Œä¼˜ç‚¹æ˜¯ç½‘ç»œå¼€é”€ç›¸å¯¹å°‘ï¼Œç¼ºç‚¹æ˜¯å¦‚æœåˆ é™¤å‡ºç°é—®é¢˜ï¼Œå›æ»šèµ·æ¥ä»£ä»·æ¯”è¾ƒå¤§ã€‚&gt;&gt; destroy_all åˆ™å…ˆæŸ¥å‡ºæ‰€æœ‰çš„æ•°æ®ï¼Œå†ä¸€æ¡ä¸€æ¡çš„æŒ‰ç…§ä¸»é”®åˆ é™¤ï¼Œä¼˜ç‚¹æ˜¯å®¹æ˜“è¿‡ç¨‹å‡ºç°é—®é¢˜å®¹æ˜“ç»ˆæ­¢ï¼Œç¼ºç‚¹æ˜¯ç½‘ç»œå¼€é”€æ¯”è¾ƒå¤§ã€‚&gt;&gt; åŒæ ·çš„æ•°æ®é‡ï¼Œdelete_all åˆ é™¤çš„é€Ÿåº¦æ›´å¿«ï¼Œå› æ­¤åœ¨ä»€ä¹ˆæƒ…å†µä¸‹é€‰ç”¨å“ªç§æ–¹æ³•ï¼Œä¸€æ˜¯å¯ä»¥æ ¹æ®å¯¹æ‰§è¡Œè¿‡ç¨‹çš„é€Ÿåº¦éœ€æ±‚å†³å®šï¼ŒäºŒæ˜¯æ ¹æ®å¯¹æ•°æ®å®‰å…¨çš„éœ€æ±‚å†³å®šã€‚&gt;&gt; ä»£ç è¿è¡Œè¿‡ç¨‹å‚è€ƒè¿™é‡Œhttp://blog.csdn.net/feigeswjtu/article/details/51581020&gt; &gt; 123&gt; current_cart.clean! &gt; Aï¼šæœ‰åŠ ï¼çš„è¦åœ¨modelè¿›ä¸€æ­¥å®šä¹‰&gt; &gt; Controllerè§‚å¯Ÿå‘ç°ï¼šxxx_paramsæ·»åŠ çš„æ ä½åªæ˜¯é‚£äº›åœ¨newã€updateæœ‰æ–°å¢ã€ä¿®æ”¹çš„æ ä½ï¼Œè€Œæ ä½çš„èµ‹å€¼ä¸ç”¨åŠ å…¥ï¼Œæ¯”å¦‚product_listä¸€èŠ‚åœ¨è®¢å•å»ºç«‹åå»ºç«‹è´­ä¹°æ˜ç»†ç¼“å­˜æ—¶ï¼Œè°ƒç”¨æ ä½æ²¡æœ‰åŠ å…¥paramsã€‚ è§‚å¯Ÿå‘ç°ï¼šå·¦è¾¹æœ‰å¸¦@æ˜¯controllerçš„å‚æ•°ï¼Œå³è¾¹ä¸å¸¦@çš„æ˜¯viewsé¡µé¢ä¼ æ¥çš„å‚æ•°ã€‚ è§‚å¯Ÿå‘ç°ï¼šcontrollerä¸­çš„actionéƒ½æ˜¯åœ¨åšåŒä¸€ä»¶äº‹æƒ…ï¼Œå°±æ˜¯find_and_doã€‚ è§‚å¯Ÿå‘ç°ï¼šè°ƒç”¨æ ä½æœ‰ä¸¤ç§æ–¹æ³•ï¼Œç¬¬ä¸€ç§æ˜¯@xxxs.each do |xxx|ï¼Œç„¶åxxx.titleï¼Œç¬¬äºŒç§æ˜¯@xxx.titleã€‚å½“æ ä½xxxæ˜¯ä¸€ä¸ªå¤æ•°æ—¶ç”¨ç¬¬ä¸€ç§ï¼Œå½“xxxæ˜¯å•æ•°æ—¶å› ä¸º@xxxå³è¡¨ç¤ºå•æ•°æ‰€ä»¥ç”¨ç¬¬äºŒç§ã€‚â€”â€”æ¯”å¦‚åœ¨å½“å‰è´­ç‰©è½¦ä¸­ï¼Œè´­ç‰©è½¦å°±æ˜¯å•æ•°ç”¨@cartè°ƒç”¨ï¼Œè´­ç‰©è½¦é‡Œçš„æ ¼å­å°±æ˜¯å¤æ•°ç”¨current_cart.cart_items.each do |cart_item|è°ƒç”¨ã€‚ è§‚å¯Ÿå‘ç°ï¼šRouting Errorçš„æŠ¥é”™ï¼Œå¯èƒ½æ˜¯rails sæ²¡æœ‰é‡å¯ã€æ²¡æœ‰æ–°å»ºcontrollerã€æ²¡æœ‰æ–°å»ºmodelã€æ²¡æœ‰è®¾ç½®routeså¯¼è‡´ã€è·¯å¾„å®šä¹‰äº†memberæˆ–collectionçš„åŠ¨ä½œä½†æ˜¯æ²¡æœ‰åœ¨viewsé‡Œå£°æ˜methodæ˜¯postè¿˜æ˜¯deleteã€‚ 123if !current_user.admin?åŒç†çš„è¿˜æœ‰Group.where(:is_hidden =&gt; true)Aï¼šâ‘ ã€controlleræ— è§†dbå€¼çš„å±æ€§ç›´æ¥å†³å®šæ¸¸æˆåŠ¨ä½œï¼Œï¼ä»£è¡¨&quot;ä¿®æ”¹ä¸ºä¸æ˜¯&quot;ç›´æ¥å†³å®šuserä¸æ˜¯adminï¼Œtrueå†³å®šè¿™ä¸ªgroupæ˜¯éšè—çš„ã€‚â‘¡ã€æ•°æ®åº“adminï¼Ÿé»˜è®¤booleanä¸ºfalseï¼Œè¿™æ ·æ–°å»ºçš„useré»˜è®¤ä¸æ˜¯adminã€‚dbé‡Œçš„å€¼æ˜¯ä¸€ç§å±æ€§ï¼Œå¯ä»¥åœ¨rails cé‡Œå¯ä»¥ä»»æ„æ”¹ï¼Œå½±å“æ–°å»ºæ—¶çš„é»˜è®¤å€¼ä½†æ˜¯ä¸åœ¨controllerä¸­èµ·ä½œç”¨ã€‚ åœ¨indexä¸­ï¼Œparamsé‡Œç”¨:orderæ˜¯å› ä¸ºlogæ—¥å¿—é‡Œæœ‰ç»™å‡ºå‚æ•°åœ°å€ï¼Œé‚£ä¹ˆcaseåˆæ˜¯ä»€ä¹ˆæ„æ€ï¼ŸA.å›ºå®šç”¨æ³•ï¼Œç±»ä¼¼ifã€‚ä¸åŒçš„æ˜¯ifé€‚ç”¨äºç½—åˆ—ä¸¤ç§æƒ…å†µï¼Œè€Œcaseç”¨æ¥ç½—åˆ—å¤šç§æƒ…å†µã€‚ Q.resume_controllerçš„ä»£ç è¦æ€ä¹ˆè§£è¯»ï¼Œè‡ªå·±å†™ä¸å‡ºæ¥ï¼ŸA.ç¬¬ä¸€æ®µï¼Œæ‰¾åˆ°è¦å»ºç«‹resumeçš„é‚£ä¸ªå…·ä½“çš„jobï¼ˆåœ°å€æ job/idï¼‰ï¼Œåœ¨è¿™ä¸ªjobé‡Œæ–°å»ºresumeé¡µé¢ã€‚ç¬¬äºŒæ®µï¼Œâ‘ å…ˆæ‰¾åˆ°å…·ä½“åœ¨å“ªä¸€ä¸ªjobä¸Š(å³åœ°å€æ é‡Œçš„job/id)ï¼›â‘¡é€šè¿‡ç­›é€‰çš„æ ä½content(åœ¨resume_paramsä¸­è¿‡æ»¤)æ‹‰åˆ°æ–°å»ºç«‹çš„resumeä¸Šï¼›â‘¢é€šè¿‡@resume.job = @jobæŠŠjobçš„åœ°å€ç»™åˆ°æ–°å»ºçš„resumeä¸Šï¼Œä½¿jobå’Œæ–°å»ºçš„resumeå…³è”èµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªå…·ä½“çš„æ–°resumeçš„è·¯å¾„ï¼›â‘£æŠŠå½“å‰ç”¨æˆ·è®¾ç½®æˆresumeç”¨æˆ·ï¼› 1234567891011121314151617&gt; def new&gt; @job = Job.find(params[:job_id])&gt; @resume = Resume.new&gt; end&gt; def create&gt; @job = Job.find(params[:job_id])&gt; @resume = Resume.new(resume_params) #æ–°å»ºresumeæ‰€ä»¥ç¡®å®šäº†resumeçš„id&gt; @resume.job = @job #@jobçš„å‚æ•°ä¼ ç»™æ–°å»ºresumeï¼Œå³ç¡®å®šjobçš„id&gt; @resume.user = current_user&gt; if @resume.save&gt; flash[:notice] = &quot;æˆåŠŸæäº¤å±¥å†&quot;&gt; redirect_to job_path(@job)&gt; else&gt; render :new&gt; end&gt; end&gt; 12CRUDä¸­Group.newå’ŒGroup.new(group_params)çš„åŒºåˆ«ï¼ŸAï¼šGroup.newæ²¡æœ‰æ•°æ®ä¼ é€ï¼Œè°ƒç”¨new.html.erbå³viewsçš„é¡µé¢ã€‚è€ŒGroup.new(group_params)å·²ç»è¿›å…¥newçš„é¡µé¢ï¼Œçœ‹é“¾æ¥å¯ä»¥å‘ç°è¿™é‡Œä¸æ¶‰åŠidï¼Œè€Œæ˜¯è¦å­˜å‚¨titleå’Œdescriptionçš„æ•°æ®ï¼Œè¿™ä¸¤ä¸ªæ ä½å®šä¹‰åœ¨group_paramsä¸­ï¼Œæ‰€ä»¥æ˜¯ç”¨group_paramsæ¥è°ƒç”¨ã€‚ 1234567891011121314151617&gt; 1ã€è´­ç‰©è½¦çš„é€»è¾‘ï¼Ÿ Aï¼šè§ä¸‹æ–¹ã€‚&gt; def add_to_cart&gt; @product = Product.find(params[:id])&gt; current_cart.add_product_to_cart(@product) #è´­ç‰©è½¦æ‰€æœ‰åŠ¨ä½œå›´ç»•è¿™å¥ä»£ç åœ¨åš&gt; redirect_to :back&gt; end&gt; &gt; Qï¼šredirect_to :backæ˜¯ä»€ä¹ˆï¼Ÿå¦‚æœæ¢æˆrender :backä¸ºä»€ä¹ˆä¸è¡Œï¼Ÿ&gt; Aï¼š&gt; &gt; 2ã€ä»€ä¹ˆæ—¶å€™è¦å»ºmodelï¼Œä»€ä¹ˆæ—¶å€™è¦å»ºcontrollerï¼Œæ¯”å¦‚åœ¨è´­ç‰©è½¦è¿™é‡Œrails g model cartã€rails g model cart_itemï¼Ÿ&gt; Aï¼šâ‘ ã€éœ€è¦æ–°å»ºè¡¨å•ã€å¡«è¡¨ã€ä½¿ç”¨æ ä½çš„æ—¶å€™ï¼Œç¬¬ä¸€æ¬¡è¦å»ºmodelï¼Œåç»­å¢åŠ æ ä½ç”¨rails g migration add_æ ä½_to_åˆšåˆšçš„modelã€‚&gt; â‘¡ã€é¡µé¢éœ€è¦æ‰§è¡ŒåŠ¨ä½œçš„æ—¶å€™ï¼Œæ¯”å¦‚æ–°å»ºè¡¨å•newã€ä¿å­˜è¡¨å•createã€æ˜¾ç¤ºå‡ºæ ä½index/showã€‚&gt; &gt; 3ã€ä¸Šè¿°å»ºç«‹çš„modelï¼Œä»€ä¹ˆæ—¶å€™è¦åŠ æ ä½ï¼Œè¦åŠ å¤šå°‘æ ä½ï¼Œæ¯”å¦‚cart_itemåŠ äº†cart_idã€product_idã€quantityæ ä½ï¼Ÿ&gt; Aï¼šå»ºç«‹modeléƒ½æ˜¯å› ä¸ºéœ€è¦å»ºç«‹æ•°æ®åº“è¡¨å•ï¼Œè¡¨å•ä¸€å®šæ˜¯æœ‰æƒ³è¦æ˜¾ç¤ºçš„æ ä½ï¼Œå¯ä»¥å…ˆåŠ æœ€å°å¿…è¦çš„æ ä½ï¼Œä¸»è¦åŠŸèƒ½æµ‹è¯•æˆåŠŸåå†æ·»åŠ å…¶ä»–æ¬¡è¦æ ä½ã€‚&gt; &gt; 12345678910&gt;app/models/cart.rb&gt; def add_product_to_cart(product) #å®šä¹‰å‡½æ•°add_product_to_cartï¼ˆå¼•å…¥viewçš„å‚æ•°product)&gt; ci = cart_items.build #æ–°å»ºæ ¼å­ï¼Œbuildä¸newåŒºåˆ«è§ä¸‹ä¸€æ¡&gt; ci.product = product #å¡«ä¸Šæ‰€æ·»åŠ å•†å“çš„idå· &gt; ci.quantity = 1 #å¡«ä¸Šå•†å“æ•°é‡ï¼Œé»˜è®¤åŠ 1&gt; ci.save&gt; end&gt; &gt; Aï¼šciä»…ä»…æ˜¯ä¸€ä¸ªå‚æ•°è€Œå·²ï¼Œæˆ‘ä»¬è¿™é‡Œéœ€è¦æ–°å»ºcart_item,å¹¶ä¸”å‘é‡Œé¢æ·»åŠ productå’Œquantity,ä¸ºä¾¿äºè¡¨ç¤ºæŠŠæ–°å»ºçš„cart_itemèµ‹å€¼ç»™ciã€‚å˜é‡åç§°åªæ˜¯ä¸ºäº†é˜…è¯»æ–¹ä¾¿ï¼Œå¯¹ä»£ç æ‰§è¡Œä¸€èˆ¬æ²¡ä»€ä¹ˆå½±å“ã€‚&gt; &gt; 1234567891011121314151617181920&gt; helper_method :current_cart&gt;&gt; def current_cart&gt; @current_cart ||= find_cart &gt; end&gt;&gt; private&gt;&gt; def find_cart&gt; cart = Cart.find_by(id: session[:cart_id])&gt; if cart.blank?&gt; cart = Cart.create&gt; end&gt; session[:cart_id] = cart.id&gt; return cart&gt; end&gt;end&gt;&gt;&gt; &gt; 1ã€helper_methodæ˜¯ä»€ä¹ˆï¼ŸAï¼šcurrent_cart å…¶å®åŸæœ¬æ˜¯ä¸€ä¸ª controller å†…çš„ methodï¼Œæˆ‘ä»¬ä¸ºäº†è¦åœ¨ view é‡Œé¢è¦å¯ä»¥å­˜å–å®ƒã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¾—åœ¨ applications_controller.rb å®£å‘Šä»–æ˜¯ helper_methodï¼Œæ‰èƒ½ç›´æ¥å­˜å–ã€‚ 2ã€||=æ˜¯ä»€ä¹ˆï¼ŸAï¼šæˆ–ç­‰äºï¼Œa ||= b æ›´åƒæ˜¯a || a = bï¼Œä¼˜å…ˆå–aï¼Œå¦‚æœaä¸ºnilæˆ–falseåˆ™å–bã€‚ 3ã€find_byä¸findçš„åŒºåˆ«ï¼Ÿhttp://jiujiubad-blog.logdown.com/posts/3179266Aï¼šå¦‚æœæŸ¥æ‰¾ä¸åˆ°å¸Œæœ›æ‰¾çš„å…ƒç´ ï¼Œfindä¼šæŠ¥ActiveRecordï¼šï¼šRecordNotFoundçš„é”™è¯¯ï¼Œè€Œfind_byä¸æŠ¥é”™ï¼Œè¿”å›nilã€‚çœ‹èµ·ä¾†æ˜¯findåªèƒ½æ‰¾idæˆ–å¤šä¸ªidå¦‚product = Product.find(1,2,3)ï¼Œfind_by å¯ä»¥æ‰¾ è£¡é¢æ‰€æœ‰çš„å…ƒç´  (title, description, quantity, price)å¦‚product = Product.find_by(title: &#39;å¿«ä¹&#39;)ã€‚rubyæœç´¢ruby week agoã€‚ 4ã€(id: session[:card_id])å‰é¢çš„id:æ˜¯ä»€ä¹ˆï¼Ÿsession[:card_id]æ˜¯ä»€ä¹ˆï¼ŸAï¼šå‰é¢çš„id:å°±æ˜¯å­—é¢ä¸Šçš„idï¼Œsession[:card_id]æ˜¯ç°åœ¨æ‹¿åˆ°çš„è´­ç‰©è½¦çš„idå·ç ã€‚ åœ¨æ¯ä¸ªäººè¿›åº—æ—¶ï¼Œéƒ½ä¼šæœ‰ä¸€å—ç”µå­æ„Ÿåº”å¡ï¼Œå«åš sessionï¼Œæ‰€ä»¥ä½ çš„ç”µå­æ„Ÿåº”å¡ä¸Šé¢è®°å½•äº†ä½ æ‹¿äº†å“ªå°è½¦ cart_idï¼Œæ¯ä¸ªäººã€Œç°åœ¨çš„è½¦ã€ current_cart å°±æ˜¯é€è¿‡è¿™æ ·çš„æ–¹å¼å»å­˜å–çš„ã€‚â€”â€”â€”â€”ä¸‡ä¸€ä½ çš„è½¦ä¸¢å¤±äº†æ²¡æœ‰å…³ç³»ã€‚if cart.blank? å‘ç°ä½ çš„è½¦ä¸è§äº†ï¼Œä¼šå†ç»™ä½ ä¸€å°è½¦ã€‚é‡æ–°ç™»è®°ä¸Šå»ã€‚ 5ã€Cart.createï¼Œè¿™é‡Œcreateä¸buildã€newã€saveæœ‰ä»€ä¹ˆåŒºåˆ«ï¼ŸAï¼šâ‘ ã€saveï¼šrailsä¸­çš„saveå…¶å¯¦æ˜¯create_or_updateï¼Œæ–°å»ºæˆ–ä¿®æ”¹è¨˜éŒ„ã€‚ â‘¡ã€new ï¼šåªæ˜¯åœ¨å…§å­˜ä¸­æ–°å»ºä¸€å€‹å°è±¡ï¼Œæ“ä½œæ•¸æ“šåº«è¦èª¿ç”¨saveæ–¹æ³•ã€‚buildå’ŒnewåŸºæœ¬ç›¸åŒï¼Œå¤šç”¨æ–¼ä¸€å°å¤šæƒ…æ³ã€‚ â‘¢ã€create = new + æ‰§è¡Œsqlï¼Œæœ‰è·Ÿparamsé‡Œé¢çš„æ ä½ä¿¡æ¯æ‰“äº¤é“ã€‚ 6ã€blank?æ˜¯ä»€ä¹ˆï¼Ÿâ€”â€”ç©ºçš„nilçš„falseçš„Aï¼šfalse is blankï¼›é˜µåˆ—[]ï¼›Hash{}ï¼›å­—ç¬¦ï¼ˆä¸²ï¼‰â€™â€™ã€â€™ â€˜ã€â€\\t\\n\\râ€ã€nilã€‚ä»¥ä¸Šè¿™äº›éƒ½æ˜¯blank?å¦‚ä¸Šï¼Œä¸€ä¸ªå¯¹è±¡å¦‚æœæ˜¯falseï¼Œç©ºçš„ï¼Œæˆ–è€…ä¸€ä¸ªç©ºç™½å­—ç¬¦ï¼ˆä¸²ï¼‰ï¼Œä¾‹å¦‚ï¼šfalse, â€˜â€™, â€˜ â€˜, æˆ–è€…nilï¼Œ[], {}, éƒ½æ˜¯blankï¼Œæ‰€ä»¥åœ¨ rails c ä¸­è¾“å…¥ï¼š 12345678910111213141516&gt;nil.blank? # =&gt; true&gt;false.blank? # =&gt; true&gt;true.blank? # =&gt; false&gt;[].blank? # =&gt; true&gt;[1,2,3].blank? # =&gt; false&gt;&#123;&#125;.blank? # =&gt; true&gt;&#123; key: &apos;value&apos; &#125;.blank? # =&gt; false&gt;&apos;&apos;.blank? # =&gt; true&gt;&apos; &apos;.blank? # =&gt; true&gt;&quot;\\t\\n\\r&quot;.blank? # =&gt; true&gt;&apos; blah &apos;.blank? # =&gt; false&gt;&quot;\\u00a0&quot;.blank? # =&gt; true&gt;1.blank? # =&gt; false&gt;0.blank? # =&gt; false&gt;Time.now.blank? # =&gt; false&gt; &gt; 7ã€present?æ˜¯ä»€ä¹ˆï¼Ÿâ€”â€”éç©ºéniléfalse 1234&gt;def present?&gt; !blank?&gt;end&gt; &gt; å•†å“ã€æ ¼å­ã€è½¦å­â€”â€”æ ¼å­çš„ä¿¡æ¯ï¼šå•†å“ä¿¡æ¯idã€è½¦å­ä¿¡æ¯idã€å•†å“æ•°é‡ è½¦æœ‰å¾ˆå¤šæ ¼å­ã€æœ‰å¾ˆå¤šå•†å“ å•†å“æœ‰å¾ˆå¤šæ ¼å­ï¼ˆä¸€ç§å•†å“å°±æœ‰ä¸€ä¸ªæ ¼å­ï¼‰ æ ¼å­å±äºå•†å“ã€æ ¼å­å±äºè½¦ 1234567891011&gt; def destroy&gt; @cart = current_cart #æ‹¿åˆ°cart_idï¼Œå› ä¸ºä¸€ä¸ªç”¨æˆ·ä¸€è¾†è½¦æ‰€æœ‰ä¸ç”¨find(params[:id])&gt; @cart_item = @cart.cart_items.find_by(product_id: params[:id]) #æ³¨æ„ï¼Œfind_byé‡Œçš„æ ä½å€¼å¿…é¡»æ˜¯å·²çŸ¥çš„ï¼Œæ‰€ä»¥åœ¨htmlæ–‡ä»¶é‡Œè¦ä¼ è¿›æ¥è¿™ä¸ªidçš„å…·ä½“å€¼æ‰€ä»¥è¦ä¼ çš„å‚æ•°æ˜¯(cart_item.product_id)ã€‚æ¯”å¦‚ä¼ è¿›æ¥çš„product_idå€¼æ˜¯3ï¼Œç³»ç»Ÿå°±ä¼šå¯¹åº”åˆ°3è¿™ä¸ªäº§å“çš„cart_itemã€‚&gt; @product = @cart_item.product #æ‹¿åˆ°product_idï¼Œä¸ºäº†åé¢flashå¯ä»¥å¼•ç”¨&gt; @cart_item.destroy #åˆ é™¤æ ¼å­&gt;&gt; flash[:warning] = &quot;æˆåŠŸå°† #&#123;@product.title&#125; ä»è´­ç‰©è½¦åˆ é™¤!&quot;&gt; redirect_to :back #æµ‹è¯•æ”¹æˆredirect_to carts_pathï¼Œæ•ˆæœä¸€æ ·&gt; end&gt;end&gt; &gt; 1ã€params[:id]æ˜¯ä»€ä¹ˆï¼Ÿ åœ¨Railsç•¶ä¸­ï¼Œhttp requestæœƒç¶“éActionControlleré€™å€‹å…§å»ºçš„æ©Ÿåˆ¶ä¾†æ¶ˆåŒ–ï¼Œä¸¦å°‡å¯ç”¨çš„è®Šæ•¸è½‰æ›ç‚ºparamsé€™å€‹è®Šæ•¸ï¼Œæˆ‘å€‘åœ¨controllerç•¶ä¸­æ’°å¯«params[:id]æ™‚ï¼Œæ‰€æŒ‡çš„å…¶å¯¦æ˜¯å¾å‰ç«¯å›å‚³çš„:idã€‚ 2ã€find_by(product_id: params[:id]) ä¸ºä»€ä¹ˆä¸æ˜¯find_by(params[:id])ï¼Œè¿™é‡Œparams[:id]ä¸æ˜¯cart_itemçš„idå—ï¼Ÿ Aï¼šæµ‹è¯•å‘ç°ï¼Œç”¨find_by(params[:id])åï¼Œç‚¹å‡»åˆ é™¤ç¬¬ä¸€ä»¶å•†å“ä¼šéšæœºåˆ é™¤å…¶ä»–å•†å“ï¼Œå³ç³»ç»Ÿä¸çŸ¥é“è¦å…·ä½“åˆ é™¤å“ªä¸€ä¸ªcart_itemã€‚â€”â€”åˆ†æï¼šå¦‚æœå†™find_by(params[:id])ï¼Œç¡®å®è¿™ä¸ªidæ˜¯cart_itemçš„idï¼Œä½†æ˜¯è¿™é‡Œçš„ç½‘å€æ˜¯http://localhost:3000/cartsï¼Œå¹¶ä¸çŸ¥é“params[:id]æ˜¯å¤šå°‘ï¼Œæ‰€ä»¥ç³»ç»Ÿä¼šéšæœºåˆ é™¤ä¸€ä¸ªcart_itemã€‚â€”â€”ç”±äºç½‘å€æ‰¾ä¸åˆ°idï¼Œæ‰€æœ‰è¦é€šè¿‡find_byï¼ˆfindåªèƒ½æ‰¾idè€Œfind_byå¯ä»¥ä»æ ä½æ‰¾ï¼‰ä»cart_itemçš„æ ä½ï¼ˆæˆ‘ä»¬å®šä¹‰äº†3ä¸ªæ ä½ï¼šproduct_idã€cart_idã€quantityï¼‰æ¥æ‰¾åˆ°cart_itemçš„idã€‚ 123456&gt;&lt;%= form_for cart_item, url: cart_item_path(cart_item.product_id) do |f| %&gt; è¿™æ˜¯ä»€ä¹ˆï¼Ÿï¼Ÿ&gt;- &lt;%= f.select :quantity, [1,2,3,4,5] %&gt;&gt;+ &lt;%= f.select :quantity, 1..cart_item.product.quantity %&gt;&gt; &lt;%= f.submit &quot;æ›´æ–°&quot;, data: &#123; disable_with: &quot;Submiting...&quot; &#125; %&gt;&gt;&lt;% end %&gt;&gt; &gt; ä¸ºä»€ä¹ˆç»“è´¦é¡µcheckoutæ˜¯åœ¨cart_controlleré‡Œç”¨Order.newï¼Œèƒ½ä¸èƒ½æ˜¯æ–°å»ºä¸€ä¸ªorderçš„controlleråšnewçš„actionï¼Ÿorderæ–°å»ºåæœ‰è®¢å•ç¼–å·ä¸ºä»€ä¹ˆä¸å‚¨å­˜è®¢å•ä¿¡æ¯ï¼ŒæŠŠå•†å“åç§°ã€ä»·æ ¼ã€æ•°é‡æ ä½åŠ ä¸Šå»ä¸è¡Œå—ï¼Ÿä¸ºä»€ä¹ˆè¿˜è¦æ–°å»ºä¸€ä¸ªproduct_listçš„modelï¼ŸAï¼šä¸€èˆ¬å¦‚æœè®¢å•å·²ç”Ÿæˆï¼Œé‚£ä¹ˆå•†å®¶ä¿®æ”¹å•†å“ä»·æ ¼ã€åº“å­˜ã€æè¿°ç­‰ï¼Œæ˜¯ä¸èƒ½æ”¹å˜å·²æ‹ä¸‹çš„è®¢å•ä¿¡æ¯çš„ã€‚æ‰€ä»¥å·²ç”Ÿæˆçš„è®¢å•é‡Œçš„å•†å“idç”¨product_listè®°å½•ï¼Œå•†å®¶å•†åŸé‡Œçš„å•†å“idè¿˜æ˜¯ç”¨productè®°å½•ã€‚ 1234567891011121314&gt; åœ¨è®¢å•å»ºç«‹åå»ºç«‹è´­ä¹°æ˜ç»†ç¼“å­˜ï¼š&gt; if @order.save&gt; current_cart.cart_items.each do |cart_item|&gt; product_list = ProductList.new &gt; product_list.order = @order &gt; product_list.product_name = cart_item.product.title&gt; product_list.product_price = cart_item.product.price&gt; product_list.quantity = cart_item.quantity&gt; product_list.save&gt; end&gt;&gt;1ã€ä¸ºä»€ä¹ˆä¸€å®šè¦å†™æˆProductList.new?&gt;Aï¼šæ³¨æ„è§‚å¯Ÿä¸€ä¸‹ï¼Œcontrollerä¸­å³è¾¹çš„è¡¨è¾¾å¼éƒ½æ˜¯å¤§å†™å¼€å¤´ï¼Œæ˜¯å› ä¸ºå³è¾¹ä»£è¡¨çš„æ˜¯ç±»ï¼Œæ‰€ä»¥product_listæŒ‰ç±»çš„å†™æ³•ï¼Œå°±è·Ÿmodelé‡Œç¬¬ä¸€è¡Œçš„å£°æ˜ä¸€æ ·ï¼Œå°±æ˜¯ProductListã€‚&gt; &gt; 12345678&gt; def show&gt; @order = Order.find(params[:id])&gt; @product_lists = @order.product_lists &gt; end&gt; &gt; Qï¼šproduct_listsä¸ºä»€ä¹ˆè¿™é‡Œè¦åŠ sï¼Ÿï¼Ÿï¼Ÿï¼Ÿ&gt; Aï¼šshowçš„é¡µé¢orderæ˜¯å”¯ä¸€çš„ç”¨å•æ•°ï¼Œè€Œorderé‡Œå¯èƒ½æœ‰ä¸€å¼ æˆ–å¤šå¼ è®¢å•ï¼Œè¦æŠŠä»–ä»¬å…¨éƒ¨showå‡ºæ¥å°±è¦åŠ sã€‚&gt; &gt; 12345678910111213141516171819&gt;before_create :generate_token &gt;def generate_token&gt; self.token = SecureRandom.uuid&gt;end&gt; &gt;def show&gt; @order = Order.find_by_token(params[:id])&gt; @product_lists = @order.product_lists&gt;nd&gt;&gt;1ã€before_createæ˜¯ä»€ä¹ˆï¼Ÿ&gt;Aï¼šbefore_create æ˜¯ Rails model å†…å»ºçš„ callbacksï¼Œç›®çš„æ˜¯è®©èµ„æ–™ç”Ÿæˆå‚¨å­˜å‰å…ˆæ‰§è¡ŒæŸæŸåŠ¨ä½œã€‚&gt;&gt;2ã€SecureRandom.uuidæ˜¯ä»€ä¹ˆï¼Ÿ&gt;Aï¼šSecureRandom.uuid æ˜¯ Ruby å†…å»ºçš„éšæœºç”Ÿæˆå™¨ã€‚&gt;&gt;3ã€find_by_tokenæ˜¯ä»€ä¹ˆï¼Ÿ&gt;Aï¼šæ‰¾åˆ°å…ƒç´ token&gt; &gt; 123456789&gt;def index&gt; @orders = current_user.orders&gt;end&gt;&gt;1ã€indexä¸­ï¼Œ@orders = current_user.ordersä¸@orders = Order.allçš„åŒºåˆ«ï¼Ÿ&gt;Aï¼šè®¢å•orderæ˜¯userçš„ï¼Œcurrent_useræ˜¯ä¸€ä¸ªuserï¼ŒOrder.allæ˜¯æŒ‡æ‰€æœ‰userçš„orderã€‚è§£è¯»æˆä¸€ä¸ªuserçš„æ‰€æœ‰è®¢å•ã€å’Œæ‰€æœ‰userçš„æ‰€æœ‰è®¢å•ã€‚&gt;&gt;&gt; &gt; 2ã€@orders =Order.order(â€œid DESCâ€)å’Œ@resumes = @job.resumes.order(â€˜created_at DESCâ€™)ï¼Œorderå‰çš„åè¯ä»€ä¹ˆæƒ…å†µåŠ sï¼Ÿï¼Ÿ Aï¼šOrderæ˜¯ç±»ï¼Œ@job.resumesæ˜¯å˜é‡çš„å¤æ•°å½¢å¼ã€‚ 3ã€Order.order(â€œid DESCâ€)æ˜¯ä»€ä¹ˆï¼Ÿ Aï¼šå†™æˆOrder.all.order(â€œid DESCâ€)ä¹Ÿå¾—å‡ºä¸€æ ·ç»“æœï¼Œå¯èƒ½æ˜¯ç¼©å†™ã€‚ 12345678&gt;def pay_with_alipay&gt; @order = Order.find_by_token(params[:id])&gt; @order.set_payment_with!(&quot;alipay&quot;)&gt; @order.pay!&gt;&gt; redirect_to order_path(@order.token), notice: &quot;ä½¿ç”¨æ”¯ä»˜å®æˆåŠŸå®Œæˆä»˜æ¬¾&quot;&gt; end&gt; &gt; 123456789&gt;app/models/order.rb&gt;def set_payment_with!(method)&gt; self.update_columns(payment_method: method )&gt;end&gt;&gt;def pay!&gt; self.update_columns(is_paid: true )&gt;end&gt; &gt; 1ã€self.update_columns(payment_method: method )æ˜¯ä»€ä¹ˆï¼ŸAï¼šdashä¸ŠæŸ¥åˆ°å®˜æ–¹æ–‡æ¡£å®šä¹‰ï¼š 1234&gt; def update_column(name, value)&gt; update_columns(name =&gt; value)&gt; end&gt; &gt; å…¶ä¸­ï¼Œpayment_method:ç›¸å½“äºæ˜¯ä¾‹å­ä¸­çš„æ ä½nameï¼Œéšåçš„methodç›¸å½“äºä¾‹å­ä¸­çš„valueå€¼ã€‚ å¦å¤–ä¸€ç§æ›´æ–°æ ä½å€¼çš„å†™æ³•æ˜¯ï¼š 1234&gt;def pay!&gt; self.is_paid = true&gt;end&gt; &gt;&gt;&gt; 2ã€selfæ˜¯ä»€ä¹ˆï¼Ÿ Aï¼šï¼ˆä¸çŸ¥é“ï¼‰åœ¨atomä¸­æ‰¾ä¸åˆ°ï¼Œdashä¸­railsçš„æ²¡æœ‰rubyçš„æœ‰ä½†å¥½åƒä¸ç›¸å…³ã€‚ 3ã€self.update_columns(is_paid: true )ï¼Œå¦‚æœåƒä¹‹å‰è®¾ç½®def admin? is_admin endé‚£æ ·å†™è¡Œä¸è¡Œï¼ŸAï¼š è§£é‡Š1ï¼šif !current_user.admin?è¿™é‡Œis_adminæ˜¯åˆ¤æ–­çŠ¶æ€æ˜¯ä¸æ˜¯adminï¼Œè€Œpayï¼çš„update_columnsæ˜¯æŠŠæ”¹å˜çŠ¶æ€ä¸ºå·²ä»˜æ¬¾ã€‚å¦‚æœæŠŠis_adminå†™æˆself.update_columns(is_admin: true)ï¼Œé‚£ä¹ˆæ‰€æœ‰ç‚¹å‡»åå°çš„è´¦å·éƒ½ä¼šæ”¹å˜æˆç®¡ç†å‘˜è´¦å·ã€‚ è§£é‡Š2ï¼šç”±ä¸‹é¢çš„åˆ†æï¼ŒçŒœæµ‹is_adminæ˜¯æœ‰role_modelåŠ¨æ€å®šä¹‰ï¼Œè€Œis_paidæ²¡æœ‰æ‰€ä»¥ä¸è¡Œï¼ˆå…·ä½“ç”¨ä»£ç æµ‹è¯•ï¼‰ã€‚ 123456789101112&gt;def define_dynamic_queries(roles)&gt; dynamic_module = Module.new do&gt; roles.each do |role|&gt; [&quot;#&#123;role&#125;?&quot;.to_sym, &quot;is_#&#123;role&#125;?&quot;.to_sym].each do |method|&gt; define_method(method) &#123; is? role &#125;&gt; end&gt; end&gt; end&gt; include dynamic_module&gt;end&gt;åŸæ¥ï¼Œrole_modelæ ¹æ®åˆ†é…çš„è§’è‰²åŠ¨æ€åœ°åˆ›å»ºæ–¹æ³• - æ‰€ä»¥è¿™å°±æ˜¯ä¸ºä»€ä¹ˆis_adminä¸åœ¨æºä»£ç ä¸­æ˜¾ç¤ºã€‚&gt; &gt;&gt;&gt; 123456789&gt;app/mailers/order_mailer.rb&gt;def notify_order_placed(order)&gt; @order = order&gt; @user = order.user&gt; @product_lists = @order.product_lists&gt;&gt; mail(to: @user.email , subject: &quot;[JDstore] æ„Ÿè°¢æ‚¨å®Œæˆæœ¬æ¬¡çš„ä¸‹å•ï¼Œä»¥ä¸‹æ˜¯æ‚¨è¿™æ¬¡è´­ç‰©æ˜ç»† #&#123;order.token&#125;&quot;)&gt; end&gt; &gt; 12&gt;OrderMailer.notify_ship(@order).deliver!&gt; &gt; 1234567891011121314151617181920212223242526272829303132&gt; include AASM #æœ‰é™çŠ¶æ€æœºçš„æ¶æ„&gt;&gt; aasm do&gt; state :order_placed, initial: true #å·²ä¸‹å•&gt; state :paid #å·²ä»˜æ¬¾&gt; state :shipping #å‡ºè´§ä¸­&gt; state :shipped #åˆ°è´§&gt; state :order_cancelled #å–æ¶ˆè®¢å•&gt; state :good_returned #é€€è´§&gt;&gt;&gt; event :make_payment do #ä»˜æ¬¾é˜¶æ®µ&gt; transitions from: :order_placed, to: :paid&gt; end&gt;&gt; event :ship do #é€è´§é˜¶æ®µ&gt; transitions from: :paid, to: :shipping&gt; end&gt;&gt; event :deliver do #æ”¶è´§é˜¶æ®µ&gt; transitions from: :shipping, to: :shipped&gt; end&gt;&gt; event :return_good do #é€€è´§é˜¶æ®µ&gt; transitions from: :shipped, to: :good_returned&gt; end&gt;&gt; event :cancel_order do #å–æ¶ˆè®¢å•é˜¶æ®µ(å·²ä¸‹å•ã€å·²ä»˜æ¬¾éƒ½å¯ä»¥å–æ¶ˆ)&gt; transitions from: [:order_placed, :paid], to: :order_cancelled&gt; end&gt; end&gt; &gt; 12345678910111213&gt; def pay_with_wechat&gt;- @order.pay!&gt;+ @order.make_payment!&gt; redirect_to order_path(@order.token), notice: &quot;ä½¿ç”¨å¾®ä¿¡æ”¯ä»˜æˆåŠŸå®Œæˆä»˜æ¬¾&quot;&gt; end&gt; &gt;app/models/order.rb&gt;event :make_payment, after_commit: :pay! do&gt; transitions from: :order_placed, to: :paid&gt;end&gt;&gt;Qï¼ševent :make_payment, after_commit: :pay! doæ˜¯ä»€ä¹ˆï¼Ÿ&gt; &gt; ç¬¬11ç« è¿˜æœ‰å¾ˆå¤šçœ‹ä¸æ˜ç™½çš„åœ°æ–¹ï¼ŒæŸ¥å®Œè¿™äº›å†è¿‡ä¸€éå¼‚åŠ¨çŠ¶æ€æ”¹å˜æ€è·¯ï¼šå…ˆåœ¨viewsé¡µé¢ç”¨caseâ€¦whenè¯­æ³•æ‘†å‡º6ä¸­çŠ¶æ€ï¼Œåˆ†åˆ«éœ€è¦ç®¡ç†å‘˜æ“ä½œçš„åŠ¨ä½œï¼šå–æ¶ˆè®¢å•ã€å–æ¶ˆè®¢å•/å‡ºè´§ã€è®¾ä¸ºå·²å‡ºè´§ã€é€€è´§ã€è®¢å•å·²å–æ¶ˆã€å·²é€€è´§ã€‚è®¢å•å·²å–æ¶ˆã€å·²é€€è´§å·²æ˜¯ä¸€ç§çŠ¶æ€ï¼Œä¸éœ€è¦è®¾ç½®åŠ¨ä½œï¼Œéœ€è¦è®¾ç½®çš„æœ‰å–æ¶ˆè®¢å•ã€å‡ºè´§ã€å·²å‡ºè´§ã€é€€è´§4ç§ã€‚â€”â€”è®¾ç½®è·¯å¾„ï¼Œè®¾ç½®controllerä¸­çš„actionå³find_and_doã€‚ 12&gt;&lt;%= render &quot;admin/orders/state_option&quot;, order: @order %&gt;ï¼Œorder: @orderæ˜¯ä»€ä¹ˆï¼Ÿ&gt; &gt; 123456789&gt;app/mailers/order_mailer.rb&gt; def apply_cancel(order)&gt; @order = order #ä¸æ˜¯åˆšéœ€ï¼Œåªå› ä¸ºä¸‹æ–‡è¦å¼•ç”¨order.token&gt; @user = order.user #ä¸æ˜¯åˆšéœ€ï¼Œåªå› ä¸ºä¸‹æ–‡å¼•ç”¨@user.email&gt; @product_lists = @order.product_lists #ä¸æ˜¯åˆšéœ€ï¼Œåªå› ä¸ºviewé‡Œè¦å¼•ç”¨è¿™ä¸ªmodelæ‰“å°æ ä½&gt;&gt; mail(to: @user.email , subject: &quot;[JDStore] ç”¨æˆ·#&#123;order.user.email&#125;ç”³è¯·å–æ¶ˆè®¢å• #&#123;order.token&#125;&quot;) #to:xxxæ˜¯ä¸€å®šè¦çš„ï¼Œtoåé¢çš„å†…å®¹å¯ä»¥éšä¾¿&gt; end&gt; &gt;&gt;&gt;&gt;&gt;&gt; .xxxçš„ç”¨æ³•åœ¨controller12&gt; if !current_cart.products.include?(@product)é‡Œçš„.include?&gt; &gt; 123456789&gt; if @cart_item.product.quantity &gt;= cart_item_params[:quantity].to_i&gt; @cart_item.update(cart_item_params)&gt; flash[:notice] = &quot;æˆåŠŸå˜æ›´æ•°é‡&quot;&gt; &gt; 1ã€cart_item_params[:quantity]æ˜¯ä»€ä¹ˆï¼Ÿ&gt;&gt; 2ã€.to_iæ˜¯ä»€ä¹ˆï¼Ÿ&gt; Aï¼šè½¬æ¢æˆintegeræ•´æ•°ã€‚&gt; &gt; 12&gt; self.update_columns(is_paid: true )ï¼Œå›ºå®šç”¨æ³•å‰é¢æœ‰è§£é‡Š&gt; &gt; 12&gt; OrderMailer.notify_ship(@order).deliver!&gt; &gt; .destroy_all .include? .present? .blank? .total_price OrderMailer.apply_cancel(@order).deliver! 1234567891011+ def create+ @order = Order.new(order_params)+ @order.user = current_user+ @order.total = current_cart.total_price+ if @order.save+ redirect_to order_path(@order)+ else+ render &apos;carts/checkout&apos;+ end+ end 1ã€render â€˜carts/checkoutâ€™ å’Œ render :new çš„åŒºåˆ«ï¼Ÿ Aï¼š 2ã€è¿™é‡Œçš„userå’Œtotalä¸¤ä¸ªæ ä½æ˜¯æ‹¿æ¥åšä»€ä¹ˆçš„ï¼Ÿ Routes1namespace :admin do resources member doï¼Œç”¨äºåŠ å…¥/é€€å‡ºç¾¤ç»„ã€æ˜¯å¦éšè—ã€åŠ å…¥è´­ç‰©è½¦ã€å¾®ä¿¡æ”¯ä»˜å®æ”¯ä»˜resources collection doï¼Œç”¨äºï¼Ÿä¸¤è€…çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ member do å’Œ collection do çš„åŒºåˆ«ï¼Ÿâ‘ ã€member doè‡ªå®šä¹‰å¯¹ç‰¹å®šå…ƒç´ çš„actionï¼Œæ¯”å¦‚@productã€‚ ç‰¹å®šå…ƒç´ çš„æ„æ€å°±æ˜¯ï¼šç”Ÿæˆçš„url helperï¼Œéœ€è¦å¸¦ï¼ˆ@pruductï¼‰å‚æ•°ï¼Œ@productæ˜¯ç‰¹å®šçš„å•ä¸€çš„å•†å“ã€‚ ä¾‹å¦‚ï¼Œç”¨äºåŠ å…¥/é€€å‡ºç¾¤ç»„ã€æ˜¯å¦éšè—ã€åŠ å…¥è´­ç‰©è½¦ã€å¾®ä¿¡æ”¯ä»˜å®æ”¯ä»˜ã€‚ â‘¡ã€collection doè‡ªå®šä¹‰å…ƒç´ é›†åˆçš„actionï¼Œæ¯”å¦‚productsã€‚ å…ƒç´ é›†åˆçš„æ„æ€å°±æ˜¯ï¼šç”Ÿæˆçš„url helperï¼Œä¸éœ€è¦å¸¦ï¼ˆ@cartï¼‰è¿™æ ·çš„å‚æ•°ï¼Œå®ƒæ˜¯å¯¹æ‰€æœ‰çš„cartsåšåŒä¸€æ“ä½œï¼Œè€Œä¸æ˜¯å¯¹å•ä¸€ä¸ªcartæ“ä½œã€‚ ä¾‹å¦‚ï¼Œç”¨äºæ¸…ç©ºè´­ç‰©è½¦ã€è´­ç‰©è½¦ç»“è´¦ã€‚ 1234567&gt; resources :carts do&gt; collection do&gt; delete :clean&gt; post :checkout&gt; end&gt; end&gt; &gt; 12345678&gt; resources :orders do&gt; member do&gt; post :pay_with_alipay&gt; post :pay_with_wechat&gt; post :apply_to_cancel&gt; end&gt; end&gt; &gt; 123456789&gt; resources :orders do&gt; member do&gt; post :cancel&gt; post :ship&gt; post :shipped&gt; post :return&gt; end&gt; end&gt; &gt; Viewsè§‚å¯Ÿå‘ç°ï¼šé™¤äº†indexï¼ŒåŸæ¥showçš„é¡µé¢ä¹Ÿæ˜¯å¯ä»¥è°ƒç”¨&lt;% @xxxs.each do |xxx| %&gt; viewsé‡Œä»€ä¹ˆæ—¶å€™ç”¨ï¼ˆ@groupï¼‰,ä»€ä¹ˆæ—¶å€™ç”¨(group)ï¼Ÿviewsé‡Œçš„è·¯å¾„ï¼Œæ‹¬å·é‡Œçš„å†…å®¹å¥½åƒå˜å¹»è«æµ‹ï¼Œæ¯”å¦‚product_path(cart_item.product)ã€‚Aï¼šâ‘ ã€é€šå¸¸è¦å¸¶ï¼ˆï¼‰çš„è©±ï¼Œå°±æ˜¯å› ä¸ºè¦çŸ¥é“æ˜¯å“ªä¸ªä¸œè¥¿è¦è¢«ç¼–è¾‘/æµè§ˆ/åˆ é™¤ï¼Œé‚£å°±ä¼šæ˜¯å•æ•°çš„æƒ…å†µï¼Œæ‰€ä»¥åé¢åŸºæœ¬ä¸Šå°±æ˜¯å¸¦ ID è€Œå·²ã€‚â‘¡ã€@ æ˜¯å¾ controller å‚³é€²ä¾†çš„ï¼Œä½ åªè¦è¨˜å¾—é€™å€‹å°±å¥½ï¼Œå¦‚æœè©² controller ä¸‹çš„ action æ²’æœ‰å…¶ä»–çš„ @ï¼Œview å°±å«ä¸å‡ºä¾†ã€‚æœ€ç°¡å–®çš„æ¸¬è©¦ï¼Œæ¯”æ–¹èªªcontroller è£¡é¢çš„ä¸€å€‹ game çš„ actionï¼Œé‚£æœƒè®Šæˆï¼š 1234&gt; def game&gt; @nic = &quot;handsome&quot; &gt; end&gt; &gt; é‚£ä½ å» game.html.erb è£¡é¢ï¼Œå¯«ä¸€è¡Œ &lt;%= @nic %&gt;ï¼Œå°±ä¼šçœ‹åˆ°ä»–æŠŠè®¯æ¯æŠ›å‡ºæ¥å˜æˆ handsomeï¼Œä½ åªè¦å†™ä¸¤è¡Œå°±å¯ä»¥æµ‹è¯•äº†ã€‚ â‘¢ã€æ³¨æ„è§‚å¯Ÿä¸€ä¸‹è¿™é‡Œæ˜¯ä¸æ˜¯åœ¨å›åœˆï¼ˆå¾ªç¯ï¼‰å†…ï¼Œå›åœˆé‡Œé¢ä¸€èˆ¬ä¸ç”¨åŠ @ï¼Œæœ‰ @ è¿™ä¸ªç¬¦å·éƒ½æ˜¯ controller ä¼ è¿›æ¥çš„ã€‚ä½ è¦çœ‹æ•´ä¸ªæ¡£æ¡ˆæ€ä¹ˆå†™ï¼Œä¸èƒ½åªçœ‹ä¸€å¥ï¼Œå¦‚æœä»–æ˜¯åŒ…åœ¨å›åœˆé‡Œï¼Œé‚£å°±æ˜¯å›åœˆç”Ÿå‡ºæ¥çš„ï¼Œå¦‚æœæ˜¯æœ‰@å°±æ˜¯controllerä¼ è¿›æ¥çš„ 12345&lt;%= link_to(content_tag(:i, &apos;ç™»å…¥&apos;, class: &apos;fa fa-sign-in&apos;), new_user_session_path) %&gt;&lt;i class=&quot;fa fa-home&quot; &gt;&lt;/i&gt;Aï¼šä»¥ä¸Šéƒ½æ˜¯è°ƒç”¨iconçš„æ–¹æ³•ï¼Œéœ€è¦å®‰è£…gem &apos;font-awesome-rails&apos;ã€‚å®˜ç½‘çš„å†™æ³•æ˜¯&lt;i class=&quot;fa fa-telegram&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;ï¼Œå¦‚æœè¦æ›´å¤§å¯ä»¥åŠ ä¸Šfa-lgã€fa-2xã€fa-3xç­‰ï¼Œæ³¨æ„è¿™ç§å†™æ³•é‡æ„åˆ°helperæ–‡ä»¶é‡Œä¼šæŠ¥é”™ã€‚ä¸‡é‡‘æ²¹çš„å†™æ³•æ˜¯content_tag(:i, &apos;ç™»å…¥&apos;, class: &apos;fa fa-sign-in&apos;)ï¼Œæ–‡å­—éƒ¨åˆ†å¦‚æœä¸è¾“å…¥ï¼Œå°±åªæ˜¾ç¤ºå›¾æ ‡ã€‚ 12showå’Œeditè¡¨å•&lt;%= simple_form_for [:admin, @product] do |f| %&gt;...&lt;%= f.input :title %&gt;...&lt;% end %&gt; 12345678910111213indexé¡µé¢&lt;tr&gt; &lt;th&gt;Name&lt;/th&gt; &lt;th width=&quot;100&quot;&gt; Options&lt;/th&gt;&lt;/tr&gt;&lt;tbody&gt;&lt;tr&gt; &lt;% @products.each do |product| %&gt; &lt;td&gt;&lt;%= product.title %&gt;&lt;/td&gt; &lt;td&gt;&lt;%= link_to(&quot;Edit&quot;, edit_admin_product_path(product)) %&gt;&lt;/td&gt; &lt;% end %&gt;&lt;/tr&gt;&lt;/tbody&gt; 123showé¡µé¢&lt;%= @product.title %&gt;&lt;%= @product.description %&gt; 12&lt;%= simple_form_for [@job, @resume] do |f| %&gt;ä¸­çš„[@job,@resume]æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ&lt;%= simple_form_for [:admin, @job] do |f| %&gt;å‘¢ï¼ŸAï¼šå…ˆå»æ‰¾åˆ°ä¸€ä¸ªjobï¼Œå†åœ¨jobé‡Œæ‰¾åˆ°resumeã€‚ 12åœ¨helperä¸­å®šä¹‰defæ˜¯å‰ç«¯ç”¨çš„ï¼Œåç«¯ç”¨çš„åœ¨modelä¸­å®šä¹‰ï¼ŸAï¼šModelæ˜¯ç”¨æ¥æ›´æ•°æ®åº“æ‰“äº¤é“çš„ï¼Œæ˜¯åœ¨Controllerä¸­è°ƒç”¨çš„ï¼ŒHelperæ˜¯Viewerä¸­æ‹¿æ¥ç”¨çš„ã€‚åˆæ­¥çœ‹èµ·æ¥ä½ è¿™ä¸ªæ€»ç»“æ˜¯å¯¹çš„ã€‚ 123viewsé‡Œæœ‰æ—¶ç”¨:method =&gt; :deleteï¼Œæœ‰æ—¶ç”¨method: :deleteï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯: xxx =&gt;å’Œï¼šçš„æ„æ€ä¸€æ ·(è‡³å°‘debugçš„æ—¶å€™è¿™äº›æ˜¯æˆå¯¹çš„)ï¼ŸAï¼šé‚£ä¸¤ç§æ–¹å¼æ„æ€ä¸€æ ·ï¼Œéƒ½å¯ä»¥ã€‚ 12ç®€å†æ•°é‡çš„è·¯å¾„admin_job_resumes_path(job)æ˜¯æ€ä¹ˆæ¥çš„ï¼ŸAï¼šå¾ˆç®€å•ï¼Œåˆ›å»ºrails g controller admin::jobï¼Œåˆ›å»ºårake routeså°±æœ‰äº†ã€‚ simple_formç”¨æ³•&lt;%= simple_form_for xx do |f| %&gt; &lt;%= f.select/input/submit :xx %&gt; 123456&lt;% current_cart.cart_items.each do |cart_item| %&gt; &lt;%= simple_form_for cart_item, url: cart_item_path(cart_item.product_id) do |f| %&gt; &lt;%= f.select :quantity, [1,2,3] %&gt; &lt;%= f.submit &quot;æ›´æ–°&quot;, data:&#123;disable_with:&quot;æ­£åœ¨æ›´æ–°..&quot;&#125; %&gt; &lt;% end %&gt;&lt;% end %&gt; 1ã€ä¸ºä»€ä¹ˆå†™æˆ&lt;%= simple_form_for cart_item do |f| %&gt;ä¼šæŠ¥é”™ï¼Ÿ 12345678910NoMethodError in CartItemsController#updateundefined method `update&apos; for nil:NilClassExtracted source (around line #6): @cart = current_cart @cart_item = @cart.cart_items.find_by(product_id: params[:id]) @cart_item.update(cart_item_params) redirect_to :back end Aï¼šåˆ†æ*æ¡ˆä¾‹åœ¨ä¿®æ”¹å‰æ˜¯ç”¨&lt;%= cart_item.quantity %&gt;ï¼Œæ‰€ä»¥è¿™é‡Œçš„fä»£è¡¨çš„åº”è¯¥æ˜¯cart_itemã€‚â€”â€”stackoverflowæŸ¥åˆ°åŠ å…¥çš„urlæ˜¯è¡¨å•æ•°æ®è¦æäº¤åˆ°çš„urlã€‚â€”â€”çŒœæµ‹ï¼šå› ä¸ºå½“å‰é¡µé¢http://localhost:3000/cartsï¼Œé‚£ä¹ˆè´­ç‰©è½¦æ˜¯ç¡®å®šçš„ï¼Œä½†æ˜¯cart_itemå¾ˆå¤šä¸ªï¼Œè€Œæˆ‘ä»¬è¦æ›´æ–°çš„æ•°æ®&lt;%= cart_item.quantity %&gt;ä¸çŸ¥é“product_idæ˜¯å¤šå°‘ï¼Œç³»ç»Ÿæ— æ³•å¾—çŸ¥è¦æ›´æ–°å“ªä¸€ä¸ªcart_itemï¼Œæ‰€ä»¥è¦æŒ‡å®šurlã€‚æ‰€ä»¥å¦‚æœç³»ç»Ÿèƒ½ç¡®å®šè¦æ›´æ–°çš„èµ„æ–™çš„idä½ç½®ï¼Œå°±ä¸ç”¨å»æŒ‡å®šurlã€‚ 2ã€è¿™é‡Œcart_itemçš„urlè¦ç”¨å“ªä¸ªURLå‘¢ï¼Ÿ Aï¼šæˆ‘è§‰å¾—åœ¨cart_itemçš„indexé¡µé¢ä¸èƒ½ç¡®å®šï¼Œè€Œshowé¡µé¢å¯ä»¥ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯ç”¨showçš„è·¯å¾„cart_item_path(å‚æ•°)ã€‚è¿™é‡Œçš„å‚æ•°æˆ‘ä¸€å¼€å§‹çŒœæµ‹æ˜¯cart_item_path(product_id: params[:id])ï¼Œä½†åœ¨showé¡µé¢ä»ç½‘å€å¯ä»¥çŸ¥é“cart_itemçš„idï¼Œäºæ˜¯æˆ‘å†™params[:id]ï¼Œä¸¤ç§éƒ½æŠ¥é”™ã€‚â€”â€”æ ¹æ®modelé‡Œè®¾ç½®çš„cartã€cart_itemã€productçš„å…³ç³»ï¼Œè¦è®²æ¸…æ¥šcart_itemæ˜¯ä»€ä¹ˆå°±è¦æ˜ç™½å®ƒè·Ÿcartå’Œproductåˆ†åˆ«æ˜¯ä»€ä¹ˆå…³ç³»ï¼Œå³é€šè¿‡cart_idå’Œproduct_idå°±èƒ½ç¡®å®šcart_itemã€‚æ‰€ä»¥è¿™é‡Œçš„å‚æ•°è¦å†™cart_item.product_idã€‚ 3ã€ä¸ºä»€ä¹ˆé—®é¢˜2çš„å‚æ•°ä¸èƒ½å†™params[:id]? Aï¼šçŒœæµ‹ï¼Œæ˜¯ä¸æ˜¯æœ‰å®šä¹‰product_idå’Œcart_idæ ä½ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨params[:id]ï¼Ÿæˆ–æ˜¯åœ¨ ç½‘å€ï¼šlocalhost:3000/carts/æ•°å­—a/cart_item/æ•°å­—bï¼Œå‚æ•°æ•°å­—aä¼ ç»™äº†cart_idï¼Œå‚æ•°æ•°å­—bä¼ ç»™äº†product_idï¼Œå› ä¸ºæœ‰è‡ªå®šä¹‰çš„æ ä½cart_idå’Œproduct_idï¼Œæ‰€ä»¥ä¸éœ€è¦railsè‡ªå¸¦çš„æ ä½params[:id]æ¥å­˜å‚¨å‚æ•°ï¼Ÿï¼Ÿ è·¯å¾„ç±»123&gt; &lt;%= form_for cart_item, url: cart_item_path(cart_item.product_id) do |f| %&gt;&gt; Aï¼šurlå¯¹åº”ä¸€ä¸ªç½‘å€ï¼›cart_item_pathå¯¹åº”çš„urlæ˜¯ï¼š/cart_items/:id(.:format)ï¼›cart_item.product_idå°±æ˜¯è¿™ä¸ªç‰¹å®šçš„cart_itemçš„product_idã€‚&gt; &gt; å›¾ç‰‡ç±»12345678910111213&gt; &lt;% if @product.image.present? %&gt;&gt; &lt;span&gt;ç›®å‰å•†å“å›¾&lt;/span&gt; &lt;br&gt;&gt; &lt;%= image_tag(@product.image.thumb.url) %&gt;&gt; &lt;% else %&gt;&gt; &lt;%= image_tag(&quot;http://placehold.it/200x200&amp;text=No Pic&quot;, class: &quot;thumbnail&quot;) %&gt;&gt; &lt;% end %&gt;&gt;&gt; 1ã€.thumb.urlæ˜¯ä»€ä¹ˆï¼Ÿ&gt; Aï¼š(å¯¹è§£ç­”è´¨ç–‘)gem &apos;carrierwave&apos;ä¸­æœ‰è®¾ç½®uploader.thumb.url # =&gt; &apos;/url/to/thumb_my_file.png&apos; # size: 200x200ï¼Œè¯´æ˜äº†.thumb.urlæ˜¯åœ¨uploaderä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œå…·ä½“ä½œç”¨å°±æ˜¯è§„å®šäº†å›¾ç‰‡å¤§å°ã€‚&gt; æˆ‘çš„ç†è§£ï¼šimage_tage()æ‹¬å·é‡Œæ˜¯æ”¾ä¸€ä¸ªç½‘å€ï¼Œ@product.image.thumb.urlæ˜¯æŒ‡@product.imageè¿™ä¸ªæ ä½åœ¨thumbè¿™ä¸ªclassæ ·å¼ä¸‹çš„åœ°å€urlã€‚&gt; 2ã€image_tagæ˜¯ä»€ä¹ˆï¼Ÿ&gt; Aï¼šæµ‹è¯•å‘ç°ï¼Œimage_tagä¸€å®šè¦åŒ…åœ¨&lt;% if.. %&gt;å’Œ&lt;% end %&gt;ä¹‹é—´ï¼Œæˆ–&lt;%= link_to xxx do %&gt;..&lt;% end %&gt;ï¼Œæ‰èƒ½ç”¨ç›¸å¯¹ç½‘å€ã€‚æˆ–æ˜¯åœ¨æ‹¬å·å†…å†™ä¸ŠåŒå¼•å·å’Œç»å¯¹ç½‘å€ï¼Œå¦‚&quot;https://ws1.sinaimg.cn/large/006tNc79gy1fl7g3xdhczj307w0503yj.jpg&quot;&gt; &gt; 1234567891011&gt; &lt;%= link_to product_path(cart_item.product) do %&gt;&gt; &lt;% if cart_item.product.image.present? %&gt;&gt; &lt;%= image_tag(cart_item.product.image.thumb.url, class: &quot;thumbnail&quot;) %&gt;&gt; &lt;% else %&gt;&gt; &lt;%= image_tag(&quot;http://placehold.it/200x200&amp;text=No Pic&quot;, class: &quot;thumbnail&quot;) %&gt;&gt; &lt;% end %&gt;&gt; &lt;% end %&gt;&gt; 1ã€link_to xxx do æ˜¯ä»€ä¹ˆï¼Ÿ&gt; Aï¼šæŠŠå›¾ç‰‡å°±å˜æˆé“¾æ¥ã€‚&gt; Aï¼š&gt; &gt; .xxxçš„ç”¨æ³•åœ¨viewsï¼Œå¸¸è¡¨ç¤ºä¸€ç§çŠ¶æ€è€Œcontrollerä¸­æ˜¯è¡¨ç¤ºä¸€ç§åŠ¨ä½œ12&gt; &lt;% if current_user.admin? %&gt;viewsé‡Œçš„.adminï¼Ÿæ˜¯è°ƒç”¨modelçš„å—ï¼Ÿ&gt; &gt; 12&gt; &lt;%= current_cart.products.count %&gt;æ‹¿åˆ°è´­ç‰©è½¦å†…çš„ç‰©å“æ•°é‡&gt; &gt; 12&gt; &lt;%= order.created_at.to_s(:long) %&gt;&gt; &gt; 12&gt; &lt;% if !@order.is_paid? %&gt;ï¼Œå…¶ä¸­is_paidæ˜¯dbçš„ä¸€ä¸ªæ ä½è®¾ç½®äº†booleanã€‚&gt; &gt; 12&gt; &lt;%= order.aasm_state %&gt;ï¼Œå…¶ä¸­aasm_stateæ˜¯dbçš„ä¸€ä¸ªæ ä½ã€‚&gt; &gt; 123456app/views/carts/index.html.erb &lt;% current_cart.cart_items.each do |cart_item| %&gt; #å·²åœ¨modelä¸­å®šä¹‰helper_method &lt;%= cart_item.product.title %&gt; &lt;%= cart_item.product.price %&gt; &lt;%= cart_item.quantity %&gt; &lt;% end %&gt; 1&lt;% if cart_item.product.price.present? %&gt;ï¼Œå…¶ä¸­presentï¼Ÿæ˜¯ä»€ä¹ˆï¼Ÿ 123æ•°é‡é€‰æ‹©å™¨quantityçš„ç”¨æ³•ï¼š&lt;%= f.select :quantity, [1,2,3,4,5] %&gt;&lt;%= f.select :quantity, 1..cart_item.product.quantity %&gt; 12345678910111213141516171819202122232425262728293031&lt;% case order.aasm_state %&gt;&lt;% when &quot;order_placed&quot; %&gt; &lt;%= link_to(&quot;å–æ¶ˆè®¢å•&quot;, cancel_admin_order_path(order), class: &quot;btn btn-default btn-sm&quot;, method: :post) %&gt;&lt;% when &quot;paid&quot; %&gt; &lt;%= link_to(&quot;å–æ¶ˆè®¢å•&quot;, cancel_admin_order_path(order), class: &quot;btn btn-default btn-sm&quot;, method: :post) %&gt; &lt;%= link_to(&quot;å‡ºè´§&quot;, ship_admin_order_path(order), class: &quot;btn btn-default btn-sm&quot;, method: :post) %&gt;&lt;% when &quot;shipping&quot; %&gt; &lt;%= link_to(&quot;è®¾ä¸ºå·²å‡ºè´§&quot;, shipped_admin_order_path(order), class: &quot;btn btn-default btn-sm&quot;, method: :post) %&gt;&lt;% when &quot;shipped&quot; %&gt; &lt;%= link_to(&quot;é€€è´§&quot;, return_admin_order_path(order), class: &quot;btn btn-default btn-sm&quot;, method: :post) %&gt;&lt;% when &quot;order_cancelled&quot; %&gt; &lt;span class=&quot;label label-default&quot;&gt;è®¢å•å·²å–æ¶ˆ&lt;/span&gt;&lt;% when &quot;good_returned&quot; %&gt; &lt;span class=&quot;label label-default&quot;&gt;å·²é€€è´§&lt;/span&gt;&lt;% end %&gt; Qï¼šå·²ä¸‹è®¢å•é€šçŸ¥ä¿¡ï¼Œä¸ºä»€ä¹ˆæ˜¯ç”¨order_url(@order.token)ï¼Œè€Œä¸èƒ½ç”¨order_path(@order.token)ï¼Ÿ &lt;%= link_to(&quot;è®¢å•è¿ç»“&quot;, order_url(@order.token)) %&gt; Aï¼šå› ä¸ºå‘é€é‚®ä»¶è¦ç”¨ç»å¯¹è·¯å¾„ï¼Œå¦åˆ™æ”¶ä»¶äººæ‰“ä¸å¼€é‚®ä»¶ã€‚","categories":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}],"tags":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/tags/rorç³»ç»Ÿ/"}],"keywords":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}]},{"title":"ror-system-ç¼–ç¨‹åŸºç¡€ç»ƒä¹ æœ¬-ç­”æ¡ˆ","slug":"ror-system-ç¼–ç¨‹åŸºç¡€ç»ƒä¹ æœ¬-ç­”æ¡ˆ","date":"2017-12-13T06:10:00.000Z","updated":"2018-01-14T04:43:01.000Z","comments":true,"path":"posts/3ee41ba2/","link":"","permalink":"http://yoursite.com/posts/3ee41ba2/","excerpt":"","text":"01 12345678# é¢˜ç›®: è¾“å…¥åå­—ï¼Œè¾“å‡º &quot;Hello, åå­—&quot;print &quot;è¯·è¾“å…¥ä½ çš„åå­—ï¼Œç„¶åæŒ‰ Enter: &quot;your_name = gets# ...puts &quot;Hello, #&#123;your_name&#125;&quot; 02 1234567891011121314# é¢˜ç›®: äº¤æ¢ a, b å˜æ•°çš„å€¼a = 100b = 2puts &quot;a æ˜¯ #&#123;a&#125;&quot;puts &quot;b æ˜¯ #&#123;b&#125;&quot;c = aa = bb = cputs &quot;a åº”è¯¥æ˜¯ 2ï¼Œç°åœ¨æ˜¯ #&#123;a&#125;&quot;puts &quot;b åº”è¯¥æ˜¯ 1ï¼Œç°åœ¨æ˜¯ #&#123;b&#125;&quot; 03 1234567891011# é¢˜ç›®: ä½¿ç”¨è€…è¾“å…¥ç›´è§’ä¸‰è§’å½¢çš„å®½å’Œé«˜ï¼Œè¾“å‡ºä¸‰è§’å½¢çš„é¢ç§¯print &quot;è¯·è¾“å…¥ç›´è§’ä¸‰è§’å½¢çš„é«˜ï¼Œç„¶åæŒ‰ Enter: &quot;a = getsprint &quot;è¯·è¾“å…¥ç›´è§’ä¸‰è§’å½¢çš„åº•è¾¹ï¼Œç„¶åæŒ‰ Enter: &quot;b = getsc = a.to_f * b.to_f / 2puts &quot;ç›´è§’ä¸‰è§’å½¢çš„é¢ç§¯æ˜¯: #&#123;c&#125;&quot; 04 12345678910111213# é¢˜ç›®: è¾“å…¥æœ‰å¤šå°‘ç‰‡æ¯”è¨é¥¼å’Œå¤šå°‘äººï¼Œè¾“å‡ºæ¯äººå¯ä»¥åˆ†åˆ°å‡ ç‰‡ï¼Œä»¥åŠå‰©ä¸‹å‡ ç‰‡print &quot;è¯·è¾“å…¥æœ‰å¤šå°‘ç‰‡æ¯”è¨é¥¼ï¼Œç„¶åæŒ‰ Enter: &quot;pizzas = getsprint &quot;è¯·è¾“å…¥æœ‰å¤šå°‘äººè¦åƒï¼Œç„¶åæŒ‰ Enter: &quot;people = getsa = pizzas.to_i / people.to_ib = pizzas.to_i % people.to_iputs &quot;æ¯äººå¯åˆ†å¾—å‡ ç‰‡: #&#123;a&#125; ç‰‡&quot;puts &quot;è¿˜å‰©ä¸‹å‡ ç‰‡: #&#123;b&#125; ç‰‡&quot; 05 12345678910111213141516171819202122232425# é¢˜ç›®: è¾“å…¥ä½“é‡å’Œèº«é«˜ï¼Œè¾“å‡ºèº«ä½“è´¨é‡æŒ‡æ•°(BMI)å’Œå»ºè®®# BMI å…¬å¼ä¸º bmi = ( ä½“é‡ / (èº«é«˜xèº«é«˜) )ï¼Œå•ä½æ˜¯å…¬æ–¤å’Œç±³# å¦‚æœ BMI &lt; 18.5ï¼Œæ˜¾ç¤ºè¿‡è½»# å¦‚æœ BMI &gt;= 24ï¼Œæ˜¾ç¤ºè¿‡é‡# å¦‚æœ BMI ä»‹äº 18.5 ~ 24ï¼Œæ˜¾ç¤ºæ­£å¸¸print &quot;è¯·è¾“å…¥æ‚¨çš„ä½“é‡(å…¬æ–¤)ï¼Œç„¶åæŒ‰ Enter: &quot;weight = getsprint &quot;è¯·è¾“å…¥æ‚¨çš„èº«é«˜(å˜ç±³)ï¼Œç„¶åæŒ‰ Enter: &quot;height = getsbmi = weight.to_f / (height.to_f * height.to_f)if bmi &lt; 18.5 r = &quot;è¿‡è½»&quot;elsif bmi &gt;= 24 r = &quot;è¿‡é‡&quot;else r = &quot;æ­£å¸¸&quot;endputs &quot;æ‚¨çš„ BMI æ˜¯: #&#123;bmi&#125;&quot;puts &quot;æ‚¨çš„ BMI ç»“æœæ˜¯: #&#123;r&#125;&quot; 06 1234567891011121314151617181920212223# é¢˜ç›®: è¾“å…¥ä¸€ä¸ªæ•°å­— xï¼Œè¯·åˆ¤æ–­æ˜¯å¦æ­£æ•°ã€é›¶æˆ–è´Ÿæ•°ï¼Œä»¥åŠæ˜¯ä¸æ˜¯å¶æ•°print &quot;è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œç„¶åæŒ‰ Enter: &quot;x = getsif x.to_f &gt; 0 a = &quot;æ­£æ•°&quot;elsif x.to_f &lt; 0 a = &quot;è´Ÿæ•°&quot;else a = &quot;é›¶&quot;endif x.to_f % 2 == 0 b = &quot;å¶æ•°&quot;else b = &quot;å¥‡æ•°&quot;endputs &quot;è¿™ä¸ªæ•°æ˜¯#&#123;a&#125;&quot;puts &quot;è¿™ä¸ªæ•°æ˜¯#&#123;b&#125;&quot; 07 12345678910111213141516171819202122232425262728293031323334353637383940# é¢˜ç›®: ä½¿ç”¨è€…è¾“å…¥ x,y,zï¼Œè¯·æ ¹æ®ä»¥ä¸‹çš„åˆ¤æ–­è¾“å‡ºç»“æœ# å½“ x &lt; 0 è¾“å‡º &quot;A&quot;# å½“ x &gt; 0ï¼Œä¸”# å½“ y &gt; 0ï¼Œä¸”# å½“ z &gt; 0 è¾“å‡º &quot;B&quot;# å½“ z &lt; 0 è¾“å‡º &quot;C&quot;# å½“ y &lt; 0# å½“ z &gt; 0 è¾“å‡º &quot;D&quot;# å½“ z &lt; 0 è¾“å‡º &quot;E&quot;print &quot;è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°xï¼Œç„¶åæŒ‰ Enter: &quot;x = getsprint &quot;è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°yï¼Œç„¶åæŒ‰ Enter: &quot;y = getsprint &quot;è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°zï¼Œç„¶åæŒ‰ Enter: &quot;z = getsx = x.to_iy = y.to_iz = z.to_iif x &lt; 0 a = &quot;A&quot;elsif x &gt; 0 &amp;&amp; y &gt; 0 if z &gt; 0 a = &quot;B&quot; else a = &quot;C&quot; endelsif x &gt; 0 &amp;&amp; y &lt; 0 if z &gt; 0 a = &quot;D&quot; else a = &quot;E&quot; endendputs &quot;ç»“æœæ˜¯#&#123;a&#125;&quot; 08 12345678910111213141516171819202122232425# é¢˜ç›®: ä½¿ç”¨è€…è¾“å…¥ x,y,zï¼Œè¯·è¾“å‡ºä¸‰ä¸ªæ•°ä¸­æœ€å¤§çš„æ•°print &quot;è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—xï¼Œç„¶åæŒ‰ Enter: &quot;x = getsprint &quot;è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—yï¼Œç„¶åæŒ‰ Enter: &quot;y = getsprint &quot;è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—zï¼Œç„¶åæŒ‰ Enter: &quot;z = getsx = x.to_fy = y.to_fz = z.to_fif x &gt;= y &amp;&amp; x &gt;= z max = xelsif y &gt;= x &amp;&amp; y &gt;= z max = yelsif z &gt;= x &amp;&amp; z &gt;= y max = zendputs &quot;æœ€å¤§çš„æ•°æ˜¯ #&#123;max&#125;&quot; 09 123456789101112131415# é¢˜ç›®: è¾“å…¥ç›´è§’ä¸‰è§’å½¢çš„å®½å’Œé«˜ï¼Œè¾“å‡ºä¸‰è§’å½¢çš„é¢ç§¯def calculate_area(a, b) a.to_f * b.to_f / 2endprint &quot;è¯·è¾“å…¥ç›´è§’ä¸‰è§’å½¢çš„é«˜ï¼Œç„¶åæŒ‰ Enter: &quot;a = getsprint &quot;è¯·è¾“å…¥ç›´è§’ä¸‰è§’å½¢çš„åº•è¾¹ï¼Œç„¶åæŒ‰ Enter: &quot;b = getsanswer = calculate_area(a,b)puts &quot;ç›´è§’ä¸‰è§’å½¢çš„é¢ç§¯æ˜¯: #&#123;answer&#125;&quot; 10 1234567891011121314151617181920212223242526# é¢˜ç›®: ä½¿ç”¨è€…è¾“å…¥ x,y,zï¼Œè¯·è¾“å‡ºä¸‰ä¸ªæ•°ä¸­æœ€å¤§çš„æ•°def find_max(x, y, z) if x &gt;= y &amp;&amp; x &gt;= z x elsif y &gt;= x &amp;&amp; y &gt;= z y elsif z &gt;= x &amp;&amp; z &gt;= y z endendprint &quot;è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—xï¼Œç„¶åæŒ‰ Enter: &quot;x = getsprint &quot;è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—yï¼Œç„¶åæŒ‰ Enter: &quot;y = getsprint &quot;è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—zï¼Œç„¶åæŒ‰ Enter: &quot;z = gets# ....answer = find_max(x,y,z)puts &quot;æœ€å¤§çš„æ•°æ˜¯ #&#123;answer&#125;&quot; 11 1234567891011# é¢˜ç›®: åˆ—å‡º 1 åˆ° 100 ä¹‹é—´ï¼Œæ‰€æœ‰ 7 çš„å€æ•°i = 1while ( i &lt;= 100 ) if i % 7 == 0 puts i end i+=1end 12 123456789101112131415# é¢˜ç›®: æ±‚ 1~100 æ‰€æœ‰å¶æ•°çš„å’Œi = 1total = 0while ( i &lt;= 100 ) if i % 2 == 0 total += i end i+=1endputs total 13 123456789101112131415161718192021222324252627# é¢˜ç›®: è¾“å…¥ä¸€ä¸ªæ•°å­— Nï¼Œè¾“å‡º N * N ä¹˜æ³•è¡¨print &quot;è¯·è¾“å…¥æ•°å­— Nï¼Œç„¶åæŒ‰ Enter: &quot;n = gets.to_fã€è§£æ³•ä¸€ã€‘çºµå‘ï¼ši = 1j = 1while (i &lt;= n) while (j &lt;= n) puts &quot;#&#123;i&#125; * #&#123;j&#125; = #&#123;i * j&#125;&quot; j += 1 end i += 1 j = iend# ã€è§£æ³•äºŒã€‘æ¨ªå‘ï¼š# i = 1# while (i &lt;= n)# j = 1# while (j &lt;= i)# puts &quot;#&#123;i&#125; * #&#123;j&#125; = #&#123;(i * j)&#125;&quot;# j += 1# end# i += 1# end 14ã€çœŸå‡å€¼è¦ç”¨â€return trueâ€ã€â€return falseâ€ 12345678910111213141516171819202122# è¾“å…¥ä¸€ä¸ªæ•°å­— Nï¼Œè¯·æ£€æŸ¥æ˜¯ä¸æ˜¯è´¨æ•°def is_prime(n) i = 2 while (i &lt;= (n-1)) if n % i == 0 return false break end i += 1 end return trueendprint &quot;è¯·è¾“å…¥æ•°å­— Nï¼Œç„¶åæŒ‰ Enter: &quot;n = getsif is_prime(n.to_i) puts &quot;è¿™æ˜¯è´¨æ•°&quot;else puts &quot;è¿™ä¸æ˜¯è´¨æ•°&quot;end 15ã€rand(100)ç”¨æ³•ã€while(true)ç”¨æ³• 123456789101112131415161718# é¢˜ç›® çŒœæ•°å­—æ¸¸æˆï¼šç¨‹åºä¼šå…ˆäº§ç”Ÿéšæœºæ•°ï¼Œç„¶åç”¨æˆ·å¼€å§‹çŒœæ•°å­—ã€‚ç¨‹åºä¼šé’ˆå¯¹çŒœçš„æ•°å­—å›ç­”å¤ªé«˜ã€å¤ªä½æˆ–çŒœä¸­ï¼ŒçŒœä¸­åç¨‹åºå°±ä¼šç»ˆæ­¢ã€‚target = rand(100)while (true) print &quot;è¯·çŒœä¸€ä¸ª 0~99 çš„æ•°å­— Nï¼Œç„¶åæŒ‰ Enter: &quot; n = gets.to_i if n == target puts &quot;æ­å–œçŒœä¸­å•¦! &quot; break elsif n &gt; target puts &quot;å¤ªé«˜äº†ï¼Œå†çŒœä¸€æ¬¡&quot; elsif n &lt; target puts &quot;å¤ªä½äº†ï¼Œå†çŒœä¸€æ¬¡&quot; endend 16 12345678910111213141516171819202122# ç»™å®šä¸€é˜µåˆ—å†…å«æ•°å­—ï¼Œè¾“å‡ºæœ€å¤§å€¼ã€è§£æ³•ä¸€ã€‘ï¼šdef find_max(array) array.maxend# ã€è§£æ³•äºŒã€‘ï¼š# def find_max(array)# a = array[0]# array.each do |i|# if i &gt; a# a = i# end# end# return a# endarr = [8, 12, 36, 53, 9, 75, 3, 71, 59, 88]max = find_max(arr)puts &quot;Max is #&#123;max&#125;&quot; # åº”è¯¥æ˜¯ 88 17 1234567891011121314151617181920212223242526272829303132# ä½¿ç”¨è€…ä¸æ–­è¾“å…¥æ•°å­—å­˜è¿› Arrayï¼Œæœ€åè¾“å‡ºæ€»å’Œã€å¹³å‡ã€æœ€å¤§å€¼ã€æœ€å°å€¼arr = []while (true) print &quot;è¯·è¾“å…¥æ•°å­—ï¼Œç»“æŸè¯·ç›´æ¥æŒ‰ Enter: &quot; user_input = gets if user_input == &quot;\\n&quot; break else arr &lt;&lt; user_input.to_i endendputs arr.to_sdef sum(arr) s = 0 arr.each do |i| s += i end return s.to_fenddef avg(arr) return sum(arr) /arr.sizeendputs &quot;æ€»å’Œæ˜¯ #&#123;sum(arr)&#125;&quot;puts &quot;å¹³å‡æ˜¯ #&#123;avg(arr)&#125;&quot;puts &quot;æœ€å¤§å€¼æ˜¯ #&#123;arr.max&#125;&quot;puts &quot;æœ€å°å€¼æ˜¯ #&#123;arr.min&#125;&quot; 18 12345678910111213# å»ºæ„ä¸€ä¸ªé˜µåˆ—æœ‰Nä¸ªçš„å…ƒç´ ï¼Œå†…å®¹æ˜¯ 0, 1, 4, 9, 16, 25...... æ¯ä¸ªå…ƒç´ æ˜¯è¯¥ç´¢å¼•çš„å¹³æ–¹arr = []print &quot;è¯·è¾“å…¥æ•°å­— Nï¼Œç„¶åæŒ‰ Enter: &quot;n = gets.to_ij = 0while (j &lt; n) arr &lt;&lt; (j * j) j += 1endputs arr.to_s 19 123456789101112131415# ç»™å®šä¸€é˜µåˆ—å†…å«æ•°å­—ï¼Œè¾“å‡ºå¦ä¸€ä¸ªæ•°ç»„åªåŒ…å«å¶æ•°def filter_even(arr) x = [] arr.each do |f| if f % 2 == 0 x &lt;&lt; f end end return xendarr = [7, 68, 42, 46, 9, 91, 77, 46, 86, 1]puts filter_even(arr).to_s # åº”è¯¥æ˜¯ [68, 42, 46, 46, 86] 20 123456789101112131415161718# æ‰¿ä¸Šé¢˜ï¼Œè¯·æ’åºå¹¶å»é™¤é‡å¤çš„æ•°å­—# Hint: å¯ç”¨ arr.sort æ’åºï¼Œå’Œ arr.uniq å»é™¤é‡å¤def filter_even(arr) x = [] arr.each do |f| if f % 2 == 0 x &lt;&lt; f end end return x.uniq.sortendarr = [7, 68, 42, 46, 9, 91, 77, 46, 86, 1]puts filter_even(arr).to_sputs &quot;________&quot; # åº”è¯¥æ˜¯ [42, 46, 68, 86] 21 1234567891011121314151617181920212223242526272829# ç»™å®šä¸€æ•°ç»„å†…å«æ•°å­—ï¼Œè¯·å®ä½œé€‰æ‹©æ’åºæ³•è¿›è¡Œæ’åºã€‚# https://zh.wikipedia.org/wiki/é€‰æ‹©æ’åº#ã€è§£æ³•ä¸€ã€‘ï¼šæ‰¾åˆ°æœ€å°å€¼ï¼Œäº¤æ¢æœ€å°å€¼ç´¢å¼•# 1ã€å½“i=0æ—¶ï¼Œ# 2ã€ç”¨jåšå¾ªç¯ï¼Œåˆ¤æ–­if arr[j] &lt; arr[i]å³å‰åä¸¤ä¸ªæ•°å“ªä¸ªå°ï¼ˆå½“jåšå®Œå¾ªç¯j=1ã€j=2ã€j=3..ï¼Œç›¸å½“äºä»å¤´åˆ°å°¾æ¯”è¾ƒäº†æ•°ç»„é‡Œæ¯ä¸ªæ•°å­—çš„å¤§å°ï¼Œå³æ‰¾åˆ°æœ€å°å€¼ã€‚å¹¶è®°å½•æœ€å°å€¼minçš„ä¸‹æ ‡min_indexï¼‰# 3ã€arr[i], arr[min_index] = arr[min_index], arr[i] ç”¨äºæŠŠç¬¬iä¸ªç´¢å¼•å¯¹åº”çš„æ•°ç»„å€¼ï¼Œå’Œæ•´ä¸ªæ•°ç»„çš„æœ€å°å€¼è¿›è¡Œäº¤æ¢ã€‚#ã€è§£æ³•äºŒã€‘ï¼šæ‰¾åˆ°æœ€å°å€¼ï¼Œäº¤æ¢æœ€å°å€¼def insertion_sort(arr) for i in 0..(arr.size-2) # min = arr[i] è¿™ä¸€è¡Œå¯ä»¥çœç•¥ï¼Œå› ä¸ºå½“i=0ï¼Œåˆ†åˆ«æ‰§è¡Œj=1ã€j=2.. for j in (i+1)..(arr.size-1) if arr[j] &lt; arr[i] min = arr[j] arr[j] = arr[i] arr[i] = min end end end return arrendarr = [7, 68, 42, 46, 9, 91, 77, 46, 86, 1]answer = insertion_sort(arr)puts answer.to_s # åº”è¯¥æ˜¯ [1, 7, 9, 42, 46, 46, 68, 77, 86, 91] 22 12345678910# ç»™å®šä¸€é˜µåˆ—å†…å«æ•°å­—ï¼Œè¯·è¾“å‡º 0~9 ä¸­ä¸è§çš„æ•°å­—def find_missing(arr) arr1 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] arr = arr1 - arrendanswer = find_missing( [2,2,1,5,8,4] )puts answer.to_s # åº”è¯¥æ˜¯ [0,3,6,7,9] 23 12345678910111213141516171819202122# ç»™å®šä¸€ Hashï¼Œè¾“å‡ºæœ‰æœ€å¤§ value çš„ keydef find_max(hash) arr = hash.values hash.each do |key, value| if value == arr.max return key end endendh = &#123; &quot;a&quot; =&gt; 71, &quot;b&quot; =&gt; 38, &quot;c&quot; =&gt; 21, &quot;d&quot; =&gt; 80, &quot;e&quot; =&gt; 10&#125;answer = find_max(h)puts &quot;æœ‰æœ€å¤§ value çš„æ˜¯ #&#123;answer&#125;&quot; # åº”è¯¥æ˜¯ d 24 1234567891011121314151617181920212223# ç»™å®šä¸€ Hashï¼Œè¾“å‡º value æ˜¯å¶æ•°çš„ keysdef find_even_keys(hash) arr = [] hash.each do |key, value| if value % 2 == 0 arr &lt;&lt; key end end return arrendh = &#123; &quot;a&quot; =&gt; 71, &quot;b&quot; =&gt; 38, &quot;c&quot; =&gt; 21, &quot;d&quot; =&gt; 80, &quot;e&quot; =&gt; 10&#125;answer = find_even_keys(h)puts &quot;æœ‰å¶æ•° value çš„ keys æœ‰ #&#123;answer&#125;&quot; # åº”è¯¥æ˜¯æ•°ç»„ [b,d,e] 25 12345678910111213141516171819202122232425262728293031323334# è®¡ç®—ä¸€ä¸ªé˜µåˆ—ä¸­å„ä¸ªå…ƒç´ çš„å‡ºç°é¢‘ç‡#ã€è§£æ³•ä¸€ã€‘ï¼šdef count(arr) h = &#123;&#125; arr.each do |i| if h[i] == nil h[i] = 1 else h[i] += 1 end end return h # å›ä¼ ä¸€ä¸ª hashendarr = [&quot;a&quot;, &quot;d&quot;, &quot;d&quot;, &quot;c&quot;, &quot;b&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;d&quot;, &quot;d&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;d&quot;, &quot;a&quot;, &quot;c&quot;, &quot;e&quot;, &quot;a&quot;, &quot;d&quot;, &quot;e&quot;]answer = count(arr)puts answer # ç­”æ¡ˆåº”è¯¥æ˜¯ &#123;&quot;a&quot;=&gt;3, &quot;d&quot;=&gt;6, &quot;c&quot;=&gt;5, &quot;b&quot;=&gt;1, &quot;e&quot;=&gt;5&#125;# ã€è§£æ³•äºŒã€‘ï¼š# def count(arr)# h = Hash.new(0)# # arr.each do |i|# h[i] += 1# end# # return h # å›ä¼ ä¸€ä¸ª hash# end 26 12345678910111213141516171819202122232425262728# ç»™å®šä¸€ä¸ªæ•°ç»„åŒ…å« Hashï¼Œè¯·è¿‡æ»¤å’Œæ’åºarr = [ &#123; &quot;name&quot; =&gt; &quot;Peter&quot;, &quot;age&quot; =&gt; 30 &#125;, &#123; &quot;name&quot; =&gt; &quot;John&quot;, &quot;age&quot; =&gt; 15 &#125;, &#123; &quot;name&quot; =&gt; &quot;David&quot;, &quot;age&quot; =&gt; 45 &#125;, &#123; &quot;name&quot; =&gt; &quot;Steven&quot;, &quot;age&quot; =&gt; 22 &#125;, &#123; &quot;name&quot; =&gt; &quot;Vincent&quot;, &quot;age&quot; =&gt; 6 &#125;,]def choose_arr(arr) brr = [] arr.each do |a| if a[&quot;age&quot;] &gt; 18 brr &lt;&lt; a end end return brr.sort_by&#123;|i| i[&quot;age&quot;]&#125;endputs &quot;æ‰€æœ‰æˆå¹´äººï¼Œå¹¶ç”±å°åˆ°å¤§: #&#123;choose_arr(arr)&#125;&quot;# ç­”æ¡ˆåº”è¯¥æ˜¯#[# &#123; &quot;name&quot; =&gt; &quot;Steven&quot;, &quot;age&quot; =&gt; 22 &#125;,# &#123; &quot;name&quot; =&gt; &quot;Peter&quot;, &quot;age&quot; =&gt; 30 &#125;,# &#123; &quot;name&quot; =&gt; &quot;David&quot;, &quot;age&quot; =&gt; 45 &#125;#] 27 12345678910111213141516class Person attr_accessor :first_name, :last_name def greet puts &quot;Hello, #&#123;first_name&#125; #&#123;last_name&#125;&quot; endendp1 = Person.newp1.first_name = &quot;Peter&quot;p1.last_name = &quot;Wang&quot;p1.greet # è¾“å‡º &quot;Hello, Peter Wang&quot;p2 = Person.newp2.first_name = &quot;William&quot;p2.last_name = &quot;Zhang&quot;p2.greet # è¾“å‡º &quot;Hello, William Zhang&quot; 28 123456789101112131415161718# è¯·æ‰“å¼€ wordcount.txtï¼Œè®¡ç®—æ¯ä¸ªå•å­—å‡ºç°çš„æ¬¡æ•°doc = File.read(&quot;wordcount.txt&quot;)h = Hash.new(0)doc.each_line do |line| line = line.gsub(/[,&apos;&quot;.]/, &quot;&quot;) line = line.strip words = line.split(&quot;&quot;) words.each do |word| h[word]+=1 endendh.each do |key, value| puts &quot;#&#123;key&#125; : #&#123;value&#125;&quot;end 29 1234567891011121314151617181920212223242526272829303132333435363738394041424344# ç®€æ˜“ Todo ä»£åŠäº‹é¡¹åº”ç”¨text = File.read(&quot;todos.txt&quot;)todos = []text.each_line do |line| todos &lt;&lt; line.chompendtodos.each_with_index do |todo, index| puts &quot;#&#123;index&#125;: #&#123;todo&#125;&quot;endwhile (true) print &quot;è¯·è¾“å…¥æŒ‡ä»¤ 1. add 2. remove 3. saveï¼Œç„¶åæŒ‰ Enter: &quot; command = gets.chomp if command == &quot;add&quot; print &quot;è¯·è¾“å…¥ä»£åŠäº‹é¡¹: &quot; todos &lt;&lt; gets.chomp todos.each_with_index do |todo, index| puts &quot;#&#123;index&#125;: #&#123;todo&#125;&quot; end elsif command == &quot;remove&quot; print &quot;è¯·è¾“å…¥è¦åˆ é™¤çš„ç¼–å·: &quot; todos.delete_at(gets.to_i) todos.each_with_index do |todo, index| puts &quot;#&#123;index&#125;: #&#123;todo&#125;&quot; end elsif command == &quot;save&quot; puts &quot;å­˜ç›˜ç¦»å¼€&quot; File.open(&quot;todos.txt&quot;, &quot;w+&quot;) do |f| todos.each do |i| f &lt;&lt; i f &lt;&lt; &quot;\\n&quot; end end break; else puts &quot;çœ‹ä¸æ‡‚ï¼Œè¯·å†è¾“å…¥ä¸€æ¬¡&quot; endend todos.txt 1234Buy bookGo ShoppingWalkGogo wordcount.txt 123456789Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque quis nulla a magna tincidunt cursus. In condimentum lobortis nulla ut congue. Mauris aliquet, tortor vestibulum aliquet cursus, lorem dolor rhoncus mauris, id imperdiet nunc arcu at nisi. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque lobortis dignissim ligula ut condimentum. Vestibulum a massa sit amet ex fringilla semper in nec ligula. Vivamus eget mauris ex.Sed accumsan justo orci, sit amet rutrum sapien dignissim ac. Mauris ullamcorper leo id vulputate lobortis. Mauris mollis at metus non gravida. Vivamus tempor auctor lacus, ac tincidunt nisi mattis at. Nullam a magna at nunc convallis ornare. Phasellus ultricies mi justo, ac faucibus dui tempus bibendum. Fusce eget ornare neque. Phasellus rutrum viverra magna in mollis. Proin nec sagittis risus. Praesent non viverra magna. Etiam aliquet nunc vitae velit sodales sollicitudin.Morbi pellentesque semper ultrices. Praesent ultricies enim sed lorem hendrerit, in tempor nibh lobortis. Maecenas metus est, commodo et felis at, dignissim dapibus justo. Nunc et malesuada massa. Nunc eu sem eget sapien maximus viverra. Duis feugiat lacus et justo finibus, in pretium enim hendrerit. Proin at iaculis est, eget bibendum velit. Proin ac eros mi. Mauris hendrerit ultrices neque eu ultrices. Praesent gravida, massa at eleifend vulputate, arcu risus luctus tellus, ac aliquam ligula eros et nulla. Aliquam finibus lectus eget posuere maximus.Proin tincidunt nisl eget neque faucibus, porta blandit massa consectetur. Nam nec augue eget ex suscipit ultrices. Vivamus pretium nibh vitae ante vulputate blandit. Phasellus ante justo, vestibulum eget mi ut, faucibus imperdiet felis. Duis accumsan posuere eros at volutpat. Aenean lacinia semper ipsum et elementum. Pellentesque ornare risus ipsum. Proin fermentum ac leo ac condimentum.Vestibulum at eleifend sem. Pellentesque maximus condimentum elit quis lacinia. Duis ac scelerisque mauris. Sed id viverra quam. Quisque in ex lacus. Nunc efficitur metus enim, in pharetra leo suscipit id. Vestibulum rutrum elementum nibh eget efficitur. Nulla quis mi maximus, commodo nisi nec, fringilla felis. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Curabitur rhoncus non sapien quis laoreet. Aenean mattis nulla vitae enim scelerisque, at bibendum leo auctor.","categories":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}],"tags":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/tags/rorç³»ç»Ÿ/"}],"keywords":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}]},{"title":"ror-system-ç¼–ç¨‹åŸºç¡€ç»ƒä¹ æœ¬","slug":"ror-system-ç¼–ç¨‹åŸºç¡€ç»ƒä¹ æœ¬","date":"2017-12-13T02:35:00.000Z","updated":"2018-01-14T04:43:01.000Z","comments":true,"path":"posts/dc81847/","link":"","permalink":"http://yoursite.com/posts/dc81847/","excerpt":"","text":"æ³¨æ„ï¼štiemsã€whileã€eachå¯ä»¥è§£å†³å¤§éƒ¨åˆ†é—®é¢˜ã€‚ 1ã€å‰è¨€å‡†å¤‡2ã€è¾“å…¥ã€å¤„ç†ã€è¾“å‡º Putsï¼Œè¾“å‡ºå˜é‡ï¼Œå¹¶æ¢è¡Œ printï¼Œè¾“å‡ºå˜é‡ getsï¼Œä»é”®ç›˜æ‹¿åˆ°è¾“å…¥çš„å€¼ =ï¼Œèµ‹å€¼ï¼ŒæŒ‡æ´¾å³è¾¹çš„å€¼ç»™å·¦è¾¹çš„å˜é‡ å­—ç¬¦ä¸²â€xxâ€æˆ–â€™xxâ€™ #{}ï¼Œå°†å˜é‡å†…åµŒåœ¨å­—ç¬¦ä¸­ rubyä¸­ï¼Œå˜é‡ç”¨å°å†™å­—æ¯ï¼Œå¹¶ä¸”ç”¨_åˆ†å¼€ 3ã€åŸºæœ¬ç®—æœ¯ æ•°æ®ç±»å‹ï¼šstringã€integerã€floatã€arrayã€hash ç®—æœ¯ï¼š+ã€-ã€*ã€/ã€% è½¬æ¢ï¼što_iã€to_fã€to_s æµ®ç‚¹æ•°å¸¸ç”¨æ–¹æ³•ï¼š .roundå››èˆäº”å…¥ï¼Œå³å¤§æ›´å¤§å°æ›´å° .ceilæ— æ¡ä»¶è¿›åˆ¶ï¼Œå³åªä¼šæ›´å¤§ .flooræ— æ¡ä»¶èˆå»ï¼Œå³åªä¼šæ›´å° 4ã€æ§åˆ¶æµç¨‹ å…³ç³»è¿ç®—ï¼Œå›ä¼ booleanå³trueæˆ–false == != &lt; &gt; &lt;= &gt;= é€»è¾‘è¿ç®—ï¼š&amp;&amp;ä¸”ã€||æˆ–ã€ï¼å booleanè½¬å‹ï¼šåœ¨ Ruby ä¹‹ä¸­åªè¦ä¸æ˜¯ false æˆ– nilï¼Œéƒ½ä¼šè‡ªåŠ¨åˆ¤æ–­æˆ trueã€‚ 123if &quot;&quot; # ä¼šæ‰§è¡Œend* 123if nil # ä¸ä¼šæ‰§è¡Œend 5ã€æ–¹æ³• Method è°ƒç”¨å·²å®šä¹‰çš„æ–¹æ³• 123456def hello(name) puts &quot;Hello, #&#123;name&#125;&quot;endhello(&quot;ihower&quot;) # è¿™æ ·ä¼šè°ƒç”¨ hello æ–¹æ³•hello &quot;ihower&quot; # åœ¨ Ruby è¯­è¨€ä¸­ () å¯ä»¥çœç•¥ ç”¨returnå›ä¼ ä¸€ä¸ªå€¼ï¼Œç„¶åå¯ä»¥å­˜è¿›å˜é‡str 123456def get_hello(name) return &quot;Hello, #&#123;name&#125;&quot;endstr = get_hello(&quot;ihower&quot;)puts str å¦‚æœæ²¡æœ‰å†™ returnï¼Œè¯¥æ–¹æ³•çš„æœ€åä¸€è¡Œçš„å€¼ä¼šè‡ªåŠ¨è¢«è¿”å›ã€‚ä¾‹å¦‚ä¸Šè¿°ç¨‹å¼çš„ return å¯ä»¥çœç•¥ï¼š 123def get_hello(name) &quot;Hello, #&#123;name&#125;&quot;end ï¼ï¼ï¼ï¼99é—®é¢˜ï¼šputså’Œreturnçš„åŒºåˆ«ï¼Ÿï¼Ÿ 6ã€å¾ªç¯ Loop å¾ªç¯ï¼Œå°±æ˜¯å¯ä»¥é‡å¤æ‰§è¡ŒæŸæ®µç¨‹å¼ç ï¼Œç›´åˆ°æ»¡è¶³æŸä¸ªæ¡ä»¶ã€‚ 12345x = 10while x &lt;= 10 puts x x = x + 1end åœ¨ while å¾ªç¯ä¸­ï¼Œç”¨ break å…³é”®å­—ï¼Œä¼šæå‰ä¸­æ–­å¾ªç¯ 7ã€æ•°ç»„ Array æ•°ç»„æ˜¯ä¸€ä¸ªæœ‰é¡ºåºçš„å®¹å™¨ï¼Œç”¨æ•°å­—å½“ä½œç´¢å¼•ã€‚ç´¢å¼•ä»0å¼€å§‹ åŸåˆ™ä¸Šé‡Œé¢çš„å…ƒç´ ï¼Œæ•°æ®ç±»å‹æœ€å¥½éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä¾‹å¦‚éƒ½å­˜æ•´æ•°ï¼Œæˆ–æ˜¯éƒ½å­˜å­—ç¬¦ä¸²ã€‚ æ•°ç»„é‡Œé¢è¿˜å¯ä»¥æ”¾æ•°ç»„ï¼Œè¿™æ ·ä¼šå˜æˆäºŒç»´æ•°ç»„ï¼š ç”¨forèµ°è®¿æ•°ç»„ï¼Œrubyä¸­å¸¸ç”¨each 123array.each do |i| puts iend å¦‚æœèµ°è®¿æ—¶ï¼Œéœ€è¦ç´¢å¼•å€¼ï¼Œå¯ä»¥æ”¹ç”¨ each_with_index æ–¹æ³•ï¼š 1234array.each_with_index do |i, j| puts i puts j # j ä» 0 å¼€å§‹æ•°end æ•°ç»„çš„æ“ä½œï¼š array.size ä¼šå›ä¼ æ•°ç»„é•¿åº¦ array[1] ä¼šè¯»å–ç¬¬äºŒä¸ªå…ƒç´  array[1] = 999 ä¼šæ›´æ”¹ç¬¬äºŒçš„å…ƒç´ çš„å€¼ array[99999] è¯»å–ä¸€ä¸ªä¸å­˜åœ¨çš„å€¼ï¼Œä¼šå›ä¼  nil array[0] æˆ– array.first æ˜¯æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´  array[-1] æˆ– array.last æ˜¯æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´  array.push(999) æˆ– array &lt;&lt; 999 ä¼šæ–°å¢ä¸€ä¸ªå…ƒç´  999 åˆ°æ•°ç»„çš„æœ€åé¢ array.unshift(999) ä¼šæ–°å¢ä¸€ä¸ªå…ƒç´  999 åˆ°æ•°ç»„çš„æœ€å‰é¢ array.delete_at(i) ä¼šåˆ é™¤ç´¢å¼•å€¼åœ¨ i çš„å…ƒç´  Spliteå­—ç¬¦ä¸²è½¬åŒ–æˆæ•°ç»„ï¼ŒjoinæŠŠæ•°ç»„è½¬åŒ–æˆå­—ç¬¦ä¸² 12345678910str = &quot;ABCDEFG&quot;str[0] # å¾—åˆ° &quot;A&quot;str[1] = &quot;x&quot;str # å˜æˆ &quot;AxCDEFG&quot;str.split(&quot;&quot;) # ç”¨ &quot;&quot; æ‹†å¼€å­—ç¬¦ä¸²ï¼Œå¾—åˆ°æ•°ç»„ [&quot;A&quot;, &quot;x&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;][&quot;x&quot;, &quot;y&quot;, &quot;z&quot;].join(&quot; &quot;) # ç”¨ &quot; &quot; ä¸²æ¥æˆå­—ç¬¦ä¸²ï¼Œå¾—åˆ° &quot;x y z&quot; 8ã€æ•£åˆ— Hash æ•£åˆ—Hashï¼Œå°±æ˜¯ç”¨é”®(key)å½“ä½œç´¢å¼•çš„å®¹å™¨ï¼Œä¾‹å¦‚ï¼š 123456789h = &#123; &quot;a&quot; =&gt; 123, &quot;b&quot; =&gt; 456 &#125;h[&quot;a&quot;] å°±æ˜¯ 123h[&quot;b&quot;] å°±æ˜¯ 456h[&quot;qweqkleklwqen&quot;] å¦‚æœè¯»å–ä¸€ä¸ªä¸å­˜åœ¨çš„keyï¼Œç»“æœä¼šæ˜¯ nilh[&quot;new_key&quot;] = 123 å¦‚æœæœ¬æ¥æ²¡æœ‰è¿™ä¸ª keyï¼Œå°±ä¼šç›´æ¥æ–°å¢ä¸€ç»„ key-value å¦‚ä½•èµ°è®¿æ•£åˆ—ï¼š 1234h.each do |key, value| puts key puts valueend h.keys ä¼šå›ä¼ ä¸€ä¸ªæ•°ç»„åŒ…æ‹¬æ‰€æœ‰ keys h.values ä¼šå›ä¼ ä¸€ä¸ªæ•°ç»„åŒ…æ‹¬æ‰€æœ‰ values h.merge(h2) ä¼šåˆå¹¶æ•£åˆ— h2 åˆ°æ•£åˆ— h 9ã€å¯¹è±¡ Object å¯¹è±¡(Object)ï¼Œä¹Ÿæ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œè¿™ç§æ•°æ®é™¤äº†æ‹¥æœ‰å±æ€§ï¼Œä¹Ÿæœ‰æ–¹æ³•å¯ä»¥è°ƒç”¨ã€‚ åœ¨ Ruby ä¹‹ä¸­ï¼Œå…¶å®æ¯ç§æ•°æ®ç±»å‹ï¼Œä¾‹å¦‚ Stringã€Integerã€Floatã€Arrayã€Hash ç­‰ç­‰ï¼Œä¹Ÿéƒ½æ˜¯å¯¹è±¡(Object)ã€‚ä¾‹å¦‚å­—ç¬¦ä¸²çš„ size æ–¹æ³•å’Œ split æ–¹æ³•ï¼š &quot;abc&quot;.size ä¼šå›ä¼  3 &quot;a,b,c,d&quot;.split(&quot;,&quot;) ä¼šå›ä¼ æ•°ç»„ [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;] å…¶ä¸­ . å°±æ˜¯è°ƒç”¨æ–¹æ³•çš„æ„æ€ã€‚ éœ€è¦é€è¿‡ç±» Class è‡ªè®¢ä¹‰ Objectã€‚Class å°±åƒä¸€ç§æ ·æ¿ï¼Œå®šä¹‰å‡ºåŒä¸€ç§ç±»å‹çš„å¯¹è±¡æœ‰å“ªäº›å…±åŒçš„å±æ€§å’Œæ–¹æ³•ã€‚ 12345678class Car attr_accessor :color # è¿™ä¼šå®šä¹‰å±æ€§ @color def run puts &quot;This #&#123;@color&#125; car is running&quot; endend æœ‰äº†ç±»ï¼Œå°±å¯ä»¥ç”¨ new æ¥äº§ç”Ÿå‡ºå¯¹è±¡ï¼š 1234567car1 = Car.newcar1.color = &quot;red&quot;car1.runcar2 = Car.newcar2.color = &quot;blue&quot;car2.run å†…å»ºçš„ç±» 123456789&quot;foobar&quot;.class ä¼šå›ä¼  String æ˜¯ä¸ªç±»String.new(&quot;foobar&quot;) ç­‰åŒäº &quot;foobar&quot;[1,2,3].class ä¼šå›ä¼  Array æ˜¯ä¸ªç±»Array.new([1,2,3]) ç­‰åŒäº [1,2,3]ä¸è¿‡å› ä¸ºè¿™äº›æ•°æ®ç±»å‹å¤ªå¸¸ç”¨äº†ï¼Œæ‰€ä»¥å°±ä¸éœ€è¦å†™ .new æ¥äº§ç”Ÿï¼Œç›´æ¥ç”¨ç¬¦å·è¡¨ç¤ºå°±å¯ä»¥äº†ã€‚ å¸¸æ•°ï¼Œå¤§å†™å¼€å¤´çš„å˜é‡Pi = 3.1415926ã€‚æ‰€æœ‰çš„ç±»Classéƒ½æ˜¯å¸¸æ•°ã€‚ 10ã€æ¡£æ¡ˆå¤„ç† è¯»å–æ¡£æ¡ˆå°±æ˜¯å°†æ•°æ®ä»ç¡¬ç›˜æ”¾è¿›å†…å­˜é‡Œé¢ï¼Œè®©ç¨‹åºå¯ä»¥æ“ä½œã€‚ å†™å…¥æ¡£æ¡ˆåˆ™æ˜¯å°†å†…å­˜çš„æ•°æ®å†™å…¥ç¡¬ç›˜è¿›è¡Œä¿å­˜ã€‚ å¼€æ¡£è¯»å–å’Œå†™å…¥ï¼Œç”¨Ruby çš„ File API 123è¯»å–ï¼šfile = File.open(&quot;foo.txt&quot;)doc = file.read(&quot;foo.txt&quot;) 123456å†™å…¥File.open(&quot;bar.txt&quot;, &quot;w+&quot;) do |f| f &lt;&lt; &quot;aaa&quot; f &lt;&lt; &quot;\\n&quot; f &lt;&lt; &quot;bbb&quot;end 11ã€æ¨èèµ„æºRuby åŸºç¡€æ•™ç¨‹, äººæ°‘é‚®ç”µï¼Œå¦‚æœä½ è¦æ‰¾å·¥ä½œé¢è¯•ï¼Œè¯·å°½é‡å¿µå®Œè¿™ä¸€æœ¬ã€‚ å¦‚æœæƒ³ç»§ç»­ç»ƒä¹ åŸºç¡€ç¼–ç¨‹ï¼Œæˆ–æ˜¯é¢è¯•çš„å…¬å¸æœ‰è€ƒç®—æ³•ï¼Œè¯·ç»ƒä¹ ä»¥ä¸‹çš„é¢˜åº“ç½‘ç«™(è¯·ç»ƒä¹  Easy ç¨‹åº¦ç¨‹åº¦å³å¯ï¼Œæ›´é«˜éš¾åº¦éœ€è¦å­¦å®Œæ•°æ®ç»“æ„è¯¾ç¨‹) Coderbyte LeetCode Online Judge ç¡…è°·ã€BAT å¤§å…¬å¸é¢è¯•å¿…å¤‡åˆ·é¢˜é¢˜åº“ç½‘ç«™ Codility æ¨¡æ‹Ÿçº¿ä¸Šç®—æ³•æµ‹è¯•ï¼Œå¾ˆåˆºæ¿€ å¦‚æœè¿™æ•™ç¨‹å¯¹ä½ æ¥è¯´è¿˜æ˜¯åéš¾å¤ªè¿‡æŠ½è±¡ï¼Œå»ºè®®ä½ å¯ä»¥æ‰¾å•Šå“ˆç£Šçš„å°å­¦ç”Ÿååœ¨é©¬æ¡¶ä¸Šéƒ½èƒ½çœ‹æ‡‚çš„ç¼–ç¨‹å…¥é—¨ä¹¦ï¼Œä¼šç”¨æ›´æµ…æ˜¾çš„å¯¹è¯å’Œä¾‹å­ï¼Œç”¨ä¸€æ•´æœ¬ä¹¦çš„é•¿åº¦æ¥è®²è¿™æ•™ç¨‹çš„å†…å®¹ã€‚ è¯¾åç»ƒä¹ 21ã€é€‰æ‹©æ’åºæ³•123456789101112131415161718192021222324252627# ç»™å®šä¸€æ•°ç»„å†…å«æ•°å­—ï¼Œè¯·å®ä½œé€‰æ‹©æ’åºæ³•è¿›è¡Œæ’åºã€‚# https://zh.wikipedia.org/wiki/é€‰æ‹©æ’åº# è§£é‡Šï¼š# 1ã€å½“i=0æ—¶ï¼Œ# 2ã€ç”¨jåšå¾ªç¯ï¼Œåˆ¤æ–­if arr[j] &lt; arr[i]å³å‰åä¸¤ä¸ªæ•°å“ªä¸ªå°ï¼ˆå½“jåšå®Œå¾ªç¯ï¼Œç›¸å½“äºä»å¤´åˆ°å°¾æ¯”è¾ƒäº†æ•°ç»„é‡Œæ¯ä¸ªæ•°å­—çš„å¤§å°ï¼Œå³æ‰¾åˆ°æœ€å°å€¼ã€‚å¹¶è®°å½•æœ€å°å€¼minçš„ä¸‹æ ‡min_indexï¼‰# 3ã€arr[i], arr[min_index] = arr[min_index], arr[i] ç”¨äºæŠŠç¬¬iä¸ªç´¢å¼•å¯¹åº”çš„æ•°ç»„å€¼ï¼Œå’Œæ•´ä¸ªæ•°ç»„çš„æœ€å°å€¼è¿›è¡Œäº¤æ¢ã€‚def insertion_sort(arr) for i in 0..(arr.size-2) min_index = i for j in (i+1)..(arr.size-1) if arr[j] &lt; arr[i] min_index = j end end a = arr[i] arr[i] = arr[min_index] arr[min_index] = a end return arrendarr = [7, 68, 42, 46, 9, 91, 77, 46, 86, 1]answer = insertion_sort(arr)puts answer.to_s # åº”è¯¥æ˜¯ [1, 7, 9, 42, 46, 46, 68, 77, 86, 91] 12345678910111213141516171819# æ–¹æ³•äºŒï¼šæ‰¾åˆ°æœ€å°å€¼ï¼Œäº¤æ¢æœ€å°å€¼def insertion_sort(arr) for i in 0..(arr.size-2) for j in (i+1)..(arr.size-1) if arr[j] &lt; arr[i] min = arr[j] arr[j] = arr[i] arr[i] = min end end end return arrendarr = [7, 68, 42, 46, 9, 91, 77, 46, 86, 1]answer = insertion_sort(arr)puts answer.to_s # åº”è¯¥æ˜¯ [1, 7, 9, 42, 46, 46, 68, 77, 86, 91]","categories":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}],"tags":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/tags/rorç³»ç»Ÿ/"}],"keywords":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}]},{"title":"ror-system-rails101","slug":"ror-system-rails101","date":"2017-12-13T02:25:00.000Z","updated":"2018-01-14T04:43:01.000Z","comments":true,"path":"posts/e434021/","link":"","permalink":"http://yoursite.com/posts/e434021/","excerpt":"","text":"2ã€åŸºç¡€å»ºè®¾rails newã€git initï¼Œæˆ–è€…æ˜¯git cloneã€cp config/database.yml.example config/database.ymlã€bundle install â‘ ã€gem â€˜bootstrap-sassâ€™ï¼Œcssã€htmlã€flashes â‘¡ã€gem â€˜deviseâ€™ï¼Œåšnavbarçš„loginã€logoutã€signup â‘¢ã€gem â€˜simple_formâ€™ â‘£ã€gem â€˜font-awesome-railsâ€™ï¼ŒåŠ å…¥ç™»å½•å’Œé€€å‡ºå°å›¾æ ‡ 3ã€è®¨è®ºç¾¤æ¶æ„ è®¨è®ºç¾¤è¦æœ‰â€œæ ‡é¢˜â€ä¸â€œå™è¿°â€ groupçš„CRUD ä½¿ç”¨è€…è¦å¯ä»¥çœ‹åˆ°â€œè®¨è®ºç¾¤ä¸€è§ˆè¡¨â€ æŠŠnewå’Œeditæ¢æˆpartialè¡¨å• 5-4ã€æƒé™è®¾ç½® åªæœ‰ç™»å½•äº†çš„ä½¿ç”¨è€…ï¼Œæ‰å¯ä»¥å»ºç«‹ç¾¤ç»„ è®¾ç½®å…³ç³»ï¼Œ&lt;%= group.user.email %&gt; åªæœ‰ç¾¤ç»„çš„å»ºç«‹è€…ï¼Œæ‰å¯ä»¥ ç¼–è¾‘ / åˆ é™¤ç¾¤ç»„ &lt;% if current_user &amp;&amp; current_user == group.user %&gt; æ²¡ç™»å½•çš„è·¯äººï¼Œä¸èƒ½é€šè¿‡ç½‘å€è¿›å…¥åå° 1before_action :authenticate_user! , only: [:new, :create, :edit, :update, :destroy] å·²ç™»å½•çš„ç”¨æˆ·ï¼Œä¸èƒ½é€šè¿‡ç½‘å€è¿›å…¥åå° å®šä¹‰find_group_and_check_permissionæ–¹æ³• 1234567def find_group_and_check_permission @group = Group.find(params[:id]) if current_user != @group.user redirect_to root_path, alert: &quot;You have no permission.&quot; endend 6ã€postsçš„CRUD å¯ä»¥åœ¨ç¾¤ç»„é‡Œé¢æ–°å¢ / ç¼–è¾‘ / åˆ é™¤æ–‡ç«  æ–°å»ºmodelå‰æ³¨æ„çœ‹modelæ–‡ä»¶å¤¹ï¼Œè¦åŠ å…¥å“ªäº›å¤–é”®ï¼Œå¹¶è®¾ç½®å¥½å…³ç³» postsçš„CRUDï¼Œæ³¨æ„createçš„actionè¾ƒéš¾ æ–‡ç« å¿…é¡»è¦æœ‰â€œå†…å®¹â€ï¼Œå¦åˆ™ä¸å…è®¸è¢«å‘è¡¨ validatesé™åˆ¶contentå†…å®¹ä¸èƒ½ç©ºã€orderæ’åºç”¨åˆ°scopeã€åˆ†é¡µgem â€˜will_paginateâ€™ 6-2ã€æˆ‘å‘ç°ï¼š1ã€current_useræ˜¯deviseè¿™ä¸ªgemçš„æ–¹æ³•ï¼Œä»£è¡¨æ˜¯å·²ç™»å½•çš„ç”¨æˆ·ã€‚æ‰€ä»¥å¯ä»¥ç”¨&lt;% if current_user %&gt;æ¥åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•ã€‚ 2ã€æ¯æ¬¡æ–°å»ºmodelæ—¶ï¼Œçœ‹ä¸‹modelæ–‡ä»¶å¤¹ä¸‹å·²æœ‰çš„è·Ÿå®ƒæœ‰æ²¡æœ‰å…³ç³»ï¼Œå¦‚æœæœ‰å°±æŠŠç›¸åº”çš„å¤–é”®xx_idæ ä½åŠ ä¸Šã€‚ä¿å­˜åè®¾ç½®ç›¸äº’å…³ç³»ã€‚ 6-2ã€postsçš„CRUDæ€è·¯ï¼ˆç‰¹åˆ«æ˜¯createè¿™ä¸ªactioné‡ŒæŒ‡å®šå¤–é”®ï¼‰ï¼šâ‘ ã€å®šä¹‰postçš„newçš„actionï¼ŒæŒ‰ç…§ç½‘å€http://localhost:3000/groups/9/posts/newéœ€è¦çŸ¥é“@groupçš„id 1234def new @group = Group.find(params[:group_id]) @post = Post.newend â‘¡ã€é¦–å…ˆè¦åœ¨viewçš„newè¡¨æ ¼é‡Œå¡«å†™contentå¹¶ä¿å­˜ï¼Œè¿™é‡Œç”¨åˆ°simple_form_forå’Œ[@group, @post] 1234&lt;%= simple_form_for [@group, @post] do |f| %&gt; &lt;%= f.input :content %&gt; &lt;%= f.submit &quot;ä¿å­˜&quot;, data:&#123;disable_with:&quot;æ­£åœ¨ä¿å­˜..&quot;&#125; %&gt;&lt;% end %&gt; â‘¢ã€ç³»ç»Ÿæç¤ºç¼ºå°‘createçš„actionã€‚å› ä¸ºpostæœ‰ä¸¤ä¸ªå¤–é”®ï¼Œè¿™é‡Œéœ€è¦æŒ‡æ˜å®ƒä»¬å…·ä½“æ˜¯ä»€ä¹ˆï¼Œå³@post.group = @groupã€@post.user = current_userä¸¤ä¸ªè¡¨è¾¾å¼çš„å·¦è¾¹ã€‚å› ä¸ºç¬¬ä¸€ä¸ªè¡¨è¾¾å¼çš„@groupæœªçŸ¥ï¼Œæ‰€ä»¥è¡¥å……äº†@group = Group.find(params[:group_id]) 1234567891011def create @post = Post.new(post_params) @group = Group.find(params[:group_id]) @post.group = @group @post.user = current_user if @post.save redirect_to group_path(@group) else render :new endend â‘£ã€å¦å¤–ï¼Œå› ä¸ºè¦åœ¨http://localhost:3000/groups/9é¡µé¢æ˜¾ç¤ºpostï¼Œå³éœ€è¦ç”¨åˆ°@posts.each do |post|ï¼Œæ‰€ä»¥è¦åœ¨grroupçš„showçš„actioné‡ŒåŠ å…¥@posts = @group.posts 6-2ã€é—®é¢˜ï¼š1ã€è·Ÿæ‹›è˜ç½‘ä¸­çš„ä¸€æ ·ï¼Œcreateçš„actionä¸­ï¼Œå› ä¸ºgroupæœ‰å¤–é”®user_idè¦æ³¨æ˜@group.user = current_userï¼Œæ„Ÿè§‰åº”è¯¥åªåœ¨creatè¿™ä¸ªactionåŠ å…¥å°±å¯ä»¥è€Œeditä¸ç”¨å› ä¸ºæ•°æ®åº“åœ¨createæ—¶å·²ç»è®°å½•ã€‚â‘ ã€åœ¨createçš„actionä¸­ä¸ºä»€ä¹ˆè¦åŠ @group.user = current_user ï¼Ÿ ã€å¾…å®Œå–„çš„è§£é‡Šã€‘ï¼š å› ä¸ºuserç”¨æˆ·æœ‰å¾ˆå¤šä¸ªï¼Œç”¨@group.user = current_user æ¥æŒ‡æ˜è¿™ä¸ªç¾¤ç»„å…·ä½“æ˜¯è°åˆ›å»ºçš„ã€‚æµ‹è¯•å‘ç°ï¼Œå½“userå’Œgroupçš„modelæ²¡æœ‰å»ºç«‹å…³ç³»æ—¶ï¼Œæ²¡æœ‰@group.user = current_userä¹Ÿèƒ½åˆ›å»ºgroupï¼›ä½†æ˜¯å½“groupçš„modelåŠ å…¥belongs_to :useråä¸èƒ½åˆ›å»ºã€‚è€Œä¸”åŸæ¥çš„æ•°æ®åº“è¦åˆ é™¤ï¼Œå› ä¸ºuser_idä¸ºnilä¼šæŠ¥é”™ã€‚ â‘¡ã€å¦‚æœmodelä¸­æ²¡æœ‰å†™groupå’Œuserçš„å…³ç³»ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆæŠ¥é”™ ï¼Ÿ undefined methodï¼Œè·Ÿä¸Šé¢â‘ çš„æŠ¥é”™ç±»ä¼¼ã€‚ 12undefined method `user&apos; for #&lt;Group:0x007fc0c0f48728&gt;Did you mean? user_id 7ã€é€€å‡º/åŠ å…¥ç¾¤ç»„ï¼ˆéå¸¸é™Œç”Ÿï¼‰ ä¸€ä¸ªä½¿ç”¨è€…å¯ä»¥é€‰æ‹©â€œåŠ å…¥â€ã€â€œé€€å‡ºâ€è®¨è®ºç¾¤ å»ºç«‹ç¾¤æˆå‘˜çš„å…³ç³»è¡¨ ä¼šå‘˜è¦å¯ä»¥åœ¨ç¤¾å›¢é‡Œé¢çœ‹åˆ°è‡ªå·±â€œæ˜¯å¦ç¾¤ç»„æˆå‘˜â€ï¼Œå³viewså±‚é¢ å®ä½œ model å±‚ â€œåŠ å…¥ç¾¤ç»„â€ã€â€œé€€å‡ºç¾¤ç»„â€ å®ä½œcontrolleré‡Œçš„ â€œåŠ å…¥ç¾¤ç»„â€ã€â€œé€€å‡ºç¾¤ç»„â€ ç¾¤çš„åˆ›å§‹è€…ï¼Œåˆ›ç¾¤ä¸€å¼€å§‹å°±åº”è¯¥åŠ åœ¨ç¾¤ç»„é‡Œ æ–°å»ºgroupåè‡ªåŠ¨æˆä¸ºgroupçš„ä¸€å‘˜ï¼Œåœ¨createä¸­æ“ä½œ éš¾ç‚¹è§£ç­”ï¼š1ã€ç”¨ç±»ä¼¼æ‹›è˜ç½‘çš„is_hiddenå’Œis_adminå³æ•°æ®åº“çš„æ–¹å¼ï¼Œå¯ä»¥åˆ¤æ–­åšå‡ºviewså±‚é¢çš„join/quitï¼ˆåŠ å…¥/é€€å‡ºç¾¤ç»„ï¼‰ï¼Œä½†æ˜¯æ‰€æœ‰ç”¨æˆ·ç™»å½•è¿›å»éƒ½æ˜¾ç¤ºæ˜¯ç¾¤ç»„æˆå‘˜ã€‚ã€‚ã€é—®é¢˜1ã€‘åœ¨äºï¼Œä¸çŸ¥é“å“ªä¸ªç”¨æˆ·æ˜¯å“ªä¸ªç¾¤ç»„çš„æˆå‘˜ï¼Ÿç”¨is_memberä¸€ä¸ªæ ä½ï¼Œè¦ä¸add_to_userè¦ä¸add_to_groupï¼Œä¸ç®¡åŠ å…¥å“ªä¸€è¾¹ï¼Œå¦ä¸€ä¸ªå˜é‡å°±ä¸çŸ¥é“å…·ä½“æ˜¯æŒ‡å“ªä¸€ä¸ªä¸ªä½“ï¼Œæ‰€ä»¥å°±ä¼šå‡ºç°ä¸Šé¢æè¿°çš„ç°è±¡ï¼šæ‰€æœ‰ç”¨æˆ·ç™»å½•è¿›å»éƒ½æ˜¯æ˜¾ç¤ºç¾¤ç»„æˆå‘˜ã€‚ ã€å°ç»“ã€‘ç›®å‰å­¦ä¼šçš„ä¸¤ç§åˆ¤æ–­å¯¹é”™çš„æ–¹æ³•ï¼Œâ‘ ã€ç”¨å¸ƒæ—å€¼booleanï¼Œæ˜¯æ¶‰åŠä¸€ä¸ªmodelå¯¹è±¡åˆ¤æ–­å¯¹ä¸é”™ï¼ˆæ¯”å¦‚is_adminåªåˆ¤æ–­useræ˜¯ä¸æ˜¯adminï¼Œæ¯”å¦‚is_hiddenåªåˆ¤æ–­jobæ˜¯å¦éšè—ï¼‰åœ¨æ•°æ®åº“å±‚é¢é€šè¿‡update_columnsåˆ¤æ–­ã€‚æ³¨æ„ï¼šè¿™ç§æ–¹æ³•å¯èƒ½ä¸é€‚ç”¨ä¸å¤šå¯¹å¤šï¼ˆéœ€è¿›ä¸€æ­¥éªŒè¯ï¼‰ã€‚â‘¡ã€å¤šå¯¹å¤šå…³ç³»ï¼ˆæ¯”å¦‚è¿™é‡Œåˆ¤æ–­useræ˜¯ä¸æ˜¯å±äºgroupï¼Œæ¶‰åŠä¸¤ä¸ªmodelï¼Œæ‰€ä»¥ç”¨booleanæ¥åˆ¤æ–­ä¼šè¯´ä¸æ¸…æ¥šï¼‰ã€‚è®¾ç½®å…³ç³»åï¼Œé€šè¿‡.includesï¼Ÿã€&lt;&lt;ã€.delete(group)ç­‰æ–¹å¼æ¥åˆ¤æ–­å’Œæ“ä½œã€‚ 2ã€å…³é”®æ˜¯ï¼Œè¿™é‡Œè¿˜æƒ³æå‡º â€œç¾¤ç»„çš„æ‰€æœ‰ç”¨æˆ·â€ å’Œ â€œç”¨æˆ·å‚ä¸çš„æ‰€æœ‰ç¾¤ç»„â€ ï¼Œæ‰€ä»¥å¿…é¡»è®²æ¸…æ¥šå…³ç³»ã€‚ã€é—®é¢˜2ã€‘has_many :participated_groupså’Œhas_many :membersï¼Œè¿™é‡Œçš„participatedå’Œmemberæ˜¯ä¸æ˜¯railså†…å»ºçš„è¯è¯­ï¼Œæ¢æˆå…¶ä»–è¯è¯­è¡Œä¸è¡Œï¼Ÿ ã€è§£ç­”ã€‘æµ‹è¯•å‘ç°ï¼Œparticipatedå’Œmemberæ˜¯è‡ªå®šä¹‰çš„ï¼Œæ”¹æˆparå’Œmemä¹Ÿå¯ä»¥ã€‚ 3ã€ã€é—®é¢˜3ã€‘ä¸‹é¢è¿™æ®µrails cé‡Œçš„ä»£ç æ€ä¹ˆè§£è¯»12345u = User.first g = Group.firstg.members &lt;&lt; ug.membersu.participated_groups å®šä¹‰å•æ•°çš„u å®šä¹‰å•æ•°çš„g gç¾¤ç»„åŒ…å«æˆå‘˜u æ˜¾ç¤ºgç¾¤ç»„çš„æˆå‘˜â€”â€”å¯ä»¥çœ‹åˆ°æˆå‘˜uåœ¨ç¾¤ç»„gé‡Œé¢ æ˜¾ç¤ºæˆå‘˜uæ‰€å‚åŠ çš„ç¾¤ç»„â€”â€”å¯ä»¥çœ‹åˆ°æˆå‘˜uæ‰€å‚åŠ çš„ç¾¤ç»„é‡Œæœ‰g 4ã€ã€é—®é¢˜4ã€‘è§£è¯»ä»£ç 1234app/models/user.rb+ def is_member_of?(group)+ participated_groups.include?(group)+ end è¿™ä¸ªç”¨æˆ·å‚ä¸çš„æ‰€æœ‰ç¾¤ç»„participated_groupsä¸­ï¼ŒåŒ…å«äº†groupè¿™ä¸ªç¾¤ç»„å³include?(group) å› ä¸ºç”¨çš„æ˜¯åˆ¤æ–­å¼include?ï¼Œæ‰€ä»¥è¿”å›çš„å€¼æ˜¯trueæˆ–falseã€‚ 123u = User.firstg = Group.firstu.is_member_of?(g) ã€é—®é¢˜5ã€‘includeï¼Ÿä¸&lt;&lt;æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ è§£ç­”ï¼šincludeï¼Ÿæ˜¯ä¸€ç§çŠ¶æ€çš„åˆ¤æ–­ï¼Œå¦‚participated_groups.include?(group)æ˜¯è¯´å‚ä¸çš„ç¾¤æ˜¯ä¸æ˜¯åŒ…å«äº†groupã€‚&lt;&lt;æ˜¯ä¸€ä¸ªåŠ¨ä½œï¼Œå¦‚g.members &lt;&lt; uæ˜¯è¯´è®©gçš„æ‰€æœ‰ç”¨æˆ·åŒ…å«ç”¨æˆ·uã€‚ 5ã€viewså±‚é¢çš„åŠ å…¥/é€€å‡ºç¾¤ç»„ï¼šuserçš„modelåŠ å…¥is_member_of?(group)æ¥åˆ¤æ–­6ã€modelå±‚é¢çš„åŠ å…¥/é€€å‡ºç¾¤ç»„ã€‚â€‹ å› ä¸ºæ˜¯ç”¨æˆ·åœ¨æ‰§è¡Œjoinå’Œquitï¼Œæ‰€ä»¥åœ¨userçš„modelé‡Œå®šä¹‰ã€‚ 123456789app/models/user.rbdef join!(group) participated_groups &lt;&lt; group #è¯¥ç”¨æˆ·å‚ä¸çš„æ‰€æœ‰ç¾¤ç»„åŒ…å«groupè¿™ä¸ªç¾¤ç»„enddef quit!(group) participated_groups.delete(group) #[é—®é¢˜]å¦‚æœè¿™é‡Œç”¨destroyè¡Œä¸è¡Œï¼Ÿend rail cé‡Œçš„æµ‹è¯•è§£è¯»ï¼š 1234567u = User.firstg = Group.firstu.join!(g)u.is_member_of?(g)u.quit!(g)u.is_member_of?(g)exit 7ã€controlleré‡Œçš„joinå’Œquit12345678910+ def join+ @group = Group.find(params[:id])+ + if !current_user.is_member_of?(@group)+ current_user.join!(@group)+ flash[:notice] = &quot;åŠ å…¥æœ¬è®¨è®ºç‰ˆæˆåŠŸï¼&quot;+ end+ + redirect_to group_path(@group)+ end 8ã€åˆ›åŠç¾¤ç»„çš„æ—¶å€™è‡ªåŠ¨åŠ å…¥ç¾¤ç»„ï¼Œåˆæ˜¯åœ¨creatçš„actionä¸­åŠ å…¥ã€‚æ³¨æ„è¿™é‡Œæ˜¯ç”¨modelé‡Œçš„join!æ–¹æ³•ï¼Œè€Œä¸æ˜¯åŒä¸ªæ–‡ä»¶controlleré‡Œçš„joinæ–¹æ³•ã€‚12345678910 def create @group = Group.new(group_params) @group.user = current_user if @group.save+ current_user.join!(@group) redirect_to groups_path else render :new end end 8ã€ æ–°å¢ä¸€ä¸ªä¸‹æ‹‰é€‰å• å¯ä»¥çœ‹åˆ°è‡ªå·±è¿‡å»æ›¾ç»å‘è¡¨çš„æ–‡ç«  å¯ä»¥çœ‹åˆ°è‡ªå·±è¿‡å»æ›¾ç»å‚ä¸çš„ç¤¾å›¢ 9ã€ äº†è§£ Helper æ˜¯ä»€ä¹ˆï¼Œæ€ä¹ˆä½¿ç”¨ æ¢è¡Œæ˜¾ç¤ºsimple_format(group.description) è‡ªå®šä¹‰helperï¼Œ&lt;%= render_group_description(group) %&gt; äº†è§£ Partial æ˜¯ä»€ä¹ˆï¼Œæ€ä¹ˆä½¿ç”¨ å…±ç”¨è¡¨å•çš„ä½œç”¨ï¼Œå¹¶ä¸”å¯ä»¥è®¾ç½®å‚æ•°æ¥æ›¿ä»£&lt;% @groups.each do |group| %&gt; &lt;%= render :partial =&gt; &quot;group_item&quot;, :collection =&gt; @groups, :as =&gt; :group %&gt; 10ã€ä¸Šä¼ 1ã€ä¸Šä¼ github git remote add origin git@github.com:ä½ çš„githubåå­—/rails101-1.gitgit push -u origin master git push --all origin githubæŠ¥é”™å¼ºæ¨git push origin master â€”force 2ã€ä¸Šä¼ heroku ä¿®æ”¹ Gemfile æ–‡ä»¶ï¼ŒæŠŠ sqlite3 ä»ç¬¬7è¡Œæ¬åˆ°çº¦ç¬¬30åˆ°40è¡Œçš„group :development, :test do åœ¨æœ«å°¾æ–°å¢ä¸€ä¸ª production groupï¼ŒåŠ ä¸Š pg è¿™ä¸ª gemã€‚ç„¶åbundle install 123group :production do gem &apos;pg&apos;end heroku login heroku create git push heroku ch08:master heroku run rake db:migrate æ–°å»ºheroku create appåå­— æ”¹åheroku apps:rename æ–°appåå­— åˆ é™¤heroku apps:destroy appåå­— æŠ¥é”™å¼ºæ¨git push -f heroku master æŠ¥é”™debugï¼Œheroku logs | grep -i error æ¸…ç©ºæ•°æ® 123heroku pg:reset DATABASEï¼ˆæ¸…ç©ºherokuæ•°æ®åº“ï¼Œæ¯”å¦‚æ—§çš„seedæ¡£ï¼‰heroku run rake db:migrateheroku run rake db:seed","categories":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}],"tags":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/tags/rorç³»ç»Ÿ/"}],"keywords":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}]},{"title":"ror-system-æ‹›è˜ç½‘","slug":"ror-system-æ‹›è˜ç½‘","date":"2017-12-13T02:25:00.000Z","updated":"2018-01-14T04:43:01.000Z","comments":true,"path":"posts/f7a3e9a4/","link":"","permalink":"http://yoursite.com/posts/f7a3e9a4/","excerpt":"","text":"ç”¨æˆ·æ•…äº‹ èº«ä¸ºç®¡ç†è€…ï¼Œæˆ‘å¯ä»¥æ–°å¢èŒç¼ºéœ€æ±‚ï¼› åŒ…æ‹¬ã€Œæ ‡é¢˜ã€ã€Œå†…å®¹ã€ã€Œè–ªèµ„ä¸Šé™ã€ã€Œè–ªèµ„ä¸‹é™ã€ã€Œè”ç³»æ–¹å¼ã€ èº«ä¸ºç®¡ç†è€…ï¼Œæˆ‘å¯ä»¥ç¼–è¾‘ã€åˆ é™¤ã€éšè—èŒç¼ºéœ€æ±‚ ï¼ˆåœ¨åå°ï¼‰ï¼› èº«ä¸ºä½¿ç”¨è€…ï¼Œæˆ‘å¿…é¡»ã€Œç™»å…¥ã€æ‰èƒ½å‘è¡¨èŒç¼ºï¼› èº«ä¸ºä½¿ç”¨è€…ï¼Œæˆ‘å¿…é¡»è¦æœ‰ã€Œadmin èº«ä»½æ³¨è®°ã€æ‰èƒ½è¿›å…¥åå°ã€‚ 5ã€åŸºç¡€å»ºè®¾ä¸å‰åå°jobrails newï¼Œæˆ–è€…æ˜¯git cloneã€cp config/database.yml.example config/database.ymlã€bundle install â‘ ã€gem â€˜bootstrap-sassâ€™ï¼Œcssã€htmlã€flashes â‘¡ã€gem â€˜deviseâ€™ï¼Œåšnavbarçš„loginã€logoutã€signup â‘¢ã€gem â€˜simple_formâ€™ â‘£ã€gem â€˜font-awesome-railsâ€™ï¼ŒåŠ å…¥ç™»å½•å’Œé€€å‡ºå°å›¾æ ‡ åŸºç¡€å»ºè®¾ jobså’Œadmin/jobsçš„CRUDï¼Œæœ€å°å¯è¡Œç•Œé¢ã€‚ adminåŠ å…¥require_is_adminçš„éªŒè¯ åŠ å…¥å…¶ä»–æ ä½ï¼šwage_upper_boundã€wage_lower_boundã€contact_emalã€is_hidden è–ªèµ„ä¸èƒ½ä¸ºç©ºï¼Œä¸”å¤§äº0ï¼Œnumericality: { greater_than: 0} is_hiddenç”¨booleanå€¼ï¼Œéšè—çš„èŒä½ä¸å¯åœ¨å‰å°çœ‹åˆ°ï¼Œå¹¶æ’åº åå°æ˜¾ç¤ºpublicå’ŒhiddençŠ¶æ€ï¼Œå¹¶æŠŠä»£ç æ¬åˆ°helper admin/jobsçš„CRUDï¼Œæœ€å°å¯è¡Œç•Œé¢ 8ã€ æŠŠ admin#jobsï¼ˆç®¡ç†å‘˜ç”¨çš„ï¼‰ä¸ jobsï¼ˆåº”å¾è€…ç”¨çš„ï¼‰åšä¸ªåŒºåˆ†ï¼› åŠ ä¸Š sidebar è®¾è®¡ï¼Œå³ç”¨layout â€œadminâ€ åœ¨ admin åå°çš„èŒç¼ºçŠ¶æ€ï¼Œæ”¹æˆå›¾æ ‡ï¼› æ”¹æˆ Font Awesome å›¾æ ‡ï¼Œcontent_tag(:span, â€œâ€, :class =&gt; â€œfa fa-lockæˆ–fa-globeâ€) æŠŠ is_hidden çš„æ“ä½œæ”¹æˆæŒ‰é’® R V Cï¼Œç„¶åé‡æ„åˆ°M æ³¨æ„ï¼šè¿™é‡Œæ›´æ–°æ ä½å¯æœ‰ä¸¤ç§å†™æ³•ï¼Œâ‘ ã€self.æ ä½ = å€¼ï¼›â‘¡ã€self.update_columns(æ ä½: å€¼)ï¼Œæ›´æ–°å®Œæ ä½çš„å€¼ï¼Œè®°å¾—è¦self.saveä¿å­˜ã€‚ jobs#show è¢«éšè—çš„å·¥ä½œä¸å¯ä»¥è¢«æŸ¥çœ‹åˆ° 11ã€è–ªèµ„æ’åº å’Œä¸Šä¼ ç®€å† é¦–é¡µå¯ä»¥æŒ‰ç…§èŒç¼ºè–ªèµ„ä¸‹é™æ’åº å› ä¸ºæœ‰å¤šç§æƒ…å†µï¼Œcontrolleré‡Œç”¨case..whençš„è¯­æ³• æ’åºorderéƒ¨åˆ†ç”¨scopeé‡æ„åˆ°modelä¸­ é¦–é¡µå¯ä»¥æŒ‰ç…§èŒç¼ºè–ªèµ„ä¸Šé™æ’åº é¦–é¡µå¯ä»¥æŒ‰ç…§èŒç¼ºå‘è¡¨æ—¶é—´æ’åº åº”å¾è€…å¯ä»¥æäº¤è‡ªå·±çš„ç®€å† ç®€å†çš„ç½‘å€åº”è¯¥é•¿æˆè¿™æ ·ï¼š/jobs/1/resumes/new ç”¨æˆ·å¿…é¡»è¦ç™»å…¥æ‰èƒ½æäº¤ç®€å† ä½¿ç”¨ Resume è¿™ä¸ª model çš„ attachment æ ä½ gem â€œcarrierwaveâ€ public/uploadersåŠ å…¥.gitignoreé‡Œ 11-11ã€ç½‘å€é‡Œå¸¦å‚æ•°çš„å†™æ³•ï¼Ÿ ã€é—®é¢˜1ã€‘â‘ ã€jobs_path(:order =&gt; â€œby_upper_boundâ€)å¯ä¸å¯ä»¥å†™æˆjobs_path(order : â€œby_upper_boundâ€)ï¼Ÿå¯ä»¥çš„ã€‚æ³¨æ„ï¼šè¿™ç§å†™æ³•å†™å®Œåï¼Œç”¨chromeçš„æ£€æŸ¥ï¼Œå¯ä»¥çœ‹åˆ°ç”Ÿæˆä¸‹é¢â‘¡é‡Œçš„ç½‘å€ã€‚ â‘¡ã€/jobs?order=by_lower_bound 2ã€controlleré‡Œçš„åˆ¤æ–­å¼12345678910def index @jobs = case params[:order] when &apos;by_lower_bound&apos; Job.where(is_hidden: false).order(&apos;wage_lower_bound DESC&apos;) when &apos;by_upper_bound&apos; Job.where(is_hidden: false).order(&apos;wage_upper_bound DESC&apos;) else Job.where(is_hidden: false).order(&apos;created_at DESC&apos;) endend 11-2ã€ä¸Šä¼ ç®€å†1ã€ã€é—®é¢˜1ã€‘ï¼šresumeçš„controlleré‡Œcreateçš„å†™æ³•ï¼Œéœ€è¦åŠ å…¥@resume.job = @jobå’Œ@resume.user = current_userï¼Œæ˜¯ä¸æ˜¯æ ¹æ®é“¾æ¥å¯ä»¥çœ‹åˆ°è¿™é‡Œè·Ÿjob_idå’Œresume_idéƒ½æœ‰å…³ï¼Œæ‰€ä»¥ç”¨äºè¯´æ¸…æ¥šå®ƒä»¬çš„å…³ç³»ï¼Ÿï¼Ÿã€å¾…å®Œå–„çš„è§£é‡Šã€‘ï¼šæµ‹è¯•å‘ç°@resume.job = @jobæ”¾åœ¨showé‡Œä¼šæŠ¥é”™ï¼Œæ‰€ä»¥è¿™è¡Œä»£ç æ˜¯ä¸èƒ½ä¹±æ”¾çš„ã€‚ å› ä¸ºjobèŒä½æœ‰å¾ˆå¤šä¸ªï¼Œç”¨@resume.job = @jobæŒ‡æ˜ç®€å†å…·ä½“æŠ•é€’çš„æ˜¯å“ªä¸ªèŒä½ï¼›å› ä¸ºuserç”¨æˆ·æœ‰å¾ˆå¤šä¸ªï¼Œç”¨@resume.user = current_useræ¥æŒ‡æ˜è¿™ä»½ç®€å†å…·ä½“æ˜¯è°æŠ•é€’çš„ã€‚â€”â€”ä»7ä¸ªactionæ¥çœ‹ï¼Œåªæœ‰createå’Œupdateé€‚åˆç”¨æ¥è®°å½•å¤–é”®å€¼user_idã€job_idï¼Œè€Œupdateåªèƒ½é€šè¿‡editæ¥è¿›å…¥ï¼Œå¹¶ä¸æ˜¯æ¯ä¸ªresumeéƒ½ä¼šè¢«æˆ‘ä»¬ç¼–è¾‘åˆ°ï¼Œæ‰€ä»¥é€šè¿‡createçš„actionæ¥æŒ‡æ˜ã€‚ 1234567891011def create @job = Job.find(params[:job_id]) @resume = Resume.new(resume_params) @resume.job = @job #è¿™è¡Œä¸åŠ ä¼šæŠ¥é”™ @resume.user = current_user #è¿™è¡Œä¸åŠ ç‚¹å‡»ä¸Šä¼ ç®€å†é¡µé¢æ²¡æœ‰ååº” if @resume.save redirect_to root_path else render :new endend 12ã€ç®€å†åå° ç®¡ç†å‘˜åœ¨åå°å¯ä»¥çœ‹åˆ°æ¯ä¸ªèŒç¼ºæœ‰å¤šå°‘ä½¿ç”¨è€…æŠ•é€’ç®€å†ï¼› 1job.resumes.count ç®¡ç†å‘˜åœ¨åå°å¯ä»¥çœ‹åˆ°æ¯ä¸ªèŒç¼ºé‡Œé¢çš„æŠ•é€’ç®€å†å†…å®¹ï¼Œå¹¶ä¸”å¯ä»¥ä¸‹è½½é™„ä»¶ã€‚ 1&lt;%= link_to(&quot;Download Resume&quot;, resume.attachment_url) %&gt; 1&lt;%= render :partial =&gt; &quot;resume&quot;, :collection =&gt; @resumes, :as =&gt; :resume %&gt; 12-2ã€åå°çœ‹åˆ°å…¨éƒ¨ç®€å†1ã€ã€é—®é¢˜1ã€‘ï¼š&lt;%= link_to(job.resumes.count, admin_job_resumes_path(job)) %&gt;è¿™ä¸ªå°±okï¼Œä½†æ˜¯&lt;%= link_to(job.resumes.count, admin_job_resume_path(job)) %&gt;è¿™ä¸ªä¼šæŠ¥é”™å¦‚ä¸‹ï¼Œè¦æ€ä¹ˆæ”¹æ‰èƒ½æŸ¥çœ‹showé¡µé¢ï¼Ÿ åˆ†æï¼šshowçš„åœ°å€å¦‚http://localhost:3000/admin/jobs/12/resume/1ï¼Œè¿™é‡Œéœ€è¦çŸ¥é“job_idå’Œresume_idï¼Œå³è¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œæ‹¬å·é‡Œè¦æ€ä¹ˆå†™ï¼Ÿï¼Ÿâ€”â€”æµ‹è¯•å‘ç°å„ç§æ–¹æ¡ˆéƒ½ä¼šæŠ¥é”™ï¼Œä¸¤ä¸ªå‚æ•°çš„å†™æ³•åº”è¯¥æ˜¯(@job, @resume)ã€‚ ç°åœ¨çš„é¡µé¢æ˜¯http://localhost:3000/admin/jobså³jobçš„indexï¼Œä¸€èˆ¬æ˜¯åœ¨http://localhost:3000/admin/jobs/12/resumeså³resumeçš„indexé¡µé¢é‡Œå†™showï¼Œæµ‹è¯•å‘ç°okã€‚ 12345&lt;% @resumes.each do |resume| %&gt; &lt;div class=&quot;panel-heading&quot;&gt;â€‹ &lt;%= link_to(â€œç®€å†è¯¦æƒ…showâ€, admin_job_resume_path(@job, resume)) %&gt; â€‹12&lt;% end %&gt; 2ã€ â‘ ã€carrierwaveä¸‹è½½ç®€å†çš„é“¾æ¥ç”¨urlå†™&lt;%= link_to(&quot;ä¸‹è½½ç®€å†&quot;, resume.attachment_url) %&gt;ã€‚ â‘¡ã€ä½¿ç”¨è€…ç”¨&lt;%= @resume.user.email %&gt;ã€‚ â‘¢ã€å¤–è§‚ç”¨bootstrapçš„panelæ•´åˆã€‚ 3ã€ã€æ‹“å±•é—®é¢˜ã€‘ï¼šresumeçš„editçš„actionè¦æ€ä¹ˆå†™ï¼Œç”¨ä¸‹é¢çš„å†™æ³•ä¸€ç›´æŠ¥é”™ã€‚ 13ã€é­”æ”¹1ã€é¦–é¡µå¤§å›¾ï¼Œç”¨bootstrapçš„å·¨å¹• 1background-image:url(&apos;http://fullstack-public.oss-cn-qingdao.aliyuncs.com/2017-04-15-542213.png&apos;) 2ã€é¦–é¡µå°æ ç›®ï¼Œç”¨bootstrapçš„ç¼©ç•¥å›¾ 3ã€åå°æŒ‰é’®æ ·å¼ï¼Œç”¨class =&gt; â€œbtn btn-xs btn-successâ€ï¼Œå¸¸ç”¨é¢œè‰²infoã€dangerã€successã€warningï¼Œdefaultã€primate 4ã€è¡¨æ ¼æ ·å¼ï¼Œclass:â€table table-bordered table-hoverâ€ 5ã€å¯¼èˆªæ é¢œè‰²æ ·å¼ï¼Œç”¨bootstrapå¯¼èˆª 6ã€logoå’Œfaviconï¼Œç”¨font-awesomeæˆ–imgã€‚&lt;img src=&#39;&lt;%= image_url &#39;logo.png&#39; %&gt;&#39; &gt; 7ã€ã€é—®é¢˜1ã€‘.btn-lg, .btn-group-lg &gt; .btnæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ 1234567+ .btn-lg, .btn-group-lg &gt; .btn &#123;+ padding: 8px 16px;//é€šè¿‡paddingæ¥å†³å®šbtnçš„å¤§å°+ font-size: 20px;//btnæ–‡å­—å¤§å°+ letter-spacing: 3px;//è°ƒæ•´æ–‡å­—é—´è·+ border-radius: 3px;//btnåœ†è§’+ width: 200px;//è¿™é‡Œç”¨æŒ‡å®šå®½åº¦æŠŠbtnæ‹‰å¾—æ›´é•¿+ &#125;","categories":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}],"tags":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/tags/rorç³»ç»Ÿ/"}],"keywords":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}]},{"title":"tool-atom-atomçš„Tree Viewéšè—äº†.gitignoreé‡Œåˆ—å‡ºçš„æ–‡ä»¶æˆ–ç›®å½•ï¼Ÿ","slug":"tool-atom-atomçš„Tree Viewéšè—äº†.gitignoreé‡Œåˆ—å‡ºçš„æ–‡ä»¶æˆ–ç›®å½•ï¼Ÿ","date":"2017-12-06T16:10:00.000Z","updated":"2018-01-14T05:52:02.000Z","comments":true,"path":"posts/4561aa0/","link":"","permalink":"http://yoursite.com/posts/4561aa0/","excerpt":"","text":"åŸæ¥æ˜¯å› ä¸º Tree View è¿™ä¸ªæ’ä»¶æœ‰ä¸ªé€‰é¡¹ï¼Œå¯ä»¥éšè—ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿé‡Œè¢«å¿½ç•¥æ‰çš„æ–‡ä»¶ï¼Œæ¯”å¦‚åœ¨ .gitignore æ–‡ä»¶é‡Œåˆ—å‡ºæ¥çš„ä¸œè¥¿ã€‚ä½ å¯ä»¥å–æ¶ˆè¿™ä¸ªé€‰é¡¹ã€‚ æ‰“å¼€ Settings - Packages æœç´¢ tree-view ç‚¹å‡» Settings å–æ¶ˆå‹¾é€‰çš„ Hide VCS Ignored Files","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/å·¥å…·/"},{"name":"atom","slug":"atom","permalink":"http://yoursite.com/tags/atom/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}]},{"title":"bug-ç¼ºå°‘idï¼Œmodelå…³ç³»æ²¡è®¾ç½®ï¼Œcreateçš„actionæ²¡æŒ‡æ˜modelå…³ç³»","slug":"bug-ç¼ºå°‘idï¼Œmodelå…³ç³»æ²¡è®¾ç½®ï¼Œcreateçš„actionæ²¡æŒ‡æ˜modelå…³ç³»","date":"2017-12-01T04:00:00.000Z","updated":"2018-01-14T02:18:37.000Z","comments":true,"path":"posts/523a3588/","link":"","permalink":"http://yoursite.com/posts/523a3588/","excerpt":"","text":"ç¬¬ä¸€ç§ï¼šNo route matches {:action=&gt;â€showâ€, :controller=&gt;â€ordersâ€, :id=&gt;nil} missing required keys: [:id]123456789101112131415161718ActionController::UrlGenerationError in Account::Orders#indexShowing /Users/apple/rails/jdstore1130/app/views/account/orders/index.html.erb where line #13 raised:No route matches &#123;:action=&gt;&quot;show&quot;, :controller=&gt;&quot;orders&quot;, :id=&gt;nil&#125; missing required keys: [:id]Extracted source (around line #13):111213141516 &lt;% @orders.each do |order| %&gt; &lt;tr&gt; &lt;td&gt;&lt;%= link_to(order.id, order_path(order.token)) %&gt;&lt;/td&gt; &lt;td&gt;&lt;%= order.created_at %&gt;&lt;/td&gt; &lt;/tr&gt; &lt;% end %&gt; ç¬¬äºŒç§ï¼šundefined method1234567891011121314151617NoMethodError in OrdersController#showundefined method `product_lists&apos; for nil:NilClassExtracted source (around line #5):345678 def show @order = Order.find_by_token(params[:id]) @product_lists = @order.product_lists end def create è§£å†³åŠæ³•ï¼š1ã€æ£€æŸ¥modelé‡Œçš„å…³ç³»è®¾ç½® 2ã€æ£€æŸ¥createçš„actionæœ‰æ²¡æœ‰æŒ‡æ˜å¤–é”®ï¼ˆå³modelä¸­æœ‰è®¾ç½®belongs_to :xxï¼‰ç›¸å…³çš„å…³ç³»ï¼ˆå¦‚@productj.user = current_userï¼‰ 3ã€æ£€æŸ¥htmlçš„è¾“å…¥å‚æ•°ï¼Œæ˜¯è¦ç”¨å¸¸ç”¨å‚æ•°(@xx)ï¼Œè¿˜æ˜¯ç”¨idå‚æ•°(@xx.yy_id) 4ã€å¦‚æœæœ‰æ–°å¢æ ä½ï¼Œå°è¯•æ¸…ç©ºè¯¥æ ä½çš„ç©ºçš„å€¼ã€‚æ¯”å¦‚è¿›å…¥rails cï¼Œè¾“å…¥Order.where(token: nil).destroy_all","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"bug","slug":"bug","permalink":"http://yoursite.com/tags/bug/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"bug-è´­ç‰©ç½‘6-1ç¬¬å››é¢˜ undefined method `update' for nil/NilClass","slug":"bug-è´­ç‰©ç½‘6-1ç¬¬å››é¢˜ undefined method `update' for nil:NilClass","date":"2017-11-30T01:15:00.000Z","updated":"2018-01-14T02:18:11.000Z","comments":true,"path":"posts/b36ae94d/","link":"","permalink":"http://yoursite.com/posts/b36ae94d/","excerpt":"","text":"12345678910NoMethodError in CartItemsController#updateundefined method `update&apos; for nil:NilClassExtracted source (around line #6): @cart = current_cart @cart_item = @cart.cart_items.find_by(product_id: params[:id]) @cart_item.update(cart_item_params) redirect_to :back end åˆ†æï¼šå› ä¸ºè¿™é‡Œä¸æ˜¯show/new/edité¡µé¢ï¼Œè€Œæ˜¯/cartsé¡µé¢ï¼Œè´­ç‰©è½¦é‡Œæœ‰å¾ˆå¤šä¸ªcart_itemï¼Œæ‰€ä»¥ç³»ç»Ÿä¸çŸ¥é“æˆ‘ä»¬è¦åˆ é™¤å“ªä¸€ä¸ªã€‚çœ‹å˜é‡åéƒ½çŸ¥é“ï¼Œè¿™é‡Œæ˜¯cart_itemsè€Œä¸æ˜¯ç±»å˜é‡å•æ•°@cart_itemâ€”â€”å› æ­¤ï¼Œåœ¨simple_form_foré‡Œè¦åŠ å…¥urlï¼ŒæŒ‡æ˜è¦åˆ é™¤çš„cart_itemï¼Œè¿™ä¸ªurlæ˜¯è¡¨å•è¦æäº¤åˆ°çš„urlåœ°å€ï¼Œå¯ä»¥ç”¨showçš„urlã€‚è§£ç­”ï¼šåŠ å…¥url: cart_item_path(cart_item.product_id)1234&lt;%= simple_form_for cart_item, url: cart_item_path(cart_item.product_id) do |f| %&gt; &lt;%= f.select :quantity, 1..cart_item.product.quantity %&gt; &lt;%= f.submit &quot;æ›´æ–°&quot;, data:&#123;disable_with:&quot;æ­£åœ¨æ›´æ–°..&quot;&#125; %&gt; &lt;% end %&gt;","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"bug","slug":"bug","permalink":"http://yoursite.com/tags/bug/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"bug-è´­ç‰©ç½‘5-3 NameError/ uninitialized constant Product//ImageUploader","slug":"bug-è´­ç‰©ç½‘5-3 NameError: uninitialized constant Product::ImageUploader","date":"2017-11-29T20:30:00.000Z","updated":"2018-01-14T02:18:02.000Z","comments":true,"path":"posts/3abd616e/","link":"","permalink":"http://yoursite.com/posts/3abd616e/","excerpt":"","text":"NameError: uninitialized constant Product::ImageUploaderé”™è¯¯ï¼šæ‰§è¡Œrails cï¼Œè¾“å…¥Product.lastæŠ¥é”™1234567891011121314151617181920 apple@apple â®€ ~/rails/jdstore1130 â®€ â­  testÂ± â®€ rails cRunning via Spring preloader in process 6299Loading development environment (Rails 5.0.6)2.3.1 :001 &gt; Product.lastNameError: uninitialized constant Product::ImageUploader from /Users/apple/rails/jdstore1130/app/models/product.rb:4:in `&lt;class:Product&gt;&apos; from /Users/apple/rails/jdstore1130/app/models/product.rb:1:in `&lt;top (required)&gt;&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies/interlock.rb:12:in `block in loading&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/concurrency/share_lock.rb:150:in `exclusive&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.6/lib/active_support/dependencies/interlock.rb:11:in `loading&apos; from (irb):1 from /Users/apple/.rvm/gems/ruby-2.3.1/gems/railties-5.0.6/lib/rails/commands/console.rb:65:in `start&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/railties-5.0.6/lib/rails/commands/console_helper.rb:9:in `start&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/railties-5.0.6/lib/rails/commands/commands_tasks.rb:78:in `console&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/railties-5.0.6/lib/rails/commands/commands_tasks.rb:49:in `run_command!&apos; from /Users/apple/.rvm/gems/ruby-2.3.1/gems/railties-5.0.6/lib/rails/commands.rb:18:in `&lt;top (required)&gt;&apos; from /Users/apple/rails/jdstore1130/bin/rails:9:in `&lt;top (required)&gt;&apos; from /Users/apple/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in `require&apos; from /Users/apple/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in `require&apos; from -e:1:in `&lt;main&gt;&apos; è§£å†³åŠæ³•ï¼šå› ä¸ºCarrierWaveåœ¨ORM (ActiveRecord)ä¹‹å‰åŠ è½½äº†ï¼Œè§£å†³çš„æ–¹æ¡ˆæ˜¯åœ¨environment.rbä¸­åŠ å…¥require &#39;carrierwave/orm/activerecord&#39;é‡å¯ä¸‹serveråé”™è¯¯æ¶ˆå¤±ã€‚","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"bug","slug":"bug","permalink":"http://yoursite.com/tags/bug/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"bug-è´­ç‰©ç½‘4-4 nil is not a valid asset source","slug":"bug-è´­ç‰©ç½‘4-4 nil is not a valid asset source","date":"2017-11-29T18:40:00.000Z","updated":"2018-01-14T02:17:54.000Z","comments":true,"path":"posts/de723084/","link":"","permalink":"http://yoursite.com/posts/de723084/","excerpt":"","text":"åŸå› ï¼š12345&lt;% if @product.image.present? %&gt; &lt;%= image_tag(@product.image.thumb.url, class:&quot;thumbnail&quot;) %&gt; &lt;% else %&gt; &lt;%= image_tag(&quot;http://placehold.it/200x200&amp;text=No Pic&quot;, class:&quot;thumbnail&quot;) %&gt; &lt;% end %&gt; adminåå°è®¾ç½®äº†ä»¥ä¸Šä»£ç ï¼Œå¦‚æœæ–°å»ºå•†å“æ²¡æœ‰ä¸Šä¼ å›¾ç‰‡ï¼Œè¿”å›productsçš„indexé¡µé¢æ—¶å°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºå®ƒçš„ä»£ç å¦‚ä¸‹ï¼š 12345&lt;% @products.each do |product| %&gt; &lt;%= link_to product_path(product) do %&gt; &lt;%= image_tag(product.image.thumb.url, class:&quot;thumbnail&quot;) %&gt; &lt;% end %&gt;&lt;% end %&gt; è¿™é‡Œæ˜¯ç›´æ¥æ‹¿@productsåšå¾ªç¯ï¼Œé‡åˆ°imageçš„å€¼ä¸ºnilæ—¶å°±ä¼šæŠ¥é”™ã€‚ è§£å†³åŠæ³•ï¼šåœ¨productsçš„indexä¹ŸåŠ ä¸Šè¿™æ®µä»£ç 12345&lt;% if @product.image.present? %&gt; &lt;%= image_tag(@product.image.thumb.url, class:&quot;thumbnail&quot;) %&gt; &lt;% else %&gt; &lt;%= image_tag(&quot;http://placehold.it/200x200&amp;text=No Pic&quot;, class:&quot;thumbnail&quot;) %&gt; &lt;% end %&gt;","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"bug","slug":"bug","permalink":"http://yoursite.com/tags/bug/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"bug-è´­ç‰©ç½‘å¤§ç±» No route matches {/action=>\"index\", /controller=>\"admin/resumes\"} missing required keys/ [/job_id]","slug":"bug-è´­ç‰©ç½‘å¤§ç±» No route matches {:action=>\"index\", :controller=>\"admin:resumes\"} missing required keys: [:job_id]","date":"2017-11-28T20:20:00.000Z","updated":"2018-01-14T02:18:29.000Z","comments":true,"path":"posts/3e73ee3b/","link":"","permalink":"http://yoursite.com/posts/3e73ee3b/","excerpt":"","text":"ActionController::UrlGenerationError in Admin::Jobs#indexShowing /Users/apple/rails/job-listing1129/app/views/admin/jobs/index.html.erb where line #22 raised: No route matches {:action=&gt;â€indexâ€, :controller=&gt;â€admin/resumesâ€} missing required keys: [:job_id] Extracted source (around line #22): 202122232425 &lt;%= link_to(job.title, admin_job_path(job)) %&gt; &lt;/td&gt; &lt;td&gt;&lt;%= link_to(job.resumes.count, admin_job_resumes_path) %&gt;&lt;/td&gt; &lt;td&gt;&lt;%= job.wage_lower %&gt;&lt;/td&gt; &lt;td&gt;&lt;%= job.wage_upper %&gt;&lt;/td&gt; &lt;td&gt;&lt;%= job.contact %&gt;&lt;/td&gt; Rails.root: /Users/apple/rails/job-listing1129 åŸå› ï¼š1ã€modelé‡Œæ²¡æœ‰åšå…³è”2ã€modelå…³è”åï¼Œæ‰€æœ‰å¤–é”®ï¼ˆæ¯”å¦‚ç®€å†resumeé‡Œæœ‰user_idã€job_idï¼‰è¦åœ¨controlllerçš„createçš„actioné‡Œç»™ä¸€ä¸ªè¡¨è¾¾å¼ï¼ŒæŒ‡æ˜è¿™ä»½ç®€å†å…·ä½“å±äºå“ªä¸€ä¸ªç”¨æˆ·ã€å…·ä½“å±äºå“ªä¸€ä¸ªèŒä½çš„ã€‚æ¯”å¦‚12345def create @job = Job.find(params[:job_id]) @resume.job = @job @resume.user = current_userend 3ã€viewsçš„è·¯å¾„æ²¡æœ‰ç»™å‚æ•°ï¼Œæ¯”å¦‚admin_job_resumes_path(@job)é‡Œçš„@job","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"bug","slug":"bug","permalink":"http://yoursite.com/tags/bug/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"ror-tips-=~æ˜¯ä»€ä¹ˆï¼Ÿ","slug":"ror-tips-=~æ˜¯ä»€ä¹ˆ?","date":"2017-11-27T16:10:00.000Z","updated":"2018-01-14T04:55:31.000Z","comments":true,"path":"posts/99eb1fd3/","link":"","permalink":"http://yoursite.com/posts/99eb1fd3/","excerpt":"","text":"æ­£åˆ™åŒ¹é…ç¬¦å·ï¼Œå‡å¦‚ï¼šs=â€asdfasdfasdâ€ï¼Œs=~/asd/åŒ¹é…ä¸Šè¿”å›èµ·å§‹ä½ç½®0ï¼ˆå³ç¬¬ä¸€ä¸ªå­—æ¯çš„ç´¢å¼•å·ï¼Œä»0å¼€å§‹ï¼‰ï¼Œs=~/sdf/åŒ¹é…ä¸Šè¿”å›èµ·å§‹ä½ç½®1ï¼Œæ²¡æœ‰åŒ¹é…ä¸Šè¿”å›nil","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/tags/rorçŸ¥è¯†ç‚¹/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"ror-tips-delete_allå’Œdestroy_allçš„åŒºåˆ«","slug":"ror-tips-delete_allå’Œdestroy_allçš„åŒºåˆ«","date":"2017-11-24T16:10:00.000Z","updated":"2018-01-14T04:55:31.000Z","comments":true,"path":"posts/e4cee3cd/","link":"","permalink":"http://yoursite.com/posts/e4cee3cd/","excerpt":"","text":"delete_allå’Œdestroy_allçš„åŒºåˆ«1ã€delete æ˜¯ sql æ“ä½œï¼Œç›´æ¥åœ¨æ•°æ®åº“æ‰§è¡Œ sqlï¼Œä¸è§¦å‘å›è°ƒï¼Œç›´æ¥åˆ é™¤ä¸ç®¡å…¶ä»–ã€‚delete_allåˆ é™¤å¤§é‡æ•°æ®æ—¶é€Ÿåº¦æ›´å¿«äº›ï¼Œä½†æ˜¯å±é™©çš„ã€‚æ‰€ä»¥ï¼Œé™åˆ¶ delete çš„æ–¹æ³•æ˜¯åœ¨ db å±‚é¢å¢åŠ æ ¡éªŒï¼Œè€Œåœ¨ Railsï¼ˆæˆ– ActiveRecordï¼‰ é‡Œå¢åŠ å›è°ƒå’Œ validates ä¿æŠ¤æ•°æ®ã€‚ 2ã€destroy æ˜¯ model æ“ä½œï¼Œè§¦å‘å„ç§å›è°ƒï¼Œåœ¨å›è°ƒé‡Œä¹Ÿè®¸åšåˆ¤å®šæˆ–å…¶ä»–äº‹æƒ…ï¼Œå¯¹äº Rails æ¥è¯´æ˜¯å®‰å…¨çš„åˆ é™¤æ–¹æ³•ã€‚destroyä¸ä¼šåˆ é™¤modelä¹‹é—´çš„å…³è”ï¼Œè€Œdeleteä¼šã€‚","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/tags/rorçŸ¥è¯†ç‚¹/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"bug-æ‹›è˜ç½‘10-3 æŒ‰è–ªèµ„ä¸‹é™æ’åºä¸ç”Ÿæ•ˆ","slug":"bug-æ‹›è˜ç½‘10-3 æŒ‰è–ªèµ„ä¸‹é™æ’åºä¸ç”Ÿæ•ˆ","date":"2017-11-24T01:00:00.000Z","updated":"2018-01-14T02:18:56.000Z","comments":true,"path":"posts/d7488f13/","link":"","permalink":"http://yoursite.com/posts/d7488f13/","excerpt":"","text":"è§£æ³•ï¼šä¸æŒ‰æ•™æçš„ä»£ç èµ°ï¼Œè–ªèµ„ä¸Šé™wage_upper_boundæ ä½æŒ‰é™åºæ’åˆ—å³DESCï¼Œè–ªèµ„ä¸‹é™wage_lower_bound ASCæŒ‰å‡åºæ’åˆ—å³ASCã€‚æå®šï¼ 12345678910def index @jobs = case params[:order] when &apos;by_lower_bound&apos; Job.where(is_hidden: false).order(&apos;wage_lower_bound ASC&apos;) when &apos;by_upper_bound&apos; Job.where(is_hidden: false).order(&apos;wage_upper_bound DESC&apos;) else Job.where(is_hidden: false).recent endend","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"bug","slug":"bug","permalink":"http://yoursite.com/tags/bug/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"bug-è´­ç‰©ç½‘8-1 æŒ‰ç”Ÿæˆè®¢å•æŒ‰é’®ç½‘å€è½¬åˆ°ordersä½†é¡µé¢ä¸è·³è½¬ï¼ˆä»£ç è·Ÿè¯¾ç¨‹çš„ä¸€æ ·ï¼‰","slug":"bug-è´­ç‰©ç½‘8-1 æŒ‰ç”Ÿæˆè®¢å•æŒ‰é’®ç½‘å€è½¬åˆ°ordersä½†é¡µé¢ä¸è·³è½¬ï¼ˆä»£ç è·Ÿè¯¾ç¨‹çš„ä¸€æ ·ï¼‰","date":"2017-11-23T04:10:00.000Z","updated":"2018-01-14T02:18:19.000Z","comments":true,"path":"posts/ef2eddfe/","link":"","permalink":"http://yoursite.com/posts/ef2eddfe/","excerpt":"","text":"æ£€æŸ¥ä»£ç è·Ÿè¯¾ç¨‹ä¸€æ ·ï¼ŒæŒ‰ç”Ÿæˆè®¢å•æŒ‰é’®ç½‘å€è½¬åˆ°ordersä½†é¡µé¢ä¸è·³è½¬ã€‚ â€”â€”é‡æ–°æŒ‰æ•™ç¨‹è´´ä¸€éï¼Œæ²¡æœ‰å‘ç°å·®å¼‚ï¼Œä½†æ˜¯bugä¸è§äº†ã€‚ã€‚","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"bug","slug":"bug","permalink":"http://yoursite.com/tags/bug/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"vps-ç§‘å­¦ä¸Šç½‘-å‚è€ƒèµ„æ–™-æ¬ç“¦å·¥Ubuntu16.04å®‰è£…é­”æ”¹ç‰ˆBBR","slug":"vps-ç§‘å­¦ä¸Šç½‘-å‚è€ƒèµ„æ–™-æ¬ç“¦å·¥Ubuntu16.04å®‰è£…é­”æ”¹ç‰ˆBBR","date":"2017-11-23T03:30:00.000Z","updated":"2018-01-14T05:32:49.000Z","comments":true,"path":"posts/d0137a83/","link":"","permalink":"http://yoursite.com/posts/d0137a83/","excerpt":"","text":"æ¬ç“¦å·¥Ubuntu16.04å®‰è£…é­”æ”¹ç‰ˆBBRç‚¹å‡»ä¸»æ§åˆ¶é¢æ¿ï¼Œå…ˆå…³æœºï¼š å¦‚æœåªæ˜¯ç”¨æ¥åšæ¢¯å­ç”¨ï¼Œåªæ¨èé‡è£…æˆUbuntu 16.04 x86_64ç³»ç»Ÿï¼Œä¸è¦é—®æˆ‘ä¸ºä»€ä¹ˆï¼ŒCentOSå¯¹è„šæ‰‹æ¶çš„é€Ÿåº¦ä¼˜åŒ–å¹¶ä¸å‹å¥½ï¼ˆä¸èƒ½æ›¿æ¢å†…æ ¸ï¼Œä¸èƒ½ä¸€é”®BBRï¼‰~~ é‡è£…å®Œç³»ç»Ÿï¼Œè®°å¾—æŠŠæ¬ç“¦å·¥å‘Šè¯‰ä½ çš„æ–°çš„SSHç™»å½•å¯†ç ç»™è®°å¥½ï¼Œè®°äº‹æœ¬å­˜åœ¨æœ¬åœ°å°±å¥½ï¼Œåˆ«å¿˜äº†~~ ä¸‹é¢æ­¥éª¤è¯·ä¸¥æ ¼æŒ‰ç…§æ‰§è¡Œï¼Œå¯¹ä½ è‚¯å®šæ˜¯æœ‰å¥½å¤„çš„ï¼Œä¸è¦ä¾¥å¹¸å·æ‡’~~ SSHç™»é™†æ— é¡»èµ˜è¿°ï¼Œæƒ³å¿…è¿™äº›éƒ½æ‡‚ï¼Œä½ è¦æ˜¯ä¸æ‡‚ï¼Œæˆ‘ä¹Ÿå¾—ç»™ä½ è®²æ¸…æ¥šï¼š å»ç™¾åº¦è½¯ä»¶ä¸­å¿ƒï¼Œä¸‹è½½æœ€æ–°ç‰ˆXshell http://rj.baidu.com/soft/detail/15201.html?ald è®°ä½ï¼Œåˆ«ç‚¹â€œé«˜é€Ÿä¸‹è½½â€ï¼Œç‚¹â€œæ™®é€šä¸‹è½½â€å°±å¥½äº†ï¼Œè¦ä¸ç„¶ä¼šé™„å¸¦ç™¾åº¦å…¨å®¶æ¡¶~~ ä¸€è·¯å®‰è£…ï¼Œè¿™ä¸ªå°±æ²¡ä»€ä¹ˆè¦è¯´çš„äº†ï¼Œç„¶åï¼Œæ‰“å¼€è½¯ä»¶~~ Alt+Oæ‰“å¼€ä¼šè¯ï¼Œç‚¹å‡»â€œå±æ€§â€ï¼š ä»¥ä¸‹æ˜¯å¿…å¡«é¡¹ï¼š ç”¨æˆ·åé»˜è®¤æ˜¯rootï¼Œå¯†ç æ˜¯æ¬ç“¦å·¥ç»™ä½ çš„ï¼š è®¾ç½®å®Œæˆï¼Œç‚¹å‡»â€œç¡®å®šâ€ï¼Œå†æ‰“å¼€â€œä¼šè¯â€æ¡†ï¼Œå°±å¯ä»¥è¿æ¥äº†ï¼š é˜…è¯»æœ¬æ–‡å‰ï¼Œå¿…é¡»æŒæ¡çš„å¿«æ·é”®ï¼š åœ¨sshä¸­é€‰ä¸­å­—ç¬¦çš„æ“ä½œå’Œåœ¨Windowsä¸‹æ˜¯ä¸€æ ·çš„ï¼Œé¼ æ ‡å·¦é”®ç‚¹ä½æ‹–åŠ¨å³å¯ï¼Œé€‰ä¸­éƒ¨åˆ†çš„åº•è‰²ä¼šå‘ç”Ÿå˜åŒ–ã€‚ Linuxçš„å¤åˆ¶/ç²˜è´´å‘½ä»¤å¿«æ·é”®å’ŒWindowsä¸‹æœ‰æ‰€ä¸åŒï¼š Ctrl+Insert ä»VPSé‡Œå¤åˆ¶æ–‡å­—å‡ºæ¥åˆ°ä½ çš„ç”µè„‘ Shift+Insert æŠŠä½ ç”µè„‘é‡Œçš„æ–‡å­—ç²˜è´´è¿›å…¥VPSé‡Œã€‚ å¾ˆæ˜æ˜¾ï¼Œåœ¨æˆ‘ä»¬çš„æ•™ç¨‹é‡Œï¼Œä½ ç”¨Shift+Insertè¿™ä¸ªå¿«æ·é”®çš„é¢‘ç‡æ›´é«˜ä¸€äº›~~ vi /xxx/xxxx.xxx è¿™æ¡å‘½ä»¤æ˜¯æŒ‡æ‰“å¼€æŸä¸ªæ–‡ä»¶å¹¶è¿›è¡Œä¿®æ”¹ï¼Œæ‰“å¼€åï¼Œå¯ä»¥æŒ‰é”®ç›˜ä¸Šçš„â€œä¸Šä¸‹å·¦å³é”®â€æ¥ç§»åŠ¨å…‰æ ‡ã€‚ å¦‚æœä½ æƒ³è¾“å…¥æˆ–ä¿®æ”¹å†…å®¹ï¼Œè¯·æŒ‰é”®ç›˜ä¸Šçš„â€œInsertâ€é”®ï¼š å¾…é‡Œé¢å†…å®¹ä¿®æ”¹å®Œæˆåï¼Œæˆ‘ä»¬åœ¨çº¯è‹±æ–‡è¾“å…¥çŠ¶æ€ä¸‹ï¼ŒæŒ‰é”®ç›˜ä¸Šçš„â€œEscâ€é”®ï¼Œåœ¨åº•éƒ¨è¾“å…¥ï¼ˆä¸‹é¢é‚£ä¸ªå†’å·æ˜¯è‹±æ–‡ï¼Œä¸æ˜¯ä¸­æ–‡ï¼‰ :wq æŒ‰å›è½¦ï¼ˆEnterï¼‰ï¼Œæ›´æ”¹ç”Ÿæ•ˆã€‚ å¦‚æœä½ åœ¨ç¼–è¾‘æ–‡ä»¶çš„æ—¶å€™ï¼Œå› ä¸ºä¸€äº›ä¸å¯æŠ—åŠ›æ„å¤–æ¨å‡ºäº†ï¼Œå› ä¸ºLinuxä¹Ÿæœ‰Swapï¼ˆè™šæ‹Ÿå†…å­˜ï¼‰æœºåˆ¶ï¼Œä¸€äº›ç¼“å­˜åœ¨è™šæ‹Ÿå†…å­˜ï¼ˆä¹Ÿæ˜¯ç”±ç¡¬ç›˜ç©ºé—´è™šæ‹Ÿå‡ºæ¥çš„ï¼‰é‡Œçš„æ•°æ®è¿˜æ²¡æ¥å¾—åŠåˆ·æ–°è‡³ç¡¬ç›˜ç©ºé—´é‡Œï¼Œæ‰€ä»¥ç³»ç»Ÿä¼šæœ‰ä»¥ä¸‹æç¤ºï¼š æ— éœ€çº ç»“è¿™äº›é—®é¢˜ï¼ŒæŒ‰â€œEâ€é”®ï¼ˆEditanywayï¼‰ç»§ç»­ç¼–è¾‘ï¼Œå¹¶æ­£å¸¸ä¿å­˜å¹¶é€€å‡ºå³å¯ã€‚ å¦‚æœå‘ç°è‡ªå·±è¾“é”™äº†ï¼Œè¦ä¹ˆæŒ‰é”®ç›˜ä¸Šçš„é€€æ ¼ï¼ˆBackSpaceï¼‰é”®åˆ é™¤ï¼Œå¦‚æœä¸€æ¬¡æ€§è¾“é”™ï¼ˆä¸€èˆ¬æ˜¯å› ä¸ºç²˜è´´é”™äº†ï¼‰äº†å¤ªå¤šï¼Œå¹²è„†æŒ‰â€œEscâ€é”®ï¼Œå†è¾“å…¥ï¼š :q! æŒ‰å›è½¦ï¼Œæ‰€æœ‰æ›´æ”¹ä¸ç”Ÿæ•ˆ ä¸‹é¢æ­£å¼è¿›å…¥éƒ¨ç½²ç¯èŠ‚ï¼šå…ˆæ›´æ–°ä¸€ä¸‹è½¯ä»¶å®‰è£…æºï¼š apt-get update å¦‚æœä½ æ‰§æ„ç”¨Debianï¼ŒDebianç‰ˆæœ¬æ¨èæ¬ç“¦å·¥é‡Œæä¾›çš„è¿™ä¸ªé•œåƒï¼š å†æ¬¡é‡ç”³ï¼Œåƒä¸‡åˆ«ç”¨CentOS+æ¬ç“¦å·¥ä¸€é”®é…¸é…¸ä¹³éƒ¨ç½²åŒ…ï¼Œåˆ°æ—¶å€™é˜²ç«é•¿åŸä¼šæŠŠä½ çš„è£¤å­æ‰’ä¸‹æ¥å¹²ä½ ï¼ å†æ¬¡é‡ç”³ï¼Œåƒä¸‡åˆ«ç”¨CentOS+æ¬ç“¦å·¥ä¸€é”®é…¸é…¸ä¹³éƒ¨ç½²åŒ…ï¼Œåˆ°æ—¶å€™é˜²ç«é•¿åŸä¼šæŠŠä½ çš„è£¤å­æ‰’ä¸‹æ¥å¹²ä½ ï¼ å†æ¬¡é‡ç”³ï¼Œåƒä¸‡åˆ«ç”¨CentOS+æ¬ç“¦å·¥ä¸€é”®é…¸é…¸ä¹³éƒ¨ç½²åŒ…ï¼Œåˆ°æ—¶å€™é˜²ç«é•¿åŸä¼šæŠŠä½ çš„è£¤å­æ‰’ä¸‹æ¥å¹²ä½ ï¼ ç”¨Debiançš„è¯ï¼Œæˆ‘æ¨èä½ å®‰è£…Vimç¼–è¾‘å™¨ï¼Œä½ è¦æ˜¯ä¸é€‰æ‹©è£…ï¼Œåˆ°æ—¶å€™ä¿®æ”¹å‚æ•°å†…å®¹çš„æ—¶å€™å¤Ÿä½ å–ä¸€å£¶çš„ï¼š apt-get install vim vim-gnome -y Tipsï¼šæ®æœ‰äº›åŒå­¦æµ‹è¯•å‘ç°ï¼Œç»è¿‡æ¬ç“¦å·¥åé¢æ¿é‡è£…è¿‡åçš„Ubuntu 16.04ç³»ç»Ÿï¼Œæ‰§è¡Œapt-get updateå‘½ä»¤åï¼Œä¼šå¼¹å‡ºä»¥ä¸‹æç¤ºï¼š é”™è¯¯ä¸»è¦é›†ä¸­åœ¨ï¼š E: Could not get lock/var/lib/dpkg/lock - open (11: Resource temporarily unavailable) E: Unable to lock theadministration directory (/var/lib/dpkg/), is another process using it? è¿™æ®µé”™è¯¯çš„å¤§è‡´å«ä¹‰ï¼Œæ˜¯æŒ‡ç”±apt-getå‘½ä»¤æ‰§è¡Œæ—¶ï¼Œå…·æœ‰ç›¸å…³æ€§çš„æ–‡ä»¶ç›®å½•ç¼“å­˜å‡ºç°äº†é—®é¢˜ï¼Œæ•…ä½¿aptå‘½ä»¤ç½®äºé”å®šçŠ¶æ€ã€‚ è§£å†³åŠæ³•ï¼š è¾“å…¥â€œrebootâ€ï¼Œé‡å¯ä¸‹æœºå™¨ï¼Œç„¶åé‡æ–°sshè¿æ¥è¯•è¯•ã€‚ï¼ˆé‡å¯åŒ…æ²»ç™¾ç—…ï¼‰ å¦‚æœå‘ç°è¿˜æ˜¯ä¸è¡Œï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œåˆ é™¤é”å®šæ–‡ä»¶ï¼š rm /var/lib/apt/lists/lock ç„¶åç»§ç»­åˆ é™¤ç¼“å­˜ç›®å½•ä¸­çš„é”å®šæ–‡ä»¶ï¼š rm /var/lib/dpkg/lock ä¿®å¤dpkgå®‰è£…è½¯ä»¶ä¾èµ–å…³ç³»ï¼š dpkg â€“configure â€“a ç»§ç»­æ‰§è¡Œapt-getå‘½ä»¤ï¼Œå°±æ²¡æœ‰é—®é¢˜äº†ã€‚ å¦‚æœä½ æ²¡æœ‰ç¢°åˆ°è¿‡ä¸Šé¢è¿™ä¸ªå¥‡æ€ªçš„é—®é¢˜ï¼Œå°±ä¸è¦æ‰§è¡Œè¿™ä¸€æ­¥ã€‚ æŠŠç³»ç»Ÿå†…æ ¸æ›´åˆ°æœ€æ–°ï¼Œè‡ªå¸¦åŸç‰ˆBBRwget â€“no-check-certificate -qO â€˜BBR.shâ€™ â€˜https://moeclub.org/attachment/LinuxShell/BBR.shâ€˜ &amp;&amp; chmod a+x BBR.sh æŒ‡å®šå®‰è£…4.12.14å†…æ ¸ç‰ˆæœ¬ï¼Œç›®å‰é­”æ”¹ç‰ˆBBRä¸æ”¯æŒæœ€æ–°çš„4.13å†…æ ¸ï¼š bash BBR.sh -f v4.12.14 å®‰è£…æ–°å†…æ ¸åï¼Œç³»ç»Ÿä¼šé‡æ–°å¯åŠ¨ï¼Œé‡æ–°è¿æ¥å³å¯ ä¸€é”®å®‰è£…é­”æ”¹ç‰ˆBBRï¼ˆé€‚é…4.12.14å¹¶å®‰è£…4.9ç‰ˆGCCï¼Œå¦‚æœç³»ç»Ÿè‡ªå¸¦GCCç‰ˆæœ¬é«˜äºæ­¤ï¼Œåˆ™ä¸ä¼šå®‰è£…ï¼‰ wget â€“no-check-certificate -qOâ€™BBR_POWERED.shâ€™ â€˜https://moeclub.org/attachment/LinuxShell/BBR_POWERED.sh&#39;&amp;&amp; chmod a+x BBR_POWERED.sh &amp;&amp; bash BBR_POWERED.sh -f v4.12.14 å®‰è£…SSRå®‰è£…æµç¨‹å·²ç®€åŒ–ï¼Œç›´æ¥å°†ä»¥ä¸‹å‘½ä»¤å¤åˆ¶å¹¶æ‰§è¡Œå³å¯ï¼š wget â€“no-check-certificate -O shadowsocksRR.sh https://git.io/vdMUr &amp;&amp; chmod +x shadowsocksRR.sh &amp;&amp;./shadowsocksRR.sh 2&gt;&amp;1 | tee shadowsocksR.log ç›®å‰ç»è¿‡æµ‹è¯•ï¼Œä»¥ä¸‹å‡ ä¸ªç«¯å£ç®—æ˜¯â€œè‰¯æ°‘â€ï¼Œå¯é•¿æœŸè®¾ç½®ä½¿ç”¨ï¼š 20ã€21ã€22ã€80ã€115ã€152ã€443ã€989ã€990ã€992ã€3306ã€3389ï¼ˆå¸¦çº¢è‰²çš„æåŠ›æ¨èï¼‰ åè®®æ¨èauth_chain_bï¼ˆå¦‚æœä½ ä¸ç”¨ä»»ä½•iOSå’ŒMac OSè®¾å¤‡ï¼Œæˆ‘æ¨èä½ ç”¨auth_chain_dï¼‰ åŠ å¯†æ¨èchacha20-ietf æ··æ·†æ¨èï¼štls1.2_ticket_auth ç¡®è®¤æ— è¯¯åï¼ŒæŒ‰å›è½¦é”®ç»§ç»­å®‰è£…ï¼Œå¦‚æœå‘ç°è‡ªå·±æœ‰æŸä¸ªé€‰é¡¹é€‰é”™äº†ï¼Œè¯·æŒ‰Ctrl+Cå–æ¶ˆå®‰è£…æµç¨‹ï¼Œå¹¶é‡æ–°æ‰§è¡Œåˆšæ‰çš„æ­¥éª¤ã€‚ çœ‹åˆ°å½¢å¦‚ä¸‹é¢è¿™å¼ å›¾é‡Œé™„å¸¦çš„çº¢åº•ç™½å­—å›¾æ ·ï¼Œå°±è¯´æ˜å®‰è£…æˆåŠŸå•¦~~ å®‰è£…åï¼Œè¿›è¡Œä¸€äº›ä¼˜åŒ–ï¼ŒåŠ å¿«è®¿é—®é€Ÿåº¦ï¼šulimitä¼˜åŒ–è¾“å…¥ ulimit -n 51200 &amp;&amp; echo ulimit -n 51200&gt;&gt; /etc/rc.local å›è½¦ï¼ˆåŠ å¤§ulimitæ•°å€¼å¹¶åŠ å…¥å¼€æœºå¯åŠ¨ï¼‰ limitsä¼˜åŒ–è¾“å…¥echo â€œ soft nofile 51200â€ &gt;&gt;/etc/security/limits.confå›è½¦è¾“å…¥echo â€œ hard nofile 51200â€ &gt;&gt; /etc/security/limits.confå›è½¦ ç„¶åä¼˜åŒ–ä¸€ä¸‹BBRç®—æ³•ï¼š é¦–å…ˆçœ‹ä¸€ä¸‹VPSç°æœ‰ç®—æ³•ï¼š sysctl net.ipv4.tcp_available_congestion_control å¦‚æœä¸å¸¦hyblaå­—æ ·ï¼Œéœ€è¦å¼€å¯hyblaç®—æ³•ï¼š /sbin/modprobe tcp_hybla å¸¦äº†hyblaå­—æ ·ï¼Œè¯´æ˜å®‰è£…æˆåŠŸ å¼€å§‹ä¿®æ”¹sysctl.confæ–‡ä»¶ï¼š vi /etc/sysctl.conf æŒ‰é”®ç›˜ä¸Šçš„Page Downé”®æµè§ˆè¿™ä¸ªæ–‡ä»¶çš„æœ€åéƒ¨åˆ†ï¼Œç›´æ¥ç²˜è´´ä»¥ä¸‹ï¼š #TCP optimization fs.file-max = 51200 #Increase transmission limits net.core.rmem_max =67108864 net.core.wmem_max =67108864 net.core.netdev_max_backlog= 250000 net.core.somaxconn = 4096 net.ipv4.tcp_syncookies = 1 net.ipv4.tcp_tw_reuse = 1 net.ipv4.tcp_tw_recycle = 0 net.ipv4.tcp_fin_timeout =30 net.ipv4.tcp_keepalive_time= 1200 net.ipv4.ip_local_port_range= 10000 65000 net.ipv4.tcp_max_syn_backlog= 8192 net.ipv4.tcp_max_tw_buckets= 5000 net.ipv4.tcp_fastopen = 3 net.ipv4.tcp_mem = 2560051200 102400 net.ipv4.tcp_rmem = 409687380 67108864 net.ipv4.tcp_wmem = 409665536 67108864 net.ipv4.tcp_mtu_probing =1 net.ipv4.tcp_congestion_control= hybla #END OF LINE ç¤ºä¾‹ï¼š æ›´æ”¹å®Œæˆï¼ŒæŒ‰â€œEscâ€é”®ï¼Œå†è¾“å…¥ :wq é€€å‡ºï¼ˆ:wqå‘½ä»¤ä¸€å®šæ˜¯è‹±æ–‡çš„å†’å·å“Ÿï¼Œä¸æ˜¯ä¸­æ–‡çš„ï¼‰ã€‚ è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œä¿å­˜ç”Ÿæ•ˆï¼š sysctl -p é‡å¯SSR /etc/init.d/shadowsocksrestart ç»´æŠ¤æœåŠ¡å™¨/SSRï¼šå®‰å…¨åŠ å›ºä¿®æ”¹ç«¯å£ï¼š vi /etc/ssh/sshd_config ä¿®æ”¹Port å€¼ï¼Œä¸ºè‡ªå·±éœ€è¦çš„ç«¯å£ã€‚ â€œEscâ€é€€å‡ºã€â€œ:wqâ€ä¿å­˜ç”Ÿæ•ˆ ä¿®æ”¹ç³»ç»Ÿæ—¶é—´ï¼šè™½ç„¶SSRçš„auth_chain_båè®®å…è®¸å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯çš„æ—¶é—´å·®ä¸è¶…è¿‡1å¤©ï¼ˆç”¨äºèº«ä»½ã€åŠ å¯†ã€è¿æ¥æœ‰æ•ˆæ€§æ ¡éªŒï¼‰ï¼Œä½†æˆ‘è¿˜æ˜¯å¼ºçƒˆæ¨èä½ å°†VPSä¸Šçš„æ—¶é—´è®¾ç½®æˆä½ æ‰€åœ¨çš„æ—¶åŒºï¼ˆä¸€èˆ¬éƒ½æ˜¯å°†å›½å¤–æ—¶åŒºçš„VPSè®¾ç½®æˆå›½å†…æ—¶åŒºï¼‰ï¼š è¾“å…¥ï¼š dpkg-reconfigure tzdata é€‰æ‹©â€œAsiaâ€ï¼ˆäºšæ´²ï¼‰ï¼š â€œâ†“â€é”®æŒ‰ä½ä¸åŠ¨ï¼Œé€‰æ‹©â€œShanghaiâ€ï¼ˆä¸Šæµ·ï¼‰ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºå•¥æ²¡æœ‰â€œBeijingâ€ï¼ˆåŒ—äº¬ï¼‰ Local time is now æ˜¾ç¤ºçš„æ˜¯æœ¬æœºå½“å‰æ—¶é—´ï¼š å®‰è£…fail2banï¼Œè‡ªåŠ¨banæ‰åå¤è¯•å¯†ç çš„ï¼Œé˜²æ­¢è¢«ç ´è§£å®‰è£…fail2ban apt-get install fail2ban -y é‡å¯ï¼š service fail2ban restart ä¹±å…¥ä¸€å¼ ç½‘é€Ÿæµ‹è¯•ï¼š TCPã€UDPä¼˜åŒ–å¯¹åº”çš„äº§å“å’Œä¸€å¥è¯åŸç†ï¼š å…¶å®SSRä¹Ÿæ²¡ä»€ä¹ˆå¥½ç»´æŠ¤çš„ï¼Œæ— éå°±æ˜¯é‡å¯ã€æ›´æ¢å¯†ç /åè®®ï¼Œä¸‹é¢å°±æ¥ç®€å•è¯´ä¸€ä¸‹ï¼š é‡å¯ï¼š /etc/init.d/shadowsocksrestart æ ¹æ®auth_chain_båè®®çš„ç‰¹æ€§ï¼Œå®šæœŸæ›´æ¢å¯†ç ï¼Œå³å¯ä»¥æœ‰æ•ˆæœ‰æ•ˆé˜²æ­¢è‡ªå·±çš„æµé‡ç‰¹å¾è¢«qiangè¯†åˆ«ï¼Œä¸‹é¢å°±æ¥è¯´æ˜ä¸€ä¸‹æ›´æ”¹SSRé…ç½®æ–‡ä»¶çš„å‘½ä»¤ï¼š vi /etc/shadowsocks.json è‹¥å…¶ä»–é…ç½®æ²¡æœ‰å‘ç”Ÿå¼‚å¸¸ï¼Œè¯·å‹¿éšæ„æ›´æ”¹ï¼Œä»…æ›´æ”¹passwordé¡¹å³å¯ï¼š ä¸€ç‚¹å°æç¤ºï¼šä½ å¯ä»¥ç”¨éšæœºç”Ÿæˆçš„ä¹±åºå¯†ç å…ˆä¿å­˜åœ¨æœ¬åœ°txtæ–‡æ¡£é‡Œï¼Œå†æŠŠå®ƒç›´æ¥å¤åˆ¶åˆ°sshé‡Œï¼Œè¿™æ ·æ–¹ä¾¿ä¸€äº›ï¼š æŒ‰â€œInsertâ€é”®è¾“å…¥ï¼š å…ˆåˆ é™¤æ•´è¡Œï¼Œå†æŒ‰â€œShift+Insertâ€é”®ç²˜è´´å³å¯ã€‚ æ›´æ”¹å®Œæˆï¼ŒæŒ‰â€œEscâ€é”®ï¼Œå†è¾“å…¥ :wq æ›´æ”¹ç”Ÿæ•ˆ å†æ¬¡é‡å¯SSRæœåŠ¡ï¼Œæœ¬åœ°å®¢æˆ·ç«¯çš„å¯†ç ä¹Ÿè¦éšä¹‹æ”¹å˜æ‰è¡Œã€‚ å¦‚æœæ˜¯åœ¨sshé‡Œï¼Œé‡å¯æ•´ä¸ªVPSç³»ç»Ÿï¼Œç”¨è¿™ä¸ªå‘½ä»¤å³å¯ï¼š reboot ä»¥ä¸‹æ˜¯æˆ‘è‡ªç”¨çš„æ··æ·†å‚æ•°ï¼Œå¤åˆ¶ä¸‹æ¥å¡«å†™åˆ°ä½ å®¢æˆ·ç«¯çš„æ··æ·†å‚æ•°é‡Œå³å¯ï¼š az813057.vo.msecnd.net,az817829.vo.msecnd.net,media.gettyimages.com,origin.cdn77.com,mail.yandex.com,mc.yandex.ru,upics.yandex.net,tns-counter.ru,yastatic.net,captcha.yahoo.co.jp,b6.yahoo.co.jp,s.yimg.com,s2.yimg.com,s3.yimg.com,s.yimg.jp,search.yahoo.com,csc.beap.bc.yahoo.com,yrtas.btrll.com,shim.btyll.com,comet.yahoo.com,downloads.yahoo.com,hk.mail.yahoo.com,pr.comet.yahoo.com,geo.yahoo.com,ucs.query.yahoo.com,clientlog.portal.office.com,outlook.live.com,cdn.optimizely.com,spoprod-a.akamaihd.net,spoprod-c.akamaihd.net,icloud.cdn-apple.com,icloud.com,edge.icloud.com,p12-contacts.icloud.com,support.icloud.com,beta.icloud.com,icloud-beta.icloud.com,appleid.apple.com,apple.co,cdn.apple-cloudkit.com,cdn.apple-livephotoskit.com,webcourier.push.apple.com,images.apple.com,securemetrics.apple.com,secure-appldnld.apple.com,lotte.com,image.lotte.com,pathfinder.lotte.com,static.criteo.net,rt.buzzni.com,inpref-asia.s1.amazonaws.com,inpref-asia.s2.amazonaws.com,inpref-asia.s2.amazonaws.com,hsmoa.com,asia.frosmo.com,maxcdn.bootstrapcdn.com,b97.yahoo.co.jp,users.storage.live.com,clientlog.portal.office.com,r4.res.office365.com,swx.cdn.skype.com,a.config.skype.com,b.config.skype.com,emailcufeeducn-my.sharepoint.com,cloudflare.com,cn.bing.com,s1.cn.bing.com,s2.cn.bing.com,s3.cn.bing.com,s4.cn.bing.com,tse1.mm.bing.net,tse2.mm.bing.net,tse3.mm.bing.net,apps.bdimg.com,akamaitechnologies.com,akamai.com,maxcdn.com,cloudfront.net,jsdelivr.net,cloudfront.com,qiniucdn.com,yahoo.com,51cdn.com,lxdns.com,upaiyun.com,qcloud.com,alicdn.com,aliyun.com,qingcloud.com,incapdns.net,azureedge.net ç›¸å…³èµ„æºï¼šSSR Windowsç‰ˆ4.8.1ä¸‹è½½é“¾æ¥ï¼š https://github.com/shadowsocksrr/shadowsocksr-csharp/releases/download/4.8.1/ShadowsocksR-win-4.8.1.zip SSR å®‰å“3.5.1.1ç‰ˆä¸‹è½½é“¾æ¥ï¼š https://github.com/shadowsocksrr/shadowsocksr-android/releases/download/3.5.1.1/shadowsocksr-android-3.5.1.1.apk SSR Macç”µè„‘ç‰ˆä¸‹è½½é“¾æ¥ï¼š https://github.com/qinyuhang/ShadowsocksX-NG-R/releases/download/1.4.3-R8-build2/ShadowsocksX-NG-R8.dmg SSR iOSç‰ˆï¼Œéœ€è¦æ›´æ¢ä½ çš„Apple IDåˆ°ç¾åŒºï¼Œæ•™ç¨‹ï¼š https://zhuanlan.zhihu.com/p/28625807 å¦‚ä½•è´­ä¹°ã€ä½¿ç”¨iOSä¸Šçš„å°ç«ç®­ï¼ˆshadowrocketï¼‰å‘¢ï¼Ÿè¿™ä¸ªå‘æˆ‘å†æƒ³ç€æ…¢æ…¢å¡«~~","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/å·¥å…·/"},{"name":"vps","slug":"vps","permalink":"http://yoursite.com/tags/vps/"},{"name":"ç§‘å­¦ä¸Šç½‘","slug":"ç§‘å­¦ä¸Šç½‘","permalink":"http://yoursite.com/tags/ç§‘å­¦ä¸Šç½‘/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}]},{"title":"vps-ç§‘å­¦ä¸Šç½‘-å‚è€ƒèµ„æ–™-æ¬ç“¦å·¥vps","slug":"vps-ç§‘å­¦ä¸Šç½‘-å‚è€ƒèµ„æ–™-æ¬ç“¦å·¥vps","date":"2017-11-23T03:10:00.000Z","updated":"2018-01-14T05:33:22.000Z","comments":true,"path":"posts/7d9ea51f/","link":"","permalink":"http://yoursite.com/posts/7d9ea51f/","excerpt":"","text":"èƒŒæ™¯å’Œå·¥å…·ä»‹ç» éæŠ€æœ¯å‡ºèº«ï¼Œä¸æ‡‚ Linuxã€SSã€SSR MacOsç³»ç»Ÿ æ¬ç“¦å·¥ VPS ShadowsocksR ip111ç”¨äºæµ‹è¯•vpnçŠ¶æ€ Test your IP 1. æ˜ç¡®éœ€æ±‚ï¼Œåšå‡ºé€‰æ‹© VPS æœåŠ¡å•†é€‰æ¬ç“¦å·¥ã€Vultr è¿˜æ˜¯ Linodeï¼Ÿ æœåŠ¡å™¨åœ°å€é€‰é¦™æ¸¯ã€æ—¥æœ¬ã€ç¾å›½è¿˜æ˜¯éŸ©å›½ã€ä¿„ç½—æ–¯ç­‰å›½å®¶ï¼Ÿ VPS çš„æ¡†æ¶é€‰ Openvzã€KVM è¿˜æ˜¯ XEN æ¡†æ¶ï¼Ÿ æœåŠ¡å™¨ç³»ç»Ÿé€‰ CentOSã€Debian è¿˜æ˜¯ Ubuntuï¼Ÿ åŠ é€Ÿé€‰é”é€Ÿã€TCP BBRã€Final Speed è¿˜æ˜¯ Google BBRï¼Ÿ ç”¨ SS è¿˜æ˜¯ SSRï¼Ÿ æˆ‘çš„é€‰æ‹©ä¾æ¬¡ä¸ºæ¬ç“¦å·¥ã€ç¾å›½æ´›æ‰çŸ¶ã€KVMã€CentOS-6-x86_64-bbrã€SSRã€‚ å› ä¸ºæ¬ç“¦å·¥æ˜¯å…¬è®¤çš„æ€§ä»·æ¯”é«˜ï¼Œè€Œä¸”æ¬ç“¦å·¥çš„æ•™ç¨‹æœ€å¤šã€æœ€é½å…¨ï¼Œæˆ‘æ²¡æœ‰ä¸“äººæŒ‡å¯¼ï¼Œæœ€å¥½æ‰¾èµ„æ–™ä¸°å¯Œçš„æ–¹å¼ã€‚ æˆ‘é€‰æ‹©çš„å¥—é¤å°±æ˜¯æ´›æ‰çŸ¶æœºæˆ¿çš„ï¼Œå› ä¸ºä¹‹å‰çš„ SS ç”¨ä¸‹æ¥ï¼Œæˆ‘å‘ç°æ´›æ‰çŸ¶æœºæˆ¿çš„é€Ÿåº¦æœ€å¿«ï¼Œå»¶è¿Ÿæœ€å°‘ã€æœ€ç¨³å®šï¼Œæˆ‘è‡ªå·±ä¹Ÿä¸å–œæ¬¢åˆ‡æ¢æ¥åˆ‡æ¢å»ï¼Œç›´æ¥é”å®šæ´›æ‰çŸ¶å°±è¡Œäº†ã€‚ è‡³äº Openvzã€KVMã€XEN çš„é€‰æ‹©å¾ˆç®€å•ã€‚æˆ‘çœ‹è¿‡ä¸€ç¯‡æ•™ç¨‹å¸–ï¼ŒçŸ¥é“äº† Openvz æ˜¯è¢«æ·˜æ±°çš„é€‰æ‹©ï¼Œç°åœ¨ä¸»æµå°±æ˜¯ KVMï¼Œå®ƒå†…ç½®äº† BBR å†…æ ¸ä¼˜åŒ–ï¼Œè®¿é—®é€Ÿåº¦ä¼šæ¯” Openvz å¥½å¾ˆå¤šã€‚ Shadowsocks å’Œ ShadowsocksR çš„é€‰æ‹©ï¼Œæˆ‘æ¯«ä¸çŠ¹è±«é€‰äº†åè€…ã€‚ä¸€æ–¹é¢æ˜¯æˆ‘ä¹‹å‰çš„ VPN æœåŠ¡å•†å‘äº†ä¸€å°é€šå‘Šå‘Šè¯‰å¤§å®¶è¦å¼ºåˆ¶æ¢ç”¨ SSR è®©æˆ‘äº†è§£åˆ° SSR æ›´åŠ å¯†ï¼ˆåŠ å…¥äº†æ··æ·†ç®—æ³•ï¼‰ï¼Œåæ¥åˆæœåˆ°äº†ä¸å°‘è°ˆè®ºå®ƒä»¬ä¸¤è€…åŒºåˆ«çš„æ–‡ç« ï¼Œè®©æˆ‘ä¸‹å®šå†³å¿ƒä½¿ç”¨ SSRã€‚å¦å¤–ï¼Œä¹‹å‰ SS æ¢ SSR çš„æ—¶å€™ï¼Œæˆ‘å°±å·²ç»æ‰¾åˆ°äº† SSR çš„å®‰è£…åŒ…ï¼Œè¿™å°±çœäº†å¾ˆå¤šæ—¶é—´ã€‚ 2. è´­ä¹° VPSæ¬ç“¦å·¥ Special 20G KVM-æ´›æ‰çŸ¶-ä¸­å›½ç›´è¿ï¼Œå¯æ›´æ¢æœºæˆ¿ï¼Œå†…å­˜ 1024 MBï¼Œ20G SSDï¼Œæœˆæµé‡ 2000 GBï¼Œå¹´ä»˜ 39.99 ç¾å…ƒï¼Œä½¿ç”¨ä¼˜æƒ ç  BWH1ZBPVKï¼Œå 37.59 ç¾å…ƒä¸€å¹´ï¼Œæ”¯ä»˜å®ä»˜æ¬¾ã€‚ 3. é…ç½®æœåŠ¡å™¨4. ä¸Šç½‘æµ‹è¯•ShadowsocksRWindows ä¸‹è½½åœ°å€ SS SSR-4.7.0 ShadowsocksR åˆ†ä¸º dotnet 2.0 å’Œ 4.0ï¼Œå®é™…åŠŸèƒ½æ— åŒºåˆ«ï¼Œåªæ˜¯ç”µè„‘å®‰è£… .NET Framework v2.0 æˆ– 4.0 çš„æ”¯æŒåº“ç‰ˆæœ¬ä¸åŒã€‚ä¸€èˆ¬ Win7 ä»¥åéƒ½é»˜è®¤å®‰è£…äº† v2.0ï¼›Win8 ä»¥åéƒ½é»˜è®¤å®‰è£…äº† 2.0 å’Œ 4.0ï¼Œåªæœ‰ XP ç³»ç»Ÿä¸¤ä¸ªéƒ½é»˜è®¤æ²¡æœ‰å®‰è£…ï¼Œéœ€è¦æ‰‹åŠ¨å®‰è£…æ”¯æŒåº“ã€‚ Android ä¸‹è½½åœ°å€ SS SSR-3.4.0.5 Mac ä¸‹è½½åœ°å€ ShadowsocksX-NG-R electron-ssr iOS ä¸‹è½½åœ°å€ Wingy Shadowrocket æˆ‘çš„ä¸è¶³ï¼ˆæˆ‘æ²¡å¼„æ˜ç™½çš„åœ°æ–¹ï¼‰ æˆ‘ä¸çŸ¥é“æœ€ç»ˆç”Ÿæ•ˆæ˜¯å› ä¸ºæˆ‘æˆåŠŸç™»é™†äº† putty è¿˜æ˜¯åœ¨æœåŠ¡å™¨ä¸­å®‰è£…äº† OpenVPN æœåŠ¡ï¼Ÿ æˆ‘ä¸çŸ¥é“ç›´æ¥åœ¨æœåŠ¡å™¨ä¸­ä¸€é”®å®‰è£… SSR æœåŠ¡ï¼Œè·Ÿæˆ‘ç”¨ putty æ‰‹åŠ¨å®‰è£…æœ‰å¤šå¤§å·®åˆ«ï¼Ÿ æœåŠ¡å™¨çš„ SS å’Œ SSR æœåŠ¡éƒ½å®‰è£…äº†ï¼Œä¼šä¸ä¼šæœ‰å†²çªï¼Œèƒ½å¦åŒæ—¶ç”¨å‘¢ï¼Ÿï¼ˆè™½ç„¶éƒ½å®‰è£…äº†ï¼Œä½†æˆ‘åªç”¨ SSRï¼Œå¹¶æ²¡æœ‰åŒæ—¶å¼€å¯ SS å’Œ SSRï¼‰ æˆ‘ä¸çŸ¥é“ç›®å‰çš„çŠ¶æ€éœ€ä¸éœ€è¦å†åšå¤šç”¨æˆ·é…ç½®ï¼Ÿ æˆ‘ä¸çŸ¥é“éœ€ä¸éœ€è¦åŠ ä¸€æ®µä»£ç ï¼Œè®©æœåŠ¡å™¨è‡ªåŠ¨å¯åŠ¨ï¼Ÿï¼ˆç›®å‰æ˜¯å¯ä»¥çš„ï¼Œæ‰€æœ‰è´¦æˆ·éƒ½ä¸éœ€è¦åšå¦å¤–çš„æ“ä½œï¼Œæ‰“å¼€ SSR å°±èƒ½æˆåŠŸç¿»å¢™ï¼‰ æˆ‘çš„ Windows ç³»ç»Ÿæœ‰ SS å’Œ SSR ä¹‹åˆ†ï¼Œå¯æ˜¯ MAC ç«¯åªæœ‰ ShadowsocksX-Rï¼Œä¸çŸ¥é“ä¼šä¸ä¼šæœ‰é—®é¢˜ï¼Ÿï¼ˆMAC ç«¯çš„ ShadowsocksX-R éœ€è¦ç”¨å…¨å±€æ¨¡å¼æ‰èƒ½ä¸Š Pixiv ç«™ï¼ŒPAC æ¨¡å¼èƒ½ä¸Š Google å’Œ Youtubeï¼‰ ä¸çŸ¥é“ ShadowsocksR å¼€å‘è€…æ˜¯å¦ä¼šæŒç»­ç»´æŠ¤ï¼Ÿ SSR æœåŠ¡ç«¯åŠ å¯†æ–¹å¼ chacha20 å’Œ aes-256-cfb æœ‰å¤šå¤§åŒºåˆ«ï¼Œç¼–è¯‘å®‰è£… libsodiumï¼Ÿ IPv6 æœ‰å¿…è¦å¼€å¯å˜›ï¼ŒKVM ç³»ç»Ÿä¸æ”¯æŒ IPv6ï¼Ÿ æ€»ç»“ç»éªŒ ä¼˜å…ˆçœ‹å®˜æ–¹æ–‡æ¡£ï¼Œå®˜æ–¹è®ºå›ï¼Œå°½å¿«è¡¥å…¨åŸºæœ¬çŸ¥è¯† ä¸€äº›å°ä¼—çš„é—®é¢˜éœ€è¦å•ç‹¬æœç´¢ï¼Œä¹Ÿå¤šå¼€å‡ ä¸ªé¡µé¢äº’ç›¸è¡¥å……çŸ¥è¯† å¾ˆå¤šæ•™ç¨‹å—é™äºæ—¶é—´ï¼Œå…¶å®åæ¥æœ‰æ›´å¥½çš„è§£å†³åŠæ³• æ ¹æ®è‡ªå·±çš„éœ€æ±‚å»åšå†³å®šï¼Œä¸è¦ç›²ç›®è·Ÿéšåˆ«äººçš„é€‰æ‹© æœ‰äº›é€‰æ‹©å¾ˆçº ç»“ï¼Œä½†ä½ åšå®Œå‰é¢æ‰€æœ‰æ“ä½œä¹‹åï¼Œä½ å¯èƒ½ä¼šå‘ç°å®ƒå·²ç»ä¸æˆé—®é¢˜äº† é‡åˆ°é—®é¢˜çš„æ—¶å€™ï¼Œä¸è¦è›®å¹²ï¼Œå®åœ¨åšä¸å¥½å°±å…ˆæ”¾æ¾å¿ƒæƒ…ï¼Œç­‰ä¼šç»§ç»­ ä¸€å®šä¼šæœ‰äººé‡åˆ°è·Ÿä½ ä¸€æ ·çš„é—®é¢˜ï¼Œæœä¸åˆ°è§£å†³æ–¹æ³•çš„æ—¶å€™æ¢ä¸€ä¸ªæ£€ç´¢è¯ ä½ è§£å†³äº†ä¸€ä¸ªé—®é¢˜æ—¶ï¼Œä¸å¦¨è¾“å‡ºæˆæ–‡ç« ï¼Œå…´è®¸èƒ½å¸®åŠ©åˆ°å…¶ä»–äºº å†™æ•™ç¨‹çš„æ—¶å€™ï¼Œä¸ä»…è¦å†™ What å’Œ Howï¼Œä¹Ÿè¦å†™ä¸Š Whyï¼Œè¿˜æœ‰å‚è€ƒèµ„æ–™ï¼Œèƒ½å¸®åˆ«äººçœå¾ˆå¤šäº‹ å‚è€ƒç½‘ç«™æ€»ç½‘ç«™ Shadowsocks çš„è¡ç”Ÿç‰ˆæœ¬ä¸‹è½½é•œåƒã€Shadowsocks å®˜æ–¹ç½‘ç«™ä¸‹è½½åœ°å€ ShadowsocksR å„ç‰ˆæœ¬ä¸‹è½½åœ°å€ ShadowsocksR å¼€å‘è€…-BreakWa11 çš„ä¸ªäººåšå®¢ ShadowsocksR åœ¨ Google+ çš„ç¤¾ç¾¤ å•ç¯‡æ•™ç¨‹ å…³äº Shadowsocks çš„å°ç™½å¸¸è§é—®é¢˜ æ€»ç»“ç¯‡ ShadowsocksR å®¢æˆ·ç«¯ å°ç™½ä½¿ç”¨æ•™ç¨‹ æ–°æ‰‹ç”¨æˆ·æ¬ç“¦å·¥ VPS è´­ä¹°å›¾æ–‡æŒ‡å¯¼æ•™ç¨‹ BandwagonHostæ¬ç“¦å·¥VPSä¸»æœºæ•™ç¨‹-KiwiVMé¢æ¿åº”ç”¨ æ¬ç“¦å·¥æ­å»º Shadowsocks å¹¶ä¼˜åŒ–é€Ÿåº¦ ä½¿ç”¨æ¬ç“¦å·¥bandwagonhost VPSå®‰è£…Shadowsocks Server å¤§é™†ç¿»å¢™æ–°ç§˜æŠ€æ•™å­¦ï¼Œæ—  VPN ç…§ä¸Š Facebookï¼ŒShadowsocksR å…¨æ”»ç•¥ ï¼ˆè¿™é‡Œé¢æœ‰ä»‹ç» SS å’Œ SSR çš„åŒºåˆ«ï¼‰ ShadowsocksR å•ç«¯å£å¤šç”¨æˆ·é…ç½®æ–¹æ³• Shadowsocks Configure Multiple Users putty ä¸ xshel låŠ winscp åˆçº§ä½¿ç”¨æ–¹æ³• Linux SSH é“¾æ¥å·¥å…· Putty æ–°æ‰‹è¯¦ç»†ä½¿ç”¨æ•™ç¨‹ LinuxVPS åŸºæœ¬å‘½ä»¤","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/å·¥å…·/"},{"name":"vps","slug":"vps","permalink":"http://yoursite.com/tags/vps/"},{"name":"ç§‘å­¦ä¸Šç½‘","slug":"ç§‘å­¦ä¸Šç½‘","permalink":"http://yoursite.com/tags/ç§‘å­¦ä¸Šç½‘/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}]},{"title":"bug-è´­ç‰©è½¦8-1 checkouté¡µé¢ä¸€åˆ·æ–°ï¼Œå°±å‡ºäº†æŠ¥é”™ï¼Œæ˜¾ç¤ºï¼šâ€œThe Action 'show' could not be found for CartsController\"","slug":"bug-è´­ç‰©è½¦8-1 checkouté¡µé¢ä¸€åˆ·æ–°ï¼Œå°±å‡ºäº†æŠ¥é”™ï¼Œæ˜¾ç¤ºï¼šâ€œThe Action 'show' could not be found for CartsController\"","date":"2017-11-23T02:15:00.000Z","updated":"2018-01-14T02:17:36.000Z","comments":true,"path":"posts/3d6294/","link":"","permalink":"http://yoursite.com/posts/3d6294/","excerpt":"","text":"é—®é¢˜ï¼šcheckouté¡µé¢ä¸€åˆ·æ–°å°±å‡ºäº†æŠ¥é”™ï¼Œæ˜¾ç¤ºï¼šâ€œThe Action â€˜showâ€™ could not be found for CartsControllerâ€ã€‚ä¸”åªåœ¨chromeå­˜åœ¨ï¼Œåœ¨safariè¯•éªŒæ—¶æ­£å¸¸ï¼Œä¼šè·³å‡ºä¸€ä¸ªå¼¹çª—è¯¢é—®â€œæ˜¯å¦è¦é‡æ–°å‘é€è¡¨å•â€ã€‚åŠ©æ•™çš„è§£ç­”ï¼šåŠ©æ•™æœ‰è¿™ä¹ˆå‡ ç§çœ‹æ³•ï¼š1. checkoutå®šä¹‰çš„æ˜¯postçš„è·¯å¾„ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡è¿›å»çš„æ—¶å€™æ˜¯å¯ä»¥çš„ã€‚ç¬¬äºŒæ¬¡åˆ·æ–°è¿‡åï¼Œæµè§ˆå™¨å˜æˆäº†getçš„è¯·æ±‚ï¼Œgetè¯·æ±‚ä¼šè‡ªåŠ¨å»æ‰¾show actionï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚æŸ¥çœ‹sever logï¼Œç”¨chromeæµ‹è¯•å‘ç°åˆ·æ–°åè¯·æ±‚ç¼–ç¨‹getï¼Œç”¨safariæµ‹è¯•åˆ·æ–°äº†è¿˜æ˜¯postã€‚2ã€chromeæ¸…æ¥šç¼“å­˜å’Œcookieè¿˜æ˜¯ä¸è¡Œã€‚3ã€åˆä¸‹è½½äº†QQæµè§ˆå™¨å‘ç°æ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚ â€”â€”å¯èƒ½æ˜¯æµè§ˆå™¨é—®é¢˜ï¼Œå…ˆè·³è¿‡","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"bug","slug":"bug","permalink":"http://yoursite.com/tags/bug/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"bug-è´­ç‰©ç½‘4-3 localhost å°†æ‚¨é‡å®šå‘çš„æ¬¡æ•°è¿‡å¤š","slug":"bug-è´­ç‰©ç½‘4-3 localhost å°†æ‚¨é‡å®šå‘çš„æ¬¡æ•°è¿‡å¤š","date":"2017-11-23T00:10:00.000Z","updated":"2018-01-14T02:17:42.000Z","comments":true,"path":"posts/936990c3/","link":"","permalink":"http://yoursite.com/posts/936990c3/","excerpt":"","text":"åˆ é™¤cookieæ²¡ç”¨ï¼Œåˆ é™¤redirect_to root_pathæœ‰æ•ˆ123456def admin_required if !current_user.admin? redirect_to root_path flash[:alert] = &quot;è¯·ç”¨ç®¡ç†å‘˜è´¦å·ç™»å½•&quot; endend ä»£ç é‡Œçš„redirect_to root_pathï¼Œå’Œè·¯ç”±é‡Œçš„root &quot;admin/products#index&quot;å†²çªï¼Œå¯¼è‡´ç½‘é¡µæ— é™å¾ªç¯é‡å®šå‘ã€‚è§£å†³åŠæ³•ï¼šä¿®æ”¹ä¸»é¡µå¦‚root &quot;welcome#index&quot;","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"bug","slug":"bug","permalink":"http://yoursite.com/tags/bug/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"bug-è´­ç‰©ç½‘4-4 carrierwaveä¸Šä¼ å›¾ç‰‡translation missing- en.errors.messages.mini_magick_processing_error","slug":"bug-è´­ç‰©ç½‘4-4 carrierwaveä¸Šä¼ å›¾ç‰‡translation missing- en.errors.messages.mini_magick_processing_error","date":"2017-11-21T17:10:00.000Z","updated":"2018-01-14T02:17:47.000Z","comments":true,"path":"posts/5082df0b/","link":"","permalink":"http://yoursite.com/posts/5082df0b/","excerpt":"","text":"JDSTORE4-3ï¼Œcarrierwaveå’Œminimagicè®¾ç½®åï¼Œä¸Šä¼ å›¾ç‰‡æŠ¥é”™ translation missing: en.errors.messages.mini_magick_processing_error ä¸€ã€æ–°çš„è§£æ³•è¾“å…¥brew install imagemagickï¼Œä¼šæç¤ºgemå·²å®‰è£…æ˜¯å¦è¦æ›´æ–°ã€‚ è¾“å…¥brew upgrade imagemagickï¼Œæ›´æ–°å®Œæˆï¼Œç„¶åbundleæå®šã€‚ äºŒã€æ—§çš„è§£æ³•ï¼ˆä»æœ‰bugï¼‰åŸå› ï¼šç½‘ä¸Šgoolgeï¼Œæœ‰çš„æ˜¯è¯´åˆå§‹åŒ–é—®é¢˜ï¼Œå¯ä»¥å°è¯•é‡è£…ã€‚ä½†æ˜¯è‡ªå·±é‡æ–°æ— æ•ˆä¸´æ—¶è§£å†³åŠæ³•ï¼šåœ¨config/initializersä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶carrierwave.rbï¼Œç„¶åå†™å…¥ä»£ç ï¼Œæœ€åé‡å¼€rails s123456CarrierWave.configure do |config| config.storage = :file config.enable_processing = false config.fog_attributes = &#123;&apos;Cache-Control&apos;=&gt;&apos;max-age=315576000&apos;&#125; config.cache_dir = Rails.root.join(&apos;tmp&apos;, &apos;uploads&apos;) end æ–°é—®é¢˜ï¼šä¸Šä¼ çš„å›¾ç‰‡æ˜¯åŸå§‹å¤§å°","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"bug","slug":"bug","permalink":"http://yoursite.com/tags/bug/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"ror-tips-cp config/database.yml.example config/database æ˜¯ä»€ä¹ˆï¼Ÿ","slug":"ror-tips-cp config:database.yml.example config:database æ˜¯ä»€ä¹ˆï¼Ÿ","date":"2017-11-20T16:10:00.000Z","updated":"2018-01-14T04:55:31.000Z","comments":true,"path":"posts/a72a0756/","link":"","permalink":"http://yoursite.com/posts/a72a0756/","excerpt":"","text":"config/database.ymlæ–‡ä»¶ä»Šå¤©åœ¨ç»ƒä¹ job-listingæ—¶ï¼Œä»githubä¸Šforkä¸“æ¡ˆåï¼Œç›´æ¥è¿è¡Œrails sï¼Œåœ¨localhost:3000ä¸Šå‘ç”ŸæŠ¥é”™ï¼š å›¾ä¸­ä¿¡æ¯æç¤ºï¼Œæ²¡æœ‰æ–‡ä»¶config/database.ymlæ–‡ä»¶ è¿™æ˜¯å› ä¸ºæˆ‘ä»¬ä¸€èˆ¬è¦ä¿æŠ¤config/database.ymlæ–‡ä»¶ï¼Œå› æ­¤åœ¨ä¸Šä¼ åˆ°githubä¹‹å‰ä¼šåˆ›å»ºä¸€ä¸ªconfig/database.yml.exampleæ–‡ä»¶ç”¨æ¥ä»£æ›¿config/database.ymlæ–‡ä»¶ä½†æ˜¯å®ƒä¸æ˜¯çœŸæ­£çš„config/database.ymlæ–‡ä»¶ å› æ­¤ï¼Œå¦‚æœæƒ³ä¿è¯ä¸“æ¡ˆèƒ½æ­£å¸¸è¿è¡Œï¼Œéœ€è¦å»ºç«‹ä¸€ä¸ªconfig/database.ymlæ–‡ä»¶ï¼Œå¹¶å°†config/database.yml.exampleæ–‡ä»¶å†…å®¹å¤åˆ¶è¿‡å» æ‰€ä»¥éœ€è¦è¿è¡Œå‘½ä»¤ cp config/database.yml.example config/database.yml","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/tags/rorçŸ¥è¯†ç‚¹/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"tool-atom-atomæŠ€å·§åŠå¸¸ç”¨packages","slug":"tool-atom-atomæŠ€å·§åŠå¸¸ç”¨packages","date":"2017-11-19T16:10:00.000Z","updated":"2018-01-14T05:57:06.000Z","comments":true,"path":"posts/c5bd9801/","link":"","permalink":"http://yoursite.com/posts/c5bd9801/","excerpt":"","text":"atomç»ˆç«¯å¿«é€Ÿåˆ é™¤å‘½ä»¤å°æŠ€å·§æœ‰æ—¶å€™åœ¨linuxç»ˆç«¯ä¸­æ‰§è¡ŒæŸä¸ªå‘½ä»¤æ—¶ï¼Œå¾€å¾€ä¼šè¾“é”™å‘½ä»¤ï¼Œæƒ³åˆ é™¤æ‰é‡æ•²å¯ä»¥æŒ‰backspaceé”®ï¼Œä½†è¿™æ ·è¾ƒæ…¢ï¼Œä¸€ç§ç®€ä¾¿æŠ€å·§æ˜¯ï¼ŒæŒ‰ä½escé”®åŒæ—¶æŒ‰backspaceé”®ä¼šè¾ƒå¿«åˆ é™¤ã€esc+backspaceã€‘ç»„åˆé”®ã€‚æˆ–è€…ã€ctrl+uã€‘ç»„åˆé”® installå¸¸ç”¨çš„packagesdashæ”¶é›†äº†å„ç§å®˜æ–¹æ–‡æ¡£ä¾›æˆ‘ä»¬æŸ¥è¯¢ã€‚ åœ¨atomä¸­é€‰ä¸­è¦æŸ¥çš„è¯­å¥ç„¶åctrl+hï¼Œä¼šè·³å‡ºdashçš„æŸ¥è¯¢ç»“æ„ã€‚ emmetå¯ä»¥è‡ªåŠ¨è¡¥å…¨é‚£äº›çƒ¦ççš„æ ‡ç­¾å¤´å°¾ï¼Œç„¶åè‡ªåŠ¨æŠŠå…‰æ ‡è·³åˆ°ä¸­é—´ã€‚ 1è¯•è¯•.rowç„¶åæŒ‰`tab 1è¯•è¯•div&gt;div&gt;h2+(table&gt;(thead&gt;tr&gt;th*6)+(tbody&gt;tr&gt;td*6))+br+div+hr+divç„¶åæŒ‰`tab 1è¯•è¯•.container&gt;tbody&gt;thead&gt;tr&gt;td*5 1è¯•è¯•a.dropdown.dropdown-toggle[data-toggle=&quot;dropdown&quot;]#my.dropdown 1ã€ä¿®æ”¹å¿«æ·é”® &quot;%%&quot;: &quot;&lt;%= | %&gt;&quot;, &quot;%&quot;: &quot;&lt;% | %&gt;&quot;, 2ã€æ›¿æ¢æ³¨é‡ŠåŠŸèƒ½ï¼Œè§£å†³atomå’Œemmetå†²çª 3ã€æ›´å¤šè¯·çœ‹çœ‹è¿™ä¸ªå›¾è¡¨ï¼šhttps://docs.emmet.io/cheat-sheet/ minimapå¯ä»¥æŸ¥çœ‹æ•´ä¸ªä»£ç é¡µé¢ä½ç½®ï¼ˆç›¸å½“äºå°åœ°å›¾ï¼‰ å¸¸ç”¨å¿«æ·é”®å¿«é€Ÿæ‰“å¼€æŒ‡å®šæ–‡ä»¶command+tæˆ–command+p ï¼Œç„¶åè¿›è¡Œæ¨¡ç³Šæœç´¢ï¼Œæ¯”å¦‚/app/views/admin/orders/index.html.erbåªè¦è¾“å…¥ad or inå³å¯å¿«é€Ÿå®šä½æ–‡ä»¶ã€‚ è¿›å…¥Settingscommand+, å¤šç”¨âŒ˜+return,ä½œç”¨ï¼šæ— è®ºä½ çš„å…‰æ ‡åœ¨ä»€ä¹ˆä½ç½®ï¼Œå¿«é€Ÿåœ¨ä¸‹é¢åˆ‡å…¥æ–°çš„ä¸€è¡Œã€‚ å¤šç”¨âŒ˜+shift+return,ä½œç”¨ï¼šæ— è®ºå…‰æ ‡ä½ç½®ï¼Œå¿«é€Ÿåœ¨ä¸Šæ–¹åˆ‡å…¥æ–°çš„ä¸€è¡Œã€‚ commond+d,å¯ä»¥é€‰ä¸­ç›¸åŒå­—ç¬¦ä½ç½®ï¼ˆéœ€å¤šæ¬¡ï¼‰ï¼Œæ‰¹é‡ç¼–è¾‘ã€‚","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}],"tags":[{"name":"å¸¸ç”¨","slug":"å¸¸ç”¨","permalink":"http://yoursite.com/tags/å¸¸ç”¨/"},{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/å·¥å…·/"},{"name":"atom","slug":"atom","permalink":"http://yoursite.com/tags/atom/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}]},{"title":"ror-system-è´­ç‰©ç½‘","slug":"ror-system-è´­ç‰©ç½‘","date":"2017-11-19T16:10:00.000Z","updated":"2018-01-14T04:43:01.000Z","comments":true,"path":"posts/218e855f/","link":"","permalink":"http://yoursite.com/posts/218e855f/","excerpt":"","text":"atomè®¾ç½®å¿«æ·é”®ltã€ltpã€ltdè¡¨ç¤ºï¼Œ&lt;%= link_to(â€œXXXXâ€, XXXX_path, class:â€btn btn-danger btn-lg pull-rightâ€, method: :post) %&gt; tbè¡¨ç¤ºï¼Œtable.table.table-bordered&gt;(thead&gt;tr&gt;th3)+(tbody&gt;tr&gt;td3) sfè¡¨ç¤ºï¼Œ&lt;%= simple_form_for @xx do |f| %&gt;&lt;% end %&gt; è®°ä½ï¼šcontrollerä¸­å®šä¹‰actionéƒ½æ˜¯æŒ‰ç…§find_and_doçš„æ€è·¯ã€‚ä¸€å†é‡åˆ°çš„ bug1ã€gem â€˜carrierwaveâ€™åŠ ä¸Šgem â€˜mini_magickâ€™åï¼Œä¸Šä¼ å›¾ç‰‡çš„æ—¶å€™æŠ¥é”™ä¸Šä¼ ä¸äº†ã€‚ è§£å†³åŠæ³•ï¼šæ›´æ–°brew upgrade imagemagickï¼Œç„¶åbundle 2ã€cart.add_product_to_cart(product)åœ¨rails cæµ‹è¯•æ—¶ï¼Œproduct = Product.lastæŠŠå°å†™çš„productå†™æˆå¤§å†™ï¼ŒæŠ˜è…¾åŠå¤©ã€‚ 3ã€current_cartçš„å®šä¹‰ï¼Œ@current_cart ||= find_carté”™å†™æˆ@current_cart || find_cartï¼Œå¦å¤–if cart.blank?é”™å†™æˆif current_cart.blank? 4ã€6-1ç¬¬å››é¢˜ï¼Œupdateä¼šæŠ¥é”™ï¼Œæ˜¯å› ä¸ºsimple_form_foré‡Œè¦æŒ‡æ˜urlï¼Œç³»ç»Ÿæ‰èƒ½çŸ¥é“æˆ‘ä»¬å…·ä½“è¦åˆ é™¤å“ªä¸€ä¸ªcart_itemï¼Œå› ä¸ºè¿™é‡Œä¸æ˜¯showé¡µé¢ã€‚ 5ã€8-1checkoutç»“ç®—é¡µåœ¨chromeæµè§ˆå™¨é‡Œåˆ·æ–°ï¼Œä¼šè·³å‡ºç¼ºå°‘orderçš„show actionçš„bugã€‚æ¢ä¸ªæµè§ˆå™¨å°±å¥½äº†ã€‚ 6ã€æœ€å¸¸å‡ºç°No route matches {:action=&gt;&quot;index&quot;, :controller=&gt;&quot;admin/resumes&quot;} missing required keys: [:job_id]ã€‚åŸå› å¦‚ä¸‹ï¼š 1ã€Modelå±‚ï¼Œmodelé‡Œæ²¡æœ‰åšå…³è” 2ã€Controllerå±‚ï¼Œmodelå…³è”åï¼Œæ‰€æœ‰å¤–é”®ï¼ˆæ¯”å¦‚ç®€å†resumeé‡Œæœ‰user_idã€job_idï¼‰è¦åœ¨controlllerçš„createçš„actioné‡Œç»™ä¸€ä¸ªè¡¨è¾¾å¼ï¼ŒæŒ‡æ˜è¿™ä»½ç®€å†å…·ä½“å±äºå“ªä¸€ä¸ªç”¨æˆ·ã€å…·ä½“å±äºå“ªä¸€ä¸ªèŒä½çš„ã€‚æ¯”å¦‚ 123456app/controllers/resumes_controller.rb def create @job = Job.find(params[:job_id]) @resume.job = @job @resume.user = current_user end 3ã€Viewså±‚ï¼Œè·¯å¾„æ²¡æœ‰ç»™å‚æ•°ï¼Œæ¯”å¦‚admin_job_resumes_path(@job)é‡Œçš„@job ä¸€ã€ç®€å•ç‰ˆ4ã€åå°4.1ã€åŸºç¡€å»ºè®¾4.1.1 forkã€æˆ–æ–°å»ºä¸“æ¡ˆ https://github.com/quanzhanying/jdstore 4.1.2 gem â€˜bootstrap-sassâ€™ css html flashes+js app/views/common/_flashes.html.erb 12345678&lt;% if flash.any? %&gt; &lt;% user_facing_flashes.each do |key, value| %&gt; &lt;div class=&quot;alert alert-dismissable alert-&lt;%= flash_class(key) %&gt;&quot;&gt; &lt;button class=&quot;close&quot; data-dismiss=&quot;alert&quot;&gt;Ã—&lt;/button&gt; &lt;%= value %&gt; &lt;/div&gt; &lt;% end %&gt;&lt;% end %&gt; app/helpers/flashes_helper.rb 1234567891011module FlashesHelper FLASH_CLASSES = &#123; alert: &quot;danger&quot;, notice: &quot;success&quot;, warning: &quot;warning&quot;&#125;.freeze def flash_class(key) FLASH_CLASSES.fetch key.to_sym, key end def user_facing_flashes flash.to_hash.slice &quot;alert&quot;, &quot;notice&quot;,&quot;warning&quot; endend 4.1.3 gem â€˜deviseâ€™ æ³¨å†Œã€ç™»å½•ã€é€€å‡º 4.1.4 gem â€˜simple_formâ€™ 4.1.5 gem â€˜font-awesome-railsâ€™ 4.2ã€ä¸Šæ¶åå°CRUD ä½¿ç”¨è€…å¿…é¡»è¦æ˜¯ admin æ‰èƒ½ç™»å…¥ http://localhost:3000/admin/products å•†å“æ ä½å¿…é¡»è¦æœ‰ title, description, quantity, price admin åå° products å®Œæ•´çš„ CRUD 4.3ã€admin å¯ä»¥ç™»å½•åå° ç®¡ç†è€…ï¼ˆå•†å®¶ï¼‰å¿…é¡»å…ˆç™»å½•ç½‘ç«™æ‰èƒ½è¿›å…¥ï¼ˆå•†åº—ï¼‰åå° ç®¡ç†è€…å¿…é¡»æœ‰ admin æƒé™æ‰èƒ½è¿›å…¥åå° åå°ç”¨layout â€˜adminâ€™è‡ªå®šä¹‰é¡µé¢æ ·å¼ 4.4ã€ä¸Šä¼ å›¾ç‰‡ å¯ä»¥ä¸Šä¼ å›¾ç‰‡ã€ä¸”æ˜¯å‰ªåˆ‡è¿‡çš„å›¾ç‰‡ï¼ˆgem â€˜carrierwaveâ€™ã€gem â€˜mini_magickâ€™ï¼‰ å›¾ç‰‡æ–‡ä»¶å¤¹åŠ å…¥.gitignoreä¸­ è®¾å®š localhost:3000 ä¸ºå•†å“é¦–é¡µ å•†å“indexã€showå±•ç¤º é‡æ„åå°å„ä¸ªviewsï¼ŒåŠ å…¥å›¾ç‰‡ 5ã€è´­ç‰©è½¦å®åš5.2 Step 1 : å»ºç«‹åŠ å…¥è´­ç‰©è½¦çš„ action å…ˆåšæŒ‰é’®å’Œflashes 5.3 Step 2: è´­ç‰©è½¦è®¾è®¡ Part 1 cartã€cart_itemã€product å®ä½œadd_product_to_cart(@product) rails c ä¸‹æµ‹è¯•åŠŸèƒ½ 5.4 Step 3: è´­ç‰©è½¦è®¾è®¡ Part 2 æ˜¾ç¤ºè´­ç‰©è½¦å†…ç‰©å“æ•°é‡ å®ä½œcurrent_cart rails cä¸‹æµ‹è¯•åŠŸèƒ½ 5.5 Step 4 : æ˜¾ç¤ºè´­ç‰©è½¦æ˜ç»† cartsçš„index 5.6 Step 5 : è®¡ç®—æ€»ä»· å…ˆåœ¨viewsé‡Œåšï¼Œæµ‹è¯•okåé‡æ„åˆ°helperå’Œmodelä¸­ 6ã€è´­ç‰©è½¦å®åšï¼ˆè§£ç­”ï¼‰6.1 è´­ç‰©è½¦ç»ƒä¹ ä½œä¸š ï¼ˆè§£ç­”ï¼‰ è¯·è®¾è®¡ä¸€ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥ä¸€é”®æ¸…ç©ºè´­ç‰©è½¦å†…æ‰€æœ‰çš„å•†å“ æŸå•†å“çªç„¶ä¸æƒ³ä¹°äº†ï¼Œæˆ‘å¯ä»¥åœ¨è´­ç‰©è½¦å†…åˆ é™¤å®ƒ å·²ç»åŠ å…¥è´­ç‰©è½¦çš„å•†å“ï¼Œä¸èƒ½é‡å¤è¢«åŠ å…¥ å¯ä»¥æ›´æ”¹è´­ç‰©è½¦å†…è´­ä¹°çš„å•†å“æ•°é‡(åŸæœ¬é¢„è®¾æ•°é‡éƒ½æ˜¯1) åº“å­˜ä¸º 0 çš„å•†å“ä¸èƒ½è´­ä¹° åœ¨è´­ç‰©è½¦æ–°å¢æ•°é‡æ—¶ï¼Œä¸èƒ½æ›´æ–°è¶…è¿‡åŸæœ‰åº“å­˜çš„å•†å“æ•°é‡ 8ã€è®¢å•å®åš8.1 Step 1 : å»ºç«‹ç»“å¸é¡µ æŒ‰ä¸‹ã€Œç¡®è®¤ç»“å¸ã€æŒ‰é’®åï¼Œå¯ä»¥æ˜¾ç¤ºç»“å¸æ˜ç»†orderé¡µï¼Œå¹¶ä¸”å¯ä»¥è®©æ¶ˆè´¹è€…è¾“å…¥å¯„é€åœ°å€ 8.2 Step 2 : å»ºç«‹è´­ä¹°æ˜ç»† æœ‰æ—¶å€™å•†å“ä¼šä¸‹æ¶ã€ä»·æ ¼ä¼šå˜ï¼Œæ–°å»ºproduct_listçš„model è®¢å•createæ—¶çš„è´­ä¹°æ˜ç»†ç¼“å­˜ è´­ä¹°æ˜ç»†showé¡µé¢ 8.3 Step 3 : å°†ç½‘å€æ”¹ä¸ºç§˜å¯† token 9ã€è®¢å•å®åšï¼ˆè§£ç­”ï¼‰9.1 è®¢å•ç»ƒä¹ ä½œä¸šï¼ˆè§£ç­”ï¼‰ ä½¿ç”¨è€…å¯ä»¥åœ¨ /account/orders/ çœ‹åˆ°è¿‡å»æ‰€æœ‰è®¢å• ä½¿ç”¨è€…åœ¨ä¸‹æ‹‰å¼é€‰å•å¯ä»¥çœ‹åˆ°è¿‡å»æ‰€æœ‰çš„è®¢å• è®¢å•æ’åº 10ã€æ”¯ä»˜è®¢å•ä¸å¯„ä¿¡10.1 Step 1 : æ¶ˆè´¹è€…å¯ä»¥é’ˆå¯¹è®¢å•ä»˜æ¬¾ ä½¿ç”¨ is_paidï¼ˆboolean å±æ€§ï¼‰åˆ¤æ–­æ˜¯å¦å·²ä»˜è´¹ ä½¿ç”¨ payment_method åˆ¤æ–­ï¼Œå®é™…ä»˜æ¬¾æ¸ é“ä¸ºï¼šå¾®ä¿¡ã€æ”¯ä»˜å® å·²ä»˜æ¬¾è¿‡çš„è®¢å•ä¸å¯ä»¥å†ä»˜ 10.2 Step 2 : å¯„é€è®¢å•ç¡®è®¤é€šçŸ¥ä¿¡ ä½¿ç”¨è€…åœ¨ä¸‹å•åä¼šæ”¶åˆ°ä¸€å°è®¢å•ç¡®è®¤ä¿¡ï¼Œrails g mailer OrderMailer gem â€˜letter_openerâ€™ï¼Œå¹¶åœ¨consoleä¸‹æµ‹è¯•ä¿¡ä»¶é¢„è§ˆ åœ¨è®¢å•å»ºç«‹æ—¶å¯„é€šçŸ¥ä¿¡ 11ã€åå°å‡ºè´§è®¢å•æ“ä½œ11.1 æƒ…å¢ƒå’Œ Model å‡†å¤‡æ•ˆæœï¼šã€Œæœ‰é™çŠ¶æ€æœºã€è¿™ä¸ªæ¶æ„å»åšåå°è®¢å•åˆ‡æ¢çŠ¶æ€ã€‚ å·²ä¸‹è®¢ï¼ˆorder_placedï¼‰ å·²ä»˜æ¬¾ï¼ˆpaidï¼‰ å–å®¶å‘è´§ä¸­ï¼ˆshippingï¼‰ å·²äº¤è´§ï¼ˆshippedï¼‰ å–æ¶ˆè®¢å•ï¼ˆorder_cancelledï¼‰ é€€è´§ï¼ˆgood_returnedï¼‰ 11.2 è®¢å•çŠ¶æ€åˆ‡æ¢ å»ºç«‹ admin/orders å¯ä»¥çœ‹åˆ°ç³»ç»Ÿå†…æ‰€æœ‰è®¢å• admin çš„ order åˆ—è¡¨åº”è¦èƒ½æ˜¾ç¤ºè®¢å•çŠ¶æ€ ä½¿ç”¨è€…å¯ä»¥â€œç”³è¯·å–æ¶ˆè®¢å•â€ ä½¿ç”¨è€…â€œç”³è¯·å–æ¶ˆè®¢å•â€åï¼Œç®¡ç†å‘˜åº”è¯¥è¦æ”¶åˆ°â€œç”³è¯·é€šçŸ¥ä¿¡â€ åå°ç®¡ç†å‘˜å¯ä»¥â€œå–æ¶ˆè®¢å•â€ã€â€œå‡ºè´§â€ åå°ç®¡ç†â€œå‡ºè´§â€åï¼Œç³»ç»Ÿåº”è¯¥å¯„å‡ºé€šçŸ¥ä¿¡ åå°ç®¡ç†å‘˜â€œå–æ¶ˆè®¢å•â€åï¼Œç³»ç»Ÿåº”è¯¥å¯„å‡ºé€šçŸ¥ä¿¡ 12ã€éƒ¨ç½²åˆ° Heroku ï¼ˆä¸ƒç‰›äº‘ï¼‰12.1 æœ¬ç« å­¦ä¹ æŒ‡å—12.2 ä¸€äº›å®‰å…¨æ¦‚å¿µ (æœ¬èŠ‚åªéœ€è¦çœ‹ï¼Œä¸éœ€è¦å®ä½œ)12.3 ä½¿ç”¨ä¸ƒç‰›äº‘ï¼ˆç”¨æ¥å­˜å‚¨å›¾ç‰‡ï¼‰12.4 ä½¿ç”¨ Figaro ç®¡ç†å¯†ç 12.5 å°†JDStoreéƒ¨ç½²åˆ°Heroku12.6 JDStore å•†åº—åˆ›æ„å¤§èµ›ï¼ˆç¬¬äºŒå­£ï¼‰å‚èµ›æŒ‡å—12.7 ä½¿ç”¨SendCloudæœåŠ¡å‘é€é‚®ä»¶12.8 Rails ç¯å¢ƒæ¶æ„12.9 å¦‚ä½•åœ¨ Heroku ä¸Š Debug13-éƒ¨ç½²åˆ° Heroku (æµ·å¤–ç”¨æˆ·æ–¹æ¡ˆ)13.1 æœ¬ç« éƒ¨å±æŒ‡å—13.2 ç”³è¯·AWS S3ï¼ˆç”¨æ¥å‚¨å­˜å›¾ç‰‡ï¼‰13.3 ä½¿ç”¨ Figaro ç®¡ç†å¯†ç 13.4 å°†JDStoreéƒ¨ç½²åˆ°Heroku13.5 æ³„æ¼ S3 å¯†é’¥çš„å¤„ç†æ–¹å¼äºŒã€æç¤ºç‰ˆ4ã€åå°4.1ã€åŸºç¡€å»ºè®¾4.1.1 forkã€æˆ–æ–°å»ºä¸“æ¡ˆ æ–¹æ³•ä¸€ï¼šforä¸“æ¡ˆç½‘å€ https://github.com/quanzhanying/jdstore 1234567git clone https://github.com/quanzhanying/jdstore.git rails/jdstore004 cd rails/jdstore004cp config/database.yml.example config/database.ymlbundle checkbundle installgit checkout -b testrails s æ–¹æ³•äºŒï¼šæ–°å»ºä¸“æ¡ˆ 123rails new rails/jdstore1201git initrails s 4.1.2 gem â€˜bootstrap-sassâ€™ css mv app/assets/stylesheets/application.css app/assets/stylesheets/application.scss 1234app/assets/stylesheets/application.scss@import &quot;bootstrap-sprockets&quot;;@import &quot;bootstrap&quot;; html rails g controller welcomeï¼Œæ–°å»ºindexå¹¶è®¾ç½®ä¸ºé¦–é¡µ footer 1234567&lt;footer class=&quot;container&quot; style=&quot;margin-top: 100px;&quot;&gt; &lt;p class=&quot;text-center&quot;&gt; Copyright Â©2017 JDStore &lt;br&gt; Design by yourname &lt;/p&gt;&lt;/footer&gt; å¢åŠ _navbar.html.erbã€_footer.html.erbã€_flashes.htm.erbï¼Œè®¾ç½®å…¨å±€html 12345678910app/views/layouts/application.html.erb &lt;body&gt; &lt;div class=&quot;container-fluid&quot;&gt; &lt;%= render &quot;common/navbar&quot; %&gt; &lt;%= render &quot;common/flashes&quot; %&gt; &lt;%= yield %&gt; &lt;/div&gt; &lt;%= render &quot;common/footer&quot; %&gt; &lt;/body&gt; flashes+js jsåŠ å…¥//= require bootstrap/alert app/views/common/_flashes.html.erb 12345678&lt;% if flash.any? %&gt; &lt;% user_facing_flashes.each do |key, value| %&gt; &lt;div class=&quot;alert alert-dismissable alert-&lt;%= flash_class(key) %&gt;&quot;&gt; &lt;button class=&quot;close&quot; data-dismiss=&quot;alert&quot;&gt;Ã—&lt;/button&gt; &lt;%= value %&gt; &lt;/div&gt; &lt;% end %&gt;&lt;% end %&gt; app/helpers/flashes_helper.rb 1234567891011module FlashesHelper FLASH_CLASSES = &#123; alert: &quot;danger&quot;, notice: &quot;success&quot;, warning: &quot;warning&quot;&#125;.freeze def flash_class(key) FLASH_CLASSES.fetch key.to_sym, key end def user_facing_flashes flash.to_hash.slice &quot;alert&quot;, &quot;notice&quot;,&quot;warning&quot; endend åœ¨welcomeçš„indexæµ‹è¯•flashes 4.1.3 gem â€˜deviseâ€™ å®‰è£…devise 1234gem &apos;devise&apos;rails g devise:installrails g devise userrake db:migrate æ³¨å†Œã€ç™»å½•ã€é€€å‡º 12345678910111213141516app/views/common/_navbar.html.erb- &lt;li&gt; &lt;%= link_to(&quot;ç™»å…¥&quot;, &apos;#&apos;) %&gt; &lt;/li&gt;+ &lt;% if !current_user %&gt;+ &lt;li&gt;&lt;%= link_to(&quot;æ³¨å†Œ&quot;, new_user_registration_path) %&gt; &lt;/li&gt;+ &lt;li&gt;&lt;%= link_to(&quot;ç™»å…¥&quot;, new_user_session_path) %&gt;&lt;/li&gt;+ &lt;% else %&gt;+ &lt;li class=&quot;dropdown&quot;&gt;+ &lt;a href=&quot;#&quot; class=&quot;dropdown-toggle&quot; data-toggle=&quot;dropdown&quot;&gt;+ Hi!, &lt;%= current_user.email %&gt;+ &lt;b class=&quot;caret&quot;&gt;&lt;/b&gt;+ &lt;/a&gt;+ &lt;ul class=&quot;dropdown-menu&quot;&gt;+ &lt;li&gt; &lt;%= link_to(&quot;ç™»å‡º&quot;, destroy_user_session_path, method: :delete) %&gt; &lt;/li&gt;+ &lt;/ul&gt;+ &lt;/li&gt;+ &lt;% end %&gt; jsåŠ å…¥//= require bootstrap/dropdown 4.1.4 gem â€˜simple_formâ€™ 12gem &apos;simple_form&apos;rails generate simple_form:install --bootstrap 4.1.5 gem â€˜font-awesome-railsâ€™ 1gem &apos;font-awesome-rails&apos; 1@import &quot;font-awesome&quot;; 123&lt;%= link_to(content_tag(:i, &apos;ç™»å…¥&apos;, class: &apos;fa fa-sign-in&apos;), new_user_session_path) %&gt;&lt;%= link_to(content_tag(:i, &apos;ç™»å‡º&apos;, class: &apos;fa fa-sign-out&apos;), destroy_user_session_path, method: :delete) %&gt; 4.2ã€ä¸Šæ¶åå°CRUD ä½¿ç”¨è€…å¿…é¡»è¦æ˜¯ admin æ‰èƒ½ç™»å…¥ http://localhost:3000/admin/products å•†å“æ ä½å¿…é¡»è¦æœ‰ title, description, quantity, price admin åå° products å®Œæ•´çš„ CRUD 1ã€Rï¼šadmin::products 2ã€Mï¼šæƒ³åˆ°viewsé‡Œä¼šç”¨åˆ°æ ä½title/description/quantity/price â€‹ 3ã€Cï¼šnewå’Œcreate 4ã€Vï¼šnewé¡µé¢ï¼Œæœ€ç®€å•çš„å°±å¥½ â€‹ 5ã€Cï¼šindex 6ã€Vï¼šindexé¡µé¢ï¼Œæœ€ç®€å•ä¸€ä¸ªæ ä½å°±å¥½ â€‹ 7ã€Cï¼šeditå’Œupdateï¼Œé¡ºä¾¿æŠŠdestroyåŠ ä¸Š 8ã€Vï¼šediteé¡µé¢ 4.3ã€admin å¯ä»¥ç™»å½•åå° ç®¡ç†è€…ï¼ˆå•†å®¶ï¼‰å¿…é¡»å…ˆç™»å½•ç½‘ç«™æ‰èƒ½è¿›å…¥ï¼ˆå•†åº—ï¼‰åå° ç®¡ç†è€…å¿…é¡»æœ‰ admin æƒé™æ‰èƒ½è¿›å…¥åå° åå°ç”¨layout â€˜adminâ€™è‡ªå®šä¹‰é¡µé¢æ ·å¼ 1ã€before_action :authenticate_user!ã€before_action :admin_required 2ã€Cï¼šdef admin_required 3ã€Mï¼šdef admin? 4ã€æ ä½ï¼šadd_is_admin_to_userï¼Œboolean 5ã€ 12345678910db/seeds.rbu = User.newu.email = &quot;admin@test.com&quot; # å¯ä»¥æ”¹æˆè‡ªå·±çš„ emailu.password = &quot;111111&quot; # æœ€å°‘è¦å…­ç u.password_confirmation = &quot;111111&quot; # æœ€å°‘è¦å…­ç u.is_admin = trueu.save â€‹ 6ã€Cï¼šlayout â€œadminâ€ 7ã€Vï¼šapp/views/layouts/admin.html.erb 4.4ã€ä¸Šä¼ å›¾ç‰‡ å¯ä»¥ä¸Šä¼ å›¾ç‰‡ã€ä¸”æ˜¯å‰ªåˆ‡è¿‡çš„å›¾ç‰‡ï¼ˆgem â€˜carrierwaveâ€™ã€gem â€˜mini_magickâ€™ï¼‰ å›¾ç‰‡æ–‡ä»¶å¤¹åŠ å…¥.gitignoreä¸­ è®¾å®š localhost:3000 ä¸ºå•†å“é¦–é¡µ å•†å“indexã€showå±•ç¤º é‡æ„åå°å„ä¸ªviewsï¼ŒåŠ å…¥å›¾ç‰‡ 1ã€ 12gem &apos;carrierwave&apos;gem &apos;mini_magick&apos; rails g uploader image 2ã€æ ä½ï¼šadd_image_to_product 3ã€ 1234app/models/product.rbclass Product &lt; ApplicationRecord+ mount_uploader :image, ImageUploaderend 4ã€ 12345678910include CarrierWave::MiniMagick+ process resize_to_fit: [800, 800]+ version :thumb do+ process resize_to_fill: [200,200]+ end+ version :medium do+ process resize_to_fill: [400,400]+ end 5ã€Cï¼šparamsä¸­åŠ å…¥imageæ ä½ 6ã€Vï¼šnewè¡¨å•åŠ å…¥ä¸Šä¼ å›¾ç‰‡&lt;%= f.input :image, as: :file %&gt; 7ã€Vï¼šeditè¡¨å•åŠ å…¥ç°æœ‰å›¾ç‰‡&lt;% if @product.image.present? %&gt;ï¼Œä»¥åŠä¸Šä¼ å›¾ç‰‡&lt;%= image_tag(@product.image.thumb.url) %&gt; 8ã€public/uploadsåŠ å…¥.gitignore â€‹ 9ã€Cï¼šproductçš„index 10ã€Vï¼šindexé¡µé¢ï¼Œå¹¶ä¿®æ”¹é¦–é¡µè·¯å¾„ã€‚é¡µé¢æ˜¾ç¤ºå›¾ç‰‡ã€æ ‡é¢˜ã€ä»·æ ¼ï¼Œå½“æ²¡æœ‰å›¾ç‰‡æ˜¯ç”¨http://placehold.it/200x200&amp;text=No Pic â€‹ 11ã€Cï¼šshow 12ã€Vï¼šshowé¡µé¢&lt;%= image_tag(@product.image.medium.url) %&gt;ï¼Œå½“æ²¡æœ‰å›¾ç‰‡æ˜¯ç”¨http://placehold.it/400x400&amp;text=No Pic â€‹ 13ã€å‰åå°navbaråŠ å…¥product 14ã€ç¾åŒ–åå°productçš„indexé¡µé¢å¦‚ä¸‹ï¼š 5ã€è´­ç‰©è½¦å®åš5.2 Step 1 : å»ºç«‹åŠ å…¥è´­ç‰©è½¦çš„ action å…ˆåšæŒ‰é’®å’Œflashes 1ã€Rï¼šè·¯ç”±add_to_cart 2ã€Vï¼šæŒ‰é’®åŠè·¯å¾„ 3ã€Cï¼šå…ˆåšfind_and_doçš„findï¼Œç›´æ¥è¿”å›redirect_to :back 5.3 Step 2: è´­ç‰©è½¦è®¾è®¡ Part 1 cartã€cart_itemã€product å®ä½œadd_product_to_cart(@product) rails c ä¸‹æµ‹è¯•åŠŸèƒ½ æ•ˆæœï¼šcurrent_cart.add_product_to_cart(@product) 1ã€Mï¼šæ–°å¢cartå’Œcart_itemï¼Œå¹¶è®¾ç½®ä¸¤è€…çš„å…³è” 2ã€æ ä½ï¼šcart_itemåŠ å…¥cart_idã€product_idã€quantity, default: 1 3ã€Mï¼šcartä¸­å®šä¹‰add_product_to_cart(product) 123456+ def add_product_to_cart(product)+ ci = cart_items.build+ ci.product = product+ ci.quantity = 1+ ci.save+ end 4ã€rails cä¸­æµ‹è¯•å¯å¦æ‰§è¡Œadd_product_to_cart(product)ï¼Œå¦‚ä¸‹ï¼š 12345Cart.createcart = Cart.firstcart.add_product_to_cart(product)cart.cart_itemsexit 5.4 Step 3: è´­ç‰©è½¦è®¾è®¡ Part 2 æ˜¾ç¤ºè´­ç‰©è½¦å†…ç‰©å“æ•°é‡ å®ä½œcurrent_cart rails cä¸‹æµ‹è¯•åŠŸèƒ½ æ•ˆæœï¼šæˆ‘ä»¬çš„ç›®çš„æ˜¯ä¸ºäº†æ¯ä¸ªè¿›åº—çš„å®¢æˆ·ï¼ˆä¸ç®¡æ˜¯å¦æœ‰ç™»å…¥ï¼Œéƒ½å‡†å¤‡ä¸€å°è´­ç‰©è½¦ï¼‰ã€‚ç„¶åæ¶ˆè´¹è€…éšæ—¶å¯ä»¥å¯Ÿçœ‹è´­ç‰©è½¦çš„äº§å“æ•°é‡ã€‚ 1ã€Vï¼šæ˜¾ç¤ºè½¦çš„iconï¼Œæ˜¾ç¤ºè½¦çš„æ•°é‡&lt;%= current_cart.products.count %&gt; 2ã€Cï¼šå®šä¹‰current_cart 123456789101112131415161718app/controllers/application_controller.rb+ helper_method :current_cart+ def current_cart+ @current_cart ||= find_cart+ end+ private+ def find_cart+ cart = Cart.find_by(id: session[:cart_id])+ if cart.blank?+ cart = Cart.create+ end+ session[:cart_id] = cart.id+ return cart+ endend 3ã€Cï¼šè¡¥é½add_to_cartçš„å®šä¹‰ï¼Œå³current_cart.add_product_to_cart(@product) 5.5 Step 4 : æ˜¾ç¤ºè´­ç‰©è½¦æ˜ç»† cartsçš„index 1ã€Rï¼šè·¯ç”±åŠ å…¥carts 2ã€Vï¼šnavbarçš„è´­ç‰©è½¦æŒ‰é’®åŠé“¾æ¥ 3ã€Vï¼šindexé¡µé¢ æ³¨æ„ï¼šä¸ºä»€ä¹ˆè¿™é‡Œä¸ç”¨åœ¨controlleré‡Œå®šä¹‰indexï¼Ÿï¼Ÿâ€”â€”å› ä¸ºæ²¡æœ‰ç”¨åˆ°@cartsï¼Œä¸ç”¨æ‹¿å®ƒæ¥åš@carts.each do |cart|ã€‚ 5.6 Step 5 : è®¡ç®—æ€»ä»· å…ˆåœ¨viewsé‡Œåšï¼Œæµ‹è¯•okåé‡æ„åˆ°helperå’Œmodelä¸­ 1ã€Vï¼šæµ‹è¯•è¿ç®—&lt;% sum = sum + cart_item.quantity * cart_item.product.price %&gt; 2ã€helperï¼šæŠŠæ­¥éª¤1çš„é€»è¾‘é‡æ„helperï¼Œæµ‹è¯•è¿ç®—ã€‚ 3ã€Mï¼šç”¨def total_priceï¼ŒæŠŠæ­¥éª¤2çš„è¿ç®—é‡æ„åˆ°modelä¸­ 6ã€è´­ç‰©è½¦å®åšï¼ˆè§£ç­”ï¼‰6.1 è´­ç‰©è½¦ç»ƒä¹ ä½œä¸š ï¼ˆè§£ç­”ï¼‰ è¯·è®¾è®¡ä¸€ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥ä¸€é”®æ¸…ç©ºè´­ç‰©è½¦å†…æ‰€æœ‰çš„å•†å“ 1ã€Rï¼šè·¯ç”±collectionï¼Œclean 2ã€Vï¼šæŒ‰é’®åŠ å…¥è·¯å¾„ 3ã€Cï¼šå®šä¹‰cleanï¼Œå‡ºç°cleanï¼ 4ã€Mï¼šå®šä¹‰clean!ï¼Œç”¨cart_items**.destroy_all æŸå•†å“çªç„¶ä¸æƒ³ä¹°äº†ï¼Œæˆ‘å¯ä»¥åœ¨è´­ç‰©è½¦å†…åˆ é™¤å®ƒ 1ã€Rï¼šè·¯ç”±cart_item 2ã€Vï¼šæŒ‰é’®åŠ å…¥è·¯å¾„ 3ã€Cï¼šcart_itemé‡Œå®šä¹‰destroy å·²ç»åŠ å…¥è´­ç‰©è½¦çš„å•†å“ï¼Œä¸èƒ½é‡å¤è¢«åŠ å…¥ 1ã€Cï¼šåœ¨add_to_cartçš„actioné‡Œï¼Œç”¨if !current_cart.products.include?(@product)åˆ¤æ–­ å¯ä»¥æ›´æ”¹è´­ç‰©è½¦å†…è´­ä¹°çš„å•†å“æ•°é‡(åŸæœ¬é¢„è®¾æ•°é‡éƒ½æ˜¯1) 1ã€Vï¼šåŠ å…¥&lt;%= f.select :quantity, [1,2,3,4,5] %&gt; 2ã€Cï¼šcart_itemçš„updateçš„action åº“å­˜ä¸º 0 çš„å•†å“ä¸èƒ½è´­ä¹° 1ã€Vï¼š&lt;% if @product.quantity &gt; 0 %&gt; 2ã€Cï¼šupdateçš„actionï¼Œif @cart_item.product.quantity &gt;= cart_item_params[:quantity].to_i åœ¨è´­ç‰©è½¦æ–°å¢æ•°é‡æ—¶ï¼Œä¸èƒ½æ›´æ–°è¶…è¿‡åŸæœ‰åº“å­˜çš„å•†å“æ•°é‡ 1ã€Vï¼š&lt;%= f.select :quantity, 1..cart_item.product.quantity %&gt; 8ã€è®¢å•å®åš8.1 Step 1 : å»ºç«‹ç»“å¸é¡µ æŒ‰ä¸‹ã€Œç¡®è®¤ç»“å¸ã€æŒ‰é’®åï¼Œå¯ä»¥æ˜¾ç¤ºç»“å¸æ˜ç»†orderé¡µï¼Œå¹¶ä¸”å¯ä»¥è®©æ¶ˆè´¹è€…è¾“å…¥å¯„é€åœ°å€ 1ã€Rï¼šè·¯ç”±åŠ å…¥checkout 2ã€Vï¼šæ”¹viewsé‡ŒæŒ‰é’®çš„è·¯å¾„ 3ã€Cï¼šcheckoutçš„actioné‡Œæ–°å»ºä¸€ä¸ªorderè¡¨å• 4ã€Vï¼šç‚¹å‡»checkoutå‘ç°é¡µé¢æ²¡å˜åŒ–ï¼Œconsoleé‡Œæç¤ºç¼ºå°‘checkouté¡µé¢ã€‚â€”â€”æ–°å»ºcheckout.html.erbï¼ˆéœ€è°ƒç”¨cart_itemçš„å•†å“ä¿¡æ¯ã€åˆ¶ä½œå¡«è¡¨ç”¨ä¸Šorderæ ä½ï¼‰ 5ã€Mï¼šåŠ å…¥orderæ‰€éœ€æ ä½totalã€user_idã€billing_name/addressã€shipping_name/addressã€‚å¹¶è®¾ç½®ä¸userå…³ç³»ã€‚ 6ã€Rï¼šè·¯ç”±åŠ å…¥order 7ã€Cï¼šç”Ÿæˆè®¢å•éœ€è¦orderçš„createçš„actionã€‚ 8.2 Step 2 : å»ºç«‹è´­ä¹°æ˜ç»† æœ‰æ—¶å€™å•†å“ä¼šä¸‹æ¶ã€ä»·æ ¼ä¼šå˜ï¼Œæ–°å»ºproduct_listçš„model è®¢å•createæ—¶çš„è´­ä¹°æ˜ç»†ç¼“å­˜ è´­ä¹°æ˜ç»†showé¡µé¢ æ•ˆæœï¼šç”¨produst_listä»£æ›¿cart_itemå­˜å‚¨å·²ä¸‹å•çš„å•†å“ä¿¡æ¯ï¼Œè¾¾åˆ°è®¢å•é‡Œçš„å•†å“ä¿¡æ¯ä¸éšå•†å“æ›´æ–°è€Œæ”¹å˜çš„ç›®çš„ã€‚ é—®é¢˜ã€ä¸ºä»€ä¹ˆè¦æ–°å»ºproduct_listçš„model ï¼Ÿâ€”â€”orderå’Œproduct_listçš„modelï¼Œç›¸å½“äºæ˜¯æŠŠcartå’Œcart_itemçš„å•†å“ä¿¡æ¯è½¬ç§»è¿‡æ¥ã€‚åœ¨è´­ç‰©è½¦carté‡Œå•†å“ä¼šéšç€ç®¡ç†å‘˜äº§å“ä¿¡æ¯æ›´æ–°è€Œæ›´æ–°ï¼Œè€Œåœ¨è®¢å•orderé‡Œå•†å“çš„ä¿¡æ¯ä¸å†æ”¹å˜ï¼Œå·²ç»å•ç‹¬å‚¨å­˜åœ¨product_listä¸­ã€‚ 1ã€Mï¼šâ‘ æ–°å»ºproduct_listçš„modelï¼›â‘¡åŠ å…¥æ ä½order_idã€product_nameã€product_priceã€quantityï¼›â‘¢è®¾ç½®ä¸orderå…³ç³» 2ã€Cï¼šè®¢å•creatçš„actionä¸­å»ºç«‹product_listçš„ç¼“å­˜ä¿¡æ¯ 3ã€Cï¼šè®¢å•å»ºç«‹åä¼šè¿›å…¥è¯¦æƒ…é¡µå³showï¼Œäºæ˜¯è®¾ç½®showçš„action 4ã€Vï¼šshowçš„viewsï¼Œå› ä¸ºè¦ç”¨orderå’Œproduct_listæ¥æ›¿ä»£cartå’Œcart_itemï¼Œæ‰€ä»¥è¿™é‡Œç”¨orderå’Œproduct_listè°ƒç”¨ä¿¡æ¯ã€‚ 8.3 Step 3 : å°†ç½‘å€æ”¹ä¸ºç§˜å¯† token æ•ˆæœï¼šè®¢å•å·ä¹±åºæ˜¾ç¤º 1ã€æ ä½ï¼šæ–°å»ºadd_token_to_order 2ã€Mï¼šå®šä¹‰generate_tokençš„actionï¼ˆSecureRandom.uuidï¼‰ï¼Œå¹¶åŠ å…¥before_create 3ã€Cï¼šä¿®æ”¹orderé‡Œçš„idè°ƒç”¨ï¼Œæ¯”å¦‚redirect_to order_path(@order)æ”¹æˆredirect_to order_path(@order.token)ï¼Œfindæ”¹æˆfind_by_token 9ã€è®¢å•å®åšï¼ˆè§£ç­”ï¼‰9.1 è®¢å•ç»ƒä¹ ä½œä¸šï¼ˆè§£ç­”ï¼‰ ä½¿ç”¨è€…å¯ä»¥åœ¨ /account/orders/ çœ‹åˆ°è¿‡å»æ‰€æœ‰è®¢å• ä½¿ç”¨è€…åœ¨ä¸‹æ‹‰å¼é€‰å•å¯ä»¥çœ‹åˆ°è¿‡å»æ‰€æœ‰çš„è®¢å• è®¢å•æ’åº 1ã€Rï¼šè·¯ç”±åŠ å…¥ 2ã€Cï¼šorderçš„indexï¼Œå¹¶æŒ‰æ—¶é—´æ’åº 3ã€Vï¼šindexé¡µé¢ï¼Œå¹¶åœ¨navbarä¸­åŠ å…¥é“¾æ¥ã€‚tokenæŠ¥é”™ï¼Œè¿›å…¥rails cï¼Œè¾“å…¥Order.where(token: nil).destroy_all 10ã€æ”¯ä»˜è®¢å•ä¸å¯„ä¿¡10.1 Step 1 : æ¶ˆè´¹è€…å¯ä»¥é’ˆå¯¹è®¢å•ä»˜æ¬¾ ä½¿ç”¨ is_paidï¼ˆboolean å±æ€§ï¼‰åˆ¤æ–­æ˜¯å¦å·²ä»˜è´¹ ä½¿ç”¨ payment_method åˆ¤æ–­ï¼Œå®é™…ä»˜æ¬¾æ¸ é“ä¸ºï¼šå¾®ä¿¡ã€æ”¯ä»˜å® å·²ä»˜æ¬¾è¿‡çš„è®¢å•ä¸å¯ä»¥å†ä»˜ æ•ˆæœï¼šç”¨is_paidåˆ¤æ–­æ˜¯å¦ä»˜è´¹ï¼Œç”¨payment_methodåˆ¤æ–­æ”¯ä»˜æ–¹å¼ã€‚ 1ã€Rï¼šè·¯ç”±åŠ å…¥pay_with_alipayã€pay_with_wechat 2ã€Vï¼šåŠ å…¥æ”¯ä»˜çš„æŒ‰é’®å¹¶é“¾æ¥è·¯å¾„ 3ã€Cï¼šå®šä¹‰pay_with_alipayå’Œpay_with_wechatçš„action 4ã€æ ä½ï¼šadd_payment_method_to_orderï¼Œstring 5ã€Mï¼šå®šä¹‰set_payment_with!(method)ã€å’Œ pay! ï¼Œç”¨åˆ°ä¸Šä¸€æ­¥æ–°å»ºçš„æ ä½ã€‚è¿™é‡Œçš„ç”¨æ³•æ˜¯self.update_columns(æ ä½: è®¾å®šçš„å€¼ ) â€‹ 6ã€æ ä½ï¼šadd_is_paid_to_orderï¼Œboolean 7ã€Vï¼šåŠ å…¥ifåˆ¤æ–­æ˜¾ç¤ºæ”¯ä»˜æŒ‰é’®ï¼Œè¿˜æ˜¯æ˜¾ç¤ºâ€œè®¢å•å·²å®Œæˆä»˜æ¬¾â€ 10.2 Step 2 : å¯„é€è®¢å•ç¡®è®¤é€šçŸ¥ä¿¡ ä½¿ç”¨è€…åœ¨ä¸‹å•åä¼šæ”¶åˆ°ä¸€å°è®¢å•ç¡®è®¤ä¿¡ï¼Œrails g mailer OrderMailer gem â€˜letter_openerâ€™ï¼Œå¹¶åœ¨consoleä¸‹æµ‹è¯•ä¿¡ä»¶é¢„è§ˆ åœ¨è®¢å•å»ºç«‹æ—¶å¯„é€šçŸ¥ä¿¡ 1ã€rails g mailer OrderMailerï¼Œäº§ç”Ÿmailerç›¸å…³æ–‡ä»¶ 2ã€app/mailers/application_mailer.rbï¼Œè®¾ç½®å¯„ä¿¡äººé‚®ç®± 3ã€app/mailers/order_mailer.rbï¼Œè®¾ç½®å¯„ä¿¡è¡¨å¤´å†…å®¹ï¼ˆå®Œæ•´ä»£ç è§ä¸‹é¢11ç« ï¼‰ 1234 def notify_order_placed(order) @user = order.user mail(to: @user.email , subject: &quot;xxx&quot;)end 4ã€Vï¼šnotify_order_placed.html.erbï¼Œç”Ÿæˆè®¢å•åçš„å¯„ä¿¡å†…å®¹ï¼ˆå¦‚æœæ²¡æœ‰é¡µé¢ä¼šåœ¨rails sæŠ¥é”™ï¼‰ 5ã€ gem &#39;letter_opener&#39;, group: :development * config/environments/development.rbè®¾ç½®`config.action_mailer.delivery_method = :letter_opener` 6ã€rails c ä¸­æµ‹è¯•è‡ªåŠ¨å‘é€ä¿¡ä»¶ï¼ŒOrderMailer.notify_order_placed(Order.last).deliver! 7ã€Cï¼šåœ¨orderçš„createçš„actionä¸­åŠ å…¥æ¸…ç©ºè´­ç‰©è½¦ã€å‘é€é‚®ä»¶ 11ã€åå°å‡ºè´§è®¢å•æ“ä½œ11.1 æƒ…å¢ƒå’Œ Model å‡†å¤‡æ•ˆæœï¼šã€Œæœ‰é™çŠ¶æ€æœºã€è¿™ä¸ªæ¶æ„å»åšåå°è®¢å•åˆ‡æ¢çŠ¶æ€ã€‚ 1ã€aasmçš„githubæ‘˜æŠ„å¦‚ä¸‹å†…å®¹ gem â€˜aasmâ€™ 12345678910111213141516171819202122class Job include AASM #è½½å…¥ aasm do state :sleeping, :initial =&gt; true #åˆå§‹çŠ¶æ€ state :running #çŠ¶æ€2 state :running #çŠ¶æ€3 event :run do #å®šä¹‰runçš„åŠ¨ä½œï¼Œå¯ä»¥åœ¨controllerä¸­ç”¨run!è°ƒç”¨ transitions :from =&gt; :sleeping, :to =&gt; :running #çŠ¶æ€ç”±sleepingè½¬æ¢ä¸ºrunning end event :clean do transitions :from =&gt; :running, :to =&gt; :cleaning end event :sleep do transitions :from =&gt; [:running, :cleaning], :to =&gt; :sleeping #å½“æœ‰å¤šç§çŠ¶æ€æ—¶ç”¨[] end endend ä¸‹é¢è¿™å‡ ä¸ªç”¨åˆ°after_commit 123456789101112131415event before_all_transactionsevent before_transactionevent aasm_fire_event (within transaction)event after_commit (if event successful)event after_transactionevent after_all_transactionsaasm do state :sleeping, :initial =&gt; true state :running event :run, :after_commit =&gt; :notify_about_running_job do transitions :from =&gt; :sleeping, :to =&gt; :running endend 2ã€å¢åŠ æ ä½ï¼šadd_aasm_state_to_orderï¼Œ :string, default: â€œorder_placedâ€ï¼Œç›®çš„æ˜¯è®¾ç½®åˆå§‹å€¼ 3ã€å…­ä¸ªçŠ¶æ€stateæ³¨æ„æ˜¯çŠ¶æ€ï¼š å·²ä¸‹è®¢ï¼ˆorder_placedï¼‰ å·²ä»˜æ¬¾ï¼ˆpaidï¼‰ å–å®¶å‘è´§ä¸­ï¼ˆshippingï¼‰ å·²äº¤è´§ï¼ˆshippedï¼‰ å–æ¶ˆè®¢å•ï¼ˆorder_cancelledï¼‰ é€€è´§ï¼ˆgood_returnedï¼‰ 4ã€äº”ç§ä¸ªmodelé‡Œçš„åŠ¨ä½œï¼Œå³äº”ç§çŠ¶æ€åˆ‡æ¢ æ³¨æ„ï¼šè¿™é‡Œæ˜¯modelçš„åŠ¨ä½œï¼Œå¸¸å¸¸ä¼šåœ¨controllerçš„actionè¡Œä¸ºä¸‹è°ƒç”¨ï¼Œå› ä¸ºåœ¨åé¢åŠ !æ‰€ä»¥å¯ä»¥åŒå make_paymentï¼ˆä»˜æ¬¾ï¼‰ shipå–å®¶å‘è´§ï¼ˆè´§ç‰©ç¦»å¼€å¯è¿åœ°æˆ–è€…å‘è´§äººäº¤è¿ç»™æ‰¿è¿äººï¼‰ deliveräº¤è´§ï¼ˆè´§ç‰©åˆ°è¾¾ç›®çš„åœ°æˆ–è€…äº¤ä»˜æ”¶è´§äººï¼‰ returnï¼ˆé€€è´§ï¼‰ cancelï¼ˆå–æ¶ˆè®¢å•ï¼‰ 4ã€Cï¼š- @order.pay!ï¼Œç„¶å+ @order.make_payment! 5ã€Mï¼šä¿®æ”¹æœ‰é™çŠ¶æ€æœº 1event :make_payment, after_commit: :pay! do 6ã€æµ‹è¯•ï¼šé‡æ–°æ“ä½œè®¢å•æ–°å»ºåˆ°ä»˜æ¬¾ï¼Œrails cï¼ŒOrder.lastï¼Œçœ‹aasm_stateæ˜¯å¦æ˜¾ç¤ºä¸ºè½¬æ¢åçš„çŠ¶æ€paid 11.2 è®¢å•çŠ¶æ€åˆ‡æ¢ å»ºç«‹ admin/orders å¯ä»¥çœ‹åˆ°ç³»ç»Ÿå†…æ‰€æœ‰è®¢å• admin çš„ order åˆ—è¡¨åº”è¦èƒ½æ˜¾ç¤ºè®¢å•çŠ¶æ€ ä½¿ç”¨è€…å¯ä»¥â€œç”³è¯·å–æ¶ˆè®¢å•â€ ä½¿ç”¨è€…â€œç”³è¯·å–æ¶ˆè®¢å•â€åï¼Œç®¡ç†å‘˜åº”è¯¥è¦æ”¶åˆ°â€œç”³è¯·é€šçŸ¥ä¿¡â€ åå°ç®¡ç†å‘˜å¯ä»¥â€œå–æ¶ˆè®¢å•â€ã€â€œå‡ºè´§â€ åå°ç®¡ç†â€œå‡ºè´§â€åï¼Œç³»ç»Ÿåº”è¯¥å¯„å‡ºé€šçŸ¥ä¿¡ åå°ç®¡ç†å‘˜â€œå–æ¶ˆè®¢å•â€åï¼Œç³»ç»Ÿåº”è¯¥å¯„å‡ºé€šçŸ¥ä¿¡ 1ã€Rï¼šè·¯ç”±åŠ å…¥admin::order 2ã€Cï¼šindexï¼ŒæŒ‰idæ’åº 3ã€Vï¼šindexé¡µé¢ï¼Œç”¨orderè°ƒç”¨ä¿¡æ¯ï¼šè®¢å•å·ã€åˆ›å»ºäººã€åˆ›å»ºæ—¶é—´ã€è®¢å•çŠ¶æ€ â€‹ 4ã€Cï¼šshowï¼Œæ˜¾ç¤ºproduct_lists 5ã€Vï¼šshowé¡µé¢ï¼Œç”¨product_listså’Œ@orderè°ƒç”¨ä¿¡æ¯ 6ã€helperï¼šrender_order_paid_state(order)ï¼Œæ˜¾ç¤ºå·²ä»˜æ¬¾ã€æœªä»˜æ¬¾ 7ã€Vï¼šè°ƒç”¨ â€‹ åå°æ“ä½œï¼š 8ã€Vï¼šapp/views/admin/orders/_state_option.html.erbï¼Œç”¨case..whenè¯­æ³•ç½—åˆ—6ç§è®¢å•çŠ¶æ€ï¼Œç„¶ååˆ†åˆ«åœ¨å„ç§çŠ¶æ€ä¸‹åˆ—å‡ºéœ€è¦å‡ºç°çš„æ“ä½œæŒ‰é’®ï¼Œå‘ç°æ€»å…±éœ€è¦4ç§æŒ‰é’®ã€2ç§çŠ¶æ€ï¼š å·²ä¸‹è®¢ï¼ˆorder_placedï¼‰â€”â€”ç”³è¯·å–æ¶ˆè®¢å•cancel å·²ä»˜æ¬¾ï¼ˆpaidï¼‰â€”â€”ç”³è¯·å–æ¶ˆè®¢å•cancel+å–å®¶å‘è´§ship å–å®¶å‘è´§ä¸­ï¼ˆshippingï¼‰â€”â€”äº¤è´§deliver å·²äº¤è´§ï¼ˆshippedï¼‰â€”â€”é€€è´§ å–æ¶ˆè®¢å•ï¼ˆorder_cancelledï¼‰â€”â€”çŠ¶æ€ï¼šè®¢å•å·²å–æ¶ˆ é€€è´§ï¼ˆgood_returnedï¼‰â€”â€”çŠ¶æ€ï¼šå·²å®Œæˆé€€è´§ 123456789101112131415161718192021222324252627282930313233app/views/admin/orders/_state_option.html.erb&lt;% case order.aasm_state %&gt; &lt;% when &quot;order_placed&quot; %&gt; &lt;%= link_to(&quot;å–æ¶ˆè®¢å•&quot;, cancel_admin_order_path(order), class: &quot;btn btn-default btn-sm&quot;, method: :post) %&gt; &lt;% when &quot;paid&quot; %&gt; &lt;%= link_to(&quot;å–æ¶ˆè®¢å•&quot;, cancel_admin_order_path(order), class: &quot;btn btn-default btn-sm&quot;, method: :post) %&gt; &lt;%= link_to(&quot;å‡ºè´§&quot;, ship_admin_order_path(order), class: &quot;btn btn-default btn-sm&quot;, method: :post) %&gt; &lt;% when &quot;shipping&quot; %&gt; &lt;%= link_to(&quot;è®¾ä¸ºå·²å‡ºè´§&quot;, shipped_admin_order_path(order), class: &quot;btn btn-default btn-sm&quot;, method: :post) %&gt; &lt;% when &quot;shipped&quot; %&gt; &lt;%= link_to(&quot;é€€è´§&quot;, return_admin_order_path(order), class: &quot;btn btn-default btn-sm&quot;, method: :post) %&gt; &lt;% when &quot;order_cancelled&quot; %&gt; &lt;span class=&quot;label label-default&quot;&gt;è®¢å•å·²å–æ¶ˆ&lt;/span&gt; &lt;% when &quot;good_returned&quot; %&gt; &lt;span class=&quot;label label-default&quot;&gt;å·²é€€è´§&lt;/span&gt; &lt;% end %&gt; 9ã€Rï¼šè·¯ç”±åŠ å…¥4ç§åŠ¨ä½œshipã€shipedã€returnã€cancel 10ã€Cï¼šè®¾ç½®4ç§åŠ¨ä½œçš„find_and_doï¼Œå…¶ä¸­doçš„éƒ¨åˆ†å·²ç»åœ¨11-1çš„aasm..doé‡Œè®¾ç½®è¿‡ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ 1234567891011121314151617181920212223def ship @order = Order.find(params[:id]) @order.ship! redirect_to :backenddef deliver @order = Order.find(params[:id]) @order.deliver! redirect_to :backenddef cancel @order = Order.find(params[:id]) @order.cancel! redirect_to :backenddef return @order = Order.find(params[:id]) @order.return! redirect_to :backend 11ã€Vï¼šshowé‡ŒåŠ å…¥åˆšåˆšæ­¥éª¤8åšçš„é¡µé¢ &lt;%= render â€œstate_optionâ€, order: @order %&gt; â€‹ å‰å°ç”¨æˆ·æ“ä½œï¼š 12ã€Rï¼šåŠ å…¥ç”¨æˆ·å–æ¶ˆè®¢å•åŠ¨ä½œapply_to_cancel 13ã€Vï¼šç”³è¯·å–æ¶ˆè®¢å•çš„æŒ‰é’®é™„ä¸Šé“¾æ¥ï¼ŒåŠ æ¡ä»¶&lt;% if @order.order_placed? || @order.paid? %&gt; 14ã€Cï¼šå®šä¹‰apply_to_cancel â€‹ å¯„ä¿¡è®¾ç½®ï¼š 15ã€Cï¼šåˆ†åˆ«åŠ å…¥å¯„ä¿¡OrderMailer.notify_ship(@order).deliver! å‰å°ç”¨æˆ·ï¼Œapply_to_cancelç”³è¯·å–æ¶ˆè®¢å•apply_cancel(@order) åå°ï¼Œshipå–å®¶å·²å‘è´§notify_ship(@order) åå°ï¼Œcancelè®¢å•å·²å–æ¶ˆnotify_cancel(@order) 16ã€ä¿®æ”¹OrderMailerçš„è¡¨å¤´ 123456789app/mailers/order_mailer.rbdef apply_cancel(order) @order = order @user = order.user @product_lists = @order.product_lists mail(to: &quot;admin@test.com&quot; , subject: &quot;[JDStore] ç”¨æˆ·#&#123;order.user.email&#125;ç”³è¯·å–æ¶ˆè®¢å• #&#123;order.token&#125;&quot;)end Vï¼šåŠ å…¥å¯„ä¿¡é¡µé¢ï¼Œå‡ ä¸ªé¡µé¢å†…å®¹ä¸€æ ·ï¼Œå¯ä»¥ç”¨partial 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172app/views/order_mailer/apply_cancel.html.erb&lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-md-12&quot;&gt; &lt;h2&gt; è®¢å•æ˜ç»† &lt;br&gt; &lt;small&gt; &lt;%= link_to(&quot;è®¢å•è¿ç»“&quot;, order_url(@order.token)) %&gt; &lt;/small&gt; &lt;/h2&gt; &lt;table class=&quot;table table-bordered&quot;&gt; &lt;thead&gt; &lt;tr&gt; &lt;th width=&quot;70%&quot;&gt;å•†å“æ˜ç»†&lt;/th&gt; &lt;th&gt;å•ä»·&lt;/th&gt; &lt;th&gt;æ•°é‡&lt;/th&gt; &lt;th&gt;å°è®°&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;% @product_lists.each do |product_list| %&gt; &lt;tr&gt; &lt;td&gt; &lt;%= product_list.product_name %&gt; &lt;/td&gt; &lt;td&gt; &lt;%= product_list.product_price %&gt; &lt;/td&gt; &lt;td&gt; &lt;%= product_list.quantity %&gt; &lt;/td&gt; &lt;td&gt; &lt;%= product_list.quantity * product_list.product_price %&gt; &lt;/td&gt; &lt;/tr&gt; &lt;% end %&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;div class=&quot;total group clearfix&quot;&gt; &lt;h4 class=&quot;pull-right&quot;&gt; æ€»è®¡ &lt;%= @order.total %&gt; CNY &lt;/h4&gt; &lt;/div&gt; &lt;hr&gt; &lt;h2&gt; å¯„é€èµ„è®¯ &lt;/h2&gt; &lt;table class=&quot;table table-striped table-bordered&quot;&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td&gt; è®¢è´­äºº &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt; &lt;%= @order.billing_name %&gt; - &lt;%= @order.billing_address %&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt; æ”¶ä»¶è€… &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt; &lt;%= @order.shipping_name %&gt; - &lt;%= @order.shipping_address %&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;/div&gt;&lt;/div&gt; 17ã€åœ¨rails cä¸­æµ‹è¯•ï¼ŒOrderMailer.notify_order_placed(Order.last).deliver! 12ã€éƒ¨ç½²åˆ° Heroku ï¼ˆä¸ƒç‰›äº‘ï¼‰12.1 æœ¬ç« å­¦ä¹ æŒ‡å—12.2 ä¸€äº›å®‰å…¨æ¦‚å¿µ (æœ¬èŠ‚åªéœ€è¦çœ‹ï¼Œä¸éœ€è¦å®ä½œ)12.3 ä½¿ç”¨ä¸ƒç‰›äº‘ï¼ˆç”¨æ¥å­˜å‚¨å›¾ç‰‡ï¼‰12.4 ä½¿ç”¨ Figaro ç®¡ç†å¯†ç 12.5 å°†JDStoreéƒ¨ç½²åˆ°Heroku12.6 JDStore å•†åº—åˆ›æ„å¤§èµ›ï¼ˆç¬¬äºŒå­£ï¼‰å‚èµ›æŒ‡å—12.7 ä½¿ç”¨SendCloudæœåŠ¡å‘é€é‚®ä»¶12.8 Rails ç¯å¢ƒæ¶æ„12.9 å¦‚ä½•åœ¨ Heroku ä¸Š Debug13-éƒ¨ç½²åˆ° Heroku (æµ·å¤–ç”¨æˆ·æ–¹æ¡ˆ)13.1 æœ¬ç« éƒ¨å±æŒ‡å—13.2 ç”³è¯·AWS S3ï¼ˆç”¨æ¥å‚¨å­˜å›¾ç‰‡ï¼‰13.3 ä½¿ç”¨ Figaro ç®¡ç†å¯†ç 13.4 å°†JDStoreéƒ¨ç½²åˆ°Heroku13.5 æ³„æ¼ S3 å¯†é’¥çš„å¤„ç†æ–¹å¼","categories":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}],"tags":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/tags/rorç³»ç»Ÿ/"}],"keywords":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}]},{"title":"www-interview-ç®€å†è®¾è®¡æ„Ÿ3è¦ç´ ","slug":"www-interview-ç®€å†è®¾è®¡æ„Ÿ3è¦ç´ ","date":"2017-11-18T16:10:00.000Z","updated":"2018-01-14T05:52:02.000Z","comments":true,"path":"posts/8f6e08ea/","link":"","permalink":"http://yoursite.com/posts/8f6e08ea/","excerpt":"","text":"å‚è€ƒèµ„æ–™ï¼šbyéŸµå„¿çˆ¸çˆ¸ ä¸‰ä¸ªå¦™æ‹›ï¼Œåšå‡ºæ¥è¿‘90åˆ†çš„ç½‘ç«™é¡µé¢ï¼&amp;version=12020610&amp;nettype=WIFI&amp;fontScale=100&amp;pass_ticket=9xn7rHtIuzeXNRCX%2B0u6N5wKKYsPgnlUOR73tZXcTCmgBiBtkMcESBxabI6YZzWn) 1ã€å¯¹é½ã€‚ 2ã€é‡å¤ã€‚å­—ä½“ã€é¢œè‰²ã€å­—å·ï¼Œä»¥åŠç‰ˆå—é‡å¤ã€‚å¹¶å‹ä½å­—ä½“äº®åº¦ï¼ˆæ²¡æ”¹ä¹‹å‰ï¼Œæ•´é¡µç®€å†çœ‹èµ·æ¥éå¸¸åˆºçœ¼ï¼‰ã€‚ 3ã€ç•™ç™½ã€‚ æ‹‰å‹¾ç½‘ç®€å†æ¨¡æ¿åˆ†æ1ã€å›¾å½¢é¢œè‰²ï¼šæ·±ç»¿è‰²#009676ï¼Œé¡¶éƒ¨åˆ†å‰²ç›´çº¿ã€‚ æµ…ç»¿è‰²#a2d6caï¼Œå¤§æ ‡é¢˜å‰çš„è‰²å—ã€åˆ†å‰²çº¿|ã€‚ æµ…ç°è‰²#cbcbcbï¼Œå…¶ä»–åˆ†å‰²ç›´çº¿ã€‚é¢œè‰²å†æµ…å¯ä»¥ç”¨#dbdbdbã€‚ 2ã€å­—ä½“é¢œè‰²ï¼šé»‘è‰²#000å¹¶åŠ ç²—ï¼Œå¤§æ ‡é¢˜ã€‚ é»‘è‰²#000ï¼Œå†…å®¹æ–‡å­—ã€‚ æ·±ç°è‰²#808080ï¼Œä¸ªäººä¿¡æ¯ã€‚ 3ã€å­—ä½“é€‰æ‹©ï¼šæ‹‰å‹¾ç½‘ç”¨å¾®è½¯é›…é»‘ã€‚ ä¸­æ–‡å­—ä½“æŒ‰æ¨èé¡ºåºï¼š1ï¼‰å†¬é’é»‘ä½“ç®€ä½“ä¸­æ–‡ï¼Œå¥½çœ‹ã€ç²—ç»†åˆé€‚ä¸”æœ‰ä¸¤ä¸ªå­—å·ï¼Œæ‰“å°æ•ˆæœæœ€å¥½ã€‚ï¼ˆæ‰“å°æ•ˆæœæœ€å¥½ï¼‰ 1ï¼‰è‹¹æœ-ç®€ï¼Œå¥½çœ‹ã€ç²—ç»†åˆé€‚ä¸”æœ‰å¤šä¸ªå­—å·ï¼Œé˜…è¯»æ•ˆæœæœ€å¥½ã€‚ä½†å¦‚æœå¯¹æ–¹ç”µè„‘æ²¡æœ‰ã€‚ã€‚ï¼ˆé˜…è¯»æ•ˆæœæœ€å¥½ï¼‰ 2ï¼‰æ–¹æ­£å…°äº­é»‘ï¼Œå¥½çœ‹ã€åªæœ‰ä¸€ä¸ªå­—å·ï¼Œä¸‹è½½æŠ˜è…¾éº»çƒ¦ 2ï¼‰æ€æºé»‘ä½“ï¼Œå¥½çœ‹ã€ç²—ç»†å­—å·æœ€å¤šï¼Œæ‰“å°æ•ˆæœæ¯”å†¬é’é»‘ä½“ç¨å·®ã€‚ä¸‹è½½æŠ˜è…¾ä¹Ÿéº»çƒ¦ï¼ˆé¢é¢åŠæ ¼ï¼‰ 3ï¼‰å®‹ä½“-ç®€ï¼Œå¥½çœ‹ã€å­—å¤ªç»†ï¼Œæ®è¯´èƒ½ç”¨ä½†ä¸è¦åŠ ç²—ï¼Œå› ä¸ºé»˜è®¤æ²¡æœ‰åŠ ç²—å­—ä½“æ‰€ä»¥æ‰“å°ä¼šæ¨¡ç³Šã€‚ 4ï¼‰åæ–‡é»‘ï¼Œä¸å¥½ï¼Œè¡Œè·å¤ªå° 5ï¼‰å¾®è½¯é›…é»‘ï¼Œæ®è¯´æ˜¯è€å±å¹•ç”¨çš„æœ€ä¸æ¨èçš„ è‹±æ–‡å­—ä½“ï¼š1ï¼‰Helvetica Neueï¼Œmacè‡ªå¸¦ã€å­—å·è¶…å¤šã€‚ 2ï¼‰Calibriï¼Œéœ€è¦ä¸‹è½½ 99åœ¨macç”µè„‘ä¸Šçš„é€‰æ‹©ï¼šå†¬é’é»‘ä½“ç®€ä½“ä¸­æ–‡+ Helvetica Neue 4ã€å­—å·å¤§å°åŠç²—ç»†ï¼šåå­—æœ€å¤§ï¼Œ30pxï¼ŒåŠ ç²—ï¼› å¤§æ ‡é¢˜ï¼Œ18pxï¼› å‰¯æ ‡é¢˜ï¼Œ16pxï¼ŒåŠ ç²—ï¼› å†…å®¹æ–‡å­—ï¼Œ14pxï¼›","categories":[{"name":"å¿ƒå¾—","slug":"å¿ƒå¾—","permalink":"http://yoursite.com/categories/å¿ƒå¾—/"}],"tags":[{"name":"å¿ƒå¾—","slug":"å¿ƒå¾—","permalink":"http://yoursite.com/tags/å¿ƒå¾—/"},{"name":"interview","slug":"interview","permalink":"http://yoursite.com/tags/interview/"}],"keywords":[{"name":"å¿ƒå¾—","slug":"å¿ƒå¾—","permalink":"http://yoursite.com/categories/å¿ƒå¾—/"}]},{"title":"ror-tips-ARGV[0]æ˜¯ä»€ä¹ˆï¼Ÿ","slug":"ror-tips-ARGV[0]æ˜¯ä»€ä¹ˆï¼Ÿ","date":"2017-11-18T16:10:00.000Z","updated":"2018-01-14T04:55:31.000Z","comments":true,"path":"posts/2fb899c2/","link":"","permalink":"http://yoursite.com/posts/2fb899c2/","excerpt":"","text":"12345argcï¼šå‘½ä»¤è¡Œæ€»çš„å‚æ•°çš„ä¸ªæ•°ï¼Œå³argvä¸­å…ƒç´ çš„æ ¼å¼ã€‚*argv[ ]ï¼šå­—ç¬¦ä¸²æ•°ç»„ï¼Œç”¨æ¥å­˜æ”¾æŒ‡å‘ä½ çš„å­—ç¬¦ä¸²å‚æ•°çš„æŒ‡é’ˆæ•°ç»„,æ¯ä¸€ä¸ªå…ƒç´ æŒ‡å‘ä¸€ä¸ªå‚æ•°ã€‚argv[0]ï¼šæŒ‡å‘ç¨‹åºçš„å…¨è·¯å¾„åã€‚argv[1]ï¼šæŒ‡å‘åœ¨DOSå‘½ä»¤è¡Œä¸­æ‰§è¡Œç¨‹åºååçš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚argv[2]ï¼šæŒ‡å‘ç¬¬äºŒä¸ªå­—ç¬¦ä¸²ã€‚ 12345argcæ˜¯å‚æ•°ä¸ªæ•°,å®šä¹‰ä¸ºintargvæ˜¯å­—ç¬¦ä¸²æ•°ç»„,å­˜çš„æ˜¯å‚æ•°,å®šä¹‰ä¸ºchar**æˆ–è€…char* argv[]æ¯”å¦‚ä½ ç¼–è¯‘å¥½çš„ç¨‹åºä¸ºmy.exeåœ¨å‘½ä»¤è¡Œæ‰§è¡Œ my.exe 1 2 3é‚£argcå°±æ˜¯4ï¼Œargv[0]æ˜¯&quot;my.exe&quot;ï¼Œargv[1]æ˜¯&quot;1&quot;ï¼Œargv[2]æ˜¯&quot;2&quot;ï¼Œargv[3]æ˜¯&quot;3&quot;;","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/tags/rorçŸ¥è¯†ç‚¹/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"ror-tips-cloneå’Œdupçš„åŒºåˆ«","slug":"ror-tips-cloneå’Œdupçš„åŒºåˆ«","date":"2017-11-17T16:10:00.000Z","updated":"2018-01-14T04:55:31.000Z","comments":true,"path":"posts/2a3e03d/","link":"","permalink":"http://yoursite.com/posts/2a3e03d/","excerpt":"","text":"rubyä¸­cloneå’Œdupéƒ½æ˜¯å¯¹ä¸€ä¸ªå¯¹è±¡çš„æµ…æ‹·è´ï¼Œå…¶åŒºåˆ«å¦‚ä¸‹ï¼š1.cloneä¼šæ‹·è´å•ä¾‹æ–¹æ³•ï¼Œè€Œdupä¸ä¼šã€‚ 1234567a = Object.newdef a.hello &quot;hello&quot;enda.dup.hello # raises NoMethodErrora.clone.hello # return &quot;hello&quot; 2.dupä¸èƒ½å¯¹frozençŠ¶æ€çš„å¯¹è±¡è¿›è¡Œæ‹·è´ï¼Œè€Œcloneå¯ä»¥ã€‚","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/tags/rorçŸ¥è¯†ç‚¹/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"web-page-landding_pageæ¨¡æ¿ä¹‹bootstrapé…ç½®","slug":"web-page-landding_pageæ¨¡æ¿ä¹‹bootstrapé…ç½®","date":"2017-11-17T16:10:00.000Z","updated":"2018-01-14T08:13:36.000Z","comments":true,"path":"posts/f5818f78/","link":"","permalink":"http://yoursite.com/posts/f5818f78/","excerpt":"","text":"ä¸€ã€è¿™é‡Œæ˜¯99çš„é…ç½®123456789101112&lt;!DOCTYPE html&gt;&lt;html lang=&quot;zh-CN&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no&quot;&gt; &lt;!-- ä¸Šè¿°3ä¸ªmetaæ ‡ç­¾*å¿…é¡»*æ”¾åœ¨æœ€å‰é¢ï¼Œä»»ä½•å…¶ä»–å†…å®¹éƒ½*å¿…é¡»*è·Ÿéšå…¶åï¼è¿™é‡Œé…ç½®user-scalable=noç§»åŠ¨è®¾å¤‡ä¼˜å…ˆ --&gt; &lt;/head&gt; &lt;body&gt; &lt;/body&gt;&lt;/html&gt; app/assets/stylesheets/application.scssé…ç½® 123456789101112131415161718192021@import url(&apos;https://fonts.googleapis.com/earlyaccess/notosanssc.css&apos;);/*==== Common ====*/body &#123; overflow-x: hidden; //è£å‰ªå†…å®¹ï¼Œè¶…å‡ºè§†çª—ä¸æ˜¾ç¤º font-family: &apos;Noto Sans SC&apos;, sans-serif; letter-spacing: 1px; color: #666; .col-center&#123; float: none; margin: 0 auto; &#125; a &#123; color: #666; &#125; a:hover &#123; color: #7f8c8d; transition: 0.5s; text-decoration: none; &#125;&#125; äºŒã€ä»¥ä¸‹æ˜¯å‚è€ƒèµ„æ–™bootstrapåŸºæœ¬æ¨¡æ¿å¦‚ä¸‹ï¼š12345678910111213141516171819202122232425262728&lt;!DOCTYPE html&gt;&lt;html lang=&quot;zh-CN&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt; &lt;!-- ä¸Šè¿°3ä¸ªmetaæ ‡ç­¾*å¿…é¡»*æ”¾åœ¨æœ€å‰é¢ï¼Œä»»ä½•å…¶ä»–å†…å®¹éƒ½*å¿…é¡»*è·Ÿéšå…¶åï¼ --&gt; &lt;title&gt;Bootstrap 101 Template&lt;/title&gt; &lt;!-- Bootstrap --&gt; &lt;link href=&quot;css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt; &lt;!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries --&gt; &lt;!-- WARNING: Respond.js doesn&apos;t work if you view the page via file:// --&gt; &lt;!--[if lt IE 9]&gt; &lt;script src=&quot;https://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js&quot;&gt;&lt;/script&gt; &lt;![endif]--&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;ä½ å¥½ï¼Œä¸–ç•Œï¼&lt;/h1&gt; &lt;!-- jQuery (necessary for Bootstrap&apos;s JavaScript plugins) --&gt; &lt;script src=&quot;https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;!-- Include all compiled plugins (below), or include individual files as needed --&gt; &lt;script src=&quot;js/bootstrap.min.js&quot;&gt;&lt;/script&gt; &lt;/body&gt;&lt;/html&gt; 1ã€æœ€åŸºæœ¬Bootstrap å°†å…¨å±€ font-size è®¾ç½®ä¸º 14pxï¼Œline-height è®¾ç½®ä¸º 1.428ã€‚è¿™äº›å±æ€§ç›´æ¥èµ‹äºˆ &lt;body&gt; å…ƒç´ å’Œæ‰€æœ‰æ®µè½å…ƒç´ ã€‚å¦å¤–ï¼Œ&lt;p&gt; ï¼ˆæ®µè½ï¼‰å…ƒç´ è¿˜è¢«è®¾ç½®äº†ç­‰äº 1/2 è¡Œé«˜ï¼ˆå³ 10pxï¼‰çš„åº•éƒ¨å¤–è¾¹è·ï¼ˆmarginï¼‰ã€‚ 1234&lt;!DOCTYPE html&gt;&lt;html lang=&quot;zh-CN&quot;&gt; ...&lt;/html&gt; 2ã€ç§»åŠ¨è®¾å¤‡ä¼˜å…ˆä¸ºäº†ç¡®ä¿é€‚å½“çš„ç»˜åˆ¶å’Œè§¦å±ç¼©æ”¾ï¼Œéœ€è¦åœ¨ &lt;head&gt; ä¹‹ä¸­æ·»åŠ  viewport å…ƒæ•°æ®æ ‡ç­¾ã€‚ 1&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt; åœ¨ç§»åŠ¨è®¾å¤‡æµè§ˆå™¨ä¸Šï¼Œé€šè¿‡ä¸ºè§†å£ï¼ˆviewportï¼‰è®¾ç½® meta å±æ€§ä¸º user-scalable=no å¯ä»¥ç¦ç”¨å…¶ç¼©æ”¾ï¼ˆzoomingï¼‰åŠŸèƒ½ã€‚è¿™æ ·ç¦ç”¨ç¼©æ”¾åŠŸèƒ½åï¼Œç”¨æˆ·åªèƒ½æ»šåŠ¨å±å¹•ï¼Œå°±èƒ½è®©ä½ çš„ç½‘ç«™çœ‹ä¸Šå»æ›´åƒåŸç”Ÿåº”ç”¨çš„æ„Ÿè§‰ã€‚æ³¨æ„ï¼Œè¿™ç§æ–¹å¼æˆ‘ä»¬å¹¶ä¸æ¨èæ‰€æœ‰ç½‘ç«™ä½¿ç”¨ï¼Œè¿˜æ˜¯è¦çœ‹ä½ è‡ªå·±çš„æƒ…å†µè€Œå®šï¼ 1&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no&quot;&gt; 3ã€å¸ƒå±€å®¹å™¨.container ç±»ç”¨äºå›ºå®šå®½åº¦å¹¶æ”¯æŒå“åº”å¼å¸ƒå±€çš„å®¹å™¨ã€‚ 123&lt;div class=&quot;container&quot;&gt; ...&lt;/div&gt; .container-fluid ç±»ç”¨äº 100% å®½åº¦ï¼Œå æ®å…¨éƒ¨è§†å£ï¼ˆviewportï¼‰çš„å®¹å™¨ã€‚ 123&lt;div class=&quot;container-fluid&quot;&gt; ...&lt;/div&gt; 4ã€åª’ä½“æŸ¥è¯¢åœ¨æ …æ ¼ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬åœ¨ Less æ–‡ä»¶ä¸­ä½¿ç”¨ä»¥ä¸‹åª’ä½“æŸ¥è¯¢ï¼ˆmedia queryï¼‰æ¥åˆ›å»ºå…³é”®çš„åˆ†ç•Œç‚¹é˜ˆå€¼ã€‚ 1234567891011/* è¶…å°å±å¹•ï¼ˆæ‰‹æœºï¼Œå°äº 768pxï¼‰ *//* æ²¡æœ‰ä»»ä½•åª’ä½“æŸ¥è¯¢ç›¸å…³çš„ä»£ç ï¼Œå› ä¸ºè¿™åœ¨ Bootstrap ä¸­æ˜¯é»˜è®¤çš„ï¼ˆè¿˜è®°å¾— Bootstrap æ˜¯ç§»åŠ¨è®¾å¤‡ä¼˜å…ˆçš„å—ï¼Ÿï¼‰ *//* å°å±å¹•ï¼ˆå¹³æ¿ï¼Œå¤§äºç­‰äº 768pxï¼‰ */@media (min-width: @screen-sm-min) &#123; ... &#125;/* ä¸­ç­‰å±å¹•ï¼ˆæ¡Œé¢æ˜¾ç¤ºå™¨ï¼Œå¤§äºç­‰äº 992pxï¼‰ */@media (min-width: @screen-md-min) &#123; ... &#125;/* å¤§å±å¹•ï¼ˆå¤§æ¡Œé¢æ˜¾ç¤ºå™¨ï¼Œå¤§äºç­‰äº 1200pxï¼‰ */@media (min-width: @screen-lg-min) &#123; ... &#125; æˆ‘ä»¬å¶å°”ä¹Ÿä¼šåœ¨åª’ä½“æŸ¥è¯¢ä»£ç ä¸­åŒ…å« max-width ä»è€Œå°† CSS çš„å½±å“é™åˆ¶åœ¨æ›´å°èŒƒå›´çš„å±å¹•å¤§å°ä¹‹å†…ã€‚ 1234@media (max-width: @screen-xs-max) &#123; ... &#125;@media (min-width: @screen-sm-min) and (max-width: @screen-sm-max) &#123; ... &#125;@media (min-width: @screen-md-min) and (max-width: @screen-md-max) &#123; ... &#125;@media (min-width: @screen-lg-min) &#123; ... &#125; 5ã€åˆ—åç§»ä½¿ç”¨ .col-md-offset-* ç±»å¯ä»¥å°†åˆ—å‘å³ä¾§åç§»ã€‚è¿™äº›ç±»å®é™…æ˜¯é€šè¿‡ä½¿ç”¨ * é€‰æ‹©å™¨ä¸ºå½“å‰å…ƒç´ å¢åŠ äº†å·¦ä¾§çš„è¾¹è·ï¼ˆmarginï¼‰ã€‚ä¾‹å¦‚ï¼Œ.col-md-offset-4 ç±»å°† .col-md-4 å…ƒç´ å‘å³ä¾§åç§»äº†4ä¸ªåˆ—ï¼ˆcolumnï¼‰çš„å®½åº¦ã€‚","categories":[{"name":"webé¡µé¢","slug":"webé¡µé¢","permalink":"http://yoursite.com/categories/webé¡µé¢/"}],"tags":[{"name":"webé¡µé¢","slug":"webé¡µé¢","permalink":"http://yoursite.com/tags/webé¡µé¢/"}],"keywords":[{"name":"webé¡µé¢","slug":"webé¡µé¢","permalink":"http://yoursite.com/categories/webé¡µé¢/"}]},{"title":"web-page-landding_pageæ¨¡æ¿ä¹‹anndo&å‰ç±³","slug":"web-page-landding_pageæ¨¡æ¿ä¹‹anndo&å‰ç±³","date":"2017-11-16T16:10:00.000Z","updated":"2018-01-14T08:14:28.000Z","comments":true,"path":"posts/f5818f78/","link":"","permalink":"http://yoursite.com/posts/f5818f78/","excerpt":"","text":"ä¸åŒé¡µé¢åˆ†åˆ«ç”¨ä»€ä¹ˆæ³¨é‡Šæ ‡è®°ï¼šwelcome#index.html.erbç”¨ï¼š&lt;!--==== è½®æ’­ï¼ˆCarouselï¼‰æŒ‡æ ‡ ====--&gt; cssç”¨ï¼š/*===== Intro é¦–é¡µ-å¹¿å‘Šè½®æ’­ =====*/ã€/* æ ‡é¢˜ */ å‚è€ƒé“¾æ¥ï¼šby anndo å¦‚ä½•ç§‘å­¦çš„â€œæŠ„â€ jobs/indexé¡µé¢è€Œä¸å˜æˆåƒµå°¸é¡µé¢ï¼Ÿ by anndo &amp; å‰ç±³ã€JAé­”æ”¹ç§˜ç¬ˆã€‘è¿˜å¡åœ¨å‰ç«¯çš„å‘å—ï¼Ÿæ•™ä½ å¦‚ä½•ç¬¬ä¸€æ¬¡åšLanding Pageå°±ä¸Šæ‰‹ï¼ï¼ ä¸€ã€cssçš„å°æŠ€å·§1ã€æ€ä¹ˆæŠ„åˆ«äººçš„ä»£ç ï¼Ÿ1ï¼‰å°†æŠ„æ¥çš„CSSä»£ç ç”¨ä¸€ä¸ªIDé€‰æ‹©å™¨åŒ…è£¹èµ·æ¥ï¼Œå¦‚ä¸‹å›¾ï¼š â€‹ 2ï¼‰å°†htmlä»£ç ä¹Ÿç”¨åŒæ ·çš„IDåŒ…è£¹èµ·æ¥ï¼Œå¦‚ä¸‹å›¾ï¼š ç”±äºIDé€‰æ‹©å™¨æ˜¯å”¯ä¸€çš„ï¼Œè¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±å®Œå…¨ä¸æ€•æŠ„æ¥çš„ä»£ç å‘½åå†²çªæˆ–é‡å¤äº†ï¼› 2ã€å¦‚ä½•å¿«é€Ÿå¼•ç”¨ç‰ˆå—ï¼Ÿ1ï¼‰æ‰¾åˆ°å¯¹åº”çš„HTMLä»£ç ï¼Œå¹¶å¤åˆ¶åˆ°ä½ çš„indexé¡µé¢é‡Œ æ¯ä¸€ä¸ªæ¿å—éƒ½æ˜¯ç”¨&lt;section&gt;&lt;/section&gt;åŒ…ä½ è¯·è®°ä½è¿™ä¸ªæ¿å—çš„Classåç§°ï¼Œæ­¤èŒƒä¾‹ä¸ºshow-box 2ã€æ‰¾åˆ°å¯¹åº”çš„CSSä»£ç ï¼Œå¹¶å¤åˆ¶åˆ°ä½ çš„application.scssé¡µé¢é‡Œ å¯ç›´æ¥æœç´¢CSSåç§°ï¼Œæ­¤èŒƒä¾‹ä¸ºshow-boxï¼Œé‡Œé¢ä¼šåŒ…å«æ‰€æœ‰æ­¤&lt;section&gt;æ‰€ç”¨åˆ°çš„CSS 3ã€ä»æ–°ä¸“æ¡ˆåˆ°åšå‡ºé¦–é¡µçš„é¡ºåºï¼Ÿ3.1ã€å‘½åæ–¹æ³•ï¼š æ¯”å¦‚productsæ–‡ä»¶å¤¹ï¼Œindexç¬¬ä¸€å±‚ç”¨&lt;div class=&quot;box-product&quot;&gt; ï¼Œshowç”¨box-product-showï¼ˆè¿™æ ·æ–¹ä¾¿æœç´¢ï¼Œæœbox-å°±æ˜¯æ–‡ä»¶åï¼Œæœ-boxå°±æ˜¯æ¨¡å—åï¼‰ï¼Œåé¢æ¯ä¸ªæ¨¡å—æ”¹ç”¨&lt;section class=&quot;æ¨¡å—å-box&quot;&gt;åŒ…èµ·æ¥ã€‚ asset/imagesï¼Œç…§ç‰‡å‘½åç”¨åå­—_åºå·.png cssæ³¨è§£ï¼Œ/*===== Push é¦–é¡µ-ç«‹å³è´­ä¹° =====*/ã€‚htmlæ³¨è§£&lt;!--===== å¹¿å‘Šè½®æ’­ =====--&gt;ã€‚ 3.2ã€å®ä½œ1ï¼‰rails new 2ï¼‰bootstrapã€fontawesomeã€ 3ï¼‰footerã€navbarã€welcome#index 4ï¼‰é¦–é¡µå›¾ç‰‡æ”¾å…¥asset/imagesï¼ŒåŒ…æ‹¬åˆä½œå“ç‰Œbrand_1-9.pngã€åˆ†ç±»category_1-3ã€ç”¨æˆ·è¯´founder_1-2ã€å¤§å›¾è½®æ’­intro_1-3ã€äº§å“å›¾item_1-9ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970&lt;div class=&quot;welcome-box&quot;&gt; &lt;!--===== å¹¿å‘Šè½®æ’­ =====--&gt; &lt;section class=&quot;intro-box&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-md-12&quot;&gt; &lt;div id=&quot;intro&quot; class=&quot;carousel slide&quot; data-ride=&quot;carousel&quot;&gt; ... &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/section&gt; &lt;!--===== å“ç‰Œæ•…äº‹ =====--&gt; &lt;section class=&quot;story-box&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-md-10 col-md-offset-1&quot;&gt; ... &lt;/div&gt; &lt;/div&gt; &lt;/section&gt; &lt;!--===== å•†å“åˆ†ç±» =====--&gt; &lt;section class=&quot;categories-box&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-md-4 category-content&quot;&gt; &lt;%= link_to &apos;#&apos; , class: &quot;category_3&quot; do %&gt; &lt;%= link_to &apos;#&apos; , class: &quot;category_3&quot; do %&gt; &lt;div class=&quot;category-box&quot;&gt; &lt;%= image_tag(&quot;category_3.jpg&quot;) %&gt; &lt;/div&gt; &lt;div&gt; &lt;h3&gt;é”…ç¢—&lt;/h3&gt; &lt;p&gt;ç›¸è¼ƒæ–¼çºç‘¯å’Œé™¶ç“·æè³ªçš„ç‰›å¥¶é‹ï¼Œä¸é½é‹¼çš„è³ªæ„Ÿå¤šäº†ä¸€é»ç¡¬æ´¾çš„æ„Ÿè¦ºã€‚&lt;/p&gt; &lt;/div&gt; &lt;% end %&gt; &lt;/div&gt; ... &lt;/div&gt; &lt;/section&gt; &lt;!--===== æ¨èå•†å“ =====--&gt; &lt;section class=&quot;show-box&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-md-10 col-md-offset-1&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-md-3&quot;&gt; &lt;%= link_to &apos;#&apos; do %&gt; ... &lt;% end %&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/section&gt; &lt;!--===== åˆä½œå“ç‰Œ =====--&gt; &lt;section class=&quot;brand-box&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-md-10 col-md-offset-1&quot;&gt; &lt;%= image_tag(&quot;brand_1.png&quot;) %&gt; &lt;%= image_tag(&quot;brand_1.png&quot;) %&gt; ... &lt;/div&gt; &lt;/div&gt; &lt;/section&gt; &lt;!--===== ç«‹å³è´­ä¹° =====--&gt; &lt;section class=&quot;push-box&quot;&gt; &lt;%= link_to(&apos;ç«‹å³è´­ä¹°&apos;, &apos;#&apos;, class:&apos;btn btn-push&apos; ) %&gt; &lt;/section&gt; 5ï¼‰navbarçš„js 12345678+$(window).scroll(function () &#123; + /*===== Welcome#index - é¦–é¡µå¯¼è§ˆåˆ—å˜åŒ– =====*/ + if ($(this).scrollTop() &gt; 125) &#123; + $(&apos;#navbar&apos;).addClass(&apos;scroll_navbar&apos;) + &#125; else &#123; + $(&apos;#navbar&apos;).removeClass(&apos;scroll_navbar&apos;) + &#125; +&#125;) ç›¸åº”çš„css 12345678910111213141516171819202122232425262728293031323334353637/*===== åŸºç¡€æ ä½è®¾å®š======*/.width-25 &#123; width: 25%; &#125;.width-100 &#123; width: 100%; &#125;/*===== Navbar å¯¼è§ˆåˆ— ======*/+ .navbar-default &#123; + background: rgba(0,0,0,0.5); //åŠé€æ˜èƒŒæ™¯ + /* æ–‡å­—è¿ç»“ */ + a &#123; + color: #fff !important; + &#125; a:focus &#123; color: #0070DE !important; &#125;+ /*===== å¯¼è§ˆåˆ—æ»‘åŠ¨ç‰¹æ•ˆ ======*/ + &amp;.scroll_navbar &#123; + background-color: #fff; //èƒŒæ™¯é¢œè‰² + + /* æ–‡å­—è¿ç»“ */ + a &#123; + color: #000 !important; + &#125; + a:hover, + a:active, + a:focus &#123; + color: #0070DE !important; + &#125; + /* æœç´¢æ  */ .search-box &#123; margin-top: 7.5px; input &#123; height: 35px; &#125; html 1234567+&lt;div class=&quot;row&quot;&gt; + &lt;div class=&quot;col-md-12&quot;&gt; + &lt;div class=&quot;navbar navbar-default navbar-fixed-top&quot; role=&quot;navigation&quot; id=&quot;navbar&quot;&gt; ... &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; 6ï¼‰footerçš„css 123456789 /*===== Footer é¡µè„š ======*/ .footer&#123; text-align: center;- min-height: 200px;- background-color: #02061A;+ min-height: 175px; //æœ€å°é«˜åº¦+ background-color: #222;... background: image_url(&quot;start.jpg&quot;) no-repeat scroll top center/ cover; //èƒŒæ™¯å›¾ç‰‡ html 123456789&lt;footer class=&quot;footer&quot;&gt; &lt;div class=&quot;container&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-md-8 col-md-offset-2&quot;&gt; ... &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/footer&gt; 4ã€é€šç”¨cssä»£ç æ€ä¹ˆå†™ï¼Ÿ4.1ã€ä»€ä¹ˆéœ€è¦é€šç”¨ï¼Ÿ1ï¼‰å¯¹äºbodyï¼š è£å‰ªå†…å®¹ bodyçš„ä½ç½®position: relative; å­—çš„å¤§å°font-sizeã€é—´è·letter-spacingã€è¡Œè· é“¾æ¥aä¸‹åˆ’çº¿text-decoration:none !important é¡µé¢å†…å®¹container-fluid 12345678910111213141516/*===== ç¶²ç«™é€šç”¨è¨­ç½® ======*/body &#123; overflow-x: hidden; //è£åˆ‡å…§å®¹ï¼Œè¶…å‡ºè¦–çª—ä¸é¡¯ç¤º position: relative; letter-spacing: 1px; font-size: 14px; a &#123; text-decoration:none !important; &#125; /*===== é é¢å…§å®¹è¨­å®š ======*/ .container-fluid &#123; margin-top: 55px; min-height: 550px; &#125; æ¢é¡µæŒ‰é’® ç«‹å³è´­ä¹°æŒ‰é’®ï¼Œæ›´æ”¹btn-defaultæ ·å¼ï¼ŒåŠ å…¥hoverã€activeã€focusæ ·å¼ 12345678910.btn-default &#123; margin-top: 30px; padding: 15px 20px 15px 20px; &#125; .btn-default:hover, .btn-default:active, .btn-default:focus &#123; background-color: #fff; &#125; åŸºç¡€æ ä½.width-25ã€.width-50ã€.height-200ç­‰ è¡¨æ ¼æ ‡é¢˜thã€å†…å®¹tdè®¾ç½®å±…ä¸­vertical-align: middle !important; divæ’ç‰ˆ 1234567.left-box &#123; float: left; &#125; .right-box &#123; float: right; &#125; â€‹ 2ï¼‰å¯¹äºä¸€ä¸ªé¡µé¢-boxï¼š å­—ä½“å¤§å°h1/h2/h3ï¼Œè®¾ç½®font-sizeã€font-weight short-line 123456.short-line &#123; background: #eb5424; margin: 15px auto 35px auto; width: 125px; height: 2px; &#125; æŒ‰é’®å¦‚.btn-pushï¼Œå’Œ.btn-introï¼Œè®¾ç½®é€šç”¨çš„hoverã€activeã€focusï¼Œä»¥åŠtransitionæ·¡å…¥æ·¡å‡ºæ•ˆæœ 123456789101112131415.btn-push:hover, .btn-intro:hover &#123; background-color: rgba(235, 84, 36, 0.5); border-color: #eb5424; color: rgba(255, 255, 255, 0.9); &#125; .btn-push, .btn-intro &#123; -webkit-transition: all 0.4s ease-in-out; -moz-transition: all 0.4s ease-in-out; -ms-transition: all 0.4s ease-in-out; -o-transition: all 0.4s ease-in-out; transition: all 0.4s ease-in-out; &#125; 3ï¼‰å­—ä½“ç›´æ¥æ¥å…¥å­—ä½“åº“ 1234@import url(&apos;https://fonts.googleapis.com/css?family=Oswald&apos;);@import url(https://fonts.googleapis.com/css?family=Raleway:400,900,700,600,500,300,200,100,800);@import url(https://fonts.googleapis.com/css?family=Acme); ã€é—®é¢˜1ã€‘å°è¯•è®¾ç½®é€šç”¨ä»£ç ã€æ‰¾å¥½bootstrapå¥—ä»¶ï¼Œåšä¸€ä¸ªå®Œæ•´é¦–é¡µï¼Ÿâ€”â€”ä»¥å‰ç»å¸¸é‡åˆ°çš„è§£å†³ä¸äº†çš„é—®é¢˜ï¼š å¯¼èˆªæ æ‰‹æœºç«¯ç¼©æˆæ±‰å ¡å‹æ— æ³•å±•å¼€ï¼Œå¦‚æœä¸æ”¶ç¼©åˆä¼šå®Œå…¨æŒ¡ä½å¤§å›¾ï¼› å¯¼èˆªæ ç½®é¡¶ä¹Ÿæ˜¯ç”¨navbar-fixed-top å¯¼èˆªæ æœç´¢æ¡†æ€ä¹ˆè‡ªå·±è®¾ç½® å¤§å›¾å¦‚æœè‡ªé€‚åº”ï¼Œæ–‡å­—ä¸ä¼šå±…ä¸­ä¼šä¹±è·‘ï¼›å¤§å›¾å¦‚æœç”¨bootstrapçš„å·¨å¹•ï¼Œåˆåªèƒ½è®¾ç½®å›ºå®šå¤§å°ä¸èƒ½è‡ªé€‚åº” footerç½®åº•å¹¶æ²¡æœ‰çœ‹åˆ°ä»€ä¹ˆç›¸å…³ä»£ç ï¼Œæ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿ 1ã€å¤§å›¾è½®æ’­æ¨¡å—1ï¼‰ä¸‹è½½å›¾ç‰‡ç´ æï¼Œå‘ç°é™¤äº†åˆä½œå•†æ ‡ã€ç”¨æˆ·å¤´åƒå¤–ï¼Œå…¶ä½™æ¨¡å—å›¾ç‰‡éƒ½æ˜¯ä¸€æ ·å¤§å°ã€‚ 2ï¼‰è®¾ç½®é¦–é¡µwelcome#indexï¼Œé¦–é¡µæ‰€ç”¨å›¾ç‰‡æ”¾å…¥app/asset/images 3ï¼‰å¸¦æ ‡é¢˜çš„å¤§å›¾æ¨¡å—å¼•å…¥ï¼Œå¹¶åœ¨ç¬¬ä¸€è¡ŒåŠ å…¥data-ride=&quot;carousel&quot;ï¼ˆåŒä¸€é¡µæœ‰å¤šä¸ªè½®æ’­æ—¶æ‰èƒ½æ­£å¸¸è‡ªåŠ¨è½®æ’­ï¼‰ è½®æ’­å¤±æ•ˆè¯·æ£€æŸ¥app/assets/javascripts/application.jsæ˜¯å¦ç¼ºå°‘//= require bootstrap/alertã€//= require bootstrap/dropdownã€//= require bootstrap-sprockets 12345678910111213141516171819202122232425262728&lt;div id=&quot;myCarousel&quot; class=&quot;carousel slide&quot; data-ride=&quot;carousel&quot;&gt; &lt;!-- è½®æ’­ï¼ˆCarouselï¼‰æŒ‡æ ‡ --&gt; &lt;ol class=&quot;carousel-indicators&quot;&gt; &lt;li data-target=&quot;#myCarousel&quot; data-slide-to=&quot;0&quot; class=&quot;active&quot;&gt;&lt;/li&gt; &lt;li data-target=&quot;#myCarousel&quot; data-slide-to=&quot;1&quot;&gt;&lt;/li&gt; &lt;li data-target=&quot;#myCarousel&quot; data-slide-to=&quot;2&quot;&gt;&lt;/li&gt; &lt;/ol&gt; &lt;!-- è½®æ’­ï¼ˆCarouselï¼‰é¡¹ç›® --&gt; &lt;div class=&quot;carousel-inner&quot;&gt; &lt;div class=&quot;item active&quot;&gt; &lt;img src=&quot;/wp-content/uploads/2014/07/slide1.png&quot; alt=&quot;First slide&quot;&gt; &lt;div class=&quot;carousel-caption&quot;&gt;æ ‡é¢˜ 1&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;img src=&quot;/wp-content/uploads/2014/07/slide2.png&quot; alt=&quot;Second slide&quot;&gt; &lt;div class=&quot;carousel-caption&quot;&gt;æ ‡é¢˜ 2&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;img src=&quot;/wp-content/uploads/2014/07/slide3.png&quot; alt=&quot;Third slide&quot;&gt; &lt;div class=&quot;carousel-caption&quot;&gt;æ ‡é¢˜ 3&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;!-- è½®æ’­ï¼ˆCarouselï¼‰å¯¼èˆª --&gt; &lt;a class=&quot;carousel-control left&quot; href=&quot;#myCarousel&quot; data-slide=&quot;prev&quot;&gt;&amp;lsaquo;&lt;/a&gt; &lt;a class=&quot;carousel-control right&quot; href=&quot;#myCarousel&quot; data-slide=&quot;next&quot;&gt;&amp;rsaquo;&lt;/a&gt;&lt;/div&gt; 4ï¼‰åŠ å…¥å¤–å±‚æ ‡ç­¾ 1div.box-welcome&gt;section.intro-box&gt;div.row&gt;div.col-md-12 5ï¼‰ä¿®æ”¹å›¾ç‰‡ï¼›åŠ å…¥æ–‡å­—ï¼›å˜æˆé“¾æ¥ï¼Œç”¨&lt;%= link_to &#39;#&#39;, target: &quot;_blank&quot; do %&gt;æ„æ€æ˜¯æ–°çª—å£æ‰“å¼€ã€‚ æ³¨æ„æ–‡å­—å±‚æ˜¯åŠ &lt;div class=&quot;carousel-caption&quot;&gt;ï¼Œå¦åˆ™æ–‡å­—ä¼šåœ¨å›¾ç‰‡ä¸‹å¦èµ·ä¸€è¡Œã€‚ 123456789&lt;div class=&quot;item&quot;&gt; &lt;%= link_to &apos;#&apos;, target: &quot;_blank&quot; do %&gt; &lt;%= image_tag(&quot;intro_3.jpg&quot;) %&gt; &lt;div class=&quot;carousel-caption&quot;&gt; &lt;h3&gt;ç²¾é€‰å¨å…·&lt;/h3&gt; &lt;p&gt;ä¼˜è´¨è¿›å£å¨å…·ï¼Œåšèœæ›´åŠ ä¾¿åˆ©&lt;/p&gt; &lt;/div&gt; &lt;% end %&gt;&lt;/div&gt; 6ï¼‰ä¸Šä¸€æ­¥çš„ä»£ç åŠ å…¥css æ–‡å­—ç”¨ç™¾åˆ†æ¯”margin-top: -40%;ï¼Œæ‰‹æœºè‡ªé€‚åº”ä¸ä¼šä¹±è·‘ 12345678910111213141516/*==== intro è½®æ’­å›¾ ====*/.intro-box &#123; .item &#123; h3 &#123; margin-top: -40%; font-size: 50px; letter-spacing: 5px; &#125; p &#123; font-size: 20px; &#125; img &#123; width: 100%; &#125; &#125;&#125; 7ï¼‰æ¢é¡µæŒ‰é’®htmlï¼ŒæŠŠ&amp;lsaquo;æ¢æˆfont-awesomeå›¾æ ‡ã€‚ &lt;span class=&quot;sr-only&quot;&gt;Previous&lt;/span&gt;æ˜¯æ®‹éšœäººå£«ç”¨ç”¨å±å¹•é˜…è¯»å™¨é˜…è¯»çš„æ•ˆæœï¼Œå¯ä»¥ä¸åŠ ã€‚ 1234&lt;a class=&quot;carousel-control left&quot; href=&quot;#myCarousel&quot; data-slide=&quot;prev&quot;&gt; &lt;i class=&quot;fa fa-angle-left&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/a&gt; 8ï¼‰æ¢é¡µæŒ‰é’®cssï¼Œä¸€æ ·çš„æ–‡å­—ç”¨ç™¾åˆ†æ¯”margin-top: 140%; 123456.carousel-control &#123; i &#123; margin-top: 140%; //æŒ‰é’®é«˜åº¦ font-size: 50px; //æŒ‰é’®å¤§å° &#125; &#125; 2ã€å“ç‰Œæ•…äº‹æ¨¡å—1ï¼‰htmlåŸºæœ¬ä¿¡æ¯å†™å…¥ 12345678910&lt;h2&gt;å“ç‰Œæ•…äº‹&lt;/h2&gt;&lt;h1&gt;JDStore&lt;/h1&gt;&lt;div class=&quot;short-line&quot;&gt;&lt;/div&gt;&lt;%= image_tag(&quot;founder_1.png&quot;) %&gt;&lt;h3&gt;Victor&lt;/h3&gt;&lt;p&gt;æˆ‘å€‘å¸Œæœ›èƒ½ç‚ºå¤§å®¶å¸¶ä¾†ç¨®é¡å¤šæ¨£ã€åƒ¹æ ¼ä½å»‰ä¸¦ä¸”è¨­è¨ˆç¨ç‰¹ï¼Œä¸”è®“å¤§å¤šæ•¸äººå¯ä»¥è² æ“”çš„èµ·çš„å®¶å…·å®¶é£¾å“ï¼Œçˆ²äº†å¯¦ç¾é€™æ¨£çš„æƒ³æ³•ï¼Œæˆ‘å€‘å¾ç”¢å“è¨­è¨ˆã€åŸæ–™æ¡è³¼ã€ç”Ÿç”¢è£½é€ ï¼Œåˆ°åœ¨åˆ†åº—ä¸­çš„ç¶“ç‡Ÿï¼Œéƒ½ä¸æ–·åœ¨å‰µæ–°å’Œå°‹æ±‚æ”¹å–„ã€‚ &lt;/p&gt;&lt;hr/&gt;&lt;h3&gt;Kelly&lt;/h3&gt;&lt;p&gt;æˆ‘å€‘çŸ¥é“å¦‚æœè¦æä¾›é¡§å®¢ä¾¿å®œã€å“è³ªåˆå¥½çš„å•†å“ï¼Œä¼æ¥­å¿…é ˆæœ‰æ•ˆçš„ç®¡ç†æˆæœ¬åŠé‹ç”¨å‰µæ–°çš„è£½é€ æ–¹æ³•ï¼Œé€™æ˜¯å¾æœªæ”¹è®Šçš„ä¿¡å¿µï¼Œæœ€æœ‰æ•ˆçš„åˆ©ç”¨åŸæ–™ï¼Œå°‹æ‰¾æ›´ç¶“æ¿Ÿã€æ›´æœ‰æ•ˆç‡åŠæ›´æœ‰å‰µæ„çš„è£½ä½œæˆ–åŒ…è£æ–¹å¼ï¼Œé™ä½æˆæœ¬ï¼Œå›é¥‹çµ¦å¤§å®¶! &lt;/p&gt;&lt;%= image_tag(&quot;founder_2.png&quot;) %&gt; 2ï¼‰æ¨¡å—å±…ä¸­ç”¨åç§»col-md-offset-1è¿˜æ˜¯è‡ªå®šä¹‰col-center ï¼Ÿè¿˜æ˜¯è‡ªå®šä¹‰å¥½äº›ï¼Œå› ä¸ºå¦‚æœæ¨¡å—å ç”¨col-md-9è¿™ç§å•æ•°ï¼Œä¸ç®¡æ€ä¹ˆåç§»éƒ½ä¸ä¼šå¯¹ç§°å±…ä¸­ã€‚ æ¨¡å—ä¸­çš„ç»†èŠ‚ä½ç½®å†ç”¨col-md-offset-1è°ƒæ•´ï¼Œå¦‚æ­¥éª¤3ï¼‰ä¸­ã€‚ 123456789/*==== Common ====*/body &#123; font-family: &apos;Noto Sans SC&apos;, sans-serif; color: #666; .col-center&#123; float: none; margin: 0 auto; &#125;&#125; æ’ç‰ˆ1 1section.story-box&gt;div.row&gt;div.col-md-10.col-center 3ï¼‰æ’ç‰ˆ2ã€‚æ–°å¼€ä¸€è¡Œrowï¼Œå¤´åƒå col-md-3 col-md-offset-1 ï¼Œæ–‡å­—å col-md-7 4ï¼‰box-welcomeçš„cssï¼Œæ¯ä¸ªæ¨¡å—åå¤ç”¨åˆ°çš„å…ƒç´  ç”¨divå®šä¹‰çŸ­çº¿ï¼Œæ–¹æ³•ä¸&lt;hr/&gt;ä¸€æ ·ï¼Œè¿™é‡Œä¿ç•™hrå®½åº¦æ»¡å±äºæ˜¯divåšshort-lineæ¥åŒºåˆ†å¼€ã€‚ç²—ç»†ç”¨heightï¼Œå®½åº¦widthï¼Œå·¦å³æ–¹å‘ä½ç½®å±…ä¸­æ˜¯margin: 0 auto;çš„autoï¼Œä¸Šä¸‹æ–¹å‘ä½ç½®åŠ å…¥margin: 30px auto;æˆ–margin: 15px auto 30px auto; 12345678910111213/*==== box-welcome ====*/.box-welcome &#123; h2 &#123; font-size: 24px; font-weight: 600; &#125; .short-line &#123; background-color: #0070DE; margin: 15px auto 30px auto; width: 150px; height: 1.5px; &#125;&#125; 5ï¼‰story-boxçš„css ä»¥å‰å–œæ¬¢ç”¨rowæ ‡ç­¾çš„margin-topæ¥è°ƒæ¨¡å—ä½ç½®ï¼Œè¿™é‡Œç”¨sectionæ ‡ç­¾çš„story-boxï¼Œè®¾ç½®padding pæ ‡ç­¾ç”¨text-align: justify;ï¼Œä¸¤ç«¯å¯¹é½çš„æ„æ€ imgæ ‡ç­¾ç”¨border-radius: 50%æ˜¾ç¤ºåŸå½¢ï¼Œ50%ä»¥ä¸Šéƒ½æ˜¯åœ†å½¢ imgæ ‡ç­¾ï¼Œç”¨width: 150px;è®¾ç½®å›¾ç‰‡å¤§å°ã€‚ è½®æ’­å¤§å›¾ç”¨ç™¾åˆ†æ¯”ï¼Œå¥½å¤„æ˜¯å¤§å°å±å¹•ä¿æŒå›¾ç‰‡å æ»¡çª—å£ï¼› è¿™é‡Œäººç‰©å¤´åƒç”¨150pxï¼ˆè‹¹æœ6æ˜¯375pxï¼‰ï¼Œå³ä¾¿æ‰‹æœºçœ‹ä¹Ÿä¸ä¼šæŒ¡ä½ã€‚è€Œä¸”ï¼Œå¦‚æœç”¨ç™¾åˆ†æ¯”ï¼Œå¤§æ¦‚ipadå¤§å°åˆ°æ‰‹æœºå±å¹•å¤§å°ï¼Œå›¾ç‰‡ä¼šå˜æˆå•ç‹¬ä¸€è¡Œä¸€å¼ å›¾ï¼Œå˜å¾—ç‰¹åˆ«å¤§ã€‚â€”â€”å‡¡æ˜¯å…ƒç´ ç”¨åˆ°pxï¼Œç‰¹åˆ«æ˜¯å®½åº¦ï¼Œéƒ½è¦çœ‹ä¸€ä¸‹æ˜¯å¦ä¼šå½±å“æ‰‹æœºç«¯æ˜¾ç¤ºã€‚ 12345678910111213141516171819/*==== story å“ç‰Œæ•…äº‹ ====*/.story-box &#123; background-color: #fff; text-align: center; padding: 50px 62.5px 50px 62.5px;//ä½ç½® h3 &#123; font-size: 20px; text-align: left; &#125; p &#123; color: #333; line-height: 24px; text-align: justify; &#125; img &#123; border-radius: 50%; width: 150px; &#125;&#125; 3ã€æœåŠ¡ä¼˜åŠ¿æ¨¡å—1ï¼‰htmlåŸºæœ¬ä¿¡æ¯å†™å…¥ 1234567891011&lt;h2&gt;æœåŠ¡ä¼˜åŠ¿&lt;/h2&gt; &lt;div class=&quot;short-line&quot;&gt;&lt;/div&gt; &lt;%= image_tag(&quot;service_1.png&quot;) %&gt; &lt;h3&gt;å“è´¨ä¿è¯&lt;/h3&gt; &lt;p&gt;æœ¬åº—çš„å•†å“çš†é€šè¿‡å¸‚åœºéªŒè¯ï¼Œä½¿ç”¨æœ€é«˜çº§çš„ææ–™åˆ¶ä½œè€Œæˆï¼Œå“è´¨ä¸ºä¸šç•Œé¢†å…ˆæ ‡å‡†ã€‚&lt;/p&gt; &lt;%= image_tag(&quot;service_2.png&quot;) %&gt; &lt;h3&gt;å¿«é€Ÿé€è¾¾&lt;/h3&gt; &lt;p&gt;å…¨å›½çš†äº«æœ‰å½“å¤©ä¸‹å•ã€éš”æ—¥é€è¾¾çš„æœåŠ¡ï¼Œè¿‡ç¨‹ä¸­æœ‰ä»»ä½•æŸåçš†ç”±æˆ‘ä»¬è´Ÿè´£ï¼Œè¯·æ”¾å¿ƒè´­ä¹°ã€‚&lt;/p&gt; &lt;%= image_tag(&quot;service_3.png&quot;) %&gt; &lt;h3&gt;å®‰å¿ƒä½¿ç”¨&lt;/h3&gt; &lt;p&gt;è®¾è®¡çš†è€ƒé‡äººä½“å·¥å­¦åŠçœŸå®ä½¿ç”¨æƒ…å¢ƒï¼Œä½¿ç”¨èµ·æ¥æ›´å®‰å¿ƒã€‚&lt;/p&gt; 2ï¼‰æ’ç‰ˆ1 1section.service-box&gt;div.row&gt;div.col-md-10.col-center 3ï¼‰æ’ç‰ˆ2ï¼Œæ–°å¢row 1div.row&gt;(div.col-md-4.col-sm-4.col-xs.12&gt;div.service-item)*3 4ï¼‰service-boxçš„css 123456789101112131415161718192021/*==== service æœåŠ¡ä¼˜åŠ¿ ====*/.service-box &#123; background-color: #f8f8f8; text-align: center; padding: 50px 62.5px 50px 62.5px; .service-item &#123; margin: 0 25px; img &#123; width: 100px; &#125; h3 &#123; font-size: 18px; &#125; p &#123; color: #666; line-height: 24px; text-align: justify; margin-top: 25px; &#125; &#125;&#125; 4ã€å•†å“åˆ†ç±»æ¨¡å—1ï¼‰htmlåŸºæœ¬ä¿¡æ¯å†™å…¥ 123456789&lt;%= image_tag(&quot;category_1.jpg&quot;) %&gt; &lt;h3&gt;å™¨çš¿&lt;/h3&gt; &lt;p&gt;ä¸é½é‹¼æè³ªä¾¿æ–¼æ¸…æ´—ï¼Œä¸æ€•ç¢°æ’ï¼Œç·»å¯†ç´‹ç†ç›¸ç•¶è¿·äººã€‚é‹é«”å…©å´éƒ½æœ‰å°–å£ï¼Œå·¦å³æ’‡å­éƒ½å¥½ç”¨ã€‚å¯ä»¥ç…®å…©åˆ°ä¸‰äººä»½çš„å¥¶èŒ¶ã€ä¸€äººä»½çš„æ¹¯éºµã€ç²¥é¡ï¼Œæ–™ç†å¾Œäº¦å¯ç›´æ¥ç«¯ä¸Šæ¡Œï¼Œå¯æ„›åˆæ–¹ä¾¿ï¼&lt;/p&gt; &lt;%= image_tag(&quot;category_2.jpg&quot;) %&gt; &lt;h3&gt;å¨å…·&lt;/h3&gt; &lt;p&gt;å·¥æˆ¿Aizawaæœ€å—æ­¡è¿çš„ç‰›å¥¶é‹ï¼Œç”±å‰µç«‹æ–¼å¤§æ­£11å¹´ã€ä»¥è£½ä½œé‡‘å±¬é£Ÿå™¨èåçš„è€èˆ–Aizawaå·¥æˆ¿è£½ä½œè€Œæˆã€‚åœ¨è·äººå€‘çš„æ‰‹ä¸­ï¼Œé‡‘å±¬å†·ç¡¬çš„è³ªæ„Ÿï¼Œå¸¶ä¸Šäº†æ‰‹å·¥è£½ä½œçš„ç´°ç·»èˆ‡æº«åº¦ã€‚&lt;/p&gt; &lt;%= image_tag(&quot;category_3.jpg&quot;) %&gt; &lt;h3&gt;é”…ç¢—&lt;/h3&gt; &lt;p&gt;ç›¸è¼ƒæ–¼çºç‘¯å’Œé™¶ç“·æè³ªçš„ç‰›å¥¶é‹ï¼Œä¸é½é‹¼çš„è³ªæ„Ÿå¤šäº†ä¸€é»ç¡¬æ´¾çš„æ„Ÿè¦ºï¼Œé‹é«”ä¸Šç´°ç·»çš„é‡‘å±¬ç´‹ç†ç›¸ç•¶è¿·äººã€‚ç”±ç™½æ¢£æœ¨æ‰‹å·¥è£½æˆçš„æœ¨æŸ„ï¼Œå¦‚åŒæ¾é¼ å°¾å·´èˆ¬åœ“æ½¤å¥½æ¡ã€é˜²ç‡™ï¼Œå‚¾å€’çš„è§’åº¦ä¹Ÿç›¸ç•¶é †æ‰‹ã€‚&lt;/p&gt; 2ï¼‰æ’ç‰ˆ1 1section.category-box&gt;div.row&gt;div.col-md-10.col-center 3ï¼‰æ’ç‰ˆ2 1div.row&gt;(div.col-md-4.col-sm-4.col-xs-12.category-item)*3 4ï¼‰æ’ç‰ˆ3ï¼Œå›¾ç‰‡é“¾æ¥ 1&lt;%= link_to &apos;#&apos; do %&gt;... &lt;% end %&gt; 5ï¼‰é€šç”¨cssï¼ŒåŠ åœ¨commonä½ç½® 12345678a &#123; color: #666; &#125; a:hover &#123; color: #7f8c8d; transition: 0.5s; text-decoration: none; &#125; 6ï¼‰css 12345678910111213141516171819/*==== category å•†å“åˆ†ç±» ====*/.category-box &#123; background-color: #fff; text-align: center; padding: 50px 62.5px 50px 62.5px; .category-item &#123; img &#123; width: 250px; &#125; h3 &#123; font-size: 18px; padding: 20px 0; &#125; p &#123; line-height: 24px; text-align: justify; &#125; &#125;&#125; 5ã€æ¨èå•†å“æ¨¡å—1ï¼‰htmlåŸºæœ¬ä¿¡æ¯å†™å…¥ã€‚ ã€é—®é¢˜ã€‘å¦‚æœä¸¤è¡Œéƒ½ç”¨pï¼Œè¦åˆ†åˆ«å®šä¹‰ä½ç½®å°±ä¸èƒ½ç›´æ¥ç”¨pæ ‡ç­¾æ¥å®šä¹‰ï¼Œè€Œæ˜¯è¦åŠ å¤šä¸€å±‚divï¼Ÿ è§£æ³•ä¸€ï¼š&lt;p class=&quot;p1&quot;&gt;å’Œ&lt;p class=&quot;p2&quot;&gt;ï¼Œç„¶åå®šä¹‰.p1{}å’Œ.p2{} è§£æ³•äºŒï¼šä¸€ä¸ªæ”¹æˆh6æ ‡ç­¾ï¼Œä½†æ³¨æ„hä¼šè‡ªåŠ¨åŠ ç²—ã€‚å»ºè®®ç”¨ç¬¬ä¸€ç§ 123456789101112131415161718192021222324252627282930313233343536373839&lt;!--==== æ¨èå•†å“ ====--&gt;&lt;h2&gt;æ¨èå•†å“&lt;/h2&gt;&lt;div class=&quot;short-line&quot;&gt;&lt;/div&gt;&lt;%= image_tag(&quot;item_1.jpg&quot;) %&gt;&lt;p&gt;ä¸¤æ‰‹é”…&lt;/p&gt;&lt;p&gt;$550&lt;/p&gt;&lt;%= image_tag(&quot;item_2.jpg&quot;) %&gt;&lt;p&gt;å¹³åº•é”…&lt;/p&gt;&lt;p&gt;$750&lt;/p&gt;&lt;%= image_tag(&quot;item_3.jpg&quot;) %&gt;&lt;p&gt;é“åˆ¶èŒ¶å£¶&lt;/p&gt;&lt;p&gt;$450&lt;/p&gt;&lt;%= image_tag(&quot;item_4.jpg&quot;) %&gt;&lt;p&gt;èŒ¶å£¶&lt;/p&gt;&lt;p&gt;$250&lt;/p&gt;&lt;%= image_tag(&quot;item_5.jpg&quot;) %&gt;&lt;p&gt;å…«è§’ç‚¹å¿ƒç›˜&lt;/p&gt;&lt;p&gt;$150&lt;/p&gt;&lt;%= image_tag(&quot;item_6.jpg&quot;) %&gt;&lt;p&gt;ç‚¹å¿ƒç›˜&lt;/p&gt;&lt;p&gt;$80&lt;/p&gt;&lt;%= image_tag(&quot;item_7.jpg&quot;) %&gt;&lt;p&gt;æœ¨ç›˜&lt;/p&gt;&lt;p&gt;$125&lt;/p&gt;&lt;%= image_tag(&quot;item_8.jpg&quot;) %&gt;&lt;p&gt;é…±æ–™ç¢Ÿ&lt;/p&gt;&lt;p&gt;$20&lt;/p&gt;&lt;%= image_tag(&quot;item_9.jpg&quot;) %&gt;&lt;p&gt;é…±æ–™ç¢Ÿ&lt;/p&gt;&lt;p&gt;$50&lt;/p&gt;&lt;%= image_tag(&quot;item_10.jpg&quot;) %&gt;&lt;p&gt;é©¬å…‹æ¯&lt;/p&gt;&lt;p&gt;$80&lt;/p&gt;&lt;%= image_tag(&quot;item_11.jpg&quot;) %&gt;&lt;p&gt;é™¶é”…&lt;/p&gt;&lt;p&gt;$650&lt;/p&gt;&lt;%= image_tag(&quot;item_12.jpg&quot;) %&gt;&lt;p&gt;8å·é”…&lt;/p&gt;&lt;p&gt;$500&lt;/p&gt; 2ï¼‰æ’ç‰ˆ1 1section.recommend-box&gt;div.row&gt;div.col-md-10.col-center 3ï¼‰æ’ç‰ˆ2 1div.row&gt;(div.col-md-3.col-sm-6.col-xs-12.recommend-item)*12 4ï¼‰æ’ç‰ˆ3ï¼Œå›¾ç‰‡å’Œæ–‡å­—æ•´ä¸ªæ¨¡å—å˜æˆé“¾æ¥ï¼Œå¹¶ç»™å›¾ç‰‡åŠ ä¸Šdiv.recommend-part1ï¼ˆä¸ºäº†ç»™å›¾ç‰‡åŠ è¾¹æ¡†æ•ˆæœï¼‰ 1&lt;%= link_to &apos;#&apos; do %&gt;... &lt;% end %&gt; 5ï¼‰cssï¼Œå…¶ä¸­hoverç”¨opacity: 0.6;æ˜¯æœ€ç®€å•ç²—æš´çš„åŠ¨ç”»æ•ˆæœã€‚å›¾ç‰‡é˜´å½±ç”¨box-shadow: 2px 2px 5px #888ã€‚ 12345678910111213141516171819202122232425/*==== æ¨èå•†å“ ====*/.recommend-box &#123; background-color: #f8f8f8; text-align: center; padding: 50px 0; .recommend-item &#123; .recommend-part1 &#123; img &#123; width: 100%; &#125; box-shadow: 2px 2px 5px #888; margin-top: 15px; &#125; .recommend-part1:hover &#123; opacity: 0.6; &#125; h6 &#123; font-size: 14px; margin-top: 30px; &#125; p &#123; margin-bottom: 40px; &#125; &#125;&#125; 6ã€ç”¨æˆ·åé¦ˆæ¨¡å—1ï¼‰bootstrapè½®æ’­æ¨¡å—ï¼Œæ›¿æ¢ç…§ç‰‡&lt;%= image_tag(&quot;feedback_1&quot;) %&gt;ã€‚ 2ï¼‰æ­¤æ—¶æ—¢ä¸ä¼šè‡ªåŠ¨è½®æ’­ã€ç‚¹å‡»å°åœ†ä¹Ÿæ²¡ååº”ã€‚ 3ï¼‰æŠŠ4ä¸ªmyCarouselçš„idæ¢æˆfeedbackï¼Œæ­¤æ—¶ç‚¹å‡»å°åœ†ä¼šç¿»é¡µï¼Œä½†ä»ä¸ä¼šè‡ªåŠ¨è½®æ’­ã€‚ 4ï¼‰è½®æ’­ç¬¬ä¸€è¡Œå³æœ‰idçš„ä¸€è¡Œï¼ŒåŠ ä¸Šdata-ride=&quot;carousel&quot;ï¼Œå¯ä»¥è½®æ’­äº†ã€‚ 5ï¼‰htmlåŸºæœ¬ä¿¡æ¯ï¼Œæ”¾åˆ°è½®æ’­çš„itemä¸­ 123456789101112131415161718 &lt;h2&gt;ç”¨æˆ·åé¦ˆ&lt;/h2&gt; &lt;div class=&quot;short-line&quot;&gt;&lt;/div&gt; &lt;div class=&quot;item active&quot;&gt; &lt;p class=&quot;p1&quot;&gt;è¿™æ˜¯æˆ‘ç”¨è¿‡æœ€å¥½çš„ç½‘ç«™ï¼Œå•†å“ä¼—å¤šã€ä¸‹å•æ–¹ä¾¿ã€é€è´§å¿«é€Ÿï¼Œè¿˜èƒ½è®¢åˆ¶ç‰¹æ®Šè§„æ ¼çš„é”…å…·ï¼Œå¼ºåŠ›æ¨èã€‚&lt;/p&gt; &lt;%= image_tag(&quot;feedback_1.png&quot;) %&gt; &lt;p class=&quot;p2&quot;&gt;Eddie - ä¸Šç­æ—&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;item&quot;&gt; &lt;p class=&quot;p1&quot;&gt;æˆ‘æ˜¯è¿™ç½‘ç«™çš„å¿ å®ç”¨æˆ·ï¼Œå·²ç»åœ¨è¿™ä¹°å¥½å‡ å¹´äº†ï¼Œè´¨é‡ä¸€ç›´å¾ˆå¥½ï¼Œè€Œä¸”ä¸å®šæ—¶ä¼šæœ‰æŠ˜æ‰£ï¼ŒçœŸçš„å¾ˆåˆ’ç®—ï¼&lt;/p&gt; &lt;%= image_tag(&quot;feedback_2.png&quot;) %&gt; &lt;p class=&quot;p2&quot;&gt;Anna - å®¶åº­ä¸»å¦‡&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;item&quot;&gt; &lt;p class=&quot;p1&quot;&gt;èº«ä¸ºä¸€ä¸ªå­¦ç”Ÿï¼Œé¢„ç®—ä¸å¤ªå¤šï¼Œå´ä¹Ÿèƒ½åœ¨è¿™æ‰¾åˆ°ä¾¿å®œåˆæœ‰è®¾è®¡æ„Ÿçš„å™¨çš¿ï¼Œè®©æˆ‘ç”Ÿæ´»åˆæ·»åŠ ä¸€ä»½ä¹è¶£ã€‚&lt;/p&gt; &lt;%= image_tag(&quot;feedback_3.png&quot;) %&gt; &lt;p class=&quot;p2&quot;&gt;Kobe - å¤§å­¦ç”Ÿ&lt;/p&gt;&lt;/div&gt; 6ï¼‰æ’ç‰ˆ 1section.feedback-box&gt;div.row&gt;div.col-md-10.col-center 7ï¼‰cssï¼Œå¸¸ç”¨éƒ¨åˆ† borderåˆ°è¿™é‡Œæ¥è§¦äº†ä¸‰ç§ç”¨æ³•ï¼Œborderç”¨æ¥åšè¾¹æ¡†ï¼Œborder-shadowåšé˜´å½±ï¼Œborder-radiusåšåœ†è§’æˆ–åœ†ã€‚ å±…ä¸­å–œæ¬¢ç”¨margin: 0 auto;ï¼Œå¥½å¤„æ˜¯å¯ä»¥ç»§ç»­æ”¹è°ƒæ•´ä½ç½®ï¼Œå¦‚ä¸‹çš„argin: 0 auto 25px auto; 123456789101112131415161718192021/*==== ç”¨æˆ·åé¦ˆ ====*/.feedback-box &#123; background-color: #fff; text-align: center; padding: 50px 0 100px 0; .item &#123; img &#123; width: 80px; border-radius: 50%; margin: 0 auto 25px auto; border: 2px solid #ccc; &#125; .p1 &#123; max-width: 550px; margin: 0 auto 25px auto; &#125; .p2 &#123; margin-top: 25px; &#125; &#125;&#125; 8ï¼‰cssï¼Œè½®æ’­æŒ‰é’® æ—‹è½¬è§’åº¦çš„cssæ²¡æœ‰æ¥è§¦è¿‡ã€‚ 1234567891011121314151617181920.carousel-indicators &#123; margin-bottom: -70px; li &#123; background-color: #666; height: 13px; width: 13px; margin: 0 5px; border-radius: 0; /* æŒ‰é’®è½¬å‘45åº¦ */ -moz-transform: rotate(45deg); -webkit-transform: rotate(45deg); -o-transform: rotate(45deg); -ms-transform: rotate(45deg); transform: rotate(45deg); &#125; li.active &#123; background-color: #0070DE; &#125;&#125; 7ã€åˆä½œå“ç‰Œæ¨¡å—1ï¼‰htmlåŸºæœ¬ä¿¡æ¯å†™å…¥ã€‚ 1234567891011&lt;h2&gt;åˆä½œå“ç‰Œ&lt;/h2&gt;&lt;div class=&quot;short-line&quot;&gt;&lt;/div&gt;&lt;%= image_tag(&quot;brand_1.png&quot;) %&gt;&lt;%= image_tag(&quot;brand_2.png&quot;) %&gt;&lt;%= image_tag(&quot;brand_3.png&quot;) %&gt;&lt;%= image_tag(&quot;brand_4.png&quot;) %&gt;&lt;%= image_tag(&quot;brand_5.png&quot;) %&gt;&lt;%= image_tag(&quot;brand_6.png&quot;) %&gt;&lt;%= image_tag(&quot;brand_7.png&quot;) %&gt;&lt;%= image_tag(&quot;brand_8.png&quot;) %&gt;&lt;%= image_tag(&quot;brand_9.png&quot;) %&gt; 2ï¼‰æ’ç‰ˆ 1section.brand-box&gt;div.row&gt;div.col-md-10.col-center 3ï¼‰css 12345678910/*==== åˆä½œå“ç‰Œ ====*/.brand-box &#123; background-color: #f8f8f8; text-align: center; padding: 50px 0; img &#123; width: 150px; margin: 10px 15px; &#125;&#125; 8ã€ç«‹å³è´­ä¹°æ¨¡å—1ï¼‰htmlåŸºæœ¬ä¿¡æ¯å†™å…¥ã€‚ 123&lt;section class=&quot;push-box&quot;&gt; &lt;%= link_to(&apos;ç«‹å³è´­ä¹°&apos;, &apos;#&apos;, class:&apos;btn btn-push&apos; ) %&gt; &lt;/section&gt; 2ï¼‰css æ’å…¥èƒŒæ™¯å›¾ç‰‡ä¸¤ç§æ–¹æ³•ï¼Œæµ‹è¯•å‘ç°background: image_url(&quot;&quot;)ä¸å¤ªå¥½ï¼Œä¸èƒ½ç”¨ipicå›¾ç‰‡ã€‚ background-image: url(&quot;&quot;);å¥½ç”¨ï¼Œæ—¢èƒ½ç”¨æœ¬åœ°app/asset/imageså›¾ç‰‡ï¼Œåˆèƒ½ç”¨ipicå›¾ç‰‡ 123456789101112131415161718192021/*==== ç«‹å³è´­ä¹° ====*/.push-box &#123; background-image: url(&quot;start&quot;); height: 200px; padding: 75px 0 0 0; text-align: center; .btn-push &#123; color: #fff; font-size: 20px; background-color: rgba(0, 0, 0, 0.5); padding: 10px 20px; -webkit-transition: all 0.4s ease-in-out; -moz-transition: all 0.4s ease-in-out; -ms-transition: all 0.4s ease-in-out; -o-transition: all 0.4s ease-in-out; transition: all 0.4s ease-in-out; &#125; .btn-push:hover &#123; background-color: #0070DE; border-color: #0070DE; &#125; [é—®é¢˜]ä»æœ‰ä¸€äº›è‡ªé€‚åº”é—®é¢˜ï¼Œä»¥åŠå¦‚ä½•åšæ‰èƒ½æ–¹ä¾¿è°ƒæ•´åˆ°éŸµå„¿çˆ¸çˆ¸é‚£ç§å¯¹é½ï¼Ÿ 123456789101112131415161718app/views/layouts/application.html.erb&lt;body&gt; &lt;div class=&quot;content&quot;&gt; &lt;div class=&quot;container-fluid&quot;&gt; &lt;%= render &quot;common/navbar&quot; %&gt; &lt;%= render &quot;common/flashes&quot; %&gt; &lt;%= yield %&gt; &lt;/div&gt; &lt;/div&gt; &lt;%= render &quot;common/footer&quot; %&gt; &lt;script src=&quot;https://qiyukf.com/script/aa9e006de13d137b3ef3b6fe0704d745.js&quot; defer async&gt;&lt;/script&gt; &lt;/body&gt; indexä¸­ 1234567891011121314151617181920212223242526272829303132&lt;!-- é¦–é¡µç²¾é€‰å•†å“åˆ—è¡¨ --&gt; &lt;div class=&quot;container all-product-box&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;container topspan&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-xs-6&quot;&gt; &lt;h3 class=&quot;titspan&quot;&gt;å•†åŸ&lt;/h3&gt; &lt;/div&gt; &lt;div class=&quot;col-xs-6&quot;&gt; &lt;%= link_to(&quot;more &gt;&quot;, products_path, class: &quot;pull-right morespan&quot;) %&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;% @products.each do |product| %&gt; &lt;div class=&quot;col-xs-6 col-md-3 text-center product-list-style&quot;&gt; &lt;% link_to product_path(product) %&gt; &lt;% if product.image.present? %&gt; &lt;%= link_to image_tag(product.image.thumb.url, class: &quot;product-list-style-img img-responsive center-block all_image_css&quot;), product_path(product), target: &quot;_blank&quot; %&gt; &lt;% else %&gt; &lt;%= link_to image_tag(&quot;http://placehold.it/200x200&amp;text=No Pic&quot;, class: &quot;product-list-style-img img-responsive center-block all_image_css&quot;), product_path(product), target: &quot;_blank&quot; %&gt; &lt;% end %&gt; &lt;br&gt; &lt;%= link_to(product.title, product_path(product), target: &quot;_blank&quot;) %&gt; &lt;br&gt; &lt;strong&gt;ï¿¥ &lt;%= link_to(product.price, product_path(product), target: &quot;_blank&quot;) %&gt;&lt;/strong&gt;&lt;/p&gt; &lt;/div&gt; &lt;% end %&gt; &lt;/div&gt; &lt;/div&gt; å¦ä¸€ä¸ªhtml 123456789101112131415161718192021222324252627282930&lt;!-- ç”¨æˆ·è¯„ä»·ç‰ˆé¢ --&gt; &lt;div class=&quot;row landing-page-eva&quot;&gt; &lt;div class=&quot;container&quot;&gt; &lt;div class=&quot;col-md-12&quot;&gt; &lt;h3 class=&quot;tagline&quot;&gt;å¬å¬ä»–ä»¬ æ€ä¹ˆè¯´&lt;/h1&gt; &lt;div class=&quot;col-xs-12 col-sm-6 col-md-6 landing-page-eva-style&quot;&gt; &lt;div class=&quot;col-xs-3&quot;&gt; &lt;%= image_tag(&quot;xdite.jpg&quot;, class: &quot;img-circle img-responsive img-center frontpage-img&quot;) %&gt; &lt;/div&gt; &lt;div class=&quot;col-xs-9&quot;&gt; &lt;h5&gt;Xdite (å­¦ä¹ ç‰›äººã€ç¼–ç¨‹å¤§ç¥)&lt;/h5&gt; &lt;p&gt;ä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜ï¼Œä¹‹å‰æˆ‘å¹¶ä¸å…³å¿ƒèº«è¾¹çš„çç¢å°äº‹ï¼Œæ˜¯ä¸ªå…¸å‹çš„â€å·®ä¸å¤šå…ˆç”Ÿâ€ã€‚ ä½†æ˜¯è‡ªä»åŠ å…¥ã€Œæç®€ç”Ÿæ´»æ³•ã€ä»¥åï¼Œtaçš„ç”Ÿæ´»æ•™ç¨‹ä»¤æˆ‘å®Œå…¨æ²‰è¿·ã€‚ æˆ‘å¼€å§‹åœ¨ä¹èº«è¾¹çš„å°ç»†èŠ‚ï¼Œå¼€å§‹åŠ¨æ‰‹æ”¹å–„å®¶å±…ï¼Œç”Ÿæ´»å˜å¾—ç²¾è‡´ï¼Œå¿ƒæƒ…å˜å¾—èˆ’æœã€‚&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;col-xs-12 col-sm-6 col-md-6 landing-page-eva-style&quot;&gt; &lt;div class=&quot;col-xs-3&quot;&gt; &lt;%= image_tag(&quot;xiaolai.jpg&quot;, class: &quot;img-circle img-responsive img-center frontpage-img&quot;) %&gt; &lt;/div&gt; &lt;div class=&quot;col-xs-9&quot;&gt; &lt;h5&gt;æç¬‘æ¥ (æ¯”ç‰¹å¸å¤§å’–ã€æŠ•èµ„äºº)&lt;/h5&gt; &lt;p&gt;ä¼ ç»Ÿç”µå•†è¿˜èƒ½æ´»å—ï¼Ÿç‰¹ä¹ˆçœŸæŒºéš¾ï¼å› ä¸ºç©æ³•è½åäº†ã€‚é‚£è¯¥æ€ä¹ˆç©ï¼Ÿã€Œæç®€ç”Ÿæ´»æ³•ã€è¯´â€”â€”è·¨ç•Œã€‚ ç¤¾ç¾¤\bäº’åŠ¨+ä¼˜è´¨å†…å®¹+ååŠ©æˆé•¿ï¼Œä½ ä¹°åˆ°çš„ä¸åªæ˜¯å•†å“ï¼Œè¿˜æœ‰è¿œæ¯”å•†å“è´µå¾—å¤šå¾—å¤šçš„é™„åŠ ä»·å€¼ã€‚ å¯¹è¿™ä¸ªé¡¹ç›®æˆ‘æœ‰ç‚¹å¿ƒåŠ¨äº†...&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; css 12345678910// å•†å“å±•ç¤ºåˆ—è¡¨æ ·å¼è®¾ç½®ï¼Œä¸ºå•†å“æ åšå¥½æ’ç‰ˆæ•´å½¢ .product-list-style &#123; //å›¾ç‰‡+æ–‡å­— å—æ ·å¼æ•´å½¢ margin: 3em auto 2em; &#125; .product-list-style-img &#123; //æ–‡å­— å—æ ·å¼æ•´å½¢ margin-bottom: 1.2em; &#125; .all-product-box &#123; margin-bottom: 3em; &#125; å°ç»“ï¼š1ã€htmlçš„cssæ ‡ç­¾å‘½åå¥—è·¯â€”â€”â‘ ã€æœ€å¤–å±‚divç”¨box-productã€box-product-showï¼›â‘¡ã€æ¯ä¸ªæ¨¡å—sectionç”¨æ¨¡å—å+boxï¼›â‘¢ã€åº•ä¸‹ç»†åˆ†col-md-4çš„æ—¶å€™ç”¨æ¨¡å—å+itemï¼›â‘£ã€å†å¾€ä¸‹ç»†åˆ†ç”¨æ¨¡å—å+part1ï¼›[1]æŒ‰é’®ç”¨btn+æ¨¡å—å 2ã€cssä¸€èˆ¬å®šä¹‰çœ‹é¢œè‰²ã€å®šå½¢å°ºå¯¸ã€å®šä½å°ºå¯¸ [é—®é¢˜]è¿™é‡Œæ–‡å­—h1/h2/h3/pè¦åƒéŸµå„¿çˆ¸çˆ¸é‚£æ ·åœ¨welcome-boxä¸­è®¾ç½®ï¼Œå¦åˆ™å„ç§è‡ªå®šä¹‰æ— æ³•ä¿è¯ç½‘ç«™å­—ä½“å¤§å°ã€é¢œè‰²ã€è¡Œé«˜ã€å¯¹é½æ–¹å¼ä¸€è‡´ã€‚è¡Œè·åœ¨bodyè®¾ç½®ã€‚[é—®é¢˜]ä¸€ä¸ªç½‘ç«™è®¾ç½®å¤šå°‘ç§å­—ä½“å¤§å°å’Œé¢œè‰²ï¼Ÿ50ã€36ã€ï¼ˆ20ã€14ã€24ï¼‰ã€16ã€18ã€‚éŸµå„¿çˆ¸çˆ¸48ã€ï¼ˆ24ã€19ã€14ã€12ï¼‰[é—®é¢˜]å…³äºç½‘é¡µå­—ä½“å’Œå•ä½ï¼Ÿâ€”â€”å¦‚æœæŠŠæŸä¸ªå…ƒç´ çš„font-sizeè®¾ä¸º16pxï¼Œé‚£ä¹ˆ1emå°±ç­‰äº16pxã€‚h1/h2/h3/h4/h5/h6ä¸åŒæ˜¾ç¤ºå™¨æ˜¾ç¤ºæ•ˆæœä¸åŒï¼Œchromeæµ‹è¯•åˆ†åˆ«å¯¹åº”36ã€30ã€24ã€18ã€14ã€12pxã€‚ã€ç¬”è®°ã€‘éŸµå„¿çˆ¸çˆ¸ä¸‰ä¸ªå¦™æ‹›æå‡é¢œå€¼ï¼š1ï¼‰å¯¹é½ã€‚è®©äººè¿…é€Ÿæ‰¾åˆ°è§†è§‰è§„å¾‹ 2ï¼‰é‡å¤ã€‚ æ€æºé»‘ä½“å­—ï¼ˆéœ€å¼€vpnè½½å…¥ï¼‰ å…¨ç«™å­—è‰²#666ç”¨äºå‹ä½äº®åº¦ 12345@import url(&apos;https://fonts.googleapis.com/earlyaccess/notosanssc.css&apos;); //å¼•å…¥googleæ€æºé»‘ç®€åœ¨çº¿å­—ä½“ éœ€è¦ä½¿ç”¨VPNæ‰å¯ç”Ÿæ•ˆbody &#123; font-family: &apos;Noto Sans SC&apos;, sans-serif; // googleæ€æºé»‘ç®€ä½œä¸ºä¸»å­—ä½“ color: #666; // ä¿®æ”¹å…¨ç«™çš„å­—ä½“ä¸»è‰² å‹ä½äº®åº¦ &#125; é‡å¤ä¸¤ç§è‰²è°ƒã€‚å¦‚#f5f5f5ã€#7f8c8bæ­åŸæ¥çš„#fffï¼Œå¦‚#f8f8fã€#333333æ­åŸæ¥çš„#fff 3ï¼‰ç•™ç™½ã€‚å°½é‡åšå‡æ³•æ‰£æ‰èƒŒæ™¯ï¼Œåªç•™ä¸‹å•†å“ 2ã€éƒ¨ç½²åherokuå¾ˆå¤šbugï¼Œæ¶‰åŠç¯å¢ƒé…ç½®3ã€éƒ¨ç½²è¦å†™seedï¼Œå’Œæ¥ä¸ƒç‰›äº‘### ã€é—®é¢˜2ã€‘æŒ‰é’®æ€ä¹ˆå§‹ç»ˆå±…ä¸­ï¼ŒæŒ‰é’®æ ·å¼æ€ä¹ˆè®¾ç½®æ‰ä¸å®¹æ˜“å‡ºé—®é¢˜ï¼Ÿcsså¦‚ä¸‹ 1234567.push-box &#123; /* åŒºå— */ text-align: center; padding: 75px 0 0 0; height: 200px; background: image_url(&quot;start.jpg&quot;) no-repeat scroll top center/ cover; //èƒŒæ™¯å›¾ç‰‡&#125; ã€é—®é¢˜3ã€‘å¤§å›¾è½®æ’­çš„å›¾ç‰‡å¤§å°è¦ä¸€æ ·å—ï¼Ÿåˆä½œå“ç‰Œçš„å›¾ç‰‡å¤§å°è¦ä¸€æ ·å—ï¼Ÿ","categories":[{"name":"webé¡µé¢","slug":"webé¡µé¢","permalink":"http://yoursite.com/categories/webé¡µé¢/"}],"tags":[{"name":"webé¡µé¢","slug":"webé¡µé¢","permalink":"http://yoursite.com/tags/webé¡µé¢/"}],"keywords":[{"name":"webé¡µé¢","slug":"webé¡µé¢","permalink":"http://yoursite.com/categories/webé¡µé¢/"}]},{"title":"ror-tips-modelä¸»é”®ä¸å¤–é”®","slug":"ror-tips-modelä¸»é”®ä¸å¤–é”®","date":"2017-11-15T16:10:00.000Z","updated":"2018-01-14T05:52:02.000Z","comments":true,"path":"posts/a7e5943/","link":"","permalink":"http://yoursite.com/posts/a7e5943/","excerpt":"","text":"åŸæ–‡åœ°å€ï¼šhttps://cnbin.github.io/blog/2015/08/19/sql-zhu-jian-yu-wai-jian/ SQL ä¸»é”®ä¸å¤–é”®AUG 19TH, 2015 1:34 PM ä¸»é”®ä¸å¤–é”®å…³ç³»å‹æ•°æ®åº“ä¸­çš„ä¸€æ¡è®°å½•ä¸­æœ‰è‹¥å¹²ä¸ªå±æ€§ï¼Œè‹¥å…¶ä¸­æŸä¸€ä¸ªå±æ€§ç»„(æ³¨æ„æ˜¯ç»„)èƒ½å”¯ä¸€æ ‡è¯†ä¸€æ¡è®°å½•ï¼Œè¯¥å±æ€§ç»„å°±å¯ä»¥æˆä¸ºä¸€ä¸ªä¸»é”® æ¯”å¦‚ å­¦ç”Ÿè¡¨(å­¦å·ï¼Œå§“åï¼Œæ€§åˆ«ï¼Œç­çº§) å…¶ä¸­æ¯ä¸ªå­¦ç”Ÿçš„å­¦å·æ˜¯å”¯ä¸€çš„ï¼Œå­¦å·å°±æ˜¯ä¸€ä¸ªä¸»é”® è¯¾ç¨‹è¡¨(è¯¾ç¨‹ç¼–å·,è¯¾ç¨‹å,å­¦åˆ†) å…¶ä¸­è¯¾ç¨‹ç¼–å·æ˜¯å”¯ä¸€çš„,è¯¾ç¨‹ç¼–å·å°±æ˜¯ä¸€ä¸ªä¸»é”® æˆç»©è¡¨(å­¦å·,è¯¾ç¨‹å·,æˆç»©) æˆç»©è¡¨ä¸­å•ä¸€ä¸€ä¸ªå±æ€§æ— æ³•å”¯ä¸€æ ‡è¯†ä¸€æ¡è®°å½•ï¼Œå­¦å·å’Œè¯¾ç¨‹å·çš„ç»„åˆæ‰å¯ä»¥å”¯ä¸€æ ‡è¯†ä¸€æ¡è®°å½•ï¼Œæ‰€ä»¥ å­¦å·å’Œè¯¾ç¨‹å·çš„å±æ€§ç»„æ˜¯ä¸€ä¸ªä¸»é”® æˆç»©è¡¨ä¸­çš„å­¦å·ä¸æ˜¯æˆç»©è¡¨çš„ä¸»é”®ï¼Œä½†å®ƒå’Œå­¦ç”Ÿè¡¨ä¸­çš„å­¦å·ç›¸å¯¹åº”ï¼Œå¹¶ä¸”å­¦ç”Ÿè¡¨ä¸­çš„å­¦å·æ˜¯å­¦ç”Ÿè¡¨çš„ä¸»é”®ï¼Œåˆ™ç§°æˆç»©è¡¨ä¸­çš„å­¦å·æ˜¯å­¦ç”Ÿè¡¨çš„å¤–é”® åŒç† æˆç»©è¡¨ä¸­çš„è¯¾ç¨‹å·æ˜¯è¯¾ç¨‹è¡¨çš„å¤–é”® å®šä¹‰ä¸»é”®å’Œå¤–é”®ä¸»è¦æ˜¯ä¸ºäº†ç»´æŠ¤å…³ç³»æ•°æ®åº“çš„å®Œæ•´æ€§ï¼Œæ€»ç»“ä¸€ä¸‹ï¼š ä¸»é”®æ˜¯èƒ½ç¡®å®šä¸€æ¡è®°å½•çš„å”¯ä¸€æ ‡è¯†ï¼Œæ¯”å¦‚ï¼Œä¸€æ¡è®°å½•åŒ…æ‹¬èº«ä»½æ­£å·ï¼Œå§“åï¼Œå¹´é¾„ã€‚èº«ä»½è¯å·æ˜¯å”¯ä¸€èƒ½ç¡®å®šä½ è¿™ä¸ªäººçš„ï¼Œå…¶ä»–éƒ½å¯èƒ½æœ‰é‡å¤ï¼Œæ‰€ä»¥ï¼Œèº«ä»½è¯å·æ˜¯ä¸»é”®ã€‚ å¤–é”®ç”¨äºä¸å¦ä¸€å¼ è¡¨çš„å…³è”ã€‚æ˜¯èƒ½ç¡®å®šå¦ä¸€å¼ è¡¨è®°å½•çš„å­—æ®µï¼Œç”¨äºä¿æŒæ•°æ®çš„ä¸€è‡´æ€§ã€‚æ¯”å¦‚ï¼ŒAè¡¨ä¸­çš„ä¸€ä¸ªå­—æ®µï¼Œæ˜¯Bè¡¨çš„ä¸»é”®ï¼Œé‚£ä»–å°±å¯ä»¥æ˜¯Aè¡¨çš„å¤–é”®ã€‚ ä¸»é”®ã€å¤–é”®å’Œç´¢å¼•çš„åŒºåˆ«ä¸»é”®ã€å¤–é”®å’Œç´¢å¼•çš„åŒºåˆ«ï¼Ÿ èšé›†ç´¢å¼•å’Œéèšé›†ç´¢å¼•çš„åŒºåˆ«ï¼Ÿ èšé›†ç´¢å¼•ä¸€å®šæ˜¯å”¯ä¸€ç´¢å¼•ã€‚ä½†å”¯ä¸€ç´¢å¼•ä¸ä¸€å®šæ˜¯èšé›†ç´¢å¼•ã€‚ èšé›†ç´¢å¼•ï¼Œåœ¨ç´¢å¼•é¡µé‡Œç›´æ¥å­˜æ”¾æ•°æ®ï¼Œè€Œéèšé›†ç´¢å¼•åœ¨ç´¢å¼•é¡µé‡Œå­˜æ”¾çš„æ˜¯ç´¢å¼•ï¼Œè¿™äº›ç´¢å¼•æŒ‡å‘ä¸“é—¨çš„æ•°æ®é¡µçš„æ•°æ®ã€‚ Posted by é™ˆæ–Œå½¬ Aug 19th, 2015 1:34 pm net","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/tags/rorçŸ¥è¯†ç‚¹/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"tool-atom-ã€è½¬å‘ã€‘å¦‚ä½•ä¿®æ”¹Atomè‡ªå¸¦çš„å¿«æ·é”®&&ä½¿ç”¨âŒ˜+Eå¿«é€Ÿæ‰“å¼€æ–°æ–‡ä»¶~","slug":"tool-atom-ã€è½¬å‘ã€‘å¦‚ä½•ä¿®æ”¹Atomè‡ªå¸¦çš„å¿«æ·é”®&&ä½¿ç”¨âŒ˜+Eå¿«é€Ÿæ‰“å¼€æ–°æ–‡ä»¶~","date":"2017-11-14T16:10:00.000Z","updated":"2018-01-14T05:52:02.000Z","comments":true,"path":"posts/30a08ba7/","link":"","permalink":"http://yoursite.com/posts/30a08ba7/","excerpt":"","text":"åŸæ–‡byé»„é¸¿äº®ï¼šhttp://hongliang.site/2017/03/21/2017-03-21-asdf/#comments å¦‚ä½•ä¿®æ”¹Atomè‡ªå¸¦çš„å¿«æ·é”®&amp;&amp;ä½¿ç”¨âŒ˜+Eå¿«é€Ÿæ‰“å¼€æ–°æ–‡ä»¶~ å‘è¡¨äº 2017-03-21 | 0 Comments å‘ç”Ÿäº†ä»€ä¹ˆäº‹ï¼Ÿ éšæ—¶railså­¦ä¹ çš„ä¸æ–­æ·±å…¥ï¼Œæ–‡ä»¶æ•°é‡è¶Šæ¥è¶Šå¤šï¼Œè¦è°ƒå‡ºå…¶ä¸­ä¸€ä¸ªæ–‡ä»¶ï¼Œå†ç”¨ä»¥å‰çš„æ–¹æ³•ï¼šåœ¨æ ‘çŠ¶å›¾é‡Œé¢æ‰¾ï¼Œæ•ˆç‡å¤ªä½ã€‚æ‰€ä»¥ï¼Œç”¨æ¨¡ç³Šæœç´¢ä¼šå¤§å¤§åŠ é€Ÿæ–‡ä»¶å®šä½çš„é€Ÿåº¦ï¼ æ¯”å¦‚ï¼Œè¦å¿«é€Ÿåˆ‡æ¢åˆ°/app/views/admin/orders/index.html.erb, åªéœ€è¦åœ¨æ¨¡ç³Šæ¢ç´¢æ¡†å†…è¾“å…¥ ad or inå³å¯å¿«é€Ÿå®šä½åˆ°è¿™ä¸ªæ–‡ä»¶ã€‚å¦‚ä½•å¼¹å‡ºæ¨¡ç³Šæœç´¢æ¡†ï¼š atomè‡ªå¸¦çš„å¿«æ·é”®æ˜¯ï¼š âŒ˜+t ï¼Œä½†æ˜¯è¿™ä¸ªç»„åˆé”®ï¼Œå¯¹äºä½¿ç”¨windowsæœºæ¢°é”®ç›˜çš„äººæ¥è¯´ï¼Œé”®ç¨‹å¤ªè¿œï¼ŒæŒ‰èµ·æ¥å¾ˆåˆ«æ‰­ã€‚å¦‚æœèƒ½æ”¹æˆâŒ˜+eï¼Œé‚£å°±æ–¹ä¾¿å¾ˆå¤šäº†ï¼ é—®é¢˜ï¼šç”¨atomè‡ªå¸¦çš„å¢åŠ å¿«æ·é”®åŠŸèƒ½æ— æ•ˆï¼åŸå› ï¼šâŒ˜+eå·²ç»è¢«å ç”¨ã€‚äºæ˜¯ï¼Œè§£é¢˜æ€è·¯å°±æœ‰äº†å¦‚ä¸‹ï¼š æ‰¾åˆ°atomçš„ç›¸å…³çš„å…³é”®ä»£ç ï¼Œæ”¹æ‰å®ƒã€‚ æ‰¾åˆ°å¦‚ä½•è®¾ç½®ä¼˜å…ˆç­‰çº§çš„æ–¹æ³•ã€‚ ç„¶è€Œï¼Œéƒ½è¡Œä¸é€šï¼â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦/æ‚è„¸ã€‚è§£å†³è¿‡ç¨‹ï¼šä¸€é˜µgoogle+ä¸€é¡¿ç™¾åº¦ï¼Œæ²¡æœ‰æ‰¾åˆ°æ•™ç¨‹ï¼Œæœ€åè‡ªå·±å°è¯•å‡ºæ¥ã€‚æ­¤å¤„çœç•¥nä¸ªå­—ã€‚è§£å†³æ–¹æ¡ˆï¼šæ‰“å¼€è¿™ä¸ªæ–‡ä»¶ï¼šè¾“å…¥ä»¥ä¸‹ä»£ç ï¼šæ¥ï¼Œä»£ç å¦‚ä¸‹ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142å¦‚ä½•ä¿®æ”¹Atomè‡ªå¸¦çš„å¿«æ·é”®&amp;&amp;ä½¿ç”¨âŒ˜+Eå¿«é€Ÿæ‰“å¼€æ–°æ–‡ä»¶~ å‘è¡¨äº 2017-03-21 | 0 Commentså‘ç”Ÿäº†ä»€ä¹ˆäº‹ï¼Ÿéšæ—¶railså­¦ä¹ çš„ä¸æ–­æ·±å…¥ï¼Œæ–‡ä»¶æ•°é‡è¶Šæ¥è¶Šå¤šï¼Œè¦è°ƒå‡ºå…¶ä¸­ä¸€ä¸ªæ–‡ä»¶ï¼Œå†ç”¨ä»¥å‰çš„æ–¹æ³•ï¼šåœ¨æ ‘çŠ¶å›¾é‡Œé¢æ‰¾ï¼Œæ•ˆç‡å¤ªä½ã€‚æ‰€ä»¥ï¼Œç”¨æ¨¡ç³Šæœç´¢ä¼šå¤§å¤§åŠ é€Ÿæ–‡ä»¶å®šä½çš„é€Ÿåº¦ï¼æ¯”å¦‚ï¼Œè¦å¿«é€Ÿåˆ‡æ¢åˆ°/app/views/admin/orders/index.html.erb, åªéœ€è¦åœ¨æ¨¡ç³Šæ¢ç´¢æ¡†å†…è¾“å…¥ ad or inå³å¯å¿«é€Ÿå®šä½åˆ°è¿™ä¸ªæ–‡ä»¶ã€‚å¦‚ä½•å¼¹å‡ºæ¨¡ç³Šæœç´¢æ¡†ï¼šatomè‡ªå¸¦çš„å¿«æ·é”®æ˜¯ï¼š âŒ˜+t ï¼Œä½†æ˜¯è¿™ä¸ªç»„åˆé”®ï¼Œå¯¹äºä½¿ç”¨windowsæœºæ¢°é”®ç›˜çš„äººæ¥è¯´ï¼Œé”®ç¨‹å¤ªè¿œï¼ŒæŒ‰èµ·æ¥å¾ˆåˆ«æ‰­ã€‚å¦‚æœèƒ½æ”¹æˆâŒ˜+eï¼Œé‚£å°±æ–¹ä¾¿å¾ˆå¤šäº†ï¼é—®é¢˜ï¼šç”¨atomè‡ªå¸¦çš„å¢åŠ å¿«æ·é”®åŠŸèƒ½æ— æ•ˆï¼åŸå› ï¼šâŒ˜+eå·²ç»è¢«å ç”¨ã€‚äºæ˜¯ï¼Œè§£é¢˜æ€è·¯å°±æœ‰äº†å¦‚ä¸‹ï¼šæ‰¾åˆ°atomçš„ç›¸å…³çš„å…³é”®ä»£ç ï¼Œæ”¹æ‰å®ƒã€‚æ‰¾åˆ°å¦‚ä½•è®¾ç½®ä¼˜å…ˆç­‰çº§çš„æ–¹æ³•ã€‚ç„¶è€Œï¼Œéƒ½è¡Œä¸é€šï¼â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦/æ‚è„¸ã€‚è§£å†³è¿‡ç¨‹ï¼šä¸€é˜µgoogle+ä¸€é¡¿ç™¾åº¦ï¼Œæ²¡æœ‰æ‰¾åˆ°æ•™ç¨‹ï¼Œæœ€åè‡ªå·±å°è¯•å‡ºæ¥ã€‚æ­¤å¤„çœç•¥nä¸ªå­—ã€‚è§£å†³æ–¹æ¡ˆï¼šæ‰“å¼€è¿™ä¸ªæ–‡ä»¶ï¼šè¾“å…¥ä»¥ä¸‹ä»£ç ï¼šæ¥ï¼Œä»£ç å¦‚ä¸‹ï¼š12345&apos;.platform-darwin atom-text-editor&apos;: &apos;cmd-e&apos;: &apos;unset!&apos;&apos;.platform-darwin&apos;: &apos;cmd-e&apos;: &apos;fuzzy-finder:toggle-file-finder&apos;è§£è¯»ï¼šunset!å…ˆæŠŠåŸå…ˆçš„å¿«æ·é”®å–æ¶ˆæ‰ï¼Œå†åœ¨ä¸‹é¢é‡æ–°è®¾ç½®æ–°çš„ã€‚æå®šï¼å†™åœ¨åé¢ï¼šå¦‚æœä½ æœ‰æ›´å¥½çš„è§£å†³æ–¹æ³•ï¼Œè¯·ç•™è¨€å‘Šè¯‰æˆ‘â€¦â€¦~å¦å¤–ä¸€ç¯‡å…³äºä¿®æ”¹å¿«æ·é”®çš„blog:æ‰“codeæ—¶å¦‚ä½•å‡å°‘æ‰‹åŠ¨æŒªå…‰æ ‡çš„æ¬¡æ•°&amp;&amp;emmetå¢åŠ è‡ªå®šä¹‰ç‰‡æ®µçš„æ–¹æ³•ã€‚2017-3-21 å­¦ä¹ è®°å½•ORID2017-3-22 é‡åˆ°ä¸€ä¸ªå‘ï¼Œè®°å½• è§£è¯»ï¼šunset!å…ˆæŠŠåŸå…ˆçš„å¿«æ·é”®å–æ¶ˆæ‰ï¼Œå†åœ¨ä¸‹é¢é‡æ–°è®¾ç½®æ–°çš„ã€‚ æå®šï¼å†™åœ¨åé¢ï¼šå¦‚æœä½ æœ‰æ›´å¥½çš„è§£å†³æ–¹æ³•ï¼Œè¯·ç•™è¨€å‘Šè¯‰æˆ‘â€¦â€¦~å¦å¤–ä¸€ç¯‡å…³äºä¿®æ”¹å¿«æ·é”®çš„blog:æ‰“codeæ—¶å¦‚ä½•å‡å°‘æ‰‹åŠ¨æŒªå…‰æ ‡çš„æ¬¡æ•°&amp;&amp;emmetå¢åŠ è‡ªå®šä¹‰ç‰‡æ®µçš„æ–¹æ³•ã€‚ **2017-3-21 å­¦ä¹ è®°å½•ORID 2017-3-22 é‡åˆ°ä¸€ä¸ªå‘ï¼Œè®°å½•**","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/å·¥å…·/"},{"name":"atom","slug":"atom","permalink":"http://yoursite.com/tags/atom/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}]},{"title":"ror-system-å¸¸ç”¨gem","slug":"ror-system-å¸¸ç”¨gem","date":"2017-11-14T16:10:00.000Z","updated":"2018-01-14T05:56:58.000Z","comments":true,"path":"posts/8e9b1ad8/","link":"","permalink":"http://yoursite.com/posts/8e9b1ad8/","excerpt":"","text":"1ã€gem â€˜awesome_rails_consoleâ€™ Rails c çš„ä»£ç å¾ˆä¹±ï¼Œå¯ä»¥é‡æ–°æ’ç‰ˆ 2ã€gem â€˜annotateâ€™ ä¼šåœ¨æ¯ä¸ªæ¨¡å‹æ–‡ä»¶çš„é¡¶éƒ¨è‡ªåŠ¨æ·»åŠ å’Œæ›´æ–°æ³¨é‡Šï¼Œè¿™äº›æ³¨é‡Šæ˜¯å¯¹å½“å‰æ•°æ®åº“æ¨¡å¼çš„æ¦‚è¿°ã€‚ 3ã€ç½‘ç«™å®‰å…¨ gem â€˜rack-attackâ€™ å¯ä»¥è®¾å®šå½“ç‰¹å®š IP ä½å€å°±æŸä¸€æ®µæ—¶é—´å†…å­˜å–å¤ªå¤šæ¬¡çš„è¯ï¼Œè‡ªåŠ¨è¿›è¡Œå°é”ã€‚ 12config/application.rb+ config.middleware.use Rack::Attack 123456789101112131415161718192021222324252627282930313233343536 config/initializers/rack-attack.rbclass Rack::Attack throttle(&apos;req/ip&apos;, :limit =&gt; 180, :period =&gt; 1.minutes) do |req| req.ip end ### Prevent Brute-Force Login Attacks ### # The most common brute-force login attack is a brute-force password # attack where an attacker simply tries a large number of emails and # passwords to see if any credentials match. # # Another common method of attack is to use a swarm of computers with # different IPs to try brute-forcing a password for a specific account. # Throttle POST requests to /login by IP address # # Key: &quot;rack::attack:#&#123;Time.now.to_i/:period&#125;:logins/ip:#&#123;req.ip&#125;&quot; throttle(&apos;logins/ip&apos;, :limit =&gt; 5, :period =&gt; 20.seconds) do |req| if req.path == &apos;/users/sign_in&apos; &amp;&amp; req.post? req.ip end end # Throttle POST requests to /login by email param # # Key: &quot;rack::attack:#&#123;Time.now.to_i/:period&#125;:logins/email:#&#123;req.email&#125;&quot; # # Note: This creates a problem where a malicious user could intentionally # throttle logins for another user and force their login requests to be # denied, but that&apos;s not very common and shouldn&apos;t happen to you. (Knock # on wood!) throttle(&quot;logins/email&quot;, :limit =&gt; 5, :period =&gt; 20.seconds) do |req| if req.path == &apos;/users/sign_in&apos; &amp;&amp; req.post? # return the email if present, nil otherwise req.params[&apos;email&apos;].presence end endend é‡å¯æœåŠ¡å™¨ã€‚ä»¥ä¸Šè®¾å®šåŒ…æ‹¬ï¼š 1ã€ä¸€åˆ†é’Ÿå†…ï¼Œä¸€ä¸ª IP ä½å€åªèƒ½å­˜å– 180 æ¬¡ 2ã€é’ˆå¯¹ /users/sign_in è¿™ä¸ªç™»å…¥ç½‘å€ï¼Œ20 ç§’å†…åªèƒ½å°è¯•ç™»å…¥ 5 æ¬¡ 3ã€é’ˆå¯¹ /users/sign_in è¿™ä¸ªç½‘å€ï¼ŒåŒä¸€ email åœ¨ 20 ç§’å†…åªèƒ½å°è¯•ç™»å…¥ 5 æ¬¡ â€‹ 4ã€ç½‘ç«™å®‰å…¨ gem â€˜brakemanâ€™ brakeman æ˜¯ä¸€ä¸ª Rails çš„å·¥å…·å¯ä»¥åˆ†æä»£ç ï¼Œæ‰¾å‡ºå¯èƒ½æœ‰æ¼æ´çš„åœ°æ–¹ã€‚ æ‰§è¡Œ brakemanï¼Œå°±ä¼šåˆ†æä½ çš„ä»£ç ï¼Œåˆ—å‡ºâ€å¯èƒ½â€æœ‰æ¼æ´çš„åœ°æ–¹ï¼šbrakeman æŠ¥è¡¨ç»“æœä»…ä¾›å‚è€ƒï¼Œä¸è¡¨ç¤ºå¿…ç„¶æœ‰æ¼æ´ã€‚éœ€è¦ä¸€æ¡ä¸€æ¡å®é™…æ£€æŸ¥çœ‹çœ‹ã€‚ 5ã€ç½‘ç«™å®‰å…¨ gem â€˜bundler-auditâ€™ å®‰è£… gem &#39;bundler-audit&#39; æ£€æµ‹å¥—ä»¶ï¼Œæ‰§è¡Œ bundle-auditæ£€æŸ¥å·²è£…gemæ˜¯å¦æœ‰å®‰å…¨æ¼æ´éœ€è¦å‡çº§ã€‚bundle update å¥—ä»¶åç§° å°±å¯ä»¥è¿›è¡Œå‡çº§ã€‚ 6ã€gem â€˜bootstrap-sassâ€™ 7ã€gem â€˜deviseâ€™ 8ã€gem â€˜simple_formâ€™ 9ã€gem â€˜font-awesome-railsâ€™ gem â€˜carrierwaveâ€™gem â€˜mini_magickâ€™ gem â€˜letter_openerâ€™, group: :development gem â€˜aasmâ€™","categories":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}],"tags":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/tags/rorç³»ç»Ÿ/"},{"name":"å¸¸ç”¨","slug":"å¸¸ç”¨","permalink":"http://yoursite.com/tags/å¸¸ç”¨/"}],"keywords":[{"name":"rorç³»ç»Ÿ","slug":"rorç³»ç»Ÿ","permalink":"http://yoursite.com/categories/rorç³»ç»Ÿ/"}]},{"title":"tool-atom-ã€è½¬å‘ã€‘æ‰“codeæ—¶å¦‚ä½•å‡å°‘æ‰‹åŠ¨æŒªå…‰æ ‡çš„æ¬¡æ•°","slug":"tool-atom-ã€è½¬å‘ã€‘æ‰“codeæ—¶å¦‚ä½•å‡å°‘æ‰‹åŠ¨æŒªå…‰æ ‡çš„æ¬¡æ•°","date":"2017-11-14T16:10:00.000Z","updated":"2018-01-14T05:52:02.000Z","comments":true,"path":"posts/5974411c/","link":"","permalink":"http://yoursite.com/posts/5974411c/","excerpt":"","text":"åŸæ–‡byé»„é¸¿äº®ï¼šhttp://hongliang.site/2017/03/10/2017-03-10-how-to-add-your-own-custom-code-snippets-to-emmet-snippets/ å‡ ä¸ªå·¥å…·byé»„é¸¿äº®ï¼šhttp://activeliang-blog.logdown.com/posts/1433420-guangzhou-2017-2-19-offline-meetup-extracted-records atomæ‰“codeæ—¶å¦‚ä½•å‡å°‘æ‰‹åŠ¨æŒªå…‰æ ‡çš„æ¬¡æ•°&amp;&amp;emmetå¢åŠ è‡ªå®šä¹‰ç‰‡æ®µçš„æ–¹æ³•ã€‚ å‘è¡¨äº 2017-03-10 | åˆ†ç±»äº mac | ** 0 Comments å†™åœ¨å‰é¢ï¼šï¼ˆå¯ä»¥ç›´æ¥çœ‹æ–‡æœªçš„æ–¹æ³•ï¼‰webç¨‹åºå‘˜åº”è¯¥éƒ½çŸ¥é“emmetæœ‰å¤šå¥½ç”¨ã€‚æ‰“codeå¦‚é£ï¼Œä¸çŸ¥é“çš„åªå¯ä»¥å»çœ‹çœ‹æˆ‘çš„å¦ä¸€ç¯‡æœ‰emmetç›¸å…³ä»‹ç»çš„æ–‡æ¡£ï¼šæ–‡æ¡£é“¾æ¥ï¼ˆçœ‹ç¬¬ä¸‰å¼ å›¾ä½ å°±æ˜ç™½äº†ï¼‰ .åœ¨ä½¿ç”¨ä¸€æ®µæ—¶é—´åå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œè¯¸å¦‚ï¼š&lt;%%&gt;ï¼Œæ²¡æœ‰å¿«æ·çš„è¾“å…¥æ–¹æ³•ï¼Œè¿™å¯¹ç¬¦å·ï¼Œæˆ‘ç»†æ•°äº†ä¸€ä¸‹ï¼Œåœ¨å…ˆæ‰“å¤´è·Ÿå°¾å†æŠŠå…‰æ ‡ç§»åŠ¨å›ä¸­é—´çš„æƒ…å†µä¸‹è¦æ•²9ä¸ªé”®ã€‚ç›¸ä¿¡å­¦ruby-on-rialsçš„äººéƒ½çŸ¥é“ï¼Œè¿™ä¸ªç¬¦å·æ˜¯ç»å¸¸è¦ä½œç”¨çš„ï¼æ‰€ä»¥æˆ‘åœ¨æƒ³èƒ½å¦æœ‰å¿«æ·çš„è¾“å…¥ï¼Œæ¯”å¦‚èƒ½ï¼šè¾“å…¥%+tabé”®è‡ªåŠ¨è¡¥å…¨è¿™å¯¹ç¬¦å·ï¼Œå¹¶æŠŠå…‰æ ‡åœç•™åœ¨ä¸­wé—´ï¼Œé‚£å°±å¤ªå®Œç¾äº†ï¼äºæ˜¯æˆ‘å¼€å§‹å¯»æ‰¾ç­”æ¡ˆâ€¦â€¦ é…ç½®atom: åœ¨atomå†…å»ºçš„å¢åŠ snippetsçš„æ–¹æ³•æ¥å®ç°ï¼Œäº²æµ‹æœ‰æ•ˆï¼Œæ–¹æ³•å¦‚ä¸‹ï¼šï¼ˆä½†ï¼šæ‰“å¼€emmetåä¼šè¢«è¦†ç›–ã€‚ï¼‰æ³¨æ„ï¼šä¸å¼€emmetçš„æ—¶å€™å®Œç¾ä½¿ç”¨ï¼Œå¼€äº†emmetåè¿™ä¸ªæ–¹æ³•æ— æ•ˆï¼Œä¼šè¡¥emmetåŸç”Ÿé»˜è®¤çš„å®šä¹‰ç»™è¦†ç›–æ‰ã€‚ ç„¶åï¼Œæˆ‘åˆå¼€å§‹æ‰¾è§£å†³è¿™ç§å†²çªçš„æ–¹æ³•ï¼Œæœ€åæˆ‘å‘ç°ï¼Œæœ€ç›´æ¥çš„æ–¹æ³•å°±æ˜¯ç›´æ¥åœ¨emmetä¸Šå¢åŠ snippets. è‹¦é€¼çš„è§£å†³é—®é¢˜ä¹‹è·¯ï¼š googleäº†ä¸€åœˆå‘ç°å…¨ç½‘ç«Ÿç„¶æ²¡æœ‰ä¸€ç¯‡å¯è¡Œçš„ç¡®å®šçš„æ•™ç¨‹ï¼Œæœ€okçš„æ•™ç¨‹ä¹Ÿåªæ˜¯è·Ÿä½ è¯´æœ‰è¿™ä¹ˆä¸€ä¸ªæ–¹æ³•å¯ä»¥å¢åŠ snippetsæ¥å®ç°ï¼Œä½†æ˜¯æ²¡æœ‰ç»™å‡ºå…·ä½“æ–¹æ³•ã€‚åªæ˜¯ç»™äº†å®˜æ–¹æ–‡æ¡£çš„é“¾æ¥ã€‚ å®˜æ–¹æ–‡æ¡£åªæ˜¯è·Ÿä½ è¯´äº†ä¸€å †æ‚ä¸ƒæ‚å…«çš„ä¸œè¥¿ï¼Œç„¶åå…³äºæ€ä¹ˆé…ç½®ï¼Œä¸€ç‚¹å„¿ä¹Ÿæ²¡æœ‰è¯´ã€‚åªæ˜¯è¯´è¿™ä¸ªä¸œè¥¿éœ€è¦è‡ªå·±æ¥åˆ›å»ºã€‚åæ¥ç®—æ˜¯æ‰¾åˆ°äº†ä¸€ä¸ªæ–‡ä»¶ï¼Œä½†ä½œè€…æä¾›çš„è·¯å¾„æˆ‘ä»¬æ ¹æœ¬æ‰¾ä¸åˆ°ï¼Œï¼ˆæœ‰å¯èƒ½æ˜¯sublimeçš„ï¼Œä½†æ˜¯æˆ‘ä»¬ç”¨çš„æ˜¯atomï¼‰è‡ªå·±åˆ›å»ºä¸€ä¸ªæ–‡ä»¶åŠ  è·¯å¾„åï¼Œæ— æ•ˆï¼ ç½‘ä¸Šå…³äºè¿™ä¸ªçš„99.9%çš„æ•™ç¨‹éƒ½ä¸æ˜¯macä¸‹çš„atomä¸‹çš„emmetã€‚å¤§å¤šä¸é€‚ç”¨ã€‚ èƒ½è¯•çš„éƒ½è¯•è¿‡äº†ï¼Œç”šè‡³è¿ä¸‹æ–¹ä¸­çš„æ­£ç¡®æ–¹æ³•éƒ½è¯•è¿‡äº†ï¼Œä½†æ˜¯å½“æ—¶ç«Ÿç„¶æ²¡æœ‰æˆåŠŸï¼Œç°åœ¨å†™è¿™ä¸ªæ•™ç¨‹çš„æ—¶å€™è¿˜åœ¨æ— é™çº³é—·â€¦â€¦ å°±è¿™æ ·ä¸€ç›´åœ¨ç½‘ç»œä¸Šæ¸¸è¡â€¦â€¦å°±åƒè­¦å¯ŸæŠ“å°å·ä¸€æ ·ï¼Œæ˜æ˜æœ‰ä¸€ç‚¹çº¿ç´¢äº†ä½†å°±æ˜¯æ‰¾ä¸åˆ°ä¸€ä¸ªå®Œæ•´çš„å¯è¡Œçš„æ–¹æ³•ï¼è¯•å¤šäº†ï¼Œé”™å¤šäº†ï¼Œæ—¶é—´ä¹ŸæŠ˜è…¾å¤šäº†ï¼Œå°±å´©æºƒäº†ï¼Œæ˜¯çš„ï¼Œæˆ‘å´©æºƒäº†ï¼Œé‚£ä¸€åˆ»æˆ‘å¤šä¹ˆæƒ³ï¼Œä¸è¦å†ä¸ºè¿™ä¸ªæµªè´¹æ—¶é—´äº†ï¼Œäº‹å®ä¸Šæˆ‘å·²ç»ç–¯ç‹‚åœ°è¿½è¸ªäº†åä¸ªå°æ—¶äº†ï¼çœŸæƒ³æ‰¾ä¸ªäººè¿‡æ¥ï¼Œç»™ä»–ç‚¹é’±ï¼Œå¸®æˆ‘åšå‡ºæ¥ï¼Œå¯ä»¥æœ‰é’±ä¹Ÿæ²¡æœ‰ç”¨å•Šï¼Œå»å“ªé‡Œæ‰¾ï¼Ÿï¼Ÿ æœ€åï¼Œ æˆ‘ç”¨googleç¿»è¯‘ï¼Œå‘é‚®ä»¶ç»™emmetåŸä½œè€…ï¼Œæ²¡æƒ³åˆ°ä»–å›å¤äº†ï¼Œç»™äº†ä¸€äº›æç¤ºï¼Œæˆ‘æŠ¥ç€è¯•ä¸€è¯•çš„æ€åº¦ï¼Œç«Ÿç„¶æˆåŠŸäº†ï¼ è¿™ä¸ªæ–¹æ³•æ¥å¾—å¤ªä¸å®¹æ˜“äº†â€¦â€¦ï¼æ–¹æ³•å¦‚ä¸‹ï¼š æ‰“å¼€preferences,å¿«æ·é”®ï¼šâŒ˜+,ç‚¹å‡»è¿›å…¥emmet,ä»£ç åœ¨è¿™é‡Œï¼Œè¯·è·Ÿç€å¤åˆ¶ç²˜è´´ï¼š 1&quot;%&quot;: &quot;&lt;%| %&gt;&quot;, ok!ä¿å­˜ï¼Œé‡å¯atom,å®ç°ä½ çš„æ‰“codeå¦‚é£å§ï¼ æ³¨æ„ï¼šæ­¤åŠŸèƒ½åªåœ¨htmlæ–‡ä»¶é‡Œæœ‰æ•ˆï¼Œä¹Ÿåªæœ‰htmlé‡Œéœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼ æ³¨æ„ï¼šæ­¤åŠŸèƒ½åªåœ¨htmlæ–‡ä»¶é‡Œæœ‰æ•ˆï¼Œä¹Ÿåªæœ‰htmlé‡Œéœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼ æ³¨æ„ï¼šæ­¤åŠŸèƒ½åªåœ¨htmlæ–‡ä»¶é‡Œæœ‰æ•ˆï¼Œä¹Ÿåªæœ‰htmlé‡Œéœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼ æ³¨æ„ï¼šæ­¤åŠŸèƒ½åªåœ¨htmlæ–‡ä»¶é‡Œæœ‰æ•ˆï¼Œä¹Ÿåªæœ‰htmlé‡Œéœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼ æ³¨æ„ï¼šæ­¤åŠŸèƒ½åªåœ¨htmlæ–‡ä»¶é‡Œæœ‰æ•ˆï¼Œä¹Ÿåªæœ‰htmlé‡Œéœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼ æ¼”ç¤ºï¼šå±•å¼€åå…‰æ ‡ä¼šåœç•™åœ¨ä¸­é—´â€¦â€¦ å†è¡¥å……å‡ ç‚¹ï¼šåŸºæœ¬å°±ä¸ç”¨æ€ä¹ˆæ‰‹åŠ¨æŒªå…‰æ ‡äº†â€¦â€¦ï¼ˆåŸºæœ¬å°±å¯ä»¥å¾ˆå°‘å»æŒªåŠ¨å…‰æ ‡äº†ï¼‰ ç”¨ä¸Šé¢çš„æ–¹æ³•ï¼Œå†å¢åŠ ä¸€ä¸ªæˆ‘ä»¬å­¦RORç»å¸¸ç”¨çš„ç‰‡æ®µï¼š&quot;a&quot;: &quot;&lt;a href=\\&quot;|\\&quot; &gt;&lt;/a&gt;&quot;,(è¯·ç”¨å¤åˆ¶ç²˜è´´)ï¼Œè¿™ä¸€æ¬¡æ”¾åœ¨ä½ç½®ä¸ä¸€æ ·ï¼š æ’ä»¶emmetå’Œç¼–è¾‘å™¨atomå‡å†…ç½®æ³¨é‡ŠåŠŸèƒ½ï¼Œå¿«æ·é”®å‡ä¸ºâŒ˜+/ï¼Œé€šå¸¸emmetä¼šè¦†ç›–æ‰atomã€‚ä½†atomçš„æ›´å¥½ç”¨ç‚¹ï¼Œæˆ‘ä»¬ä¸ºäº†æƒ³è®©atomæ¥æ³¨é‡Šï¼Œéœ€è¦è¿™æ ·åšï¼šæŠŠemmetçš„æ³¨é‡ŠåŠŸèƒ½æ”¹æ‰ã€‚ æ‰“å¼€è¿™ä¸ªæ–‡ä»¶ï¼š æŒ‰å¿«æ·é”®âŒ˜+â‡ª+fï¼Œè¾“å…¥emmet:toggle-commentè¿›è¡Œæœç´¢ã€‚å¾—åˆ°å¦‚å›¾ï¼šåŒå‡»æ‰“å¼€è¿™ä¸ªæ–‡ä»¶ã€‚æŠŠcmd-/æ”¹æ‰ï¼Œå¯ä»¥å‚è€ƒæ”¹æˆcmd-0,æˆ–è€…æ”¹æˆå…¶ä»–æ²¡æœ‰ç»å¸¸ç”¨çš„å¿«æ·é”®ç›˜ä¹Ÿè¡Œã€‚ ä¿®æ”¹å¿«é€Ÿæ‰“å¼€æ–°æ–‡ä»¶çš„å¿«æ·é”®ç›˜ï¼šå‚è€ƒè¿™ç¯‡blog:å¦‚ä½•ä¿®æ”¹Atomè‡ªå¸¦çš„å¿«æ·é”®&amp;&amp;ä½¿ç”¨âŒ˜+Eå¿«é€Ÿæ‰“å¼€æ–°æ–‡ä»¶~ å¤šç”¨âŒ˜+return,ä½œç”¨ï¼šæ— è®ºä½ çš„å…‰æ ‡åœ¨ä»€ä¹ˆä½ç½®ï¼Œå¿«é€Ÿåœ¨ä¸‹é¢åˆ‡å…¥æ–°çš„ä¸€è¡Œã€‚ å¤šç”¨âŒ˜+shift+return,ä½œç”¨ï¼šæ— è®ºå…‰æ ‡ä½ç½®ï¼Œå¿«é€Ÿåœ¨ä¸Šæ–¹åˆ‡å…¥æ–°çš„ä¸€è¡Œã€‚ å¤šæŒæ¡ä¸€äº›emmetçš„å†…å»ºåŠŸèƒ½ï¼šæ¯”å¦‚ï¼š(è¯•ç€è‡ªå·±æ“ä½œæ„Ÿå—ä¸‹ï¼Œè¯·ç”¨å¤åˆ¶ç²˜è´´çš„ï¼Œè¾“å®ŒæŒ‰tabé”®ï¼Œçœ‹çœ‹å±•å¼€çš„ç»“æœã€‚) a.dropdown.dropdown-toggle[data-toggle=&quot;dropdown&quot;]#my.dropdown .container&gt;tbody&gt;thead&gt;tr&gt;td*5 æ›´å¤šè¯·çœ‹çœ‹è¿™ä¸ªå›¾è¡¨ï¼šhttps://docs.emmet.io/cheat-sheet/ å†™åœ¨åé¢ï¼š åŠ©æ•™å’Œè€å¸ˆéƒ½ä¸èµæˆæ–°æ‰‹ç”¨è¿™ç§å·æ‡’çš„æ–¹å¼ï¼Œæ–°æ‰‹è¯·ä¸€ä¸ªå­—ä¸€ä¸ªå­—çš„æ‰“ã€‚æç¬‘æ¥è€å¸ˆç”šè‡³ä¸å¤ªèµæˆæ–°æ‰‹ç”¨atom,sublimeè¿™ç§é«˜çº§çš„ç¼–è¾‘å™¨ï¼ ä½ ä¹Ÿå¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•å¢åŠ ä½ è‡ªå·±ä»£ç æ®µï¼ ç±»ä¼¼çš„ç®€å•ç²—æš´å°æ•™ç¨‹ï¼š åˆ©ç”¨Herokuæ­å»ºè‡ªå·±çš„æ¢¯å­ï¼Œ3æ­¥å®ç°å…è´¹ç§‘å­¦ä¸Šç½‘ã€‚ macä¸Šä¸€é”®ç¦»çº¿æ•´ä¸ªç½‘ç«™çš„æ–¹æ³•ï¼ˆä»¥ä¾¿æ–­ç½‘æµè§ˆï¼‰ Macä¸Šé«˜é€Ÿä¸‹è½½ç™¾åº¦ç½‘ç›˜èµ„æºçš„æ–¹æ³•ï¼ˆ2æ­¥ï¼‰ æ‰“codeæ—¶å¦‚ä½•å‡å°‘æ‰‹åŠ¨æŒªå…‰æ ‡çš„æ¬¡æ•°&amp;&amp;emmetå¢åŠ è‡ªå®šä¹‰ç‰‡æ®µçš„æ–¹æ³•ã€‚ å¦‚ä½•ä¿®æ”¹Atomè‡ªå¸¦çš„å¿«æ·é”®&amp;&amp;ä½¿ç”¨âŒ˜+Eå¿«é€Ÿæ‰“å¼€æ–°æ–‡ä»¶~ æœ¬æ–‡æœ‰å¸®ä½ èŠ‚çº¦åˆ°æ—¶é—´å—ï¼Ÿèµå‡ ä¸ªé’¢è¹¦ç©ç©~ğŸ˜„ **å…¨æ ˆè¥60å¤©ç›˜ç‚¹ å¦‚ä½•å¿«é€Ÿåœ¨erbä¸­è¾“å…¥&lt;%%&gt;é¡ºä¾¿æŠŠå…‰æ ‡åœç•™åœ¨ä¸­é—´**","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/å·¥å…·/"},{"name":"atom","slug":"atom","permalink":"http://yoursite.com/tags/atom/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}]},{"title":"tool-vps-vpn-ã€è½¬å‘ã€‘åˆ©ç”¨Herokuæ­å»ºè‡ªå·±çš„æ¢¯å­ï¼Œ3æ­¥å®ç°å…è´¹ç§‘å­¦ä¸Šç½‘ã€‚","slug":"tool-vps-vpn-ã€è½¬å‘ã€‘åˆ©ç”¨Herokuæ­å»ºè‡ªå·±çš„æ¢¯å­ï¼Œ3æ­¥å®ç°å…è´¹ç§‘å­¦ä¸Šç½‘ã€‚","date":"2017-11-14T16:10:00.000Z","updated":"2018-01-14T05:52:02.000Z","comments":true,"path":"posts/715513d9/","link":"","permalink":"http://yoursite.com/posts/715513d9/","excerpt":"","text":"åŸæ–‡byé»„é¸¿äº®ï¼šhttp://hongliang.site/2017/10/20/%E5%88%A9%E7%94%A8Heroku%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%A2%AF%E5%AD%90%EF%BC%8C3%E6%AD%A5%E5%AE%9E%E7%8E%B0%E5%85%8D%E8%B4%B9%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E3%80%82/ åˆ©ç”¨Herokuæ­å»ºè‡ªå·±çš„æ¢¯å­ï¼Œ3æ­¥å®ç°å…è´¹ç§‘å­¦ä¸Šç½‘ã€‚123kill -9 $(lsof -i tcp:1080 -t) #å ç”¨1080ç«¯å£çš„ç¨‹åºä¼šè¢«å¹²æ‰ï¼cd ~/shadowsocks-over-websocketnode local.js -s vpn999.herokuapp.com -l 1080 -m aes-256-cfb -k Qq112233 -p 80 å‘è¡¨äº 2017-10-20 | åˆ†ç±»äº mac | ** 0 Comments ç½‘é€Ÿå¦‚ä½•ï¼Ÿè¯·çœ‹å›¾ï¼ç®€å•ç²—æš´çš„å°æ•™ç¨‹å¼€å§‹ï¼š ä¸‹è½½é¡¹ç›®å¹¶éƒ¨ç½²ï¼Œæ‰“å¼€ç»ˆç«¯æœºï¼Œæ‰§è¡ŒæŒ‡ä»¤ï¼š ç™»å½•Herokuåˆ appéœ€è¦ç­‰å¾ˆä¹…ï¼Ÿæ€ä¹ˆåˆ appæœ€å¿«æ·ï¼Ÿè¿™æ ·åšï¼š 123&gt; $ heroku apps #åˆ—å‡ºæ‚¨æ‰€æœ‰çš„app&gt; $ heroku apps:destroy appname --confirm appname #ä¸¤å¤„appnameè‡ªè¡Œæ›¿æ¢æˆæ‚¨æƒ³åˆ çš„appåï¼Œå®Œæˆã€‚&gt; 1234$ git clone git@github.com:activeliang/shadowsocks-over-websocket.git$ cd shadowsocks-over-websocket$ heroku create$ git push heroku master (æ³¨æ„ï¼šæŒ‡ä»¤å‰çš„å­—ç¬¦$ä»£è¡¨è¿™æ˜¯ä¸€æ¡æŒ‡ä»¤ï¼Œè¯·ä¸è¦è·Ÿç€å¤åˆ¶) è®¾ç½®å¯†ç å¹¶å¯åŠ¨ï¼š ï¼ˆè¯·è‡ªè¡Œæ›¿ä»£æŒ‡ä»¤ä¸­çš„ä¸­æ–‡æç¤ºï¼‰!!! 1234$ heroku config:set METHOD=aes-256-cfb PASSWORD=è®¾ç½®å¯†ç  SERVER_ADDRESS=0.0.0.0$ brew install node #è¿™ä¸€æ­¥æ˜¯å®‰è£…nodejsï¼Œå·²å®‰è£…å¯è·³è¿‡ã€‚å¦‚é‡é”™ï¼Œè¯·çœ‹ä¸‹æ–‡æç¤ºã€‚$ npm install$ node local.js -s ç¬¬ä¸€æ­¥ä¸­ç”Ÿæˆçš„Herokuappåç§°.herokuapp.com -l 1080 -m aes-256-cfb -k è®¾ç½®çš„å¯†ç  -p 80 å®‰è£…nodejsé‡é”™ï¼Œæ€ä¹ˆåŠï¼Ÿç›´æ¥å»å®˜ç½‘ä¸‹è½½å®‰è£…åŒ… ä¸‹è½½å®‰è£…å®¢æˆ·ç«¯å¹¶é…ç½® ç‚¹å‡»ä¸‹è½½ æ‰“å¼€è½¯ä»¶ï¼Œé…ç½®å¯†ç ï¼ˆå‰é¢è®¾ç½®çš„å¯†ç ï¼‰ è¿›å…¥å®¢æˆ·ç«¯ Shadowsocks çš„ åå¥½è®¾ç½®ï¼š å®Œæˆï¼Œæµ‹è¯•ï¼š æ‰“å¼€http://ip111.cn/ï¼Œå¦‚æœè°·æ­Œç½‘ç«™é‚£ä¸€è¡Œæœ‰å‡ºç°ipåœ°å€ï¼Œè¯´æ˜ç§‘å­¦ä¸Šç½‘æˆåŠŸã€‚ æ‰“å¼€www.google.comè¯•è¯•å§ã€‚ æå®šã€‚å¯ä»¥è‡ªç”±ä¸Šç½‘äº†~ æˆåŠŸååˆ·æ–°æœ¬æ•™ç¨‹ï¼Œä½ ä¼šå‘ç°åº•éƒ¨æœ‰ä¸ªç•™è¨€æ¿ï¼Œæ¬¢è¿ç•™ä¸‹æ‚¨çš„è¶³è¿¹~ æ— æ³•ä¸Šç½‘ï¼Ÿè‡ªè¡Œæ’æŸ¥â€¦ (é‡é”™è§£å†³åï¼Œè¯·åº•éƒ¨ç•™è¨€åé¦ˆ~ï¼‰ ä¸€åˆ‡æ­£å¸¸ï¼Œæ‰“å¼€ Google æ—¶ï¼Œç»ˆç«¯æœºæ— logç”Ÿæˆï¼Œè¿æ¥å¤±è´¥ã€‚ åŸå› ï¼šè¯·æ±‚æ²¡æœ‰è¢«æ‰¶ä¸Šæ¢¯å­ã€‚ è§£æ³•ï¼šShadowsockså®¢æˆ·ç«¯ åˆ‡æ¢ å…¨å±€æ¨¡å¼ã€‚å†ä¸è¡Œçš„è¯ï¼Œå†™è¿›å…¥ è¿™ç¯‡æ•™ç¨‹ å°è¯•Chromeæ’ä»¶ã€‚ æœ€åï¼šæˆåŠŸè¿æ¥åï¼Œå»ºè®®å…³é—­Chromeæ’ä»¶ï¼ŒShadowsocksåˆ‡æ¢å›PACæ¨¡å¼ã€‚ æ„Ÿè°¢å‰äººé“ºå¥½äº†è·¯ï¼šç›¸å…³æ•™ç¨‹ è¿›é˜¶æ•™ç¨‹ï¼š ä¸‹æ¬¡å¦‚ä½•å¯ç”¨ï¼Ÿ å¼€å¯ç»ˆç«¯ service ï¼Œæ‰§è¡Œä»¥ä¸‹ä»£ç ï¼š 12cd ~/shadowsocks-over-websocketnode local.js -s æ‚¨çš„herokuappåç§°.herokuapp.com -l 1080 -m aes-256-cfb -k æ‚¨çš„å¯†ç  -p 80 å¼€å¯Shadowsocks ã€‚ ç§‘å­¦ä¸Šç½‘æœŸé—´ï¼Œç»ˆç«¯å¼€å¯çš„serviceä¸è¦å…³é—­ï¼ˆcontrol + cå¯ä»¥å…³é—­serviceï¼‰ã€‚ é‡åˆ°å¯ç”¨service å¤±è´¥ï¼Œæç¤ºç«¯å£å·²å ç”¨ï¼Ÿå…ˆæ‰§è¡Œï¼š 12&gt; $ kill -9 $(lsof -i tcp:1080 -t) #å ç”¨1080ç«¯å£çš„ç¨‹åºä¼šè¢«å¹²æ‰ï¼&gt; å¦‚ä½•åœä¸‹æ¥ï¼Ÿå…³é—­ç»ˆç«¯serviceæˆ–Shadowsocksã€‚ é‡è¦æç¤ºï¼š å¦‚æœé‡åˆ°ï¼šæ‰“å¼€æŸä¸ªé“¾æ¥ï¼Œå¾ˆæ…¢ï¼Œæ€ä¹ˆåŠï¼Ÿ åŸå› ï¼šæ­¤è¯·æ±‚ä¸­æœ‰é“¾æ¥è¢«å¢™ã€‚è€Œè¿™ä¸ªé“¾æ¥æ²¡è¢«æ‰¶ä¸Šæ¢¯å­~ å®¢æˆ·ç«¯é‡Œæœ‰ä¸‰ç§æ¨¡å¼ï¼š PACè‡ªåŠ¨æ¨¡å¼ï¼ˆè‡ªåŠ¨è¯†åˆ«,åªæŠŠè¢«å¢™çš„é“¾æ¥æ‰¶ä¸Šæ¢¯å­ï¼è¿™ä¸ªå¥½ã€‚ï¼‰åˆ—è¡¨å¯ä»¥å‰è¡Œåå¥½è®¾ç½® &gt; å¸¸è§„ &gt; GFW List URL ä¸­æŸ¥çœ‹æ‰€æœ‰è¢«å¢™çš„é“¾æ¥ã€‚ å…¨å±€æ¨¡å¼ ï¼ˆæ‰€æœ‰é“¾æ¥æ‰¶ä¸Šæ¢¯å­ï¼‰ æ‰‹åŠ¨æ¨¡å¼ ï¼ˆè‡ªå®šä¹‰çš„æ‰¶å¢™åå•ï¼šPACç”¨æˆ·è‡ªå®šè§„åˆ™â€¦ï¼‰ è§£æ³•ï¼šï¼ˆäºŒé€‰ä¸€ï¼‰ å°†é“¾æ¥æ‰‹åŠ¨å¢åŠ åˆ° ç¼–è¾‘PACç”¨æˆ·è‡ªå®šè§„åˆ™ (æ‰¶å¢™åå•) ä¸­ ï¼ˆä¼˜å…ˆï¼‰ å¼€å¯å…¨å±€æ¨¡å¼ å¦‚ä½•åšå¾—æ›´å¥½ï¼š å¼€æœºå…¨è‡ªåŠ¨å¯ç”¨æ¢¯å­ï¼ˆå†™ä¸ªè„šæœ¬ï¼‰ï¼Œè¿™æ ·åšï¼š æ–°å»ºä¸€ä¸ªè„šæœ¬ï¼š 12$ touch ~/å¼€æœºè‡ªå¯herokuæ¢¯å­è„šæœ¬.sh$ chmod +x ~/å¼€æœºè‡ªå¯herokuæ¢¯å­è„šæœ¬.sh #æ­¤ä¸¾è¿›è¡Œå¼•ç”¨ å¡«å…¥ï¼š 12cd ~/shadowsocks-over-websocketnode local.js -s æ‚¨çš„herokuappåç§°.herokuapp.com -l 1080 -m aes-256-cfb -k æ‚¨çš„å¯†ç  -p 80 è®¾ç½®è„šæœ¬çš„çš„æ‰“å¼€æ–¹å¼ï¼Œé€‰æ‹©ç»ˆç«¯ï¼ˆItermç•™ç€ç¼–ç¨‹ç”¨ï¼‰ åŠ å…¥ç™»å½•é¡¹ï¼šæ‰“å¼€ ç³»ç»Ÿåå¥½è®¾ç½®â€¦ &gt; ç”¨æˆ·ä¸ç¾¤ç»„ æ‰“å¼€ Shadowsockså®¢æˆ·ç«¯ &gt; åå¥½è®¾ç½® &gt; å¼€æœºå¯åŠ¨ ï¼ˆé€‰ä¸­ï¼‰ å®Œæˆï¼ä¸‹æ¬¡é‡å¼€æœºï¼Œå…¨è‡ªåŠ¨å¼€å¯~ï¼ğŸ˜„ 99å¢åŠ ï¼šä¸€ã€herokuç»‘å®šä¿¡ç”¨å¡ï¼ˆå…è´¹å°æ—¶æ•°å¢åŠ ï¼‰1ã€æ·˜å®ä¹°herokuè™šæ‹Ÿä¿¡ç”¨å¡https://item.taobao.com/item.htm?spm=a1z09.2.0.0.7f3b4477VFLc9s&amp;id=551379781399&amp;_u=e2kcaibbe78ï¼Œæˆ‘ä¹°äº†7å—é’± 2ã€åˆ°herokuå®˜ç½‘è®¾ç½®é‡Œï¼Œç»‘å®šä¿¡ç”¨å¡ æ³¨æ„ï¼šherokuå®˜ç½‘ç»å¸¸è¢«å¢™ï¼Œå¯èƒ½è¦å¼€Shadowsocksçš„å…¨å±€æ¨¡å¼ã€‚ ç»‘å®šåï¼Œæ¯ä¸ªæœˆå…è´¹å°æ—¶æ•°ç”±700å˜æˆ1000å°æ—¶ã€‚ äºŒã€è®©herokuä¸ä¼šä¼‘çœ 1ã€http://kaffeine.herokuapp.com/ï¼Œåˆ°è¿™ä¸ªç½‘ç«™æ·»åŠ è‡ªå·±çš„herokué¡¹ç›®ç½‘å€ï¼Œå°±ä¼šä¼šæ¯30åˆ†é’Ÿpingä¸“æ¡ˆä¸€æ¬¡ï¼Œè®©å®ƒä¸ä¼šä¼‘çœ  æ³¨æ„ï¼šherokuçš„è®¾ç½®é‡Œå¯ä»¥çœ‹åˆ°å…è´¹å°æ—¶æ•°çš„ä½¿ç”¨æƒ…å†µï¼Œå¦‚æœè¿˜æœ‰å…¶ä»–é¡¹ç›®åœ¨ä½¿ç”¨ï¼Œå¯ä»¥è€ƒè™‘å¦å¼€ä¸€ä¸ªè´¦å·ä¸“é—¨ç”¨ä½œç§‘å­¦ä¸Šç½‘ã€‚","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/tags/å·¥å…·/"},{"name":"vps","slug":"vps","permalink":"http://yoursite.com/tags/vps/"},{"name":"heroku","slug":"heroku","permalink":"http://yoursite.com/tags/heroku/"},{"name":"ç§‘å­¦ä¸Šç½‘","slug":"ç§‘å­¦ä¸Šç½‘","permalink":"http://yoursite.com/tags/ç§‘å­¦ä¸Šç½‘/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://yoursite.com/categories/å·¥å…·/"}]},{"title":"bug-äºšé©¬é€Šawe_ec2 Swap file \"/etc/shadowsocks/.config.json.swp\" already exists! [O]pen Read-Only, (E)dit anyway, (R)ecover, (D)elete it, (Q","slug":"bug-äºšé©¬é€Šawe_ec2 Swap file \":etc:shadowsocks:.config.json.swp\" already exists! [O]pen Read-Only, (E)dit anyway, (R)ecover, (D)elete it, (Q","date":"2017-11-14T03:00:00.000Z","updated":"2018-01-14T02:18:50.000Z","comments":true,"path":"posts/723a2ffb/","link":"","permalink":"http://yoursite.com/posts/723a2ffb/","excerpt":"","text":"äºšé©¬é€Šçš„AWSä¸èƒ½SSHç™»å½•äº†æ€ä¹ˆåŠï¼Ÿ ã€bugã€‘Swap file â€œ/etc/shadowsocks/.config.json.swpâ€ already exists! [O]pen Read-Only, (E)dit anyway, (R)ecover, (D)elete it, (QLinuxä¸‹ç¼–ç¨‹éš¾å…ä¼šå¼€å¯å¤šæ¬¡vimç¼–è¾‘ï¼Œ åŒä¸€ä¸ªæ–‡ä»¶å¦‚æœåœ¨ä¸Šä¸€æ¬¡ç¼–è¾‘æ—¶æœªè¿›è¡Œä¿å­˜ï¼Œåˆ™åœ¨ä¸‹ä¸€æ¬¡æƒ³è¦è¿›è¡Œç¼–è¾‘æ—¶å°±ä¼šå‡ºç°ï¼š swap file â€œ*.swpâ€ already exists! [O]pen Read-Only, (E)dit anyway, (R)ecover, (D)elete it, (Q)uit, (A)bort: åŸå› ï¼š ä½¿ç”¨vimç¼–è¾‘æ–‡ä»¶å®é™…æ˜¯å…ˆcopyä¸€ä»½ä¸´æ—¶æ–‡ä»¶å¹¶æ˜ å°„åˆ°å†…å­˜ç»™ä½ ç¼–è¾‘ï¼Œ ç¼–è¾‘çš„æ˜¯ä¸´æ—¶æ–‡ä»¶ï¼Œ å½“æ‰§è¡Œï¼šwåæ‰ä¿å­˜ä¸´æ—¶æ–‡ä»¶åˆ°åŸæ–‡ä»¶ï¼Œæ‰§è¡Œï¼šqåæ‰åˆ é™¤ä¸´æ—¶æ–‡ä»¶ã€‚ æ¯æ¬¡å¯åŠ¨ç¼–è¾‘æ—¶éƒ½ä¼šæ£€ç´¢è¿™ä¸ªæ–‡ä»¶æ˜¯å¦å·²ç»å­˜åœ¨ä¸´æ—¶æ–‡ä»¶ï¼Œ æœ‰åˆ™è¯¢é—®å¦‚ä½•å¤„ç†ï¼Œå°±ä¼šå‡ºç°å¦‚ä¸Šæƒ…æ™¯ã€‚ è§£å†³æ–¹æ³•ï¼ˆåˆ é™¤è¿™ä¸ªä¸´æ—¶æ–‡ä»¶å³å¯ï¼‰ï¼š rm *.swp linuxç”¨VIç¼–è¾‘åä¿å­˜é€€å‡ºå‘½ä»¤æ˜¯ä»€ä¹ˆå•Šï¼ŸæŒ‰escï¼Œå†æŒ‰ä½shiftå†æŒ‰ä¸¤ä¸‹â€™zâ€˜é”®ã€‚","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"bug","slug":"bug","permalink":"http://yoursite.com/tags/bug/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"ror-tips-rails g controller xx --no-assetsä¸rails g controller xxæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","slug":"ror-tips-rails g controller xx --no-assetsä¸rails g controller xxæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","date":"2017-11-12T16:10:00.000Z","updated":"2018-01-14T04:55:31.000Z","comments":true,"path":"posts/4f7cb584/","link":"","permalink":"http://yoursite.com/posts/4f7cb584/","excerpt":"","text":"1ï¼‰rails g controller xx --no-assetsä¸å¹³æ—¶çš„rails g controller xxæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ ä»æ‰§è¡Œç»“æœå¯ä»¥çœ‹å‡ºï¼ŒåŒºåˆ«åœ¨äºå‰è€…ä¸ä¼šäº§ç”Ÿassetæ–‡ä»¶ï¼Œå³ç›¸å…³çš„csså’Œjsæ–‡ä»¶ã€‚ 12345invoke assetsinvoke coffeecreate app/assets/javascripts/XXX.coffeeinvoke scsscreate app/assets/stylesheets/XXX.scss","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/tags/rorçŸ¥è¯†ç‚¹/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"ror-tips-git initè¦æ€ä¹ˆåˆ é™¤ï¼Ÿ","slug":"ror-tips-git initè¦æ€ä¹ˆåˆ é™¤ï¼Ÿ","date":"2017-11-11T16:10:00.000Z","updated":"2018-01-14T04:55:31.000Z","comments":true,"path":"posts/e2bb6abf/","link":"","permalink":"http://yoursite.com/posts/e2bb6abf/","excerpt":"","text":"12-rf .git #æ·»åŠ rå‚æ•°ï¼ŒæŒ‡å®šåˆ é™¤ç›®å½•","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/tags/rorçŸ¥è¯†ç‚¹/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"ror-tips-DOMæ˜¯ä»€ä¹ˆï¼Ÿ","slug":"ror-tips-DOMæ˜¯ä»€ä¹ˆï¼Ÿ","date":"2017-11-11T16:10:00.000Z","updated":"2018-01-14T04:55:31.000Z","comments":true,"path":"posts/e5ed4b1c/","link":"","permalink":"http://yoursite.com/posts/e5ed4b1c/","excerpt":"","text":"DOMå…¨ç§°æ˜¯document object model(æ–‡æ¡£å¯¹è±¡æ¨¡å‹)ï¼ŒDOMæ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„å‘¢ï¼Ÿå‡è®¾æŠŠä½ çš„æ–‡æ¡£çœ‹æˆä¸€ä¸ªå•ç‹¬çš„å¯¹è±¡ï¼ŒDOMå°±æ˜¯å¦‚ä½•ç”¨HTMLæˆ–è€…XMLå¯¹è¿™ä¸ªå¯¹è±¡è¿›è¡Œæ“ä½œå’Œæ§åˆ¶çš„æ ‡å‡†ã€‚","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/tags/rorçŸ¥è¯†ç‚¹/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"","slug":"ror-tips-æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»€ä¹ˆï¼Ÿ","date":"2017-11-09T07:38:11.000Z","updated":"2018-01-14T04:55:31.000Z","comments":true,"path":"posts/0/","link":"","permalink":"http://yoursite.com/posts/0/","excerpt":"","text":"1234567title: ror-tips-æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»€ä¹ˆï¼Ÿdate: &apos;2017-11-12 00:10&apos;categories:- rorçŸ¥è¯†ç‚¹tags:- rorçŸ¥è¯†ç‚¹img: &apos;https://ws1.sinaimg.cn/large/006tNc79gy1fnfwh0s580j305k050a9w.jpg&apos; æ­£åˆ™è¡¨è¾¾å¼ - è¯­æ³•http://www.runoob.com/regexp/regexp-syntax.html æ­£åˆ™è¡¨è¾¾å¼(regular expression)æè¿°äº†ä¸€ç§å­—ç¬¦ä¸²åŒ¹é…çš„æ¨¡å¼ï¼ˆpatternï¼‰ï¼Œå¯ä»¥ç”¨æ¥æ£€æŸ¥ä¸€ä¸ªä¸²æ˜¯å¦å«æœ‰æŸç§å­ä¸²ã€å°†åŒ¹é…çš„å­ä¸²æ›¿æ¢æˆ–è€…ä»æŸä¸ªä¸²ä¸­å–å‡ºç¬¦åˆæŸä¸ªæ¡ä»¶çš„å­ä¸²ç­‰ã€‚ ä¾‹å¦‚ï¼š runoo+bï¼Œå¯ä»¥åŒ¹é… runoobã€runooobã€runoooooob ç­‰ï¼Œ+ å·ä»£è¡¨å‰é¢çš„å­—ç¬¦å¿…é¡»è‡³å°‘å‡ºç°ä¸€æ¬¡ï¼ˆ1æ¬¡æˆ–å¤šæ¬¡ï¼‰ã€‚ runoobï¼Œå¯ä»¥åŒ¹é… runobã€runoobã€runoooooob ç­‰ï¼Œ å·ä»£è¡¨å­—ç¬¦å¯ä»¥ä¸å‡ºç°ï¼Œä¹Ÿå¯ä»¥å‡ºç°ä¸€æ¬¡æˆ–è€…å¤šæ¬¡ï¼ˆ0æ¬¡ã€æˆ–1æ¬¡ã€æˆ–å¤šæ¬¡ï¼‰ã€‚ colou?r å¯ä»¥åŒ¹é… color æˆ–è€… colourï¼Œ? é—®å·ä»£è¡¨å‰é¢çš„å­—ç¬¦æœ€å¤šåªå¯ä»¥å‡ºç°ä¸€æ¬¡ï¼ˆ0æ¬¡ã€æˆ–1æ¬¡ï¼‰ã€‚ æ„é€ æ­£åˆ™è¡¨è¾¾å¼çš„æ–¹æ³•å’Œåˆ›å»ºæ•°å­¦è¡¨è¾¾å¼çš„æ–¹æ³•ä¸€æ ·ã€‚ä¹Ÿå°±æ˜¯ç”¨å¤šç§å…ƒå­—ç¬¦ä¸è¿ç®—ç¬¦å¯ä»¥å°†å°çš„è¡¨è¾¾å¼ç»“åˆåœ¨ä¸€èµ·æ¥åˆ›å»ºæ›´å¤§çš„è¡¨è¾¾å¼ã€‚æ­£åˆ™è¡¨è¾¾å¼çš„ç»„ä»¶å¯ä»¥æ˜¯å•ä¸ªçš„å­—ç¬¦ã€å­—ç¬¦é›†åˆã€å­—ç¬¦èŒƒå›´ã€å­—ç¬¦é—´çš„é€‰æ‹©æˆ–è€…æ‰€æœ‰è¿™äº›ç»„ä»¶çš„ä»»æ„ç»„åˆã€‚ æ­£åˆ™è¡¨è¾¾å¼æ˜¯ç”±æ™®é€šå­—ç¬¦ï¼ˆä¾‹å¦‚å­—ç¬¦ a åˆ° zï¼‰ä»¥åŠç‰¹æ®Šå­—ç¬¦ï¼ˆç§°ä¸ºâ€å…ƒå­—ç¬¦â€ï¼‰ç»„æˆçš„æ–‡å­—æ¨¡å¼ã€‚æ¨¡å¼æè¿°åœ¨æœç´¢æ–‡æœ¬æ—¶è¦åŒ¹é…çš„ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²ã€‚æ­£åˆ™è¡¨è¾¾å¼ä½œä¸ºä¸€ä¸ªæ¨¡æ¿ï¼Œå°†æŸä¸ªå­—ç¬¦æ¨¡å¼ä¸æ‰€æœç´¢çš„å­—ç¬¦ä¸²è¿›è¡ŒåŒ¹é…ã€‚","categories":[],"tags":[],"keywords":[]},{"title":"bug-è‡ªåŠ¨åŒ–æµ‹è¯•1-3  gem_rspec-railsæŠ¥é”™nomethoderror/ undefined method 'this' for","slug":"bug-è‡ªåŠ¨åŒ–æµ‹è¯•1-3  gem_rspec-railsæŠ¥é”™nomethoderror: undefined method 'this' for","date":"2017-11-05T01:00:00.000Z","updated":"2018-01-14T02:19:02.000Z","comments":true,"path":"posts/9178391d/","link":"","permalink":"http://yoursite.com/posts/9178391d/","excerpt":"","text":"1ã€æ‰§è¡Œrspec leap_year_spec.rbæŠ¥é”™å¦‚ä¸‹ï¼š 2ã€googleæœç´¢gem rspecæ‰¾åˆ°ä¸¤ä¸ªgithubï¼Œä¸€ä¸ªæ˜¯rspec/rspecï¼ˆè¿™ä¸ªè·Ÿæ•™æä¸€æ ·ï¼‰ï¼Œä¸€ä¸ªæ˜¯rspec/rspec-railsã€‚ç”¨ç¬¬äºŒä¸ªï¼Œæ‰¾åˆ°gem &#39;rspec-rails&#39;ï¼Œåœ¨gemfileæ–‡ä»¶ä¸­å®‰è£…ï¼Œç„¶åbundleã€‚ 3ã€å†æµ‹è¯•rspec leap_year_spec.rbï¼Œæå®šå¦‚ä¸‹ï¼š","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"bug","slug":"bug","permalink":"http://yoursite.com/tags/bug/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"bug-seedæ¡£æµ‹è¯• ActiveRecord--StatementInvalid in Devise--SessionsController#create","slug":"bug-seedæ¡£æµ‹è¯• ActiveRecord--StatementInvalid in Devise--SessionsController#create","date":"2017-11-04T21:30:00.000Z","updated":"2018-01-14T02:19:11.000Z","comments":true,"path":"posts/852d9f92/","link":"","permalink":"http://yoursite.com/posts/852d9f92/","excerpt":"","text":"jdstore4-3ï¼Œåšseedæ¡£åï¼Œæµ‹è¯•æŠ¥é”™ActiveRecord::StatementInvalid in Devise::SessionsController#createSQLite3::ReadOnlyException: attempt to write a readonly database: UPDATE â€œusersâ€ SET â€œcurrent_sign_in_atâ€ = ?, â€œlast_sign_in_atâ€ = ?, â€œsign_in_countâ€ = ?, â€œupdated_atâ€ = ? WHERE â€œusersâ€.â€idâ€ = ?def each loop do val = step break self if done? yield val end åŸå› seedæ¡£é‡Œu.is_admin = trueé”™å†™æˆu.is_admin ä¿®æ”¹åï¼Œrake db:dropã€ rake db:migrateã€ rake db:seed","categories":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}],"tags":[{"name":"bug","slug":"bug","permalink":"http://yoursite.com/tags/bug/"}],"keywords":[{"name":"rorçŸ¥è¯†ç‚¹","slug":"rorçŸ¥è¯†ç‚¹","permalink":"http://yoursite.com/categories/rorçŸ¥è¯†ç‚¹/"}]},{"title":"www-interview-(è§†é¢‘ï¼‰èƒŒæ™¯ä¸åŒ¹é…ï¼Œæ€ä¹ˆå†™ç®€å†ï¼Ÿ","slug":"www-interview-(è§†é¢‘ï¼‰èƒŒæ™¯ä¸åŒ¹é…ï¼Œæ€ä¹ˆå†™ç®€å†ï¼Ÿ","date":"2017-11-01T16:10:00.000Z","updated":"2018-01-14T05:52:02.000Z","comments":true,"path":"posts/26fa074a/","link":"","permalink":"http://yoursite.com/posts/26fa074a/","excerpt":"","text":"ä¸€ã€èƒŒæ™¯ä¸å¤ŸåŒ¹é…ï¼Œæ€ä¹ˆå†™ç®€å†ï¼Ÿæ¦‚ç‡äº‹ä»¶ï¼š9000ä»½ç®€å†ï¼Œé¢è¯•120ï¼Œå®ä¹ 14ï¼Œå…¨èŒ8ï¼Œä¹Ÿå°±æ˜¯è¯´ç®€å†åˆ°é¢è¯•çš„æ¦‚ç‡æ˜¯1.3%ã€é¢è¯•åˆ°å®ä¹ æ¦‚ç‡11.7%ã€å®ä¹ åˆ°å…¨èŒæ¦‚ç‡57.1%ã€‚å…¶ä¸­ç®€å†çš„å…³å¡éš¾åº¦æœ€å¤§ã€‚ 1ã€æ‰¾å·¥ä½œçš„å”¯ä¸€ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ1ï¼‰æ‹¿Offerã€‚ä½ åšçš„ä»»ä½•ä¸€ä»¶ä¸æ˜¯ä¸ºäº†æ‹¿Offerçš„äº‹æƒ…éƒ½æ˜¯åœ¨æµªè´¹æ—¶é—´ã€é™ä½æ•ˆç‡ã€åœ¨è·Ÿè‡ªå·±ä½œå¯¹ã€‚ 2ï¼‰ä¸è¦æš´éœ²ä»»ä½•å‡åˆ†é¡¹ï¼šæ•™è‚²èƒŒæ™¯ä¸å¥½ã€å·¥ä½œèƒŒæ™¯ä¸å¥½ã€å¹´é¾„å¤§ã€èº«é«˜çŸ®ã€é¢œå€¼ä½ã€å·²ç¦»èŒã€åŸ¹è®­ç­å‡ºèº«ã€‚ åœ¨ç®€å†ä¸Šåœ¨é¢è¯•ä¸Šä¸è¦è°¦è™šï¼Œåš100è‡³å°‘è¦è¯´åˆ°110ã€‚ 3ï¼‰æ·¡åŒ–åŸ¹è®­ç­ã€ä¸¤ä¸ªæœˆã€çº¿ä¸Šã€‚â€œå…ˆè‡ªå·±è‡ªå­¦ç¼–ç¨‹ï¼Œåæ¥ä¸ºäº†è‡ªå·±æ›´å¥½çš„å­¦ä¹ ï¼Œå»æŠ¥äº†ä¸€ä¸ªå‹åŠ›å¼ºåº¦å¾ˆå¤§çš„è®­ç»ƒè¥ï¼Œæ¯å¤©è¦åš10ä¸ªå°æ—¶ï¼Œåšäº†ä¸¤ä¸ªå·²ç»ä¸Šçº¿çš„é¡¹ç›®ï¼Œéƒ½æ˜¯å°ç»„åä½œï¼Œæˆ‘ä¸»è¦è´Ÿè´£å‰ç«¯ï¼Œé“¾æ¥æ˜¯xxï¼Œæ¯”èµ›ä¸­å‚èµ›è€…400æ‹¿äº†å‰3åã€‚â€ 2ã€è„‘ä¸­è®°ä½è¿™ä¸ªé—®é¢˜ï¼šæˆ‘å¯ä»¥ç»™å¯¹æ–¹å¸¦æ¥ä»€ä¹ˆä»·å€¼ï¼Ÿ1ï¼‰ç®€å†ä¸åŒ¹é…ï¼Ÿè¦æ ¹æ®ç®€å†è¦æ±‚æ¶è¡¥çŸ¥è¯†ã€‚ 2ï¼‰ç®€å†å†…å®¹å¸¸è§é—®é¢˜ï¼šâ‘ å†…å®¹ä¸å¤Ÿè¯¦ç»†ã€â‘¡ä¸è¯´ç»“æœ å…¬å¸ä¸è¦ä½ ç»å¯¹ä¸æ˜¯å› ä¸ºå¹´é¾„ï¼Œè€Œæ˜¯ä½ çš„æŠ€èƒ½è·Ÿå…¬å¸çš„è¦æ±‚ä¸åŒ¹é…ã€‚ä½ å‰å‡ æ¬¡é¢è¯•ï¼Œä¸€å®šä¼šåˆä¸€å †é”™è¯¯ã€é‡åˆ°ä¸€å †çš„é—®é¢˜ã€‚ æ¨èç”µå½±ã€Šå®ä¹ ç”Ÿã€‹ï¼Œå­¦ä¹ å¦‚ä½•åœ¨è‡ªå·±çš„æŠ€èƒ½ä¸èƒ½è·Ÿä¸Šäº’è”ç½‘è„šæ­¥ï¼Œå´è¿˜èƒ½æ‰¾åˆ°è‡ªå·±åº”è¯¥èå…¥å…¬å¸çš„ç‚¹ã€‚ è¡¨è¾¾èƒ½åŠ›ï¼Ÿâ‘ æŠŠé¢è¯•æœ€ç»å¸¸é—®é“çš„é—®é¢˜åˆ—å‡ºæ¥ï¼Œå†™ç­”æ¡ˆï¼Œåœ¨ä½ é¢è¯•åæ¬¡ä¹‹å‰ä½ æ˜¯ä¸å…·å¤‡è¿™æ ·çš„æŠ€èƒ½çš„ï¼Œä½ æ˜¯æ²¡æ³•è¯´å‡ºè‡ªå·±æœ‰å¤šé€‚åˆè¿™å®¶å…¬å¸ã€èƒŒæ™¯å¤šç‰›é€¼ï¼›â‘¡å¯¹ç€é•œå­ç»ƒï¼Œè¦æˆä¸ºä¸€ä¸ªæ“…é•¿è¯´è‡ªå·±çš„äººï¼›â‘¢å®æˆ˜æ˜¯æœ€å¥½çš„å­¦ä¹ ï¼Œä½ å³ä¾¿æ˜¯å»å®æˆ˜ç„¶åè¢«å¹²æ‰éƒ½okï¼›â‘£è‚¢ä½“è¯­è¨€ï¼Œåˆ‡èœï¼‹ç”»åœ†å¯¹å¤–çš„ä¸œè¥¿å¾€å¤–ç”»è‡ªå·±çš„ä¸œè¥¿å¾€å†…ç”»ï¼›å¯¹æ–¹å¯¹ä½ è¯´è¯ã€è‡ªå·±è·Ÿå¯¹æ–¹è¯´è¯ï¼Œä½ è¦çœ‹ç€å¯¹æ–¹çš„çœ¼ç›ï¼Œä¸è¦åˆ°å¤„é£˜ï¼ˆæ„Ÿè§‰ä¸è®¤çœŸå¬ä¸è‡ªä¿¡ï¼‰ï¼›","categories":[{"name":"å¿ƒå¾—","slug":"å¿ƒå¾—","permalink":"http://yoursite.com/categories/å¿ƒå¾—/"}],"tags":[{"name":"å¿ƒå¾—","slug":"å¿ƒå¾—","permalink":"http://yoursite.com/tags/å¿ƒå¾—/"},{"name":"interview","slug":"interview","permalink":"http://yoursite.com/tags/interview/"}],"keywords":[{"name":"å¿ƒå¾—","slug":"å¿ƒå¾—","permalink":"http://yoursite.com/categories/å¿ƒå¾—/"}]},{"title":"","slug":"ror-tips-å“ˆå¸Œç®—æ³•æ˜¯ä»€ä¹ˆï¼Ÿ","date":"2017-10-31T11:37:04.000Z","updated":"2018-01-14T04:55:31.000Z","comments":true,"path":"posts/0/","link":"","permalink":"http://yoursite.com/posts/0/","excerpt":"","text":"1234567title: ror-tips-å“ˆå¸Œç®—æ³•æ˜¯ä»€ä¹ˆï¼Ÿdate: &apos;2017-11-12 00:10&apos;categories:- rorçŸ¥è¯†ç‚¹tags:- rorçŸ¥è¯†ç‚¹img: &apos;https://ws1.sinaimg.cn/large/006tNc79gy1fnfwh0s580j305k050a9w.jpg&apos; å“ˆå¸Œç®—æ³•ï¼Œå°†ä»»æ„é•¿åº¦çš„äºŒè¿›åˆ¶å€¼æ˜ å°„ä¸ºå›ºå®šé•¿åº¦çš„è¾ƒå°äºŒè¿›åˆ¶å€¼,è¿™ä¸ªå°çš„äºŒè¿›åˆ¶å€¼ç§°ä¸ºå“ˆå¸Œå€¼ã€‚ â€‹","categories":[],"tags":[],"keywords":[]},{"title":"www-orid-day-å¤§è„‘å·¥ä½œåŸç†çš„ä¹¦ï¼šã€Šlearning how to learnã€‹ã€ã€Šä¸ºä»€ä¹ˆå­©å­ä¸å–œæ¬¢è¯»ä¹¦ã€‹","slug":"www-orid-day-å¤§è„‘å·¥ä½œåŸç†çš„ä¹¦ï¼šã€Šlearning how to learnã€‹ã€ã€Šä¸ºä»€ä¹ˆå­©å­ä¸å–œæ¬¢è¯»ä¹¦ã€‹","date":"2017-08-31T16:10:00.000Z","updated":"2018-01-14T05:52:02.000Z","comments":true,"path":"posts/c0e8cc53/","link":"","permalink":"http://yoursite.com/posts/c0e8cc53/","excerpt":"","text":"å¤§è„‘å·¥ä½œåŸç†çš„ä¹¦ï¼šã€Šlearning how to learnã€‹ã€ã€Šä¸ºä»€ä¹ˆå­©å­ä¸å–œæ¬¢è¯»ä¹¦ã€‹ å­©å­è®¨åŒä¸Šå­¦ï¼Œä½ åœ¨é€¼ä»–çš„äº‹æƒ…è®©ä»–æ‰¾ä¸åˆ°æˆå°±æ„Ÿï¼Œäººæœ€é‡è¦çš„æ˜¯è‡ªæˆ‘ä»·å€¼ï¼Œåœ¨æ¸¸æˆä¸­æ‰èƒ½æ‰¾åˆ°è‡ªæˆ‘ä»·å€¼ï¼Œäºæ˜¯æ¸¸æˆå˜æˆäº†äººç”Ÿã€‚","categories":[{"name":"å¿ƒå¾—","slug":"å¿ƒå¾—","permalink":"http://yoursite.com/categories/å¿ƒå¾—/"}],"tags":[{"name":"å¿ƒå¾—","slug":"å¿ƒå¾—","permalink":"http://yoursite.com/tags/å¿ƒå¾—/"},{"name":"orid-day","slug":"orid-day","permalink":"http://yoursite.com/tags/orid-day/"}],"keywords":[{"name":"å¿ƒå¾—","slug":"å¿ƒå¾—","permalink":"http://yoursite.com/categories/å¿ƒå¾—/"}]}]}