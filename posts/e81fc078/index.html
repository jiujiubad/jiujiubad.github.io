<!DOCTYPE HTML>
<html>
<head>
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <link rel="dns-prefetch" href="http://yoursite.com">
    <!--SEO-->



<meta name="robots" content="all" />
<meta name="google" content="all" />
<meta name="googlebot" content="all" />
<meta name="verify" content="all" />
    <!--Title-->


<title>wx-system-蓝鸥系列《微信小程序全方位深度解析》基础知识补充 | Hexo</title>


    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.4/css/bootstrap.min.css?rev=3.3.4">
<link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    
    <div class="hide">
    	<script src="https://s4.cnzz.com/z_stat.php?id=1263868967&web_id=1263868967" language="JavaScript"></script>
    </div>






    
</head>

<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
  <div class="container-fluid">
    <div class="row">
      <header class="main-header"  style="background-image:url(http://7xpw2b.com1.z0.glb.clouddn.com/hexo-sinppet/img/banner2.jpg)"  >
    <div class="main-header-box">
        <a class="header-avatar" href="/" title="">
            <img src="/img/avatar.jpg" alt="logo头像">
        </a>
        <div class="branding1">
        	<!--<h2 class="text-hide">Snippet主题,从未如此简单有趣</h2>-->
            
                <h2 style="color:#ddd;letter-spacing:1.5px;"> 不忘积累，记录点滴 by 99 </h2>
            
    	</div>
    </div>
</header>

      <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only">Toggle navigation</span>
                    <i class="fa fa-bars"></i>
                    </span>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                            <li role="presentation itit"><a href="/"><i class="fa fa-fw "></i>主页</a>
                            </li>
                        
                            <li role="presentation itit"><a href="/archives/"><i class="fa fa-fw "></i>所有</a>
                            </li>
                        
                            <li role="presentation itit"><a href="/posts/d16694c4/"><i class="fa fa-fw "></i>标题</a>
                            </li>
                        
                            <li role="presentation itit"><a href="/categories/ror系统/"><i class="fa fa-fw "></i>ror系统</a>
                            </li>
                        
                            <li role="presentation itit"><a href="/categories/微信小程序/"><i class="fa fa-fw "></i>微信小程序</a>
                            </li>
                        
                            <li role="presentation itit"><a href="/"><i class="fa fa-fw "></i>关于我</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>

      <section class="content-wra aa99">
        <div class="row">
          
    <div class="widget" style="padding:0 15px;">
        <div id="search-form" >
            <div id="result-mask" class="hide"></div>
            <div class="search-area">
                
                    <input id="search-key" type="search" autocomplete="off" placeholder="搜点什么呢?" style="width:100%;border-radius:0;">

                
                
            </div>
            <div id="result-wrap" class="hide" style="padding:0 20px;">
                <div id="search-result"></div>
            </div>
            <div class="hide">
                <template id="search-tpl">
                    <div class="item">
                        <a href="/{path}" title="{title}">
                            <div class="title">{title}</div>
                            <div class="content">{content}</div>
                        </a>
                    </div>
                </template>
            </div>
        </div>
    </div>


        </div>
        <div class="row">
            <main class="col-md-9 main-content m-post">
                <p id="process"></p>
<article class="post pp99">
    <div class="post-head">
        <h1 id="wx-system-蓝鸥系列《微信小程序全方位深度解析》基础知识补充">
            
	            wx-system-蓝鸥系列《微信小程序全方位深度解析》基础知识补充
            
        </h1>
        <div class="post-meta">
    
    
    <span class="categories-meta fa-wrap">
        <i class="fa fa-folder-open-o"></i>
        <span>微信小程序</span>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
            微信系统
            
        </span>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-clock-o"></i>
        <span class="date-meta">2018/01/03</span>
    </span>
</div>

            
            
    </div>
    
    <div class="post-body post-content">
        <h1 id="取名字是最蛋疼的，连做视频的老师都这么说，所以更要想好每个模块class和变量命名套路。"><a href="#取名字是最蛋疼的，连做视频的老师都这么说，所以更要想好每个模块class和变量命名套路。" class="headerlink" title="取名字是最蛋疼的，连做视频的老师都这么说，所以更要想好每个模块class和变量命名套路。"></a>取名字是最蛋疼的，连做视频的老师都这么说，所以更要想好每个模块class和变量命名套路。</h1><p>常用关键词：（定义模块）、拿到数据、显示数据</p>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p>蛮牛教育、网易云课堂、百度传课，搜《微信小程序全方位深度解析》、《高级api视频教程》</p>
<p>蛮牛教育免费在线视频<a href="http://edu.manew.com/course/193/learn#lesson/2559，可1.5倍速。" target="_blank" rel="noopener">http://edu.manew.com/course/193/learn#lesson/2559，可1.5倍速。</a></p>
<p>网易云课堂免费在线视频，<a href="http://study.163.com/course/courseLearn.htm?courseId=1003283028#/learn/video?lessonId=1003973293&amp;courseId=1003283028，只有1倍速，含《高级api视频教程》。" target="_blank" rel="noopener">http://study.163.com/course/courseLearn.htm?courseId=1003283028#/learn/video?lessonId=1003973293&amp;courseId=1003283028，只有1倍速，含《高级api视频教程》。</a></p>
<h1 id="一、视频目录"><a href="#一、视频目录" class="headerlink" title="一、视频目录"></a>一、视频目录</h1><p>组件部分从比较简单，从16课开始只记录重点。</p>
<h2 id="1、小程序windows版本环境搭建"><a href="#1、小程序windows版本环境搭建" class="headerlink" title="1、小程序windows版本环境搭建"></a>1、小程序windows版本环境搭建</h2><h2 id="2、小程序mac-os版本环境搭建"><a href="#2、小程序mac-os版本环境搭建" class="headerlink" title="2、小程序mac os版本环境搭建"></a>2、小程序mac os版本环境搭建</h2><h2 id="3、小程序入门"><a href="#3、小程序入门" class="headerlink" title="3、小程序入门"></a>3、小程序入门</h2><h2 id="4、目录结构及配置"><a href="#4、目录结构及配置" class="headerlink" title="4、目录结构及配置"></a>4、目录结构及配置</h2><p>1）配置-debug，开发可以开着，在app.json加入<code>&quot;debug&quot;: true</code></p>
<h2 id="5、逻辑层注册程序、注册页面"><a href="#5、逻辑层注册程序、注册页面" class="headerlink" title="5、逻辑层注册程序、注册页面"></a>5、逻辑层注册程序、注册页面</h2><p>1）setData，用的非常多，把数据从逻辑层发送到视图层，同时改变this.data的值。</p>
<p>2）页面路由，navigator标签，或wx.navigateTo。</p>
<h2 id="6、js作用域和模块化"><a href="#6、js作用域和模块化" class="headerlink" title="6、js作用域和模块化"></a>6、js作用域和模块化</h2><p>1）文件作用域。</p>
<p>2）js模块化，用的非常多，<strong>『用法见问题3』</strong>。</p>
<h2 id="7、视图层"><a href="#7、视图层" class="headerlink" title="7、视图层"></a>7、视图层</h2><h2 id="8、数据绑定"><a href="#8、数据绑定" class="headerlink" title="8、数据绑定"></a>8、数据绑定</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1）wx:if，利用true和false的值做”显示“和”隐藏“的效果。**『用法见问题4』**。</span><br><span class="line"></span><br><span class="line">如果有多个用wx:if、wx:elsif、wx:else，或wx:if、wx:if、wx:if。</span><br><span class="line"></span><br><span class="line">2）hidden，利用true和false的值做”显示“和”隐藏“的效果。**『用法见问题4』**。</span><br><span class="line"></span><br><span class="line">3）this是指Page，常用的this.data就是Page里的data散列。</span><br><span class="line"></span><br><span class="line">4）三元运算`&lt;view hidden=&quot;&#123;&#123;bol? &quot;正&quot;:&quot;反&quot;&#125;&#125;&quot;&gt; Hidden &lt;/view&gt;`，如果bol是true显示”正“，false显示”反“。</span><br><span class="line"></span><br><span class="line">5）&#123;&#123;&#125;&#125;用法。做数学运算如&#123;&#123;3+5&#125;&#125;，做字符串连接如&#123;&#123;&quot;hello&quot;+id&#125;&#125;，做三元运算，配合wx:for做循环相当于ruby的each do，做数组组合如wx:for=&quot;&#123;&#123;[id,3,2,1]&#125;&#125;&quot;形成新的数组，wxml模板template的传参，</span><br><span class="line"></span><br><span class="line">6）wxml模板template，独立作用域，**『用法见问题5』**。&#123;&#123;…散列&#125;&#125;的写法，就不用一个个变量和值去写。</span><br></pre></td></tr></table></figure>
<h2 id="9、wx-for详解"><a href="#9、wx-for详解" class="headerlink" title="9、wx:for详解"></a>9、wx:for详解</h2><p>1）下标是index，值是item。自定义下标变量名wx:for-index=”i”、值的变量名wx:for=”j”。</p>
<p>2）for的嵌套做九九乘法表，<strong>『用法见问题6』</strong>。 </p>
<h2 id="10-、事件详解"><a href="#10-、事件详解" class="headerlink" title="10 、事件详解"></a>10 、事件详解</h2><p>1）bind+tap相当于事件，可以对应到function。</p>
<p>2）冒泡事件和非冒泡事件详解，<strong>『实例见问题7』</strong>。</p>
<p>3）移动开发常用事件：touchstart、touchmove、touchcancel。比原生js多了两个事件，tap等价于桌面端的click即手指按下并抬起，longtap等价于桌面端的mousedown即手指按下。</p>
<p>事件参数：type事件类型，timeStamp触发时间，touches返回数组如果是多点触控就有多个数组，detail其他信息后面会用特别多。target（触发事件）和currentTarget（当前事件）返回值的结果是一样的。</p>
<blockquote>
<p>target是事件触发事件的源对象，即<strong>罪魁祸首</strong>。currentTarget是<strong>所在组件</strong>。</p>
<p>比如<strong>『问题7中的冒泡事件』</strong>，点击inner同时触发inner、middle后，可以看两个事件的target即罪魁祸首都是inner，而middle的currentTarget所在组件是middle。</p>
</blockquote>
<h2 id="11、wxml中引用import、incloud"><a href="#11、wxml中引用import、incloud" class="headerlink" title="11、wxml中引用import、incloud"></a>11、wxml中引用import、incloud</h2><p>详细<strong>『案例见问题8』</strong>。</p>
<h2 id="12、wxss"><a href="#12、wxss" class="headerlink" title="12、wxss"></a>12、wxss</h2><p>import/incloud，<strong>『调用见问题9』</strong>。</p>
<p>全局样式app.wxss和局部样式，局部样式优先级比全局样式高。</p>
<h2 id="13、view组件-flex布局"><a href="#13、view组件-flex布局" class="headerlink" title="13、view组件-flex布局"></a>13、view组件-flex布局</h2><p>flex:1相当于bootstrap中的col-md-xx。区别是col-md-12固定12格，而flex是根据我们设置的flex总数按比例显示，如下会按1/4、1/4、2/4显示。</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fmznfge678j30jl07574i.jpg" width="600"></p>
<h2 id="14、view组件-scroll-view"><a href="#14、view组件-scroll-view" class="headerlink" title="14、view组件-scroll-view"></a>14、view组件-scroll-view</h2><p>1）解决样式逸出/超出问题（子元素比父元素大会超出父元素，给父元素加个边框就能看清楚）</p>
<p>2）参数</p>
<p>scroll-y、scroll-x，滚动方向；</p>
<p>upper-threshold距离顶部/左边多远(默认50)触发scrolltoupper 事件、lower-threshold距离底部/右边多远时触发scrolltolower 事件；</p>
<p>scroll-top、scroll-left，滚动条的初始位置；</p>
<p>scroll-into-view=”id标签”，比scroll-top/left好用，初始值在id的标签位置；</p>
<p>bindscroll，滚动时触发事件；</p>
<p>3）滚动切换的<strong>『案例，见问题10』</strong>。</p>
<h2 id="15、view组件-swiper"><a href="#15、view组件-swiper" class="headerlink" title="15、view组件-swiper"></a>15、view组件-swiper</h2><h3 id="15-1-轮播图swiper"><a href="#15-1-轮播图swiper" class="headerlink" title="15.1 轮播图swiper"></a>15.1 轮播图swiper</h3><p>1）参数</p>
<p>indicator-dots=”true”，指示点；</p>
<p>autoplay=”true”，自动切换，默认5秒；</p>
<p>interval=”3000”，自动切换的时间3秒；</p>
<p>duration=”3000”，滑动动画持续时间；</p>
<p>current=”2”，初始图片第几张，不设置默认0；</p>
<p>bindchange，current改变时会触发事件；</p>
<p>2）注意：swiper里只能放<code>&lt;swiper-item/&gt;</code>组件，否则会导致未定义的行为。 </p>
<h3 id="15-2-拓展：表单-滑动选择器-lt-slider-gt"><a href="#15-2-拓展：表单-滑动选择器-lt-slider-gt" class="headerlink" title="15.2 拓展：表单-滑动选择器&lt;slider/&gt;"></a>15.2 拓展：表单-滑动选择器<code>&lt;slider/&gt;</code></h3><p>用slider标签做动态切换，<strong>『案例见问题11』</strong>。</p>
<p>①、<code>&lt;slider min=&quot;2000&quot; max=&quot;5000&quot;/&gt;</code>，像播放器的进度条。</p>
<p>②、参数</p>
<p>min，起点值；</p>
<p>max，终点值；</p>
<p>show-value，显示值；</p>
<p>bindchange，滑动进度条触发事件；</p>
<p>③、<code>&lt;slider/&gt;</code>滑动选择器能用于：</p>
<ul>
<li>动态修改轮播图切换时间；</li>
</ul>
<ul>
<li>动态修改轮播图动画持续时间；</li>
<li>动态修改范围内的数值；</li>
</ul>
<p>小结：各种属性都可以作为数据，实现动态更改。</p>
<h2 id="16、组件-基础内容"><a href="#16、组件-基础内容" class="headerlink" title="16、组件-基础内容"></a>16、组件-基础内容</h2><p>1）icon</p>
<p>type、size、color</p>
<p>2）text，特点是长按可以被选中。</p>
<p>3）proress进度条，percent进度百分之多少。用js制作进度条见视频。</p>
<h2 id="17、组件-表单1"><a href="#17、组件-表单1" class="headerlink" title="17、组件-表单1"></a>17、组件-表单1</h2><p>1）button上用form-type=”submit/reset”，配合<code>&lt;form bindreset/bindsubmit=&quot;xx&quot;/&gt;</code>，做点击重置或点击发送的功能。</p>
<h2 id="18、组件-表单2"><a href="#18、组件-表单2" class="headerlink" title="18、组件-表单2"></a>18、组件-表单2</h2><p>1）checkbox</p>
<p>2）input</p>
<h2 id="19、组件-表单3"><a href="#19、组件-表单3" class="headerlink" title="19、组件-表单3"></a>19、组件-表单3</h2><p>1）picker，用bindchange触发事件。</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fn0yff5vn0j306206kdfq.jpg" width="200"></p>
<h2 id="20、组件-表单4"><a href="#20、组件-表单4" class="headerlink" title="20、组件-表单4"></a>20、组件-表单4</h2><p>1）radio，单选框。跟复选框checkbox非常像。</p>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fn0yolwv55j306a03vmx9.jpg" width="200"></p>
<p>2）silder，滑动选择器。详见<strong>『15节讲解的问题11』</strong>。</p>
<p>3）textarea，多行文本。auto-height，输入框根据文字变大，不会出现滚动条。</p>
<h2 id="21、api-界面-交互反馈"><a href="#21、api-界面-交互反馈" class="headerlink" title="21、api-界面-交互反馈"></a>21、api-界面-交互反馈</h2><p>常配合点击事件bindtap使用。</p>
<p>1）wx.request()</p>
<p>2）wx.showActionSheet()，显示操作菜单。</p>
<p>3）wx.showModal()，显示模态弹窗。</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fn0ztev74aj305y04r3yd.jpg" width="200"></p>
<p>4）wx.showToast()，删除/加载数据时的提示框。</p>
<p>wx.hideToast()，隐藏提示框，放在setTimeout的function里可以提前隐藏。</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fn0zxk7gh6j30a9053q2v.jpg" width="200"></p>
<h2 id="22、api-导航、组件-导航"><a href="#22、api-导航、组件-导航" class="headerlink" title="22、api-导航、组件-导航"></a>22、api-导航、组件-导航</h2><p>1）组件<code>&lt;navigator&gt;..&lt;/navigator&gt;</code></p>
<p>2）api的wx.navigateTo、wx.redirectTo、wx.switchTab</p>
<p>其他wx.navigateBack、wx.reLaunch</p>
<h2 id="23、组件-媒体组件、api-音频组件控制"><a href="#23、组件-媒体组件、api-音频组件控制" class="headerlink" title="23、组件-媒体组件、api-音频组件控制"></a>23、组件-媒体组件、api-音频组件控制</h2><p>1）组件audio，音频。</p>
<p>2）audio可配合api的音频组件控制wx.createAudioContext，控制播放/暂停。</p>
<p>3）组件image，mode对图片进行裁剪/缩放。</p>
<p>最长用mode=”aspectFill”，保持纵横比缩放图片，只保证图片的短边能完全显示出来。</p>
<p>4）组件video，视频。danmu-btn弹幕。</p>
<h2 id="24、组件-地图、api-位置"><a href="#24、组件-地图、api-位置" class="headerlink" title="24、组件-地图、api-位置"></a>24、组件-地图、api-位置</h2><p>1）wx.getLocation，获取当前地理位置。</p>
<p>2）wx.openLocation，查看位置。</p>
<h2 id="25、组件-画布canvas"><a href="#25、组件-画布canvas" class="headerlink" title="25、组件-画布canvas"></a>25、组件-画布canvas</h2><p>腾讯不允许发布游戏，但是可以用canvas做一些动画。</p>
<p>1）canvas，画布。</p>
<h2 id="26、canvas动画实例"><a href="#26、canvas动画实例" class="headerlink" title="26、canvas动画实例"></a>26、canvas动画实例</h2><h1 id="二、问题实例（本教程实例）"><a href="#二、问题实例（本教程实例）" class="headerlink" title="二、问题实例（本教程实例）"></a>二、问题实例（本教程实例）</h1><h2 id="1、怎么把加载中、request请求api等function，封装到app-js中？"><a href="#1、怎么把加载中、request请求api等function，封装到app-js中？" class="headerlink" title="1、怎么把加载中、request请求api等function，封装到app.js中？"></a>1、怎么把加载中、request请求api等function，封装到app.js中？</h2><h2 id="2、app-js的全局函数app-怎么设置变量和调用？"><a href="#2、app-js的全局函数app-怎么设置变量和调用？" class="headerlink" title="2、app.js的全局函数app()怎么设置变量和调用？"></a>2、app.js的全局函数app()怎么设置变量和调用？</h2><p>1）app.js设置变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">globalData: &#123;</span><br><span class="line">  userInfo: null,</span><br><span class="line">  pass: &quot;999&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2）如在index.js定义pass2，app.js里拿到数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var app = getApp() //获取到全局实例</span><br><span class="line"></span><br><span class="line">onLoad: function () &#123;</span><br><span class="line">  this.setData(&#123;</span><br><span class="line">    pass2: app.globalData.pass</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<p>3）显示数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;view&gt;密码是：&#123;&#123;pass2&#125;&#125;&lt;/view&gt;</span><br></pre></td></tr></table></figure>
<h2 id="3、js模块化怎么定义和调用？"><a href="#3、js模块化怎么定义和调用？" class="headerlink" title="3、js模块化怎么定义和调用？"></a>3、js模块化怎么定义和调用？</h2><ul>
<li>定义：模块化。可以将一些公共的代码抽离成为一个单独的 js 文件，作为一个模块。模块只有通过 <code>module.exports</code> 或者 <code>exports</code> 才能对外暴露接口。<ul>
<li><code>exports</code> 是 <code>module.exports</code> 的一个引用，因此在模块里边随意更改 <code>exports</code> 的指向会造成未知的错误。所以更推荐开发者采用 <code>module.exports</code> 来暴露模块接口，除非你已经清晰知道这两者的关系。</li>
</ul>
</li>
<li>用require调用（本机需安装nodejs才会生效） 。</li>
</ul>
<h3 id="1）根目录创建common-common-js，定义模块化数据，并暴露接口"><a href="#1）根目录创建common-common-js，定义模块化数据，并暴露接口" class="headerlink" title="1）根目录创建common/common.js，定义模块化数据，并暴露接口"></a>1）根目录创建common/common.js，定义模块化数据，并暴露接口</h3><p>先定义function，如<code>function sayHello(name){..}</code>，然后在<code>module.exports</code>中暴露接口。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// common.js</span><br><span class="line">console.log(&quot;我是common.js&quot;) //一样可以用console.log来测试数据</span><br><span class="line">function sayHello(name) &#123;</span><br><span class="line">  console.log(`Hello $&#123;name&#125; !`)</span><br><span class="line">&#125;</span><br><span class="line">function sayGoodbye(name) &#123;</span><br><span class="line">  console.log(`Goodbye $&#123;name&#125; !`)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">module.exports = &#123;  //只有在module里暴露接口，才能被其他文件调用。</span><br><span class="line">  hello1: sayHello, //暴露接口sayHello，在其他文件上用common.hello1()来调用</span><br><span class="line">  goodbye1: sayGoodbye</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2）调用js模块，拿到数据"><a href="#2）调用js模块，拿到数据" class="headerlink" title="2）调用js模块，拿到数据"></a>2）调用js模块，拿到数据</h3><p>比如index.wxml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button bindtap=&quot;say&quot;&gt;say hello!&lt;/button&gt;</span><br></pre></td></tr></table></figure>
<p>index.js，用<code>require(模块js文件)</code>引用js文件，然后用<code>common.变量(参数)</code>调用接口。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var common =require(&quot;../../common/common.js&quot;); //引入common.js文件所暴露的接口</span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    motto: &apos;Hello World&apos;,</span><br><span class="line">	name: &apos;999&apos;</span><br><span class="line">  &#125;,</span><br><span class="line">  say:function()&#123;</span><br><span class="line">    common.hello1(this.data.motto); //点击按钮后输出Hello Hello World</span><br><span class="line">    common.goodbye1(this.data.name); //点击按钮后输出Goodbye 999</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<p>测试：微信工具重新编译，可以看到console里出现”我是common.js“，单击按钮出现定义的结果。</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fmz07vheibj30d40c4dgt.jpg" alt=""></p>
<h3 id="3）进阶：用require可以引用其他的js依赖"><a href="#3）进阶：用require可以引用其他的js依赖" class="headerlink" title="3）进阶：用require可以引用其他的js依赖"></a>3）进阶：用require可以引用其他的js依赖</h3><p>1）新建common/a.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(&quot;我是common.js所依赖的a.js&quot;)</span><br></pre></td></tr></table></figure>
<p>2）在common.js加入a.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">require(&quot;a.js&quot;)</span><br></pre></td></tr></table></figure>
<p>3）测试：微信工具重新编辑，console里出现”我是common.js所依赖的a.js“、”我是common.js“。</p>
<h2 id="4、显示-隐藏功能？-取反"><a href="#4、显示-隐藏功能？-取反" class="headerlink" title="4、显示/隐藏功能？!取反"></a>4、显示/隐藏功能？!取反</h2><h3 id="方法一：wx-if-”“，推荐用！"><a href="#方法一：wx-if-”“，推荐用！" class="headerlink" title="方法一：wx:if=”“，推荐用！"></a>方法一：wx:if=”Infinity“，推荐用！</h3><p>1）wxml增加按钮，以及要显示/隐藏的内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;button bindtap=&apos;show&apos;&gt;点击显示/隐藏&lt;/button&gt;</span><br><span class="line">&lt;view wx:if=&quot;&#123;&#123;bol&#125;&#125;&quot;&gt;条件渲染显示&lt;/view&gt;</span><br></pre></td></tr></table></figure>
<p>2）js初始化bol的值为true/fale，然后利用<code>!bol</code>即与bol的值相反，来实现显示/隐藏</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    motto: &apos;Hello World&apos;,</span><br><span class="line">    userInfo: &#123;&#125;,</span><br><span class="line">    hasUserInfo: false,</span><br><span class="line">    canIUse: wx.canIUse(&apos;button.open-type.getUserInfo&apos;),</span><br><span class="line">    bol: true</span><br><span class="line">  &#125;,</span><br><span class="line">  show:function(e)&#123;</span><br><span class="line">    console.log(this.data.bol);</span><br><span class="line">    var bol = this.data.bol //this.data.bol就是拿到Page的data散列中的bol值，即初始值</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      bol: !bol //最关键的点，用!bol来实现true和false的切换</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<h3 id="方法二：hidden-”“，不推荐！"><a href="#方法二：hidden-”“，不推荐！" class="headerlink" title="方法二：hidden=”“，不推荐！"></a>方法二：hidden=”Infinity“，不推荐！</h3><p>测试发现，hidden只能在text文本使用，如果在view上是不生效的。</p>
<h2 id="5、定义和调用wxml模板template？独立作用域？——同文件调用（跨文件调用见问题8）"><a href="#5、定义和调用wxml模板template？独立作用域？——同文件调用（跨文件调用见问题8）" class="headerlink" title="5、定义和调用wxml模板template？独立作用域？——同文件调用（跨文件调用见问题8）"></a>5、定义和调用wxml模板template？独立作用域？——同文件调用（跨文件调用见问题8）</h2><p>1）定义wxml模板，用template和name</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;template name=&quot;object&quot;&gt; &lt;!--name属性一定要写--&gt;</span><br><span class="line">  &lt;view&gt;第一个对象&#123;&#123;a&#125;&#125;&lt;/view&gt;</span><br><span class="line">  &lt;view&gt;&#123;&#123;b&#125;&#125;&lt;/view&gt;</span><br><span class="line">  &lt;view&gt;&#123;&#123;name&#125;&#125;&lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>
<p>2）wxml模板调用 ，用is和data</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;template is=&quot;object&quot; data=&quot;&#123;&#123;a:1, b:2&#125;&#125;&quot;&gt;&lt;/template&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">注意：模板template是独立作用域，只能使用这里的data传进来的数据。因此，即便js里的data有设置name的值，也跟template没有任何关系，所以在这里不会显示name的值。</span><br><span class="line"></span><br><span class="line">如果想使用js的data的name值，可以把传进template的数据写成`&lt;template is=&quot;object&quot; data=&quot;&#123;&#123;a:1, b:2, temname: name&#125;&#125;&quot;&gt;&lt;/template&gt;`。</span><br></pre></td></tr></table></figure>
<h2 id="6、九九乘法表（用wx-for和wx-if）？"><a href="#6、九九乘法表（用wx-for和wx-if）？" class="headerlink" title="6、九九乘法表（用wx:for和wx:if）？"></a>6、九九乘法表（用wx:for和wx:if）？</h2><p>因为是嵌套wx:for，所以item可能会搞不清楚是哪一个wx:for的，这种情况建议自定义item的变量名。</p>
<p>1）用wx:for初步显示列表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;view wx:for=&quot;&#123;&#123;[1,2,3,4,5,6,7,8,9]&#125;&#125;&quot; wx:for-item=&quot;i&quot;&gt;</span><br><span class="line">  &lt;view wx:for=&quot;&#123;&#123;[1,2,3,4,5,6,7,8,9]&#125;&#125;&quot; wx:for-item=&quot;j&quot; style=&quot;display:inline-block; width:50rpx;&quot;&gt;</span><br><span class="line">    &#123;&#123;j&#125;&#125;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/view&gt;</span><br></pre></td></tr></table></figure>
<p>2）用wx:if判断输出具体列表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;view wx:for=&quot;&#123;&#123;[1,2,3,4,5,6,7,8,9]&#125;&#125;&quot; wx:for-item=&quot;i&quot;&gt;</span><br><span class="line">  &lt;view wx:for=&quot;&#123;&#123;[1,2,3,4,5,6,7,8,9]&#125;&#125;&quot; wx:for-item=&quot;j&quot; style=&quot;display:inline-block; width:150rpx;&quot;&gt;</span><br><span class="line">    &lt;view wx:if=&quot;&#123;&#123;j&lt;=i&#125;&#125;&quot;&gt;</span><br><span class="line">      &#123;&#123;i&#125;&#125;*&#123;&#123;j&#125;&#125;=&#123;&#123;i*j&#125;&#125;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/view&gt;</span><br></pre></td></tr></table></figure>
<h2 id="7、冒泡事件-和-非冒泡事件？"><a href="#7、冒泡事件-和-非冒泡事件？" class="headerlink" title="7、冒泡事件 和 非冒泡事件？"></a>7、冒泡事件 和 非冒泡事件？</h2><p>1）冒泡示例</p>
<p>wxml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;view id=&quot;outter&quot; bindtap=&quot;outterTap&quot;&gt;</span><br><span class="line">  outter view</span><br><span class="line">  &lt;view id=&quot;middle&quot; bindtap=&quot;middleTap&quot;&gt;</span><br><span class="line">    middle view</span><br><span class="line">    &lt;view id=&quot;inner&quot; bindtap=&quot;innerTap&quot;&gt;</span><br><span class="line">      inner view</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/view&gt;</span><br></pre></td></tr></table></figure>
<p>js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">outterTap:function()&#123; </span><br><span class="line">  console.log(&quot;触发了outter事件&quot;)</span><br><span class="line">&#125;,</span><br><span class="line">middleTap:function()&#123;</span><br><span class="line">  console.log(&quot;触发了middle事件&quot;)</span><br><span class="line">&#125;,</span><br><span class="line">innerTap:function()&#123;</span><br><span class="line">  console.log(&quot;触发了inner事件&quot;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>测试：点击最里层的inner view，在console可以看到同时触发了inner view、middle view、outter view。</p>
<blockquote>
<p>冒泡是怎么一回事？</p>
<p>可以给outter view加一个红色边框<code>style=&quot;border:1px solid red;&quot;</code>，可以看到inner也是包含在outter边框里的。所以一点击就会触发三个事件。而且执行顺序是从里到外。</p>
</blockquote>
<p>2）解决办法</p>
<p>把bindtap改成catchtap，就可以阻止冒泡。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;view id=&quot;outter&quot; bindtap=&quot;outterTap&quot;&gt;</span><br><span class="line">  outter view</span><br><span class="line">  &lt;view id=&quot;middle&quot; catchtap=&quot;middleTap&quot;&gt;</span><br><span class="line">    middle view</span><br><span class="line">    &lt;view id=&quot;inner&quot; catchtap=&quot;innerTap&quot;&gt;</span><br><span class="line">      inner view</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/view&gt;</span><br></pre></td></tr></table></figure>
<h2 id="8、调用template文件import、include——跨文件调用"><a href="#8、调用template文件import、include——跨文件调用" class="headerlink" title="8、调用template文件import、include——跨文件调用"></a>8、调用template文件import、include——跨文件调用</h2><h3 id="8-1-import（拿template模板）"><a href="#8-1-import（拿template模板）" class="headerlink" title="8.1 import（拿template模板）"></a>8.1 import（拿template模板）</h3><p>1）import可在当前文件中使用目标文件定义的<code>&lt;template/&gt;</code>，而且只调用<code>&lt;template/&gt;</code>，其他内容忽略。</p>
<p>index文件夹新建item.wxml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;view&gt;我是item.wxml&lt;/view&gt;</span><br><span class="line">&lt;template name=&quot;item&quot;&gt;</span><br><span class="line">  &lt;text&gt;我是item.wxml里的&#123;&#123;name&#125;&#125;&lt;/text&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>
<p>index.wxml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;import src=&quot;item.wxml&quot;/&gt;</span><br><span class="line">&lt;template is=&quot;item&quot; data=&quot;&#123;&#123;name: &apos;99&apos;&#125;&#125;&quot;/&gt;</span><br></pre></td></tr></table></figure>
<p>测试：输出”我是item.wxml里的99“，没有出现”我是item.wxml“。</p>
<p>2）如果上边例子的item也调用了其他文件c.wxml。</p>
<p>结论是：不能嵌套调用。</p>
<p>c.wxml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;template name=&quot;c&quot;&gt;</span><br><span class="line">  &lt;text&gt;我是c.wxml里的&#123;&#123;pass&#125;&#125;&lt;/text&gt;</span><br><span class="line">&lt;/template</span><br></pre></td></tr></table></figure>
<p>item.wxml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;view&gt;我是item.wxml&lt;/view&gt;</span><br><span class="line">&lt;import src=&quot;c.wxml&quot;/&gt;</span><br><span class="line">&lt;template name=&quot;item&quot;&gt;</span><br><span class="line">  &lt;text&gt;我是item.wxml里的&#123;&#123;name&#125;&#125;&lt;/text&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>
<p>index.wxml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;import src=&quot;item.wxml&quot;/&gt;</span><br><span class="line">&lt;template is=&quot;item&quot; data=&quot;&#123;&#123;name: &apos;99&apos;&#125;&#125;&quot;/&gt;</span><br><span class="line">&lt;template is=&quot;c&quot; data=&quot;&#123;&#123;pass: &apos;12345&apos;&#125;&#125;&quot;/&gt;</span><br></pre></td></tr></table></figure>
<p>测试：发现c.wxml没有生效。</p>
<h3 id="8-2-include（拿-template模板）"><a href="#8-2-include（拿-template模板）" class="headerlink" title="8.2 include（拿 !template模板）"></a>8.2 include（拿 !template模板）</h3><p>1）可以将目标文件除了<code>&lt;template/&gt;</code>的整个代码引入。即与import相反。</p>
<p>index.wxml注解所有代码，新增</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;include src=&quot;item.wxml&quot;/&gt;</span><br><span class="line">&lt;template is=&quot;item&quot; data=&quot;&#123;&#123;name: &apos;99&apos;&#125;&#125;&quot;/&gt;</span><br></pre></td></tr></table></figure>
<p>测试：显示”我是item.wxml“，所有<code>&lt;template/&gt;</code>没有被调用。</p>
<h2 id="9、调用wxss模块"><a href="#9、调用wxss模块" class="headerlink" title="9、调用wxss模块"></a>9、调用wxss模块</h2><p>common/common.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.aaa&#123;</span><br><span class="line">  background: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>pages/index.index.wxss</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;../../common/common.wxss&quot;;  /*要写在文件最上面*/</span><br></pre></td></tr></table></figure>
<p>index.wxml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;view class=&apos;aaa&apos;&gt;调用common.wxss的aaa&lt;/view&gt;</span><br></pre></td></tr></table></figure>
<h2 id="10、滚动切换，用scroll-into-view"><a href="#10、滚动切换，用scroll-into-view" class="headerlink" title="10、滚动切换，用scroll-into-view"></a>10、滚动切换，用scroll-into-view</h2><p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fmzriz66qmg308h0790t1.gif" alt=""></p>
<p>1）wxml，因为scroll-into-view是调用id选择器的，所以相应的给a/b/c加上id。放的是数组，数组的值就是id的值，值的变化就相当于是id的变化。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> &lt;scroll-view scroll-y=&quot;true&quot; class=&apos;flex-wrap&apos; scroll-into-view=&quot;&#123;&#123;toView&#125;&#125;&quot;&gt;</span><br><span class="line">  &lt;view id=&quot;a&quot; &gt;a&lt;/view&gt;</span><br><span class="line">  &lt;view id=&quot;b&quot; &gt;b&lt;/view&gt;</span><br><span class="line">  &lt;view id=&quot;c&quot; &gt;c&lt;/view&gt;</span><br><span class="line">&lt;/scroll-view&gt; </span><br><span class="line">&lt;button bindtap=&apos;tapChange&apos;&gt;切换&lt;/button&gt;</span><br></pre></td></tr></table></figure>
<p>2）wxss</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">.flex-wrap&#123;</span><br><span class="line">  height: 400rpx;</span><br><span class="line">&#125;</span><br><span class="line">.flex-wrap view&#123;</span><br><span class="line">  text-align: center;</span><br><span class="line">  font-size: 40rpx;</span><br><span class="line">  color: white;</span><br><span class="line">&#125;</span><br><span class="line">#a&#123;</span><br><span class="line">  background-color: green;</span><br><span class="line">  height: 100%;</span><br><span class="line">&#125;</span><br><span class="line">#b&#123;</span><br><span class="line">  background-color: red;</span><br><span class="line">  height: 100%;</span><br><span class="line">&#125;</span><br><span class="line">#c&#123;</span><br><span class="line">  background-color: blue;</span><br><span class="line">  height:100%;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3）js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var order = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]; //数组</span><br><span class="line">var index = 0; //初创下标值</span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    toView:&quot;b&quot;,  //给toView数组的默认值，在wxml上表现为id=&quot;b&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  tapChange:function()&#123;</span><br><span class="line">    index++;</span><br><span class="line">    if(index &gt; order.length-1)&#123;</span><br><span class="line">      index = 0;</span><br><span class="line">    &#125;</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      toView: order[index]</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<h2 id="11、swiper动态切换"><a href="#11、swiper动态切换" class="headerlink" title="11、swiper动态切换"></a>11、swiper动态切换</h2><p>1） wxml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;swiper autoplay=&apos;true&apos; interval=&apos;&#123;&#123;inter&#125;&#125;&apos;&gt;</span><br><span class="line">  &lt;swiper-item wx:for=&quot;&#123;&#123;imgUrls&#125;&#125;&quot;&gt;</span><br><span class="line">    &lt;image src=&quot;&#123;&#123;item&#125;&#125;&quot; style=&apos;width:750rpx;&apos;&gt;&lt;/image&gt;</span><br><span class="line">  &lt;/swiper-item&gt;</span><br><span class="line">&lt;/swiper&gt;</span><br><span class="line">&lt;slider bindchange=&quot;intervalChange&quot; show-value min=&quot;2000&quot; max=&quot;5000&quot;/&gt;</span><br></pre></td></tr></table></figure>
<p>2）js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    inter:2000, //轮播切换时间初始值2秒</span><br><span class="line">    imgUrls: [</span><br><span class="line">      &apos;http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg&apos;,</span><br><span class="line">      &apos;http://img06.tooopen.com/images/20160818/tooopen_sy_175866434296.jpg&apos;,</span><br><span class="line">      &apos;http://img06.tooopen.com/images/20160818/tooopen_sy_175833047715.jpg&apos;</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  intervalChange:function(e)&#123;</span><br><span class="line">    console.log(e)</span><br><span class="line">    var sliderValue = e.detail.value;</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      inter: sliderValue</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

    </div>

    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="" target="_blank">by 99</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/posts/74ddd2a3/" class="pre-post btn btn-default"><i class="fa fa-angle-left fa-fw"></i>上一篇</a>
    
    
        <a href="/posts/9207c6ea/" class="next-post btn btn-default">下一篇<i class="fa fa-angle-right fa-fw"></i></a>
    
</div>


    <div id="comments">
        
	
<div id="lv-container" data-id="city" data-uid="MTAyMC8zMzE1My85NzEx">
  <script type="text/javascript">
     (function(d, s) {
         var j, e = d.getElementsByTagName(s)[0];
         if (typeof LivereTower === 'function') { return; }
         j = d.createElement(s);
         j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
         j.async = true;
         e.parentNode.insertBefore(j, e);
     })(document, 'script');
  </script>
</div>


    </div>


            </main>
            
    <aside class="col-md-3 sidebar">
        
        <!-- 
    <div class="widget">
        <h3 class="title">搜索</h3>
        <div id="search-form">
            <div id="result-mask" class="hide"></div>
            <div class="search-area">
                
                    <input id="search-key" type="search" autocomplete="off" placeholder="搜点什么呢?">
                    <button type="button" class="search-form-submit" id="search-local">搜索</button>
                
                
            </div>
            <div id="result-wrap" class="hide">
                <div id="search-result"></div>
            </div>
            <div class="hide">
                <template id="search-tpl">
                    <div class="item">
                        <a href="/{path}" title="{title}">
                            <div class="title">{title}</div>
                            <div class="content">{content}</div>
                        </a>
                    </div>
                </template>
            </div>
        </div>
    </div>
 -->

        
        
    <div class="widget notification">
        <h3 class="title">网站公告</h3>
        <div>
            <p>你好，我是99。<br/>欢迎来到我的博客。<br/>
<br/>
<hr/>接受贡献，包括不限于提交问题与需求，修复代码。欢迎Pull Request<br/>支持主题：<a href="https://github.com/shenliyang/hexo-theme-snippet/stargazers">Star一下</a>
</p>
        </div>
    </div>

        
        
    <div class="widget">
      <h3 class="title">社交</h3> 
        <div class="content social">
            
	            <a href="//github.com/shenliyang" rel="external nofollow" title="Github" target="_blank">
			    	<i class="git fa fa-git"></i>
			    </a>
            
	            <a href="mailto:snippet@91h5.cc" rel="external nofollow" title="邮箱" target="_blank">
			    	<i class="envelope-o fa fa-envelope-o"></i>
			    </a>
            
	            <a href="/" rel="external nofollow" title="联系QQ" target="_blank">
			    	<i class="qq fa fa-qq"></i>
			    </a>
            
	            <a href="/" rel="external nofollow" title="微博" target="_blank">
			    	<i class="weibo fa fa-weibo"></i>
			    </a>
            
	            <a href="/" rel="external nofollow" title="QQ群" target="_blank">
			    	<i class="users fa fa-users"></i>
			    </a>
            
	            <a href="/atom.xml" rel="external nofollow" title="RSS" target="_blank">
			    	<i class="feed fa fa-feed"></i>
			    </a>
            
        </div>
    </div>


        
        
    <div class="widget">
        <h3 class="title">分类</h3>
        <ul class="category-list"><li class="category-list-item"><a class="category-list-link current" href="/categories/ror功能/"><i class="fa" aria-hidden="true">ror功能</i></a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ror知识点/"><i class="fa" aria-hidden="true">ror知识点</i></a><span class="category-list-count">27</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ror系统/"><i class="fa" aria-hidden="true">ror系统</i></a><span class="category-list-count">19</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/web页面/"><i class="fa" aria-hidden="true">web页面</i></a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/"><i class="fa" aria-hidden="true">工具</i></a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/微信小程序/"><i class="fa" aria-hidden="true">微信小程序</i></a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/心得/"><i class="fa" aria-hidden="true">心得</i></a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/投资/"><i class="fa" aria-hidden="true">投资</i></a><span class="category-list-count">1</span></li></ul>
    </div>


        
        
    <div class="widget">
      <h3 class="title">归档</h3>
        <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/"><i class="fa" aria-hidden="true">January 2018</i></a><span class="archive-list-count">30</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/"><i class="fa" aria-hidden="true">December 2017</i></a><span class="archive-list-count">35</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/"><i class="fa" aria-hidden="true">November 2017</i></a><span class="archive-list-count">35</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/"><i class="fa" aria-hidden="true">September 2017</i></a><span class="archive-list-count">1</span></li></ul>
    </div>


        
        
  <div class="widget">
    <h3 class="title">标签云</h3>
    <div class="content tag-cloud">
        <a href="/tags/atom/" style="font-size: 13.64px;">atom</a> <a href="/tags/bug/" style="font-size: 18.18px;">bug</a> <a href="/tags/heroku/" style="font-size: 10px;">heroku</a> <a href="/tags/hexo/" style="font-size: 11.82px;">hexo</a> <a href="/tags/interview/" style="font-size: 10.91px;">interview</a> <a href="/tags/mac/" style="font-size: 11.82px;">mac</a> <a href="/tags/orid-day/" style="font-size: 10px;">orid-day</a> <a href="/tags/orid-month/" style="font-size: 10.91px;">orid-month</a> <a href="/tags/ror功能/" style="font-size: 14.55px;">ror功能</a> <a href="/tags/ror知识点/" style="font-size: 17.27px;">ror知识点</a> <a href="/tags/ror系统/" style="font-size: 19.09px;">ror系统</a> <a href="/tags/stackoverflow/" style="font-size: 10px;">stackoverflow</a> <a href="/tags/typora/" style="font-size: 10px;">typora</a> <a href="/tags/vps/" style="font-size: 16.36px;">vps</a> <a href="/tags/web页面/" style="font-size: 11.82px;">web页面</a> <a href="/tags/下载/" style="font-size: 10px;">下载</a> <a href="/tags/工具/" style="font-size: 20px;">工具</a> <a href="/tags/常用/" style="font-size: 12.73px;">常用</a> <a href="/tags/微信功能/" style="font-size: 12.73px;">微信功能</a> <a href="/tags/微信系统/" style="font-size: 15.45px;">微信系统</a> <a href="/tags/微信页面/" style="font-size: 10.91px;">微信页面</a> <a href="/tags/心得/" style="font-size: 15.45px;">心得</a> <a href="/tags/手机/" style="font-size: 10px;">手机</a> <a href="/tags/投资/" style="font-size: 10px;">投资</a> <a href="/tags/搬砖/" style="font-size: 10px;">搬砖</a> <a href="/tags/核聚编程/" style="font-size: 11.82px;">核聚编程</a> <a href="/tags/科学上网/" style="font-size: 13.64px;">科学上网</a> <a href="/tags/部署/" style="font-size: 12.73px;">部署</a>
    </div>
  </div>


        
        
    <div class="widget">
        <h3 class="title">友链</h3>
        <div class="content friends-link">
        
            <a href="http://www.shenliyang.com" class="fa" target="_blank">个人博客</a>
        
        </div>
    </div>


        
    </aside>


        </div>
      </section>
    </div>
  </div>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <span>Copyright &copy; 2018
                </span> |
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a>
                </span> |
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>



	<script src="/js/search.js?rev=@@hash"></script>


<script src="/js/app.js?rev=@@hash"></script>


</body>
</html>
