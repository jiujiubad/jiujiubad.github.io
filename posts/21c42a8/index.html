<!DOCTYPE HTML>
<html>
<head>
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <link rel="dns-prefetch" href="http://yoursite.com">
    <!--SEO-->



<meta name="robots" content="all" />
<meta name="google" content="all" />
<meta name="googlebot" content="all" />
<meta name="verify" content="all" />
    <!--Title-->


<title>麦子学院-mysql基础视频 | Hexo</title>


    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.4/css/bootstrap.min.css?rev=3.3.4">
<link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    
    <div class="hide">
    	<script src="https://s4.cnzz.com/z_stat.php?id=1263868967&web_id=1263868967" language="JavaScript"></script>
    </div>






    
</head>

<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
  <div class="container-fluid">
    <div class="row">
      <header class="main-header"  style="background-image:url(http://7xpw2b.com1.z0.glb.clouddn.com/hexo-sinppet/img/banner2.jpg)"  >
    <div class="main-header-box">
        <a class="header-avatar" href="/" title="">
            <img src="/img/avatar.jpg" alt="logo头像">
        </a>
        <div class="branding1">
        	<!--<h2 class="text-hide">Snippet主题,从未如此简单有趣</h2>-->
            
                <h2> 记录，把握点滴  ——by 99 </h2>
            
    	</div>
    </div>
</header>

      <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only">Toggle navigation</span>
                    <i class="fa fa-bars"></i>
                    </span>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                            <li role="presentation itit"><a href="/"><i class="fa fa-fw "></i>主页</a>
                            </li>
                        
                            <li role="presentation itit"><a href="/archives/"><i class="fa fa-fw "></i>所有</a>
                            </li>
                        
                            <li role="presentation itit"><a href="/posts/d16694c4/"><i class="fa fa-fw "></i>标题</a>
                            </li>
                        
                            <li role="presentation itit"><a href="/categories/ror系统/"><i class="fa fa-fw "></i>ror系统</a>
                            </li>
                        
                            <li role="presentation itit"><a href="/categories/微信小程序/"><i class="fa fa-fw "></i>微信小程序</a>
                            </li>
                        
                            <li role="presentation itit"><a href="/"><i class="fa fa-fw "></i>关于我</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>

      <section class="content-wra aa99">
        <!-- <div class="row">
          
    <div class="widget" style="padding:0 15px;">
        <div id="search-form" > 
            <div id="result-mask" class="hide"></div>
            <div class="search-area">
                
                    <input id="search-key" type="search" autocomplete="off" placeholder="搜点什么呢?" style="width:100%;border-radius:0;">

                
                
            </div>
            <div id="result-wrap" class="hide" style="padding:0 20px;">
                <div id="search-result"></div>
            </div>
            <div class="hide">
                <template id="search-tpl">
                    <div class="item">
                        <a href="/{path}" title="{title}">
                            <div class="title">{title}</div>
                            <div class="content">{content}</div>
                        </a>
                    </div>
                </template>
            </div>
        </div>
    </div>


        </div> -->
        <div class="row">
            <main class="col-md-9 main-content m-post">
                <p id="process"></p>
<article class="post pp99">
    <div class="post-head">
        <h1 id="麦子学院-mysql基础视频">
            
	            麦子学院-mysql基础视频
            
        </h1>
        <div class="post-meta">
    
    
    <span class="categories-meta fa-wrap">
        <i class="fa fa-folder-open-o"></i>
        <span>ror系统</span>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
            ror系统
            
        </span>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-clock-o"></i>
        <span class="date-meta">2018/03/02</span>
    </span>
</div>

            
            
    </div>
    
    <div class="post-body post-content">
        <h1 id="数据库就是一些常用的命令，你把它记住就可以。"><a href="#数据库就是一些常用的命令，你把它记住就可以。" class="headerlink" title="数据库就是一些常用的命令，你把它记住就可以。"></a>数据库就是一些常用的命令，你把它记住就可以。</h1><h1 id="mysql位置，搜索-usr-local-mysql"><a href="#mysql位置，搜索-usr-local-mysql" class="headerlink" title="mysql位置，搜索/usr/local/mysql"></a>mysql位置，搜索/usr/local/mysql</h1><p>net stop|start mysql156——怎么查看mysql的名字？</p>
<p>mysql -uroot -p -D jiujiu——登录时打开数据库jiujiu（可以）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-- 停止/开始mysql：</span><br><span class="line">net stop|start mysql156——怎么查看mysql的名字？</span><br><span class="line"></span><br><span class="line">-- 登录时打开数据库jiujiu：</span><br><span class="line">mysql -uroot -p jiujiu</span><br><span class="line">SELECT DATABASE();</span><br><span class="line"></span><br><span class="line">-- 查看表</span><br><span class="line">SHOW TABLES;</span><br><span class="line">DESC name; #查看表结构</span><br><span class="line">SELECT * FROM name; #查看表数据</span><br><span class="line">SHOW CREATE TABLE name; #查看表的定义</span><br></pre></td></tr></table></figure>
<h1 id="二、安装及配置"><a href="#二、安装及配置" class="headerlink" title="二、安装及配置"></a>二、安装及配置</h1><h2 id="1、开启"><a href="#1、开启" class="headerlink" title="1、开启"></a>1、开启</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p #开启</span><br><span class="line">net start mysql156</span><br><span class="line"></span><br><span class="line">\s或status #当前服务器状态。其中Server/DB/Clien/Conn characterset要是utf8，否则数据会乱码。</span><br></pre></td></tr></table></figure>
<h2 id="2、配置"><a href="#2、配置" class="headerlink" title="2、配置"></a>2、配置</h2><p>open /etc/ 打开文件目录，新建my.cnf。</p>
<p>修改权限sudo chmod -R 644 /private/etc/my.cnf。</p>
<p>设置编码方式如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[mysql]</span><br><span class="line">default-character-set=utf8</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">character-set-server=utf8</span><br><span class="line">skip-grant-tables</span><br></pre></td></tr></table></figure>
<p>重启mysql。</p>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p><a href="http://blog.csdn.net/mrs_haining/article/details/78953259" target="_blank" rel="noopener">重置密码解决MySQL for Linux错误 ERROR 1045 (28000): Access denied for user ‘root’@’localhost’ (using passwo</a></p>
<h2 id="3、登录退出"><a href="#3、登录退出" class="headerlink" title="3、登录退出"></a>3、登录退出</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p #登录。其中-u是用户名，-p是密码</span><br><span class="line"></span><br><span class="line">退出：</span><br><span class="line">\q</span><br><span class="line">exit</span><br><span class="line">quit</span><br><span class="line">ctrl+c</span><br><span class="line"></span><br><span class="line">mysql -hlocalhost -uroot -p #-h是服务器名称</span><br><span class="line">mysql -h127.0.0.1-uroot -p</span><br><span class="line"></span><br><span class="line">-P，端口号</span><br><span class="line">-D，打开指定数据库</span><br><span class="line">--promote=name，设置命令提示符</span><br><span class="line">DELIMITER //，指定分隔符为比如//</span><br><span class="line">-V，输出版本信息并退出</span><br></pre></td></tr></table></figure>
<h1 id="三、sql语句规范"><a href="#三、sql语句规范" class="headerlink" title="三、sql语句规范"></a>三、sql语句规范</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -proot --prompt=mysql #修改mysql命令提示符</span><br><span class="line">prompt mysql&gt; #修改命令提示符</span><br><span class="line"></span><br><span class="line">\D，完整的日期</span><br><span class="line">\d，当前数据库</span><br><span class="line">\h，服务器名称</span><br><span class="line">\u，当前用户名</span><br><span class="line"></span><br><span class="line">SELECT VERSION(); 显示当前版本</span><br><span class="line">SELECT NOW(); 显示当前时间</span><br><span class="line">SELECT USER(); 显示当前用户</span><br><span class="line"></span><br><span class="line">关键字与函数名称，全部大写</span><br><span class="line">数据库名称、表名称、字段名称，全部小写</span><br><span class="line">sql语句必须以分隔符结尾，即;或\</span><br><span class="line">数据库名称、表名称、字段名称等尽量不要使用mql的保留字，如果需要使用的时候，要用反引号(``)把名称括起来</span><br><span class="line"></span><br><span class="line">\T 位置  #保存文件</span><br></pre></td></tr></table></figure>
<h1 id="四、数据库的相关操作"><a href="#四、数据库的相关操作" class="headerlink" title="四、数据库的相关操作"></a>四、数据库的相关操作</h1><p>以下命令中，所以的DATABAS都可以改用SCHEMA</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">\T /Users/apple/99/mysql/mysql99.txt</span><br><span class="line"></span><br><span class="line">CREATE DATABASE jiujiu; #创建数据库</span><br><span class="line">CREATE DATABASE IF NOT EXISTS jiujiu;</span><br><span class="line">CREATE DATABASE IF NOT EXISTS jiujiu DEFAULT CHARACTER SET = &apos;GBK&apos;;</span><br><span class="line"></span><br><span class="line">SHOW WARNINGS; #查看警告信息</span><br><span class="line">SHOW DATABASES; #查看已有数据库</span><br><span class="line">SHOW CREATE DATABASE name #查看数据库的编码方式</span><br><span class="line">ALTER DATABASE name DEFAULT CHARACTER SET = UTF8; #修改数据库的编码方式</span><br><span class="line"></span><br><span class="line">USE name; #打开数据库</span><br><span class="line">SELECT DATABASE(); #获得当前打开数据库的名称</span><br><span class="line"></span><br><span class="line">DROP DATABASE name #删除数据库</span><br><span class="line">DROP DATABASE IF EXISTS name</span><br></pre></td></tr></table></figure>
<h1 id=""><a href="#" class="headerlink" title="==========================="></a>===========================</h1><h1 id="五、数据表-数据类型"><a href="#五、数据表-数据类型" class="headerlink" title="五、数据表|数据类型"></a>五、数据表|数据类型</h1><p>一张excel表相当于一个数据库。excel就相当于数据库管理软件。</p>
<p>数据表至少要有一列，或者说一定要有表结构。</p>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p>不用记，忘了可以查手册，三种方法查手册：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">help tinyint</span><br><span class="line">? INT</span><br><span class="line">\h INT</span><br></pre></td></tr></table></figure>
<p>整数，常用TINYINT、INT、BIGINT、布尔类型用TINYINT(1)。SMALLINT、MEDIUMINT。</p>
<p>浮点数，FLOAT（单点）、DOUBLE（双点如-1.79E+308）、DECIMAL（定点，内部以字符串存储）。</p>
<p>字符串。</p>
<ul>
<li>CHAR，定长。<ul>
<li>无论存一个字符，还是五个字符，占用的都是五个字符大小。</li>
<li>所以，定长字符串，占用空间大，速度快。</li>
</ul>
</li>
<li>VARCHAR，变长（L+2)。<ul>
<li>根据实际存储内容来决定大小。</li>
<li>所以，变长字符串，占用空间小，速度慢。</li>
</ul>
</li>
<li>TINITEXT</li>
<li>TEXT，不能有默认值。<ul>
<li>数据检索的效率CHAR&gt;VARVHAR&gt;TEXT，所以能不用TEXT的尽量不用</li>
</ul>
</li>
<li>MEDIUMTEXT</li>
<li>LONGTEXT</li>
<li>ENUM<ul>
<li>枚举，插入值的时候，只能从中选一个值</li>
<li>mysql保存的时候是保存每个值的序号，而不是保存它们的值。</li>
</ul>
</li>
<li>SET<ul>
<li>可以从集合中选择多个值</li>
</ul>
</li>
</ul>
<p>日期时间类型。</p>
<ul>
<li>TIME<ul>
<li>范围-838:59:59到838:59:59，3个字节。</li>
</ul>
</li>
<li>DATE<ul>
<li>范围1000-01-01到9999-12-31，3个字节。</li>
</ul>
</li>
<li><strong>YEAR，最常用</strong><ul>
<li>范围1901到2155，1个字节。</li>
</ul>
</li>
<li>DATETIME<ul>
<li>范围1000-01-01 00:00:00到9999-12-31 23:59:59，8个字节。</li>
</ul>
</li>
<li>TIMESTAMP<ul>
<li>范围1970-01-01 00:00:01到2038-01-19 03:14:07，4个字节。</li>
<li>DATETIME和TIMESTAMP，都是用来存储日期加时间的，但是DATETIME范围更大。</li>
</ul>
</li>
</ul>
<p>二进制类型，用在保存视频、图片格式，用的比较少。一般我们保存的是视频、图片的路径。</p>
<p>比如一个报名表，要给每个栏位选择最合适的数据类型。</p>
<h1 id="六、存储引擎"><a href="#六、存储引擎" class="headerlink" title="六、存储引擎"></a>六、存储引擎</h1><p>存储引擎是指表的数据类型。</p>
<p>同个数据库可以使用多种存储引擎的表。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">SHOW ENGINES\G;  #查看存储引擎</span><br><span class="line"></span><br><span class="line">查看结果如下：</span><br><span class="line">Engine: PERFORMANCE_SCHEMA</span><br><span class="line">Support: YES #mysql是否支持这种引擎</span><br><span class="line">Comment: Performance Schema #对这个存储引擎的评论或注释</span><br><span class="line">Transactions: NO #是否支持事务处理</span><br><span class="line">          XA: NO #是否是分布式处理的XA处理规范</span><br><span class="line">  Savepoints: NO #是否支持保存点</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">SHOW VARIABLES LIKE &apos;have%&apos;; #查看显示支持的存储引擎信息</span><br><span class="line">SHOW VARIABLES LIKE &apos;strong_engine&apos;; #查看默认的存储引擎</span><br></pre></td></tr></table></figure>
<p>常用的存储引擎：</p>
<p>1）InnoDB，创建frm和ibd。</p>
<p>优点是：</p>
<ul>
<li>事物、回滚、修复、多版本并发控制</li>
<li>支持外键元素</li>
<li>创建储存表从表结构是存储在.sr文件中</li>
</ul>
<p>缺点是：</p>
<ul>
<li>读取效率较低</li>
<li>占用空间较大</li>
</ul>
<blockquote>
<p>如果对事物完整性要求较高，要实现并发控制，或需要频繁更新删除操作的数据库。默认就是用InnoDB。</p>
</blockquote>
<p>2）MyISAM</p>
<p>优点是：</p>
<ul>
<li>创建表是存储成三个文件。frm存储表结构、MYD存储数据、MYI存储索引。</li>
<li>静态型、动态型、压缩型。</li>
<li>占用空间小，处理速度快。</li>
</ul>
<p>缺点是：</p>
<ul>
<li>没有完整性、安全性、没有并发处理</li>
</ul>
<blockquote>
<p>主要用于插入和读取记录，但是不支持事物，对数据的并发性和完整性要求较低。</p>
</blockquote>
<p>3）MEMORY</p>
<p>特点是：</p>
<ul>
<li>所有数据存放在内存中，速度快，类型也是FM结构。</li>
<li>默认哈希索引，速度较快</li>
</ul>
<p>缺点是：</p>
<ul>
<li>服务器必须要有足够的内存</li>
<li>重启或关机后数据就会消失</li>
<li>很少使用到，一般都是一次性使用</li>
</ul>
<blockquote>
<p>要求速度快，且对安全性要求低的时候。而且MEMORY生命周期短，用于一次性的比较合适。且不能建立太大的表。</p>
</blockquote>
<h1 id="七、数据表的创建"><a href="#七、数据表的创建" class="headerlink" title="七、数据表的创建"></a>七、数据表的创建</h1><p>1）建议在编辑器里写命令，然后复制到终端执行。</p>
<p>2）注解用<code>-- 空格接注释内容</code></p>
<p>3）用``来写名称，可以防止名称和mysql的关键字冲突引起错误。</p>
<p>4）当需要输入中文的时候，需要临时转换客户端的编码方式，SET NAMES GBK;</p>
<p>5）给字段注释，通过COMMENT ‘注释内容’</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">-- 创建数据库</span><br><span class="line">CREATE DATABASE IF NOT EXISTS `jiujiu` DEFAULT CHARACTER SET &apos;UTF8&apos;;</span><br><span class="line">USE `jiujiu`;</span><br><span class="line"></span><br><span class="line">-- 创建学员表（user）</span><br><span class="line">-- 当需要输入中文的时候，需要临时转换客户端的编码方式，SET NAMES GBK;</span><br><span class="line">-- 给字段注释，通过COMMENT &apos;注释内容&apos;</span><br><span class="line">CREATE TABLE IF NOT EXISTS `user`(</span><br><span class="line">id SMALLINT,</span><br><span class="line">username VARCHAR(20),</span><br><span class="line">age TINYINT,</span><br><span class="line">sex ENUM(&apos;男&apos;,&apos;女&apos;,&apos;保密&apos;),</span><br><span class="line">email VARCHAR(50),</span><br><span class="line">addr VARCHAR(200),</span><br><span class="line">birth YEAR,</span><br><span class="line">salary FLOAT(8,2),</span><br><span class="line">tel INT,</span><br><span class="line">married TINYINT(1) COMMENT &apos;0代表结婚，非0代表未结婚&apos;</span><br><span class="line">)ENGINE=INNODB CHARSET=UTF8;</span><br><span class="line"></span><br><span class="line">-- 创建课程表course</span><br><span class="line">CREATE TABLE IF NOT EXISTS course(</span><br><span class="line">cid TINYINT,</span><br><span class="line">courseName VARCHAR(50),</span><br><span class="line">courseDesc VARCHAR(200)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SHOW TABLES; #查看数据表</span><br><span class="line">DESC name; #查看指定表的结构</span><br></pre></td></tr></table></figure>
<h3 id="作业："><a href="#作业：" class="headerlink" title="作业："></a>作业：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-- 作业：</span><br><span class="line"></span><br><span class="line">-- 创建新闻分类表cms_cate</span><br><span class="line">-- 编号、分类名称、分类描述</span><br><span class="line"></span><br><span class="line">-- 创建新闻表cms_news</span><br><span class="line">-- 编号、新闻标题、新闻内容、新闻发布时间、点击量、是否置顶</span><br></pre></td></tr></table></figure>
<h1 id="八、测试整数-浮点数"><a href="#八、测试整数-浮点数" class="headerlink" title="八、测试整数|浮点数"></a>八、测试整数|浮点数</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-- 查看指定表的结构：</span><br><span class="line">DESC name;</span><br><span class="line">DESCRIBE name;</span><br><span class="line">SHOW COLUMNS FROM name;</span><br><span class="line"></span><br><span class="line">-- 查询表中所有记录</span><br><span class="line">SELECT * FROM name;</span><br><span class="line"></span><br><span class="line">-- 插入数据，可以指明字段名称，如果没有指明则每个字段都要给值</span><br><span class="line">INSERT name VALUE|VALUES(值,...);</span><br></pre></td></tr></table></figure>
<h2 id="1、整数"><a href="#1、整数" class="headerlink" title="1、整数"></a>1、整数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE test1(</span><br><span class="line">num1 TINYINT,</span><br><span class="line">num2 SMALLINT,</span><br><span class="line">num3 MEDIUMINT,</span><br><span class="line">num4 INT,</span><br><span class="line">num5 BIGINT</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">DESC test1;</span><br><span class="line"></span><br><span class="line">INSERT test1 VALUES(-128,-32768,-8388608,-2147483648,-922337203684775808);</span><br><span class="line">SELECT * FROM test1;</span><br><span class="line"></span><br><span class="line">-- 无符号，UNSIGNED（意思是不能为负）</span><br><span class="line">CREATE TABLE test2(</span><br><span class="line">num1 TINYINT UNSIGNED,</span><br><span class="line">num2 TINYINT</span><br><span class="line">);</span><br><span class="line">在终端运行</span><br><span class="line">INSERT test2 VALUES(0,-12); #这是正确的</span><br><span class="line">INSERT test2 VALUES(-10,-12); #这是错误的</span><br><span class="line">SELECT * FROM test2;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 什么叫显示长度呢？必须配合上零填充ZEROFILL</span><br><span class="line">CREATE TABLE test3(</span><br><span class="line">num1 TINYINT ZEROFILL,</span><br><span class="line">num2 SMALLINT ZEROFILL,</span><br><span class="line">num3 MEDIUMINT ZEROFILL,</span><br><span class="line">num4 INT ZEROFILL,</span><br><span class="line">num5 BIGINT ZEROFILL</span><br><span class="line">);</span><br><span class="line">DESC test3; #运行发现，会自动加上unsigned无符号、zerofill零填充。</span><br><span class="line">INSERT test3 VALUES(1,1,1,1,1); #现在每一个都达不到查看DESC name;时的显示长度</span><br><span class="line">SELECT * FROM test3; #发现会自动在前面补零</span><br></pre></td></tr></table></figure>
<h2 id="2、浮点"><a href="#2、浮点" class="headerlink" title="2、浮点"></a>2、浮点</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE test4(</span><br><span class="line">num1 FLOAT(6,2),</span><br><span class="line">num2 DOUBLE(6,2),</span><br><span class="line">num3 DECIMAL(6,2)</span><br><span class="line">);</span><br><span class="line">DESC test4;</span><br><span class="line">INSERT test4 VALUES(3.2495,3.2495,3.2495);</span><br><span class="line">INSERT test4 VALUES(3.1415,3.1415,3.1415);</span><br><span class="line">SHOW WARNINGS; #因为保留小数点后两位，所以有警告。</span><br><span class="line">SELECT * FROM test4; #结果为(3.25,3.25,3.25)，小数点后两位，且四舍五入。</span><br><span class="line"></span><br><span class="line">不管是单浮点，还是双浮点，都有精度问题，而且根据平台不同精度也不同，所以不要比较或查询两个浮点数。</span><br><span class="line">但定点数就不一样，内部是以字符串来存储的。定点数的精度比较高，而前两种都涉及到四舍五入。</span><br><span class="line">SELECT * FROM test4 WHERE num1=&apos;3.14&apos;; #空</span><br><span class="line">SELECT * FROM test4 WHERE num2=&apos;3.14&apos;; #空</span><br><span class="line">SELECT * FROM test4 WHERE num3=&apos;3.14&apos;; #有结果</span><br></pre></td></tr></table></figure>
<h1 id="九、测试字符串CHAR-VARCHAR-TEXT"><a href="#九、测试字符串CHAR-VARCHAR-TEXT" class="headerlink" title="九、测试字符串CHAR|VARCHAR|TEXT"></a>九、测试字符串CHAR|VARCHAR|TEXT</h1><p>字符串的特点，整理在第五章。</p>
<h2 id="1、定长CHAR和变长VARCHAR字符串"><a href="#1、定长CHAR和变长VARCHAR字符串" class="headerlink" title="1、定长CHAR和变长VARCHAR字符串"></a>1、定长CHAR和变长VARCHAR字符串</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">-- 测试CHAR和VARCHAR</span><br><span class="line">CREATE TABLE IF NOT EXISTS test5(</span><br><span class="line">str1 CHAR(5),</span><br><span class="line">str2 VARCHAR(5)</span><br><span class="line">);</span><br><span class="line">INSERT test5 VALUES(&apos;1&apos;,&apos;1&apos;);</span><br><span class="line">SELECT * FROM test5;</span><br><span class="line">INSERT test5 VALUES(&apos;123456&apos;,&apos;123456&apos;); #报错，超过5个字符</span><br><span class="line"></span><br><span class="line">INSERT test5 VALUES(&apos;1  &apos;,&apos;1  &apos;); #报错，超过5个字符</span><br><span class="line">SELECT CONCAT(str1,&apos;-&apos;),CONCAT(str2,&apos;-&apos;) FROM test5; #在1后面加一个-，看它是否有空格</span><br><span class="line">发现，CHAR的空格默认被去掉，而VARCHAR没有去掉。</span><br><span class="line"></span><br><span class="line">INSERT test5 VALUES(&apos;  a&apos;,&apos;  a&apos;);</span><br><span class="line">SELECT CONCAT(&apos;-&apos;,str1),CONCAT(&apos;-&apos;,str2) FROM test5;</span><br><span class="line">发现两个的空格都没被去掉。</span><br><span class="line"></span><br><span class="line">INSERT test5 VALUES(&apos;啊&apos;,&apos;啊&apos;);</span><br><span class="line">SELECT * FROM test5;  #写入中文成功</span><br><span class="line"></span><br><span class="line">SELECT LENGTH(&apos;啊&apos;); #utf8下，中文字占用长度3个</span><br><span class="line">SELECT CHAR_LENGTH(&apos;啊&apos;); #得到字符数，是1个字符</span><br><span class="line">所以</span><br><span class="line">INSERT test5 VALUES(&apos;啊啊啊啊啊&apos;,&apos;啊啊啊啊啊&apos;); #也是可以</span><br></pre></td></tr></table></figure>
<h2 id="2、TEXT"><a href="#2、TEXT" class="headerlink" title="2、TEXT"></a>2、TEXT</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE test6(</span><br><span class="line">str1 TEXT</span><br><span class="line">);</span><br><span class="line">DESC test6;</span><br><span class="line">INSERT test6 VALUES(&apos;fdjaskfdlksa放大法大赛分懂啊分fdsfdasf&apos;);</span><br><span class="line">SELECT * FROM test6;</span><br></pre></td></tr></table></figure>
<h1 id="十、测试字符串ENUM-SET"><a href="#十、测试字符串ENUM-SET" class="headerlink" title="十、测试字符串ENUM|SET"></a>十、测试字符串ENUM|SET</h1><h2 id="1、枚举类型ENUM"><a href="#1、枚举类型ENUM" class="headerlink" title="1、枚举类型ENUM"></a>1、枚举类型ENUM</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">-- 测试枚举类型</span><br><span class="line">CREATE TABLE IF NOT EXISTS test7(</span><br><span class="line">sex ENUM(&apos;男&apos;,&apos;女&apos;,&apos;保密  &apos;)</span><br><span class="line">);</span><br><span class="line">INSERT test7 VALUES(&apos;男  &apos;);</span><br><span class="line">INSERT test7 VALUES(&apos;女  &apos;);</span><br><span class="line">INSERT test7 VALUES(&apos;保密  &apos;);</span><br><span class="line"></span><br><span class="line">SELECT * FROM test7;</span><br><span class="line"></span><br><span class="line">INSERT test7 VALUES(&apos;保密1  &apos;); # 报错，因为只能从列表中列举的值里选一个</span><br><span class="line"></span><br><span class="line">也可以写成序号</span><br><span class="line">INSERT test7 VALUES(2);</span><br><span class="line">SELECT * FROM test7;</span><br><span class="line">INSERT test7 VALUES(0); #序号不能为0，只能从1开始</span><br><span class="line"></span><br><span class="line">特殊，NULL也可以，因为</span><br><span class="line">DESC test7; #可以看到DEFAULT是NULL</span><br><span class="line">所以</span><br><span class="line">INSERT test7 VALUES(NULL); #成功</span><br><span class="line">SELECT * FROM test7;</span><br><span class="line"></span><br><span class="line">再测试空字符</span><br><span class="line">INSERT test7 VALUES(&apos;&apos;); #报错，因为列表中没有&apos;&apos;</span><br></pre></td></tr></table></figure>
<h2 id="2、集合类型SET"><a href="#2、集合类型SET" class="headerlink" title="2、集合类型SET"></a>2、集合类型SET</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">-- 测试集合类型</span><br><span class="line">CREATE TABLE IF NOT EXISTS test8(</span><br><span class="line">fav SET(&apos;A&apos;,&apos;B&apos;,&apos;C&apos;,&apos;D&apos;)</span><br><span class="line">);</span><br><span class="line">DESC test8;</span><br><span class="line">INSERT test8 VALUES(&apos;A,C,D&apos;); #检索出来的顺序是ACD</span><br><span class="line">INSERT test8 VALUES(&apos;D,B,A&apos;); #检索出来的顺序是ABD</span><br><span class="line">SELECT * FROM test8;</span><br><span class="line"></span><br><span class="line">但是mysql在保存这些值，是用二进制，即保存A,B,C,D分别是用1、2、4、8。</span><br><span class="line">所以，可以用值来写</span><br><span class="line">INSERT test8 VALUES(&apos;3&apos;); #</span><br><span class="line">SELECT * FROM test8; #结果是插入A,B</span><br><span class="line">INSERT test8 VALUES(&apos;15&apos;);</span><br><span class="line">SELECT * FROM test8; #结果是插入A,B,C,D</span><br></pre></td></tr></table></figure>
<h1 id="十一、测试时间类型YEAR-TIME"><a href="#十一、测试时间类型YEAR-TIME" class="headerlink" title="十一、测试时间类型YEAR|TIME"></a>十一、测试时间类型YEAR|TIME</h1><h2 id="1、YEAR"><a href="#1、YEAR" class="headerlink" title="1、YEAR"></a>1、YEAR</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">-- 测试YEAR</span><br><span class="line">CREATE TABLE IF NOT EXISTS test9(</span><br><span class="line">birth YEAR</span><br><span class="line">);</span><br><span class="line">INSERT test9 VALUES(1901);</span><br><span class="line">INSERT test9 VALUES(2155);</span><br><span class="line">SELECT * FROM test9;</span><br><span class="line"></span><br><span class="line">INSERT test9 VALUES(2156); #报错</span><br><span class="line"></span><br><span class="line">用字符串时</span><br><span class="line">INSERT test9 VALUES(&apos;1988&apos;); #成功</span><br><span class="line"></span><br><span class="line">用两位数字时</span><br><span class="line">INSERT test9 VALUES(12); #成功，结果是2012</span><br><span class="line">INSERT test9 VALUES(79); #成功，结果是1979</span><br><span class="line">00-69之间，会转换成2000-2069</span><br><span class="line">70-99之间，会转换成1970-1999</span><br><span class="line"></span><br><span class="line">用0时</span><br><span class="line">INSERT test9 VALUES(0); #成功，结果是0000</span><br><span class="line">INSERT test9 VALUES(&apos;0&apos;); #成功，结果是2000</span><br><span class="line">INSERT test9 VALUES(&apos;00&apos;); #成功，结果是2000</span><br></pre></td></tr></table></figure>
<h2 id="2、TIME"><a href="#2、TIME" class="headerlink" title="2、TIME"></a>2、TIME</h2><p>用3个字节来保存时间的。</p>
<p>mysql的时间是用天数加上小时，分钟秒来组成的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">-- 测试日期时间</span><br><span class="line">CREATE TABLE IF NOT EXISTS test10(</span><br><span class="line">test TIME</span><br><span class="line">);</span><br><span class="line">INSERT test10 VALUES(&apos;1 12:12:12&apos;);</span><br><span class="line">SELECT * FROM test10; #结果是36:12:12</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">INSERT test10 VALUES(&apos;11:11&apos;);</span><br><span class="line">SELECT * FROM test10; #结果是11:11:00</span><br><span class="line"></span><br><span class="line">INSERT test10 VALUES(&apos;1234&apos;);</span><br><span class="line">SELECT * FROM test10; #结果是00:12:34</span><br><span class="line"></span><br><span class="line">INSERT test10 VALUES(&apos;12&apos;);</span><br><span class="line">SELECT * FROM test10; #结果是00:00:12</span><br><span class="line"></span><br><span class="line">INSERT test10 VALUES(&apos;0&apos;);</span><br><span class="line">SELECT * FROM test10; #结果是00:00:00</span><br><span class="line"></span><br><span class="line">INSERT test10 VALUES(0);</span><br><span class="line">SELECT * FROM test10; #结果是00:00:00</span><br><span class="line"></span><br><span class="line">INSERT test10 VALUES(&apos;66&apos;); #报错，超出了范围</span><br></pre></td></tr></table></figure>
<h2 id="3、DATE"><a href="#3、DATE" class="headerlink" title="3、DATE"></a>3、DATE</h2><p>DATE是用3个字节来表示日期，存储范围是1000-01-01到9999-12-31。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">? DATE</span><br><span class="line"></span><br><span class="line">CREATE TABLE IF NOT EXISTS test11(</span><br><span class="line">test DATE</span><br><span class="line">);</span><br><span class="line">INSERT test11 VALUES(&apos;12-6-7&apos;);</span><br><span class="line">SELECT * FROM test11; #结果是2012-06-07</span><br><span class="line"></span><br><span class="line">INSERT test11 VALUES(&apos;1267&apos;); #报错</span><br><span class="line"></span><br><span class="line">INSERT test11 VALUES(&apos;12 6 7&apos;); #报错</span><br><span class="line"></span><br><span class="line">INSERT test11 VALUES(&apos;12/6/7&apos;);</span><br><span class="line">SELECT * FROM test11; #结果是2012-06-07</span><br><span class="line"></span><br><span class="line">INSERT test11 VALUES(&apos;120607&apos;);</span><br><span class="line">SELECT * FROM test11; #结果是2012-06-07</span><br><span class="line"></span><br><span class="line">INSERT test11 VALUES(&apos;12@6/7&apos;);</span><br><span class="line">SELECT * FROM test11; #结果是2012-06-07</span><br></pre></td></tr></table></figure>
<h1 id="十二、测试主键约束"><a href="#十二、测试主键约束" class="headerlink" title="十二、测试主键约束"></a>十二、测试主键约束</h1><p>创建数据表时，完整的约束条件：</p>
<ul>
<li>主键，PRIMARY KEY<ul>
<li>像身份证一样做唯一标识符的作用，可以从多个张三中识别具体那一个。</li>
<li>每个表都会有且只有一个主键或复合主键</li>
<li>一般建在无意义的字段上，且不能出现重复的值，且非空。如编号id</li>
</ul>
</li>
<li>自增长，AUTO_INCREMENT<ul>
<li>从1，每次加1。自增长只对整数有效果，对字符串没有意义。</li>
<li>一个表只能有一个自增长字段</li>
<li><strong>自增长字段一定要配合主键使用</strong>，即自增长一定是主键（但主键不一定是自增长）</li>
</ul>
</li>
<li>外键，FOREIGN KEY</li>
<li>非空，NOT NULL<ul>
<li>如用户名和密码</li>
</ul>
</li>
<li>唯一，UNIRUE<ul>
<li>一个表可以有多个唯一</li>
<li>唯一字段的值不能出现重复，除了NULL</li>
</ul>
</li>
<li>默认值，DEFAULT</li>
</ul>
<h2 id="1、PRIMARY-KEY或简写成KEY"><a href="#1、PRIMARY-KEY或简写成KEY" class="headerlink" title="1、PRIMARY KEY或简写成KEY"></a>1、PRIMARY KEY或简写成KEY</h2><p>– 查看创建表的定义</p>
<p>SHOW CREATE TABLE user1;</p>
<p>– 测试单字段主键</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE IF NOT EXISTS user1(</span><br><span class="line">id INT PRIMARY KEY, #这里可以简写成KEY</span><br><span class="line">username VARCHAR(20)</span><br><span class="line">);</span><br><span class="line">DESC user1; #Null为NO，Key是PRI</span><br><span class="line"></span><br><span class="line">SHOW CREATE TABLE user1;</span><br><span class="line"></span><br><span class="line">插入id和用户名，只要id不重复就不会报错：</span><br><span class="line">INSERT user1 VALUES(1,&apos;king&apos;);</span><br><span class="line">INSERT user1 VALUES(12,&apos;QUEEN&apos;);</span><br><span class="line">INSERT user1 VALUES(12,&apos;QUEEN&apos;); #报错</span><br><span class="line">SELECT * FROM user1;</span><br><span class="line">SELECT * FROM user1 WHERE id=1;</span><br></pre></td></tr></table></figure>
<p>– 测试多字段主键</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE IF NOT EXISTS user2(</span><br><span class="line">id INT,</span><br><span class="line">username VARCHAR(20),</span><br><span class="line">card CHAR(18),</span><br><span class="line">PRIMARY KEY(id,card)</span><br><span class="line">);</span><br><span class="line">DESC user2; #发现Key字段有两个PRI</span><br><span class="line">INSERT user2 VALUES(1,&apos;king&apos;,&apos;111&apos;);</span><br><span class="line">SELECT * FROM user2;</span><br><span class="line"></span><br><span class="line">id重复但card不重复</span><br><span class="line">INSERT user2 VALUES(1,&apos;queen&apos;,&apos;112&apos;);  #成功</span><br><span class="line"></span><br><span class="line">INSERT user2 VALUES(1,&apos;queen&apos;,&apos;112&apos;); #报错，两个字段都重复了</span><br></pre></td></tr></table></figure>
<h1 id="十三、测试自增长约束"><a href="#十三、测试自增长约束" class="headerlink" title="十三、测试自增长约束"></a>十三、测试自增长约束</h1><h2 id="1、AUTO-INCREMENT"><a href="#1、AUTO-INCREMENT" class="headerlink" title="1、AUTO_INCREMENT"></a>1、AUTO_INCREMENT</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE IF NOT EXISTS user5(</span><br><span class="line">id SMALLINT KEY AUTO_INCREMENT,</span><br><span class="line">username VARCHAR(20)</span><br><span class="line">);</span><br><span class="line">DESC user5; #Extra一列出现AUTO_INCREMENT</span><br><span class="line"></span><br><span class="line">INSERT user5 VALUES(1,&apos;king&apos;);</span><br><span class="line">INSERT user5(username) VALUES(&apos;queen&apos;);</span><br><span class="line">SELECT * FROM user5; #发现会为queen自动添加id为2</span><br><span class="line"></span><br><span class="line">INSERT user5 VALUES(111,&apos;king1&apos;);</span><br><span class="line">INSERT user5(username) VALUES(&apos;queen1&apos;);</span><br><span class="line">SELECT * FROM user5; #发现会为queen自动添加id为112</span><br><span class="line"></span><br><span class="line">SHOW CREATE TABLE user5; #看到AUTO_INCREMENT=113，即当你再插入一个没有编码的记录时它的值就是自增长的值113</span><br><span class="line"></span><br><span class="line">当id为NULL时，也会自增长：</span><br><span class="line">INSERT user5 VALUES(NULL,&apos;AAAA&apos;);</span><br><span class="line">SELECT * FROM user5; #id为113</span><br><span class="line"></span><br><span class="line">当id为DEFAULT时，也会自增长：</span><br><span class="line">INSERT user5 VALUES(DEFAULT,&apos;AAAA&apos;);</span><br><span class="line">SELECT * FROM user5; #id为114</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">也可以在建表时指定自增长值：</span><br><span class="line">CREATE TABLE IF NOT EXISTS user6(</span><br><span class="line">id SMALLINT KEY AUTO_INCREMENT,</span><br><span class="line">username VARCHAR(20)</span><br><span class="line">)AUTO_INCREMENT=100;</span><br><span class="line"></span><br><span class="line">SHOW CREATE TABLE user6; #看到AUTO_INCREMENT=100，即编号从100开始</span><br><span class="line">INSERT user6(username) VALUES(&apos;queen1&apos;);</span><br><span class="line">SELECT * FROM user6;</span><br><span class="line"></span><br><span class="line">也可以修改自增长的值：</span><br><span class="line">ALTER TABLE user6 AUTO_INCREMENT = 500;</span><br><span class="line">SHOW CREATE TABLE user6; #看到AUTO_INCREMENT=500，即编号从500开始</span><br></pre></td></tr></table></figure>
<h1 id="十四、非空约束"><a href="#十四、非空约束" class="headerlink" title="十四、非空约束"></a>十四、非空约束</h1><h2 id="1、NOT-NULL"><a href="#1、NOT-NULL" class="headerlink" title="1、NOT NULL"></a>1、NOT NULL</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE IF NOT EXISTS user7(</span><br><span class="line">id INT UNSIGNED KEY AUTO_INCREMENT, #无符号、主键、自增长</span><br><span class="line">username VARCHAR(20) NOT NULL,</span><br><span class="line">password CHAR(32) NOT NULL,</span><br><span class="line">age TINYINT UNSIGNED</span><br><span class="line">);</span><br><span class="line">DESC user7; #发现主键id自动为空，username和password设置NOT NULL也是为空，age默认为空</span><br><span class="line"></span><br><span class="line">INSERT user7(username,password) VALUE(&apos;KING&apos;,&apos;KING&apos;);</span><br><span class="line">SELECT * FROM user7; #发现age是Null</span><br><span class="line"></span><br><span class="line">INSERT user7(username,password,age) VALUE(&apos;KING&apos;,&apos;KING&apos;,18);</span><br><span class="line">SELECT * FROM user7; #发现age是18</span><br><span class="line"></span><br><span class="line">INSERT user7(username,password) VALUE(NULL,NULL); #报错，不能为空</span><br></pre></td></tr></table></figure>
<h1 id="十五、默认值约束"><a href="#十五、默认值约束" class="headerlink" title="十五、默认值约束"></a>十五、默认值约束</h1><h2 id="1、DEFAULT"><a href="#1、DEFAULT" class="headerlink" title="1、DEFAULT"></a>1、DEFAULT</h2><p>一般NOT NULL会配合默认值来使用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE IF NOT EXISTS user8(</span><br><span class="line">id INT UNSIGNED KEY AUTO_INCREMENT, #无符号、主键、自增长</span><br><span class="line">username VARCHAR(20) NOT NULL,</span><br><span class="line">password CHAR(32) NOT NULL,</span><br><span class="line">age TINYINT UNSIGNED DEFAULT 18,</span><br><span class="line">addr VARCHAR(50) NOT NULL DEFAULT &apos;北京&apos;,</span><br><span class="line">sex ENUM(&apos;男&apos;,&apos;女&apos;,&apos;保密&apos;) NOT NULL DEFAULT &apos;男&apos;</span><br><span class="line">);</span><br><span class="line">DESC user8; #发现age可以为空但是有默认值18，addr不能为空但是有默认值北京，sex同addr</span><br><span class="line"></span><br><span class="line">INSERT user8(username,password) VALUES(&apos;KING&apos;,&apos;KING&apos;);</span><br><span class="line">SELECT * FROM user8; #发现我们没有传值时用的是默认age、addr、sex</span><br><span class="line"></span><br><span class="line">INSERT user8 VALUES(2,&apos;QUENN&apos;,&apos;QUEEN&apos;,29,&apos;上海&apos;,&apos;保密&apos;);</span><br><span class="line">INSERT user8 VALUES(3,&apos;QUENN&apos;,&apos;QUEEN&apos;,DEFAULT,DEFAULT,&apos;保密&apos;);</span><br></pre></td></tr></table></figure>
<h1 id="十六、唯一性约束"><a href="#十六、唯一性约束" class="headerlink" title="十六、唯一性约束"></a>十六、唯一性约束</h1><h2 id="1、UNIRUE"><a href="#1、UNIRUE" class="headerlink" title="1、UNIRUE"></a>1、UNIRUE</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE IF NOT EXISTS user9(</span><br><span class="line">id TINYINT UNSIGNED KEY AUTO_INCREMENT, #无符号、主键、自增长</span><br><span class="line">username VARCHAR(20) NOT NULL UNIQUE,</span><br><span class="line">card CHAR(18) UNIQUE</span><br><span class="line">);</span><br><span class="line">DESC user9;</span><br><span class="line">SHOW CREATE TABLE user9;</span><br><span class="line"></span><br><span class="line">INSERT user9(username) VALUES(&apos;A&apos;);</span><br><span class="line">INSERT user9(username) VALUES(&apos;A&apos;); #报错</span><br><span class="line">SELECT * FROM user9;</span><br><span class="line"></span><br><span class="line">特殊NULL不算重复</span><br><span class="line">INSERT user9(username,card) VALUES(&apos;B1&apos;,NULL);</span><br><span class="line">INSERT user9(username,card) VALUES(&apos;B2&apos;,NULL); #成功</span><br></pre></td></tr></table></figure>
<h1 id="十七、重命名数据表"><a href="#十七、重命名数据表" class="headerlink" title="十七、重命名数据表"></a>十七、重命名数据表</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">第一种：</span><br><span class="line">ALTER TABLE user9 RENAME user10; #这里省略了TO或AS</span><br><span class="line">SHOW TABLES;</span><br><span class="line"></span><br><span class="line">第二种：</span><br><span class="line">RENAME TABLE user9 TO user10;</span><br><span class="line">SHOW TABLES;</span><br></pre></td></tr></table></figure>
<h1 id="十八、添加-删除表字段"><a href="#十八、添加-删除表字段" class="headerlink" title="十八、添加|删除表字段"></a>十八、添加|删除表字段</h1><p>– 添加字段</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE user9 ADD card1 CHAR(18);</span><br><span class="line">DESC user9;</span><br><span class="line"></span><br><span class="line">ALTER TABLE user9 ADD s1 VARCHAR(100) NOT NULL;</span><br><span class="line">DESC user9;</span><br><span class="line"></span><br><span class="line">以上默认添加到最后，可以指定要添加的位置FIRST，如下：</span><br><span class="line">ALTER TABLE user9 ADD test2 VARCHAR(100) NOT NULL FIRST;</span><br><span class="line">DESC user9;</span><br><span class="line"></span><br><span class="line">添加到某一栏位之后AFTER XXXX：</span><br><span class="line">ALTER TABLE user9 ADD test3 VARCHAR(100) NOT NULL AFTER username;</span><br><span class="line">DESC user9;</span><br><span class="line"></span><br><span class="line">选中一次表，完成多个操作：</span><br><span class="line">ALTER TABLE user9</span><br><span class="line">ADD test4 INT NOT NULL DEFAULT 123 AFTER card,</span><br><span class="line">ADD test5 FLOAT(6,2) FIRST,</span><br><span class="line">ADD test6 SET(&apos;A&apos;,&apos;B&apos;);</span><br><span class="line">DESC user9;</span><br></pre></td></tr></table></figure>
<p>–删除字段</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE user9 DROP test6;</span><br><span class="line"></span><br><span class="line">选中一次表，完成多个操作：</span><br><span class="line">ALTER TABLE user9</span><br><span class="line">DROP test4,</span><br><span class="line">DROP test2,</span><br><span class="line">ADD test4 INT NOT NULL DEFAULT 123 AFTER card,</span><br><span class="line">ADD test5 FLOAT(6,2) FIRST;</span><br></pre></td></tr></table></figure>
<h1 id="十九、修改表字段"><a href="#十九、修改表字段" class="headerlink" title="十九、修改表字段"></a>十九、修改表字段</h1><p>MODIFY，修改字段类型、属性、位置。</p>
<p>CHANGE，修改比MODIFY多一个功能，可以修改字段名称。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-- 把test字段修改为CHAR(32) DEFAULT &apos;123&apos; 移动到第一个位置</span><br><span class="line">ALTER TABLE user9 MODIFY test CHAR(32) DEFAULT &apos;123&apos; FIRST;</span><br><span class="line"></span><br><span class="line">-- 把test字段改为test1</span><br><span class="line">ALTER TABLE user9 CHANGE test test1 CHAR(32) DEFAULT &apos;123&apos;;</span><br></pre></td></tr></table></figure>
<h1 id="二十、添加-删除默认值"><a href="#二十、添加-删除默认值" class="headerlink" title="二十、添加|删除默认值"></a>二十、添加|删除默认值</h1><p>SET DEFAULT</p>
<p>DROP DEFAULT</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE IF NOT EXISTS user11(</span><br><span class="line">id TINYINT UNSIGNED KEY AUTO_INCREMENT,</span><br><span class="line">username VARCHAR(20) NOT NULL UNIQUE,</span><br><span class="line">age TINYINT UNSIGNED</span><br><span class="line">);</span><br><span class="line">DESC user11;</span><br><span class="line"></span><br><span class="line">ALTER TABLE user11 ALTER age SET DEFAULT 18;</span><br><span class="line">DESC user11;</span><br><span class="line"></span><br><span class="line">ALTER TABLE user11 ALTER age DROP DEFAULT;</span><br><span class="line">DESC user11;</span><br></pre></td></tr></table></figure>
<h1 id="二一、添加-删除主键"><a href="#二一、添加-删除主键" class="headerlink" title="二一、添加|删除主键"></a>二一、添加|删除主键</h1><p>ADD KEY</p>
<p>DROP KEY</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">-- 添加主键</span><br><span class="line">CREATE TABLE IF NOT EXISTS user12(</span><br><span class="line">id INT</span><br><span class="line">);</span><br><span class="line">DESC user12;</span><br><span class="line"></span><br><span class="line">ALTER TABLE test12 ADD PRIMARY KEY(id);</span><br><span class="line">DESC user12;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 添加复合主键</span><br><span class="line">CREATE TABLE IF NOT EXISTS user13(</span><br><span class="line">id INT,</span><br><span class="line">card CHAR(18),</span><br><span class="line">username VARCHAR(20) NOT NULL</span><br><span class="line">);</span><br><span class="line">DESC user13;</span><br><span class="line"></span><br><span class="line">ALTER TABLE user13 ADD PRIMARY KEY(id,card);</span><br><span class="line">DESC user13;</span><br><span class="line"></span><br><span class="line">-- 删除主键</span><br><span class="line">ALTER TABLE user13 DROP PRIMARY KEY;</span><br><span class="line">DESC user13;</span><br><span class="line"></span><br><span class="line">-- 删除主键时的问题：如果主键有自增长，那么删除前要用MODIFY改成UNSIGNED，然后再删除主键</span><br><span class="line">CREATE TABLE IF NOT EXISTS user14(</span><br><span class="line">id INT UNSIGNED KEY AUTO_INCREMENT #id是主键，而且是自增长的</span><br><span class="line">);</span><br><span class="line">DESC user14;</span><br><span class="line">ALTER TABLE user14 MODIFY id INT UNSIGNED;</span><br><span class="line">ALTER TABLE user14 DROP PRIMARY KEY;</span><br><span class="line">DESC user14;</span><br></pre></td></tr></table></figure>
<h1 id="二二、添加-删除唯一（索引）及其他"><a href="#二二、添加-删除唯一（索引）及其他" class="headerlink" title="二二、添加|删除唯一（索引）及其他"></a>二二、添加|删除唯一（索引）及其他</h1><h2 id="1、添加-删除索引"><a href="#1、添加-删除索引" class="headerlink" title="1、添加|删除索引"></a>1、添加|删除索引</h2><p>ADD UNIQUE</p>
<p>DROP UNIQUE</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">-- 添加索引</span><br><span class="line">ALTER TABLE user13 ADD UNIQUE(username);</span><br><span class="line">SHOW CREATE TABLE user13;</span><br><span class="line"></span><br><span class="line">-- 添加带索引名称的索引</span><br><span class="line">ALTER TABLE user13 ADD UNIQUE uni_username(username); #在card的字段上添加，索引名称是uni_card</span><br><span class="line"></span><br><span class="line">-- 添加复合索引MUL</span><br><span class="line">ALTER TABLE user13 ADD UNIQUE uni_id_username(id,username);</span><br><span class="line">DESC user13; #看到复合唯一索引MUL</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 删除索引</span><br><span class="line">ALTER TABLE user13 DROP KEY uni_id_username;</span><br></pre></td></tr></table></figure>
<h2 id="2、修改表的存储引擎"><a href="#2、修改表的存储引擎" class="headerlink" title="2、修改表的存储引擎"></a>2、修改表的存储引擎</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SHOW CREATE TABLE user13; #默认ENGINE=InnoDB</span><br><span class="line"></span><br><span class="line">ALTER TABLE user13 ENGINE=MyISAM;</span><br></pre></td></tr></table></figure>
<h2 id="3、修改自增长的值"><a href="#3、修改自增长的值" class="headerlink" title="3、修改自增长的值"></a>3、修改自增长的值</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE user13 AUTO_INCREMENT=100;</span><br><span class="line">SHOW CREATE TABLE user13;</span><br></pre></td></tr></table></figure>
<h3 id="关于表结构相关的命令到这里就介绍完了。以后可以通过工具可以很快速的实现，但是最好还是先把这些命令敲熟，记住了就会写。"><a href="#关于表结构相关的命令到这里就介绍完了。以后可以通过工具可以很快速的实现，但是最好还是先把这些命令敲熟，记住了就会写。" class="headerlink" title="关于表结构相关的命令到这里就介绍完了。以后可以通过工具可以很快速的实现，但是最好还是先把这些命令敲熟，记住了就会写。"></a>关于表结构相关的命令到这里就介绍完了。以后可以通过工具可以很快速的实现，但是最好还是先把这些命令敲熟，记住了就会写。</h3><h1 id="二三、删除数据表"><a href="#二三、删除数据表" class="headerlink" title="二三、删除数据表"></a>二三、删除数据表</h1><p>可以用命令删，也可以停止mysql服务后在文件夹里删</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">SHOW TABLES;</span><br><span class="line">DROP TABLE user12;</span><br><span class="line"></span><br><span class="line">让它不报错，而是产生警告：</span><br><span class="line">DROP TABLE if EXISTS user12;</span><br><span class="line">SHOW WARNINGS;</span><br><span class="line"></span><br><span class="line">一次删除多张表：</span><br><span class="line">DROP TABLE if EXISTS user11,suer10,user9;</span><br><span class="line">SHOW TABLES;</span><br><span class="line"></span><br><span class="line">删除的多张表时，如果有的不存在，那么只会删除存在的那些表：</span><br><span class="line">DROP TABLE if EXISTS user1111111,suer10,user9;</span><br><span class="line">SHOW WARNINGS;</span><br></pre></td></tr></table></figure>
<h1 id="-1"><a href="#-1" class="headerlink" title="============================="></a>=============================</h1><h1 id="二四、插入记录"><a href="#二四、插入记录" class="headerlink" title="二四、插入记录"></a>二四、插入记录</h1><h2 id="这部分学习对表中数据的操作。"><a href="#这部分学习对表中数据的操作。" class="headerlink" title="这部分学习对表中数据的操作。"></a>这部分学习对表中数据的操作。</h2><ul>
<li>首先是<strong>『DML操作』</strong>，即对数据的增、删、改。<ul>
<li>插入，INSERT name VALUES(…)</li>
<li>更新，UPDATE name SET ..=.. WHERE ..</li>
<li>删除，DELETE FROM name WHERE..</li>
</ul>
</li>
<li>接着是<strong>『DQL操作』</strong>，即查询。</li>
</ul>
<p>INSERT</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE IF NOT EXISTS user15(</span><br><span class="line">id INT UNSIGNED KEY AUTO_INCREMENT, #无符号、主键、自增长</span><br><span class="line">username VARCHAR(20) NOT NULL,</span><br><span class="line">password CHAR(32) NOT NULL,</span><br><span class="line">age TINYINT UNSIGNED DEFAULT 18,</span><br><span class="line">addr VARCHAR(50) NOT NULL DEFAULT &apos;北京&apos;,</span><br><span class="line">sex ENUM(&apos;男&apos;,&apos;女&apos;,&apos;保密&apos;) NOT NULL DEFAULT &apos;男&apos;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- 1、插入每个栏位的值</span><br><span class="line">INSERT user15 VALUES(1,&apos;KING&apos;,&apos;KING&apos;,18,&apos;KING@gmail.com&apos;,&apos;男&apos;);</span><br><span class="line">SELECT * FROM user15;</span><br><span class="line"></span><br><span class="line">-- 2、插入指定栏位的值</span><br><span class="line">INSERT user15(username,password) VALUES(&apos;A&apos;,&apos;AAA&apos;);</span><br><span class="line">SELECT * FROM user15;</span><br><span class="line"></span><br><span class="line">-- 3、一次插入多条记录</span><br><span class="line">INSERT user15 VALUES(3,&apos;KING&apos;,&apos;KING&apos;,18,&apos;KING@gmail.com&apos;,&apos;男&apos;),(4,&apos;QING&apos;,&apos;QING&apos;,28,&apos;QING@gmail.com&apos;,&apos;女&apos;);</span><br><span class="line">SELECT * FROM user15;</span><br><span class="line"></span><br><span class="line">-- 4、通过SET插入</span><br><span class="line">INSERT user15 SET id=5,username=&apos;WING&apos;,password=&apos;WING&apos;,age=18,addr=&apos;WING@gmail.com&apos;,sex=&apos;男&apos;;</span><br><span class="line">SELECT * FROM user15;</span><br><span class="line"></span><br><span class="line">-- 5、把查询结果插入到表中</span><br><span class="line">CREATE TABLE IF NOT EXISTS user16(</span><br><span class="line">iid INT UNSIGNED KEY AUTO_INCREMENT, #无符号、主键、自增长</span><br><span class="line">uuname VARCHAR(18) NOT NULL</span><br><span class="line">);</span><br><span class="line">INSERT user16 SELECT id,username FROM user15; #把user15的id和username插入到user16</span><br><span class="line">SELECT * FROM user16;</span><br><span class="line"></span><br><span class="line">错误的写法：字段数不一致</span><br><span class="line">INSERT user16 SELECT * FROM user15; #报错</span><br></pre></td></tr></table></figure>
<h1 id="二五、更新-删除记录"><a href="#二五、更新-删除记录" class="headerlink" title="二五、更新|删除记录"></a>二五、更新|删除记录</h1><h2 id="1、UPDATE"><a href="#1、UPDATE" class="headerlink" title="1、UPDATE"></a>1、UPDATE</h2><p>学习<strong>『DML增删改操作』</strong>。</p>
<p>如果不写where，那么表中所有的数据都将被更新。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM user15;</span><br><span class="line"></span><br><span class="line">-- 1、把表中所有用户年龄更新为8</span><br><span class="line">UPDATE user15 SET age=8; #</span><br><span class="line">SELECT * FROM user15;</span><br><span class="line"></span><br><span class="line">-- 2、同时修改多个栏位（没写where，会更新表中所有数据）</span><br><span class="line">UPDATE user15 SET age=18,sex=&apos;女&apos;;</span><br><span class="line"></span><br><span class="line">-- 3、用where来指定修改某些记录</span><br><span class="line">UPDATE user15 SET age=38,sex=&apos;男&apos; WHERE id=1;</span><br><span class="line"></span><br><span class="line">-- 4、用条件式来更新</span><br><span class="line">UPDATE user15 SET age=age-5 WHERE id&gt;2;</span><br><span class="line"></span><br><span class="line">-- 5、更新为默认值</span><br><span class="line">UPDATE user15 SET age=DEFAULT;</span><br></pre></td></tr></table></figure>
<p>等讲了SELECT后，where条件会有很多，包括排序ORDER BY、限制条数LIMIT等。</p>
<h2 id="2、DELETE"><a href="#2、DELETE" class="headerlink" title="2、DELETE"></a>2、DELETE</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM user15;</span><br><span class="line"></span><br><span class="line">-- 1、删除表中所有记录</span><br><span class="line">DELETE FROM user16; #!!!!一定要谨慎</span><br><span class="line"></span><br><span class="line">-- 2、用where来指定删除某些</span><br><span class="line">DELETE FROM user15 WHERE id=1;</span><br><span class="line"></span><br><span class="line">-- 3、当有AUTO_INCREMENT时，需要重置，否则会从它的值继续延续</span><br><span class="line">ALTER TABLE user15 AUTO_INCREMENT=1;</span><br><span class="line"></span><br><span class="line">-- 4、彻底清空（删除记录，并重置自增长的值）。但是不能用where指定。</span><br><span class="line">TRUNCATE TABLE user14;</span><br></pre></td></tr></table></figure>
<h1 id="二六、SELECT查询-给表和字段起别名"><a href="#二六、SELECT查询-给表和字段起别名" class="headerlink" title="二六、SELECT查询|给表和字段起别名"></a>二六、SELECT查询|给表和字段起别名</h1><p>学习<strong>『DQL查询操作』</strong>。</p>
<p><strong>是最重要的</strong>，也是内容比较多的。</p>
<p>1）最简单的单表查询用法如下：</p>
<ul>
<li><p>SELECT FROM name</p>
</li>
<li><p>WHERE 条件</p>
</li>
<li><p>GROUP BY 对查询结果进行分组</p>
</li>
<li><p>HAVING 对分组结果进行二次筛选</p>
</li>
<li><p>ORDER BY 对筛选的结果进行排序</p>
</li>
<li><p>LIMIT 限制显示的条数</p>
</li>
</ul>
<p>2）查询表达式：</p>
<ul>
<li>*，代表所有列/字段</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">粘贴已给的cms数据库</span><br><span class="line"></span><br><span class="line">-- 1、查询所有栏位</span><br><span class="line">SHOW TABLES;</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_admin; #*，表示查询所有的列。效率低。</span><br><span class="line"></span><br><span class="line">SELECT cms_admin.* FROM cms_admin;</span><br><span class="line"></span><br><span class="line">-- 2、查询某些栏位</span><br><span class="line"></span><br><span class="line">SELECT id,username FROM cms_admin;</span><br><span class="line"></span><br><span class="line">SELECT username,id,role FROM cms_admin;</span><br><span class="line"></span><br><span class="line">-- 3、表来自于哪个数据库下db_name.tbl_name</span><br><span class="line">SELECT id,username,role FROM cms.cms_admin;</span><br><span class="line"></span><br><span class="line">-- 4、字段来自于哪张表</span><br><span class="line"></span><br><span class="line">SELECT cms_admin.id,cms_admin.username FROM cms.cms_admin;</span><br><span class="line"></span><br><span class="line">-- 5、给表名起别名，一般不超过两个字母</span><br><span class="line"></span><br><span class="line">SELECT id,username FROM cms_admin AS a; #不建议省略AS</span><br><span class="line"></span><br><span class="line">SELECT id,username FROM cms_admin a;</span><br><span class="line"></span><br><span class="line">SELECT a.id,a.username,a.email,a.role FROM cms_admin AS a;</span><br><span class="line"></span><br><span class="line">-- 6、给字段起别名</span><br><span class="line"></span><br><span class="line">SELECT id AS &apos;编号&apos;,username AS &apos;用户名&apos;,email AS &apos;邮箱&apos;,role &apos;角色&apos; FROM cms_admin;</span><br><span class="line"></span><br><span class="line">SELECT a.id AS i,a.username AS u,a.email as e,a.role AS r FROM cms_admin AS a;</span><br><span class="line"></span><br><span class="line">SELECT id AS proId,proId AS id,username FROM cms_user;</span><br><span class="line"></span><br><span class="line">SELECT 1,2,3,4,5,id,username FROM cms_user;</span><br></pre></td></tr></table></figure>
<h1 id="表查询的几种用法："><a href="#表查询的几种用法：" class="headerlink" title="=====================表查询的几种用法："></a>=====================表查询的几种用法：</h1><h1 id="二七、WHERE查询条件-比较"><a href="#二七、WHERE查询条件-比较" class="headerlink" title="二七、WHERE查询条件*比较"></a>二七、WHERE查询条件*比较</h1><p>哪些情况下可以用WHERD？</p>
<ul>
<li>比较<ul>
<li>＞、＜、＝、≥、&lt;=&gt;等</li>
</ul>
</li>
<li>指定范围<ul>
<li>BETWEEN 。。 AND 。。</li>
</ul>
</li>
<li>指定集合<ul>
<li>IN(..,..)</li>
</ul>
</li>
<li>模糊查询<ul>
<li>LIKE</li>
</ul>
</li>
<li>是否为控制<ul>
<li>IS NULL</li>
</ul>
</li>
<li>逻辑运算符<ul>
<li>AND、OR</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">-- WHERE条件</span><br><span class="line">-- 1、查询编号为1的用户</span><br><span class="line">SELECT id,username,email FROM cms_user WHERE id=1;</span><br><span class="line"></span><br><span class="line">SELECT id,username,email FROM cms_user WHERE username=&apos;king&apos;;</span><br><span class="line"></span><br><span class="line">-- 查询编号不为1的用户</span><br><span class="line">SELECT  * FROM cms_user WHERE id!=1;</span><br><span class="line"></span><br><span class="line">SELECT  * FROM cms_user WHERE id&lt;&gt;1; #也是不等于的意思</span><br><span class="line"></span><br><span class="line">-- 2、添加age字段</span><br><span class="line">ALTER TABLE cms_user ADD age TINYINT UNSIGNED DEFAULT 18;</span><br><span class="line"></span><br><span class="line">INSERT cms_user(username,password,regTime,proId,age)</span><br><span class="line"></span><br><span class="line">VALUES(&apos;test1&apos;,&apos;test1&apos;,1419811708,1,NULL);</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user;</span><br><span class="line"></span><br><span class="line">-- 3、查询表中记录age值为NULL</span><br><span class="line">SELECT * FROM cms_user WHERE age=NULL; #实际有但无法查到。</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user WHERE age&lt;=&gt;NULL; #与等号=的作用一样，但是有检测是否为NULL的作用</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user WHERE age&lt;=&gt;18;</span><br><span class="line"></span><br><span class="line">-- 4、IS NULL 或者IS NOT NULL</span><br><span class="line">SELECT * FROM cms_user WHERE age IS NULL;</span><br></pre></td></tr></table></figure>
<h1 id="二八、WHERE查询条件-指定范围BETWEEN-AND-指定集合IN"><a href="#二八、WHERE查询条件-指定范围BETWEEN-AND-指定集合IN" class="headerlink" title="二八、WHERE查询条件*指定范围BETWEEN AND|指定集合IN"></a>二八、WHERE查询条件*指定范围BETWEEN AND|指定集合IN</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">-- 1、范围查询。编号在3~10之间的用户</span><br><span class="line">SELECT * FROM cms_user WHERE id BETWEEN 3 AND 10;</span><br><span class="line"></span><br><span class="line">-- 2、集合查询。编号为1，3，5，7，9，11，13，100</span><br><span class="line">SELECT * FROM cms_user WHERE id IN(1,3,5,7,9,11,13,100,1000);</span><br><span class="line"></span><br><span class="line">-- 查询proId为1 和3的用户</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user WHERE proId IN(1,3);</span><br><span class="line"></span><br><span class="line">-- 查询用户名为king,queen,张三，章子怡的记录</span><br><span class="line">SELECT * FROM cms_user WHERE username IN(&apos;king&apos;,&apos;queen&apos;,&apos;张三&apos;,&apos;章子怡&apos;);</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user WHERE username IN(&apos;KinG&apos;,&apos;QUEEN&apos;,&apos;张三&apos;,&apos;章子怡&apos;); #结果发现，查询时忽略大小写</span><br></pre></td></tr></table></figure>
<h1 id="二九、WHERE查询条件-模糊查询LIKE"><a href="#二九、WHERE查询条件-模糊查询LIKE" class="headerlink" title="二九、WHERE查询条件*模糊查询LIKE"></a>二九、WHERE查询条件*模糊查询LIKE</h1><p>– 模糊查询</p>
<p>– %:代表0个一个或者多个任意字符</p>
<p>– _:代表1个任意字符</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">-- 1、查询姓张的用户</span><br><span class="line">SELECT * FROM cms_user WHERE username LIKE &apos;张%&apos;;</span><br><span class="line"></span><br><span class="line">-- 2、查询用户名中包含in的用户</span><br><span class="line">SELECT * FROM cms_user WHERE username LIKE &apos;%in%&apos;;</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user WHERE username LIKE &apos;%&apos;; #相当于查询所有记录</span><br><span class="line"></span><br><span class="line">-- 3、查询用户名为3位的用户</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user WHERE username LIKE &apos;___&apos;;</span><br><span class="line"></span><br><span class="line">-- 用户名_i%</span><br><span class="line">SELECT * FROM cms_user WHERE username LIKE &apos;_I%&apos;;</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user WHERE username LIKE &apos;king&apos;;</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user WHERE username NOT LIKE &apos;_I%&apos;;</span><br></pre></td></tr></table></figure>
<p>三十、WHERE查询条件*逻辑运算符</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">-- 1、查询用户名为king并且密码为king的用户</span><br><span class="line">SELECT * FROM cms_user WHERE username=&apos;king&apos; AND password=&apos;king&apos;;</span><br><span class="line"></span><br><span class="line">-- 查询编号大于等于3的变量年龄不为NULL的用户</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user WHERE id&gt;=3 AND age IS NOT NULL;</span><br><span class="line"></span><br><span class="line">-- 查询编号大于等于3的变量年龄不为NULL的用户 并且proId为的3</span><br><span class="line">SELECT * FROM cms_user WHERE id&gt;=3 AND age IS NOT NULL AND proId=3;</span><br><span class="line"></span><br><span class="line">-- 查询编号在5~10的用户并且用户名为4位的用户</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user WHERE id BETWEEN 5 AND 10 AND username LIKE &apos;____&apos;;</span><br><span class="line"></span><br><span class="line">-- 2、查询用户名以张开始或者用户所在身份为2,4的记录</span><br><span class="line">SELECT * FROM cms_user WHERE username LIKE &apos;张%&apos; OR proId IN(2,4);</span><br></pre></td></tr></table></figure>
<h3 id="作业：-1"><a href="#作业：-1" class="headerlink" title="作业："></a>作业：</h3><p>1）大家自己写一些条件，把能用到的这些都用进去，自己尝试一下，需要多写。</p>
<h1 id="三一、GROUP-BY-分组查询"><a href="#三一、GROUP-BY-分组查询" class="headerlink" title="三一、GROUP BY 分组查询"></a>三一、GROUP BY 分组查询</h1><p>会把字段或值相同的放在一个组里。</p>
<p>分组后只会显示组中的第一条记录。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">-- 1、按照用户所属省份分组proId</span><br><span class="line">SELECT * FROM cms_user GROUP BY proId; # 只显示5条记录，分别是5个省份的第一条记录</span><br><span class="line"></span><br><span class="line">-- 2、向用户表中添加性别字段</span><br><span class="line"></span><br><span class="line">ALTER TABLE cms_user ADD sex ENUM(&apos;男&apos;,&apos;女&apos;,&apos;保密&apos;);</span><br><span class="line"></span><br><span class="line">UPDATE cms_user SET sex=&apos;男&apos; WHERE id IN(1,3,5,7,9);</span><br><span class="line"></span><br><span class="line">UPDATE cms_user SET sex=&apos;女&apos; WHERE id IN(2,4,6,8,10);</span><br><span class="line"></span><br><span class="line">UPDATE cms_user SET sex=&apos;女&apos; WHERE id IN(2,4,6,8,10);</span><br><span class="line"></span><br><span class="line">UPDATE cms_user SET sex=&apos;保密&apos; WHERE id IN(12,11);</span><br><span class="line"></span><br><span class="line">-- 按照用户性别分组</span><br><span class="line">SELECT * FROM cms_user GROUP BY sex;</span><br><span class="line"></span><br><span class="line">-- 按照字段在表中的位置（数字）分组</span><br><span class="line">SELECT * FROM cms_user GROUP BY 7; #7对应的是省份</span><br><span class="line"></span><br><span class="line">-- 3、按照多个字段分组</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user GROUP BY sex,proId;</span><br><span class="line"></span><br><span class="line">-- 4、查询编号大于等于5的用户按照sex分组</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user WHERE id&gt;=5 GROUP BY sex;</span><br></pre></td></tr></table></figure>
<h1 id="三二、GROUP-BY-配合-GROUP-CONCAT-得到分组详情"><a href="#三二、GROUP-BY-配合-GROUP-CONCAT-得到分组详情" class="headerlink" title="三二、GROUP BY 配合 GROUP_CONCAT 得到分组详情"></a>三二、GROUP BY 配合 GROUP_CONCAT 得到分组详情</h1><p>1）配合 GROUP_CONCAT 得到分组详情</p>
<p>2）配合聚合函数：</p>
<ul>
<li>COUNT()</li>
<li>MAX()</li>
<li>MIN()</li>
<li>AVG()</li>
<li>SUM()</li>
</ul>
<p>3）配合 WITH ROLLUP 记录上面所有记录的总和。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">-- 1、一个栏位详情。查询id,sex,用户名详情按照性别分组</span><br><span class="line">SELECT id,sex,GROUP_CONCAT(username) FROM cms_user GROUP BY sex; #按性别分组，得到栏位username的详情</span><br><span class="line"></span><br><span class="line">-- 2、多个栏位详情。查询proId，性别详情，注册时间详情，用户名详情 安装proId</span><br><span class="line">SELECT proId,GROUP_CONCAT(username),GROUP_CONCAT(sex),GROUP_CONCAT(regTime)</span><br><span class="line">FROM cms_user GROUP BY proId\G; #用\G显示更整洁</span><br><span class="line"></span><br><span class="line">UPDATE cms_user SET age=11 WHERE id=1;</span><br><span class="line">UPDATE cms_user SET age=21 WHERE id=2;</span><br><span class="line">UPDATE cms_user SET age=33 WHERE id=3;</span><br><span class="line">UPDATE cms_user SET age=44 WHERE id=4;</span><br><span class="line">UPDATE cms_user SET age=25 WHERE id=5;</span><br><span class="line">UPDATE cms_user SET age=77 WHERE id=6;</span><br><span class="line">UPDATE cms_user SET age=56 WHERE id=7;</span><br><span class="line">UPDATE cms_user SET age=88 WHERE id=8;</span><br><span class="line">UPDATE cms_user SET age=12 WHERE id=9;</span><br><span class="line">UPDATE cms_user SET age=32 WHERE id=10;</span><br><span class="line">UPDATE cms_user SET age=65 WHERE id=11;</span><br><span class="line">SELECT * FROM cms_user;</span><br><span class="line"></span><br><span class="line">-- 3、查询编号,sex,用户名详情以及组中总人数按照sex分组</span><br><span class="line"></span><br><span class="line">SELECT id,sex,GROUP_CONCAT(username)AS users,COUNT(*) AS totalUsers FROM cms_user GROUP BY sex; #用*号，统计表中的所有数据</span><br><span class="line"></span><br><span class="line">-- 统计表中所有记录</span><br><span class="line"></span><br><span class="line">SELECT COUNT(*) AS totalUsers FROM cms_user;</span><br><span class="line"></span><br><span class="line">SELECT COUNT(id) AS totalUsers FROM cms_user;</span><br><span class="line"></span><br><span class="line">-- COUNT(字段)不统计NULL值</span><br><span class="line">SELECT COUNT(age) AS totalUsers FROM cms_user;</span><br><span class="line"></span><br><span class="line">-- 4、查询编号,性别,用户名详情，组中总人数，组中最大年龄，最小年龄，平均年龄，以及年龄总和按照性别分组</span><br><span class="line"></span><br><span class="line">SELECT id,sex,GROUP_CONCAT(username),</span><br><span class="line">COUNT(*) AS totalUsers,</span><br><span class="line">MAX(age) AS max_age,</span><br><span class="line">MIN(age) AS min_age,</span><br><span class="line">AVG(age) AS avg_age,</span><br><span class="line">SUM(age) AS sum_age</span><br><span class="line">FROM cms_user</span><br><span class="line">GROUP BY sex;</span><br><span class="line"></span><br><span class="line">-- 5、WITH ROLLUP，在表格最后一行统计所有记录值的总和</span><br><span class="line">SELECT id,sex,</span><br><span class="line">COUNT(*) AS totalUsers,</span><br><span class="line">MAX(age) AS max_age,</span><br><span class="line">MIN(age) AS min_age,</span><br><span class="line">SUM(age) AS sum_age</span><br><span class="line">FROM cms_user</span><br><span class="line">GROUP BY sex WITH ROLLUP;</span><br></pre></td></tr></table></figure>
<h1 id="三三、HAVING-对分组结果进行二次筛选"><a href="#三三、HAVING-对分组结果进行二次筛选" class="headerlink" title="三三、HAVING 对分组结果进行二次筛选"></a>三三、HAVING 对分组结果进行二次筛选</h1><p>HAVING 和 WHERE 差不多，前者是对分组结果进行二次筛选，后者是对分组进行一次筛选。</p>
<p>HAVING 只能在分组之后使用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">-- 查询性别sex,用户名详情,组中总人数，最大年龄，年龄总和,根据性别分组</span><br><span class="line">SELECT sex,GROUP_CONCAT(username) AS users,</span><br><span class="line">COUNT(*) AS totalUsers,</span><br><span class="line">MAX(age) AS max_age,</span><br><span class="line">SUM(age) AS sum_age</span><br><span class="line">FROM cms_user</span><br><span class="line">GROUP BY sex;</span><br><span class="line"></span><br><span class="line">-- 1、查询组中人数大于2的</span><br><span class="line">SELECT sex,GROUP_CONCAT(username) AS users,</span><br><span class="line">COUNT(*) AS totalUsers,</span><br><span class="line">MAX(age) AS max_age,</span><br><span class="line">SUM(age) AS sum_age</span><br><span class="line">FROM cms_user</span><br><span class="line">GROUP BY sex</span><br><span class="line">HAVING COUNT(*)&gt;2;</span><br><span class="line"></span><br><span class="line">-- 查询组中人数大于2并且最大年龄大于60的</span><br><span class="line"></span><br><span class="line">SELECT sex,GROUP_CONCAT(username) AS users,</span><br><span class="line">COUNT(*) AS totalUsers,</span><br><span class="line">MAX(age) AS max_age,</span><br><span class="line">SUM(age) AS sum_age</span><br><span class="line">FROM cms_user</span><br><span class="line">GROUP BY sex</span><br><span class="line">HAVING COUNT(*)&gt;2 AND MAX(age)&gt;60;</span><br><span class="line"></span><br><span class="line">-- 查询编号大于等于2的用户</span><br><span class="line">SELECT sex,GROUP_CONCAT(username) AS users,</span><br><span class="line">COUNT(*) AS totalUsers,</span><br><span class="line">MAX(age) AS max_age,</span><br><span class="line">SUM(age) AS sum_age</span><br><span class="line">FROM cms_user</span><br><span class="line">WHERE id&gt;=2</span><br><span class="line">GROUP BY sex</span><br><span class="line">HAVING COUNT(*)&gt;2 AND MAX(age)&gt;60;</span><br><span class="line"></span><br><span class="line">-- 2、如果HAVING没有配合GROUP BY，则查询结果没有起作用</span><br><span class="line">SELECT id,sex,GROUP_CONCAT(username) AS users,</span><br><span class="line">COUNT(*) AS totalUsers,</span><br><span class="line">MAX(age) AS max_age,</span><br><span class="line">SUM(age) AS sum_age</span><br><span class="line">FROM cms_user</span><br><span class="line">WHERE id&gt;=2</span><br><span class="line">HAVING COUNT(*)&gt;2 AND MAX(age)&gt;60;</span><br></pre></td></tr></table></figure>
<h1 id="三四、ORDER-BY-对筛选的结果进行排序"><a href="#三四、ORDER-BY-对筛选的结果进行排序" class="headerlink" title="三四、ORDER BY 对筛选的结果进行排序"></a>三四、ORDER BY 对筛选的结果进行排序</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM cms_user;</span><br><span class="line"></span><br><span class="line">-- 1、一个字段排序。按照id降序排列 DESC 默认的是ASC</span><br><span class="line">SELECT * FROM cms_user ORDER BY id ; #默认是ASC升序</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user ORDER BY id ASC;</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user ORDER BY id DESC;</span><br><span class="line"></span><br><span class="line">-- 按照年龄升序排列</span><br><span class="line">SELECT * FROM cms_user ORDER BY age ASC;</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user ORDER BY 1 DESC; #1是字段的位置</span><br><span class="line"></span><br><span class="line">UPDATE cms_user SET age=12 WHERE id=5;</span><br><span class="line"></span><br><span class="line">-- 2、多个字段排序。如果第一个字段的值相同，会按照第二个字段的值来排序。</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user ORDER BY age ASC,id DESC;</span><br><span class="line"></span><br><span class="line">SELECT id,age,sex,GROUP_CONCAT(username),COUNT(*) AS totalUsers,SUM(age) AS sum_age</span><br><span class="line">FROM cms_user</span><br><span class="line">WHERE id&gt;=2</span><br><span class="line">GROUP BY sex</span><br><span class="line">HAVING COUNT(*)&gt;=2</span><br><span class="line">ORDER BY age DESC,id ASC;</span><br><span class="line"></span><br><span class="line">-- 3、实现记录随机</span><br><span class="line">SELECT * FROM cms_user ORDER BY RAND();</span><br></pre></td></tr></table></figure>
<h1 id="三五、LIMIT-对查询结果，限制显示条数"><a href="#三五、LIMIT-对查询结果，限制显示条数" class="headerlink" title="三五、LIMIT 对查询结果，限制显示条数"></a>三五、LIMIT 对查询结果，限制显示条数</h1><p>1）LIMIT 显示条数xx，显示查询结果的前xx条。</p>
<p>2）做分页经常用，通过两个参数：LIMIT偏移量、显示条数xx</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">-- 1、查询表中前3条记录</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user LIMIT 3;</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user ORDER BY id DESC LIMIT 5;</span><br><span class="line"></span><br><span class="line">-- 2、0,1表示起始点是第0笔数据开始（不包含0），每页显示数量1</span><br><span class="line">SELECT * FROM cms_user LIMIT 1;</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user LIMIT 0,1;</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user LIMIT 0,5; #相当于第一页显示5条</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user LIMIT 5,5 #相当于第二页显示5条</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user LIMIT 10,5; #相当于第三页显示5条。显示的是id为11、12的两笔（因为总共只有12笔数据）</span><br></pre></td></tr></table></figure>
<h3 id="3、复习，写一个完整的SELECT语句"><a href="#3、复习，写一个完整的SELECT语句" class="headerlink" title="3、复习，写一个完整的SELECT语句"></a>3、复习，写一个完整的SELECT语句</h3><ul>
<li>SELECT语句一定要自己敲会，多练习。因为查询时sql中的重点，以后再写程序的过程中也经常会使用到，来帮你完成一些功能。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">SELECT id,sex,age,GROUP_CONCAT(username),</span><br><span class="line">COUNT(*) AS totalUsers,</span><br><span class="line">MAX(age) AS max_age,</span><br><span class="line">MIN(age) AS min_age,</span><br><span class="line">AVG(age) AS avg_age,</span><br><span class="line">SUM(age) AS sum_age</span><br><span class="line">FROM cms_user</span><br><span class="line">WHERE id&gt;=1</span><br><span class="line">GROUP BY sex</span><br><span class="line">HAVING COUNT(*)&gt;=2</span><br><span class="line">ORDER BY age DESC</span><br><span class="line">LIMIT 0,2;</span><br></pre></td></tr></table></figure>
<h1 id="三六、配合SELECT语法-更新-删除应用"><a href="#三六、配合SELECT语法-更新-删除应用" class="headerlink" title="三六、配合SELECT语法 更新|删除应用"></a>三六、配合SELECT语法 更新|删除应用</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM cms_user;</span><br><span class="line"></span><br><span class="line">-- 1、LIKE。更新用户名为4位的用户，让其已有年龄-3</span><br><span class="line"></span><br><span class="line">UPDATE cms_user SET age=age-3 WHERE username LIKE &apos;____&apos;;</span><br><span class="line"></span><br><span class="line">-- 2、LIMIT只能写一个参数。更新前3条记录，让已有年龄+10</span><br><span class="line">UPDATE cms_user SET age=age+10 LIMIT 3; #注意：用LIMIT做更新/删除时，只能写一个参数</span><br><span class="line"></span><br><span class="line">UPDATE cms_user SET age=age+10 LIMIT 0,3; #报错</span><br><span class="line"></span><br><span class="line">-- 3、排序。按照id降序排列，更新前3条</span><br><span class="line"></span><br><span class="line">UPDATE cms_user SET age=age+10 ORDER BY id DESC LIMIT 3;</span><br><span class="line"></span><br><span class="line">-- ①、删除用户性别为男的用户，按照年龄降序排列，删除1前一条记录</span><br><span class="line"></span><br><span class="line">DELETE FROM cms_user WHERE sex=&apos;男&apos; ORDER BY age DESC LIMIT 1;</span><br></pre></td></tr></table></figure>
<h1 id="-2"><a href="#-2" class="headerlink" title="==============================="></a>===============================</h1><h1 id="三七、多表间-内连接查询（综合SELECT写多个例子）"><a href="#三七、多表间-内连接查询（综合SELECT写多个例子）" class="headerlink" title="三七、多表间 内连接查询（综合SELECT写多个例子）"></a>三七、多表间 内连接查询（综合SELECT写多个例子）</h1><p>连接查询：就是将两个或两个以上的表，按某个条件连接起来，从中选区想要的数据。</p>
<p>内连接用的最多，所以以下写出很多例子，要多练。</p>
<ul>
<li><p>内连接查询</p>
<ul>
<li><p>JOIN|CROSS JOIN|INNER JOIN，三种语法效果相同</p>
</li>
<li><p>通过 ON 来写连接条件</p>
</li>
<li><p>用来显示两个表中符合连接条件的记录</p>
</li>
</ul>
</li>
<li><p>外连接查询</p>
<ul>
<li><p>左外连接 LEFT JOIN</p>
<ul>
<li>显示左表的全部记录，及右表符合连接条件的记录</li>
</ul>
</li>
<li><p>右外连接 RIGHT JOIN</p>
<ul>
<li>显示右表的全部记录，及左表符合连接条件的记录</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br></pre></td><td class="code"><pre><span class="line">-- ①、失败的案例。查询cms_user id,username</span><br><span class="line">-- provinces,proName</span><br><span class="line">SELECT cms_user.id,username,proName FROM cms_user,provinces; #失败。得到的结果像是排列组合的一样远远多于我们的预期</span><br><span class="line"></span><br><span class="line">-- ②、通过WHERE修改案例，成功但不是首选。因为WHERE多用于第一次筛选。cms_user的proId对应省份表中的id</span><br><span class="line">SELECT cms_user.id,username,proName FROM cms_user,provinces</span><br><span class="line"></span><br><span class="line">WHERE cms_user.proId=provinces.id;</span><br><span class="line"></span><br><span class="line">-- 1、内连接查询。查询cms_user表中id,username,email,sex。查询provinces表proName。</span><br><span class="line"></span><br><span class="line">SELECT u.id,u.username,u.email,u.sex,p.proName</span><br><span class="line"></span><br><span class="line">FROM cms_user AS u</span><br><span class="line"></span><br><span class="line">INNER JOIN provinces AS p</span><br><span class="line"></span><br><span class="line">ON u.proId=p.id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">SELECT u.id,u.username,u.email,u.sex,p.proName</span><br><span class="line"></span><br><span class="line">FROM provinces AS p</span><br><span class="line"></span><br><span class="line">CROSS JOIN cms_user AS u</span><br><span class="line"></span><br><span class="line">ON u.proId=p.id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">SELECT u.id,u.username,u.email,u.sex,p.proName</span><br><span class="line"></span><br><span class="line">FROM provinces AS p</span><br><span class="line"></span><br><span class="line">JOIN cms_user AS u</span><br><span class="line"></span><br><span class="line">ON u.proId=p.id;</span><br><span class="line"></span><br><span class="line">-- 综合1，用WHERE加上条件。查询cms_user id,username,sex。查询provinces proName。条件是cms_user的性别为男的用户</span><br><span class="line"></span><br><span class="line">SELECT u.id,u.username,u.sex,p.proName</span><br><span class="line"></span><br><span class="line">FROM cms_user AS u</span><br><span class="line"></span><br><span class="line">JOIN</span><br><span class="line"></span><br><span class="line">provinces AS p</span><br><span class="line"></span><br><span class="line">ON u.proId=p.id</span><br><span class="line"></span><br><span class="line">WHERE u.sex=&apos;男&apos;;</span><br><span class="line"></span><br><span class="line">-- 综合2。根据proName分组</span><br><span class="line"></span><br><span class="line">SELECT u.id,u.username,u.sex,p.proName,COUNT(*) AS totalUsers,GROUP_CONCAT(username)</span><br><span class="line"></span><br><span class="line">FROM cms_user AS u</span><br><span class="line"></span><br><span class="line">JOIN</span><br><span class="line"></span><br><span class="line">provinces AS p</span><br><span class="line"></span><br><span class="line">ON u.proId=p.id</span><br><span class="line"></span><br><span class="line">WHERE u.sex=&apos;男&apos;</span><br><span class="line"></span><br><span class="line">GROUP BY p.proName;</span><br><span class="line"></span><br><span class="line">-- 综合3。对分组结果进行筛选,选出组中人数&gt;=1的</span><br><span class="line">SELECT u.id,u.username,u.sex,p.proName,COUNT(*) AS totalUsers,GROUP_CONCAT(username)</span><br><span class="line"></span><br><span class="line">FROM cms_user AS u</span><br><span class="line"></span><br><span class="line">JOIN</span><br><span class="line"></span><br><span class="line">provinces AS p</span><br><span class="line"></span><br><span class="line">ON u.proId=p.id</span><br><span class="line"></span><br><span class="line">WHERE u.sex=&apos;男&apos;</span><br><span class="line"></span><br><span class="line">GROUP BY p.proName</span><br><span class="line"></span><br><span class="line">HAVING COUNT(*)&gt;=1;</span><br><span class="line"></span><br><span class="line">-- 综合4。按照id升序排列</span><br><span class="line"></span><br><span class="line">SELECT u.id,u.username,u.sex,p.proName,COUNT(*) AS totalUsers,GROUP_CONCAT(username)</span><br><span class="line"></span><br><span class="line">FROM cms_user AS u</span><br><span class="line"></span><br><span class="line">JOIN</span><br><span class="line"></span><br><span class="line">provinces AS p</span><br><span class="line"></span><br><span class="line">ON u.proId=p.id</span><br><span class="line"></span><br><span class="line">WHERE u.sex=&apos;男&apos;</span><br><span class="line"></span><br><span class="line">GROUP BY p.proName</span><br><span class="line"></span><br><span class="line">HAVING COUNT(*)&gt;=1</span><br><span class="line"></span><br><span class="line">ORDER BY u.id ASC;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 综合5。限制显示条数，前2条</span><br><span class="line">SELECT u.id,u.username,u.sex,p.proName,COUNT(*) AS totalUsers,GROUP_CONCAT(username)</span><br><span class="line"></span><br><span class="line">FROM cms_user AS u</span><br><span class="line"></span><br><span class="line">JOIN</span><br><span class="line"></span><br><span class="line">provinces AS p</span><br><span class="line"></span><br><span class="line">ON u.proId=p.id</span><br><span class="line"></span><br><span class="line">WHERE u.sex=&apos;男&apos;</span><br><span class="line"></span><br><span class="line">GROUP BY p.proName</span><br><span class="line"></span><br><span class="line">HAVING COUNT(*)&gt;=1</span><br><span class="line"></span><br><span class="line">ORDER BY u.id ASC</span><br><span class="line"></span><br><span class="line">LIMIT 0,2;</span><br><span class="line"></span><br><span class="line">-- 综合6。查询cms_news中的id,title。查询cms_cate 中的cateName。（这两个表的连接条件是新闻表的分类cID对应管理员表的id）</span><br><span class="line"></span><br><span class="line">SELECT n.id,n.title,c.cateName FROM</span><br><span class="line"></span><br><span class="line">cms_news AS n</span><br><span class="line"></span><br><span class="line">JOIN</span><br><span class="line"></span><br><span class="line">cms_cate AS c</span><br><span class="line"></span><br><span class="line">ON n.cId=c.id;</span><br><span class="line"></span><br><span class="line">-- 综合7。cms_news id,title。cms_admin username,role。（这两个表的连接条件是新闻表的创建人aID对应管理员表的id）</span><br><span class="line"></span><br><span class="line">SELECT n.id,n.title,a.username,a.role</span><br><span class="line"></span><br><span class="line">FROM</span><br><span class="line"></span><br><span class="line">cms_news AS n</span><br><span class="line"></span><br><span class="line">JOIN</span><br><span class="line"></span><br><span class="line">cms_admin AS a</span><br><span class="line"></span><br><span class="line">ON n.aId=a.id;</span><br><span class="line"></span><br><span class="line">-- 综合8，三张表的查询。cms_news id ,title。cms_cate cateName。cms_admin username,role。（表一是表二的连接条件是cID=表一的id，表一和表三的连接条件是aID=表一的id）</span><br><span class="line"></span><br><span class="line">SELECT n.id,n.title,c.cateName,a.username,a.role</span><br><span class="line"></span><br><span class="line">FROM cms_cate AS c</span><br><span class="line"></span><br><span class="line">JOIN</span><br><span class="line"></span><br><span class="line">cms_news AS n</span><br><span class="line"></span><br><span class="line">ON n.cId=c.id</span><br><span class="line"></span><br><span class="line">JOIN</span><br><span class="line"></span><br><span class="line">cms_admin AS a</span><br><span class="line"></span><br><span class="line">ON n.aId=a.id;</span><br></pre></td></tr></table></figure>
<h1 id="三八、多表间-外连接查询（综合SELECT写多个例子）"><a href="#三八、多表间-外连接查询（综合SELECT写多个例子）" class="headerlink" title="三八、多表间 外连接查询（综合SELECT写多个例子）"></a>三八、多表间 外连接查询（综合SELECT写多个例子）</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">-- 插入错误的数据，即一个不存在的省份proID=20。</span><br><span class="line"></span><br><span class="line">INSERT cms_user(username,password,regTime,proId)</span><br><span class="line"></span><br><span class="line">VALUES(&apos;TEST2&apos;,&apos;TEST2&apos;,&apos;1381203974&apos;,20);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 1、左外连接，以左表为主表。因为proID=20是在主表中，所以不用通过u.proId=p.id进行查询，所以查询结果有这条记录。</span><br><span class="line"></span><br><span class="line">SELECT u.id,u.username,u.email,u.sex,p.proName</span><br><span class="line"></span><br><span class="line">FROM cms_user AS u</span><br><span class="line"></span><br><span class="line">LEFT JOIN provinces AS p</span><br><span class="line"></span><br><span class="line">ON u.proId=p.id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 换一下顺序看看。因为proID=20不在主表中，所以要通过u.proId=p.id进行查询，所以查询结果没有这条记录。</span><br><span class="line"></span><br><span class="line">SELECT u.id,u.username,u.email,u.sex,p.proName</span><br><span class="line"></span><br><span class="line">FROM provinces AS p</span><br><span class="line"></span><br><span class="line">LEFT JOIN cms_user AS u</span><br><span class="line"></span><br><span class="line">ON u.proId=p.id;</span><br><span class="line"></span><br><span class="line">-- 2、右外连接，以右表为主表。结果，又能查询到proID=20的记录。</span><br><span class="line"></span><br><span class="line">SELECT u.id,u.username,u.email,u.sex,p.proName</span><br><span class="line"></span><br><span class="line">FROM provinces AS p</span><br><span class="line"></span><br><span class="line">RIGHT JOIN cms_user AS u</span><br><span class="line"></span><br><span class="line">ON u.proId=p.id;</span><br></pre></td></tr></table></figure>
<h1 id="三九、外键操作"><a href="#三九、外键操作" class="headerlink" title="三九、外键操作"></a>三九、外键操作</h1><p>外键，作用保证数据的完整性、一致性，防止垃圾数据的插入。</p>
<p>外键是表的一个字段（或说栏位）。被参照的表是主表（如部门），外键所在的表是子表（如员工）。要先有主表（如部门）再有子表（如员工）。</p>
<p>外键，用来建立子表与父表的关联关系。当父表修改数据时，子表也会跟着改变。<br>比如，CONSTRAINT emp_fk_dep FOREIGN KEY(depId) REFERENCES department(id)</p>
<ul>
<li><p>可以实现一对多、多对多关系。</p>
</li>
<li><p>父表和子表的存储引擎必须都是InnoDB，而且禁止使用临时表。</p>
</li>
<li><p>外键列和参照列必须是相似的数据类型。其中数字的长度或是否有符号位必须相同，而字符的长度则可以不同。</p>
</li>
<li><p>外键列和参照列必须创建索引。如果外键列不创建索引，mysql将会自动创建索引。当外键被删除时，索引不会被删除。</p>
</li>
</ul>
<p>外键约束的参照操作：</p>
<ul>
<li><p>CASCADE，父表删除或更新时，子表会跟着删除或更新。</p>
</li>
<li><p>SET NULL，父表删除或更新时，子表设置为NULL。但要确保子表不是NOT NULL。</p>
</li>
<li><p>默认是RESTRICT，或者说NO ACTION。即拒绝对父表的更新、删除操作。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">-- ①、创建部门表department(主表)</span><br><span class="line">-- id depName</span><br><span class="line">CREATE TABLE IF NOT EXISTS department(</span><br><span class="line">id TINYINT UNSIGNED AUTO_INCREMENT KEY,</span><br><span class="line">depName VARCHAR(20) NOT NULL UNIQUE</span><br><span class="line">)ENGINE=INNODB;</span><br><span class="line"></span><br><span class="line">INSERT department(depName) VALUES(&apos;教学部&apos;),</span><br><span class="line">(&apos;市场部&apos;),</span><br><span class="line">(&apos;运营部&apos;),</span><br><span class="line">(&apos;督导部&apos;);</span><br><span class="line"></span><br><span class="line">-- 创建员工表employee(子表)。id ,username ,depId。</span><br><span class="line">CREATE TABLE IF NOT EXISTS employee(</span><br><span class="line">id SMALLINT UNSIGNED AUTO_INCREMENT KEY,</span><br><span class="line">username VARCHAR(20) NOT NULL UNIQUE,</span><br><span class="line">depId TINYINT UNSIGNED</span><br><span class="line">)ENGINE=INNODB;</span><br><span class="line"></span><br><span class="line">INSERT employee(username,depId) VALUES(&apos;king&apos;,1),</span><br><span class="line">(&apos;queen&apos;,2),</span><br><span class="line">(&apos;张三&apos;,3),</span><br><span class="line">(&apos;李四&apos;,4),</span><br><span class="line">(&apos;王五&apos;,1);</span><br><span class="line"></span><br><span class="line">SELECT e.id,e.username,d.depName FROM</span><br><span class="line">employee AS e</span><br><span class="line">JOIN</span><br><span class="line">department AS d</span><br><span class="line">ON e.depId=d.id;</span><br><span class="line"></span><br><span class="line">-- 发现问题。当删除督导部时，删除部门后，这个部门下的员工还在。</span><br><span class="line">DELETE FROM department WHERE depName=&apos;督导部&apos;;</span><br><span class="line">SELECT * FROM employee; #发现有问题。</span><br><span class="line"></span><br><span class="line">-- 先把上面的测试表删除</span><br><span class="line">DROP TABLE employee,department;</span><br><span class="line"></span><br><span class="line">-- 1、创建部门表department(主表)。id depName。</span><br><span class="line">CREATE TABLE IF NOT EXISTS department(</span><br><span class="line">id TINYINT UNSIGNED AUTO_INCREMENT KEY,</span><br><span class="line">depName VARCHAR(20) NOT NULL UNIQUE</span><br><span class="line">)ENGINE=INNODB;</span><br><span class="line"></span><br><span class="line">INSERT department(depName) VALUES(&apos;教学部&apos;),</span><br><span class="line">(&apos;市场部&apos;),</span><br><span class="line">(&apos;运营部&apos;),</span><br><span class="line">(&apos;督导部&apos;);</span><br><span class="line"></span><br><span class="line">-- 2、创建子表，并加入外键。创建员工表employee(子表)</span><br><span class="line">-- id ,username ,depId</span><br><span class="line">CREATE TABLE IF NOT EXISTS employee(</span><br><span class="line">id SMALLINT UNSIGNED AUTO_INCREMENT KEY,</span><br><span class="line">username VARCHAR(20) NOT NULL UNIQUE,</span><br><span class="line">depId TINYINT UNSIGNED,</span><br><span class="line">FOREIGN KEY(depId) REFERENCES department(id)</span><br><span class="line">)ENGINE=INNODB;</span><br><span class="line"></span><br><span class="line">INSERT employee(username,depId) VALUES(&apos;king&apos;,1),</span><br><span class="line">(&apos;queen&apos;,2),</span><br><span class="line">(&apos;张三&apos;,3),</span><br><span class="line">(&apos;李四&apos;,4),</span><br><span class="line">(&apos;王五&apos;,1);</span><br><span class="line"></span><br><span class="line">-- 查询刚刚的创建</span><br><span class="line">DESC employee; #发现，在外键的Key列多了一个索引MUL</span><br><span class="line">SHOW CREATE TABLE name; #发现，多了mysql自动创建了外键名称CONSTRAINT &apos;employee_ibfk_1&apos;。当删除外键时，就会用到这个名称。</span><br><span class="line"></span><br><span class="line">-- 失败。删除主表中的部门</span><br><span class="line">DELETE FROM department WHERE id=1; #报错，因为有约束</span><br><span class="line"></span><br><span class="line">-- 成功。先删除子表employee中的属于1部门的员工，再删除主表部门。</span><br><span class="line">DELETE FROM employee WHERE depId=1;</span><br><span class="line">DELETE FROM department WHERE id=1;</span><br><span class="line"></span><br><span class="line">-- 失败。插入一个不存在的部门11时，属于垃圾数据。</span><br><span class="line">INSERT employee(username,depId) VALUES(&apos;test&apos;,11);</span><br></pre></td></tr></table></figure>
<h1 id="四十、外键操作-添加-删除"><a href="#四十、外键操作-添加-删除" class="headerlink" title="四十、外键操作 添加|删除"></a>四十、外键操作 添加|删除</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">-- 第一部分：常规操作</span><br><span class="line"></span><br><span class="line">-- 删除员工表</span><br><span class="line">DROP TABLE employee;</span><br><span class="line"></span><br><span class="line">-- 用CONSTRAINT，指定外键名称</span><br><span class="line">CREATE TABLE IF NOT EXISTS employee(</span><br><span class="line">id SMALLINT UNSIGNED AUTO_INCREMENT KEY,</span><br><span class="line">username VARCHAR(20) NOT NULL UNIQUE,</span><br><span class="line">depId TINYINT UNSIGNED,</span><br><span class="line">CONSTRAINT emp_fk_dep FOREIGN KEY(depId) REFERENCES department(id)</span><br><span class="line">)ENGINE=INNODB;</span><br><span class="line"></span><br><span class="line">SELECT * FROM department;</span><br><span class="line">INSERT employee(username,depId) VALUES(&apos;king&apos;,3),</span><br><span class="line">(&apos;queen&apos;,2),</span><br><span class="line">(&apos;张三&apos;,3),</span><br><span class="line">(&apos;李四&apos;,4),</span><br><span class="line">(&apos;王五&apos;,2);</span><br><span class="line"></span><br><span class="line">-- 1、删除外键。</span><br><span class="line">-- 当创建外键时mysql会自动添加索引，但是当外键被删除了索引还在。</span><br><span class="line">ALTER TABLE employee DROP FOREIGN KEY emp_fk_dep;</span><br><span class="line">DESC employee; #发现索引MUL还在</span><br><span class="line"></span><br><span class="line">-- 删除外键后，又可以直接删除部门。但是部门下的员工还在。</span><br><span class="line">DELETE FROM department WHERE id=2;</span><br><span class="line">SELECT * FROM employee;</span><br><span class="line"></span><br><span class="line">-- 2、添加外键。</span><br><span class="line">-- 直接ALTER添加会失败，因为上面刚把部门2删除，但部门2的员工没有删除，所以要先删除。</span><br><span class="line">DELETE FROM employee WHERE depID=2;</span><br><span class="line">ALTER TABLE employee ADD CONSTRAINT emp_fk_dep FOREIGN KEY(depId) REFERENCES department(id);</span><br><span class="line">SHOW CREATE TABLE employee;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">-- 第二部分：用CASCADE，父表删除或更新子表也会自动跟着删除或更新。</span><br><span class="line"></span><br><span class="line">-- 删除以上用到的表</span><br><span class="line">DROP TABLE employee,department;</span><br><span class="line"></span><br><span class="line">-- 重新创建父表</span><br><span class="line">CREATE TABLE IF NOT EXISTS department(</span><br><span class="line">id TINYINT UNSIGNED AUTO_INCREMENT KEY,</span><br><span class="line">depName VARCHAR(20) NOT NULL UNIQUE</span><br><span class="line">)ENGINE=INNODB;</span><br><span class="line"></span><br><span class="line">INSERT department(depName) VALUES(&apos;教学部&apos;),</span><br><span class="line">(&apos;市场部&apos;),</span><br><span class="line">(&apos;运营部&apos;),</span><br><span class="line">(&apos;督导部&apos;);</span><br><span class="line"></span><br><span class="line">-- 创建员工表employee(子表)</span><br><span class="line">-- id ,username ,depId</span><br><span class="line">CREATE TABLE IF NOT EXISTS employee(</span><br><span class="line">id SMALLINT UNSIGNED AUTO_INCREMENT KEY,</span><br><span class="line">username VARCHAR(20) NOT NULL UNIQUE,</span><br><span class="line">depId TINYINT UNSIGNED,</span><br><span class="line">FOREIGN KEY(depId) REFERENCES department(id) ON DELETE CASCADE ON UPDATE CASCADE</span><br><span class="line">)ENGINE=INNODB;</span><br><span class="line"></span><br><span class="line">INSERT employee(username,depId) VALUES(&apos;king&apos;,1),</span><br><span class="line">(&apos;queen&apos;,2),</span><br><span class="line">(&apos;张三&apos;,3),</span><br><span class="line">(&apos;李四&apos;,4),</span><br><span class="line">(&apos;王五&apos;,1);</span><br><span class="line"></span><br><span class="line">-- 删除部门表中的第一个部门</span><br><span class="line">DELETE FROM department WHERE id=1;</span><br><span class="line"></span><br><span class="line">-- 更新部门</span><br><span class="line">UPDATE department SET id=id+10; #失败，因为id和depID关联</span><br><span class="line"></span><br><span class="line">-- 先删除资料，再更新</span><br><span class="line">DELETE FROM employee;</span><br><span class="line">UPDATE department SET id=id+10; #成功</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">-- 第三部分：SET NULL，父表删除或更新时，子表设置为NULL。但要确保子表不是NOT NULL。</span><br><span class="line"></span><br><span class="line">-- 删除以上用到的表</span><br><span class="line">DROP TABLE employee,department;</span><br><span class="line"></span><br><span class="line">-- 重新创建父表</span><br><span class="line">CREATE TABLE IF NOT EXISTS department(</span><br><span class="line">id TINYINT UNSIGNED AUTO_INCREMENT KEY,</span><br><span class="line">depName VARCHAR(20) NOT NULL UNIQUE</span><br><span class="line">)ENGINE=INNODB;</span><br><span class="line"></span><br><span class="line">INSERT department(depName) VALUES(&apos;教学部&apos;),</span><br><span class="line">(&apos;市场部&apos;),</span><br><span class="line">(&apos;运营部&apos;),</span><br><span class="line">(&apos;督导部&apos;);</span><br><span class="line"></span><br><span class="line">-- 创建员工表employee(子表)</span><br><span class="line">-- id ,username ,depId</span><br><span class="line">CREATE TABLE IF NOT EXISTS employee(</span><br><span class="line">id SMALLINT UNSIGNED AUTO_INCREMENT KEY,</span><br><span class="line">username VARCHAR(20) NOT NULL UNIQUE,</span><br><span class="line">depId TINYINT UNSIGNED,</span><br><span class="line">FOREIGN KEY(depId) REFERENCES department(id) ON DELETE SET NULL ON UPDATE SET NULL</span><br><span class="line">)ENGINE=INNODB;</span><br><span class="line"></span><br><span class="line">INSERT employee(username,depId) VALUES(&apos;king&apos;,1),</span><br><span class="line">(&apos;queen&apos;,2),</span><br><span class="line">(&apos;张三&apos;,3),</span><br><span class="line">(&apos;李四&apos;,4),</span><br><span class="line">(&apos;王五&apos;,1);</span><br></pre></td></tr></table></figure>
<p>这里使用的外键都是纯的物理外键。如果数据库存储引擎不是InnoDB的，这时它可能就不只是外键了。</p>
<p>所以说，大家也可以使用这种逻辑外键的形式。</p>
<p>什么叫逻辑外键？即按照外键的思想来做我们的操作。比如，以新闻表为例，当你想删除一个分类的时候，不论是否有外键，你都应该考虑到这个分类下是否有新闻。如果有新闻，就要先把新闻删除掉，再来删除分类。</p>
<h1 id="四一、外键操作-联合查询"><a href="#四一、外键操作-联合查询" class="headerlink" title="四一、外键操作 联合查询"></a>四一、外键操作 联合查询</h1><p>当我们想查询多个表中的记录，并且把它们合并到一起时，就可以用联合查询。</p>
<ul>
<li><p>UNION，会去掉相同的记录。</p>
</li>
<li><p>UNION ALL，简单的合并。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-- 1、UNION</span><br><span class="line">SELECT username FROM employee UNION SELECT username FROM cms_user;</span><br><span class="line"></span><br><span class="line">-- 2、UNION ALL</span><br><span class="line">SELECT username FROM employee UNION ALL SELECT username FROM cms_user;</span><br><span class="line"></span><br><span class="line">-- 报错。注意：查询的表格字段数目要相同。</span><br><span class="line">SELECT id,username FROM employee UNION ALL SELECT username,age FROM cms_user;</span><br></pre></td></tr></table></figure>
<h1 id="四二、子查询-IN、比较运算符、EXISTS"><a href="#四二、子查询-IN、比较运算符、EXISTS" class="headerlink" title="四二、子查询 IN、比较运算符、EXISTS"></a>四二、子查询 IN、比较运算符、EXISTS</h1><p>1）什么是子查询？是将一个查询语句嵌套在另一个查询语句中，内层查询语句的结果可以作为外层查询语句的条件。</p>
<p>执行过程是，先执行内层查询，再执行外层查询。</p>
<p>2）什么情况会使用子查询？</p>
<ul>
<li><p>使用IN</p>
</li>
<li><p>使用比较运算符 =、≥、≤等</p>
</li>
<li><p>使用EXISTS子查询</p>
<ul>
<li>EXISTS内层查询为真才能执行查询语句，如果为假则外层的查询语句不会执行。</li>
</ul>
</li>
<li><p>使用ANY|SOME、以及ALL</p>
</li>
</ul>
<p>重新载入测试数据</p>
<p>3）将查询结果写入到数据表中。</p>
<ul>
<li>INSERT name SELECT …即通过SELECT查询出结果，再把结果INSERT插入到数据表中。</li>
</ul>
<p>4）创建数据表同时将查询结果写入到数据表。</p>
<ul>
<li>CREATE TABLE name select_statement</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">-- 删除以上用到的表</span><br><span class="line">DROP TABLE employee,department;</span><br><span class="line"></span><br><span class="line">-- 重新创建父表</span><br><span class="line">CREATE TABLE IF NOT EXISTS department(</span><br><span class="line">id TINYINT UNSIGNED AUTO_INCREMENT KEY,</span><br><span class="line">depName VARCHAR(20) NOT NULL UNIQUE</span><br><span class="line">)ENGINE=INNODB;</span><br><span class="line"></span><br><span class="line">INSERT department(depName) VALUES(&apos;教学部&apos;),</span><br><span class="line">(&apos;市场部&apos;),</span><br><span class="line">(&apos;运营部&apos;),</span><br><span class="line">(&apos;督导部&apos;);</span><br><span class="line"></span><br><span class="line">-- 创建员工表employee(子表)</span><br><span class="line">-- id ,username ,depId</span><br><span class="line">CREATE TABLE IF NOT EXISTS employee(</span><br><span class="line">id SMALLINT UNSIGNED AUTO_INCREMENT KEY,</span><br><span class="line">username VARCHAR(20) NOT NULL UNIQUE,</span><br><span class="line">depId TINYINT UNSIGNED,</span><br><span class="line">FOREIGN KEY(depId) REFERENCES department(id) ON DELETE CASCADE ON UPDATE CASCADE</span><br><span class="line">)ENGINE=INNODB;</span><br><span class="line"></span><br><span class="line">INSERT employee(username,depId) VALUES(&apos;king&apos;,1),</span><br><span class="line">(&apos;queen&apos;,2),</span><br><span class="line">(&apos;张三&apos;,3),</span><br><span class="line">(&apos;李四&apos;,4),</span><br><span class="line">(&apos;王五&apos;,1);</span><br></pre></td></tr></table></figure>
<p>1、使用IN的子查询</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM department;</span><br><span class="line">SELECT * FROM employee;</span><br><span class="line"></span><br><span class="line">-- 由IN引发的子查询。其中(1,2,3,4)是第一个语句查询出来的id集合。</span><br><span class="line">SELECT id FROM department;</span><br><span class="line"></span><br><span class="line">SELECT id,username FROM employee WHERE depId IN(1,2,3,4);</span><br><span class="line"></span><br><span class="line">-- 1、IN子查询。合并两个语句得到如下：</span><br><span class="line">SELECT id,username FROM employee WHERE depId IN(SELECT id FROM department);</span><br><span class="line"></span><br><span class="line">-- 2、NOT IN的写法如下：</span><br><span class="line">SELECT id,username FROM employee WHERE depId NOT IN(SELECT id FROM department);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 如果成功写入一个垃圾数据（没有部门8）。用 子查询IN 是查询不到这一笔的。</span><br><span class="line">-- 如果用 NOT IN 就可以查到这笔数据。</span><br><span class="line">INSERT employee(username,depId) VALUES(&apos;testtest&apos;,8);</span><br><span class="line"></span><br><span class="line">SELECT id,username FROM employee WHERE depId IN(SELECT id FROM department); #查不到8这笔资料</span><br><span class="line"></span><br><span class="line">SELECT id,username FROM employee WHERE depId NOT IN(SELECT id FROM department); #查到8这笔资料</span><br></pre></td></tr></table></figure>
<p>2、使用比较运算符=、≥、≤等的子查询。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">--　创建学员表student</span><br><span class="line">-- id username score</span><br><span class="line">CREATE TABLE IF NOT EXISTS student(</span><br><span class="line">id TINYINT UNSIGNED AUTO_INCREMENT KEY,</span><br><span class="line">username VARCHAR(20)  NOT NULL UNIQUE,</span><br><span class="line">score TINYINT UNSIGNED</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">INSERT student(username,score) VALUES(&apos;king&apos;,95),</span><br><span class="line">(&apos;king1&apos;,35),</span><br><span class="line">(&apos;king2&apos;,45),</span><br><span class="line">(&apos;king3&apos;,55),</span><br><span class="line">(&apos;king4&apos;,65),</span><br><span class="line">(&apos;king5&apos;,75),</span><br><span class="line">(&apos;king6&apos;,80),</span><br><span class="line">(&apos;king7&apos;,90),</span><br><span class="line">(&apos;king8&apos;,25);</span><br><span class="line"></span><br><span class="line">-- 创建奖学金scholarship</span><br><span class="line">-- id ,level</span><br><span class="line"></span><br><span class="line">CREATE TABLE IF NOT EXISTS scholarship(</span><br><span class="line">id TINYINT UNSIGNED AUTO_INCREMENT KEY,</span><br><span class="line">level TINYINT UNSIGNED</span><br><span class="line">);</span><br><span class="line">INSERT scholarship(level) VALUES(90),(80),(70);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 查询获得1等奖学金（分数90）的学员有</span><br><span class="line"></span><br><span class="line">SELECT level FROM scholarship WHERE id=1;</span><br><span class="line"></span><br><span class="line">SELECT id,username FROM student WHERE score&gt;=90;</span><br><span class="line"></span><br><span class="line">-- 1、&gt;=子查询。合并以上两个语句得到如下：</span><br><span class="line"></span><br><span class="line">SELECT id,username FROM student WHERE score&gt;=(SELECT level FROM scholarship WHERE id=1);</span><br><span class="line"></span><br><span class="line">-- 2、EXISTS子查询。为真时会执行查询，为假时不执行查询。</span><br><span class="line"></span><br><span class="line">SELECT * FROM department WHERE id=5; #没有部门5</span><br><span class="line"></span><br><span class="line">SELECT id,username FROM employee WHERE EXISTS(SELECT * FROM department WHERE id=5); #查询一个不存在的部门5，EXISTS为假，所以查询结果为空</span><br><span class="line"></span><br><span class="line">SELECT id,username FROM employee WHERE EXISTS(SELECT * FROM department WHERE id=4); #EXISTS为真，所以有返回结果</span><br><span class="line"></span><br><span class="line">SELECT id,username FROM employee WHERE NOT EXISTS(SELECT * FROM department WHERE id=41); #假假为真，有返回结果</span><br></pre></td></tr></table></figure>
<h1 id="四三、子查询-ANY-SOME、ALL"><a href="#四三、子查询-ANY-SOME、ALL" class="headerlink" title="四三、子查询 ANY|SOME、ALL"></a>四三、子查询 ANY|SOME、ALL</h1><p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fozpa7kf6nj30f603f0sy.jpg" width="500"></p>
<p>1、子查询 ANY|SOME、ALL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">-- 1、&gt;时，ANY|SOME（最小值）子查询。查询所有获得奖学金的学员</span><br><span class="line">SELECT id,username,score FROM student WHERE score&gt;=ANY(SELECT level FROM scholarship);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">SELECT id,username,score FROM student WHERE score&gt;=SOME(SELECT level FROM scholarship);</span><br><span class="line"></span><br><span class="line">-- 2、&gt;时，ALL（最大值）子查询。查询所有学员中获得一等奖学金的学员</span><br><span class="line">SELECT id,username,score FROM student WHERE score &gt;=ALL(SELECT level FROM scholarship);</span><br><span class="line"></span><br><span class="line">-- 3、&lt;时，ALL（最小值）子查询。查询学员表中没有获得奖学金的学员</span><br><span class="line"></span><br><span class="line">SELECT id,username,score FROM student WHERE score&lt;ALL(SELECT level FROM scholarship);</span><br><span class="line"></span><br><span class="line">-- 4、&lt;时，ANY（最大值）子查询。查询学员表中没有获得奖学金的学员</span><br><span class="line">SELECT id,username,score FROM student WHERE score&lt;ANY(SELECT level FROM scholarship);</span><br><span class="line"></span><br><span class="line">SELECT id,username,score FROM student WHERE score&lt;=ANY(SELECT level FROM scholarship);</span><br><span class="line"></span><br><span class="line">-- 5、=时，ANY（任意值）子查询，相当于IN的效果。</span><br><span class="line">SELECT id,username,score FROM student WHERE score=ANY(SELECT level FROM scholarship);</span><br><span class="line"></span><br><span class="line">SELECT id,username,score FROM student WHERE score IN(SELECT level FROM scholarship);</span><br><span class="line"></span><br><span class="line">-- 6、!=或&lt;&gt;时，ALL（任意值）子查询，相当于NOT IN的从效果。</span><br><span class="line">SELECT id,username,score FROM student WHERE score NOT IN(SELECT level FROM scholarship);</span><br><span class="line"></span><br><span class="line">SELECT id,username,score FROM student WHERE score &lt;&gt; ALL(SELECT level FROM scholarship);</span><br></pre></td></tr></table></figure>
<p>2、将查询结果写入到数据表中。</p>
<ul>
<li>INSERT name SELECT …即通过SELECT查询出结果，再把结果INSERT插入到数据表中。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE test1 (</span><br><span class="line">id TINYINT UNSIGNED AUTO_INCREMENT KEY,</span><br><span class="line">num TINYINT UNSIGNED</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- 1、把查询结果写入数据表中</span><br><span class="line">INSERT test1(id,num) SELECT id,score FROM student;</span><br><span class="line">SELECT * FROM test1;</span><br></pre></td></tr></table></figure>
<p>3）创建数据表同时将查询结果写入到数据表。</p>
<ul>
<li>CREATE TABLE name select_statement</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-- 2、创建数据表同时将查询结果写入到数据表</span><br><span class="line">CREATE TABLE test2 (</span><br><span class="line">id TINYINT UNSIGNED AUTO_INCREMENT KEY,</span><br><span class="line">num TINYINT UNSIGNED</span><br><span class="line">)SELECT id,score FROM student;</span><br><span class="line"></span><br><span class="line">CREATE TABLE test3 (</span><br><span class="line">id TINYINT UNSIGNED AUTO_INCREMENT KEY,</span><br><span class="line">score TINYINT UNSIGNED</span><br><span class="line">)SELECT id,score FROM student;</span><br></pre></td></tr></table></figure>
<h1 id="四四、正则表达式查询"><a href="#四四、正则表达式查询" class="headerlink" title="四四、正则表达式查询"></a>四四、正则表达式查询</h1><p>1）REGEXP ‘匹配方式’</p>
<p>2）常用的匹配方式</p>
<ul>
<li><p>^，匹配字符开始</p>
</li>
<li><p>$，匹配字符结尾</p>
</li>
<li><p>.，任意字符，包括回车、换行</p>
</li>
<li><p>[字符集合]，匹配集合中任一字符</p>
</li>
<li><p>[^字符集合]，匹配集合外任一字符</p>
</li>
<li><p>S1|S2|S3，匹配S1S2S3中任一字符串</p>
</li>
<li><p>*，大于等于0个前面的字符</p>
</li>
<li><p>+，大于等于1个前面的字符</p>
</li>
<li><p>String(N)，字符串出现N次</p>
</li>
<li><p>字符串{M,N}，M次≤字符串出现≤N次</p>
</li>
</ul>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fozpb6rq9ij30f707ldgv.jpg" width="500"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">-- 1、^匹配字符开始的部分。不区分大小写。</span><br><span class="line">-- 查询用户名以t开始的用户</span><br><span class="line">SELECT * FROM cms_user WHERE username REGEXP &apos;^t&apos;;</span><br><span class="line"></span><br><span class="line">-- 2、$匹配字符串结尾的部分</span><br><span class="line">SELECT * FROM cms_user WHERE username REGEXP &apos;g$&apos;;</span><br><span class="line"></span><br><span class="line">-- 3、.代表任意字符。对比前面学的LIKE模糊查询。</span><br><span class="line">SELECT * FROM cms_user WHERE username REGEXP &apos;.&apos;;</span><br><span class="line">SELECT * FROM cms_user WHERE username REGEXP &apos;r..g&apos;;</span><br><span class="line">SELECT * FROM cms_user WHERE username LIKE &apos;r__g&apos;;</span><br><span class="line"></span><br><span class="line">-- 4、[字符集合] [lto]</span><br><span class="line">SELECT * FROM cms_user WHERE username REGEXP &apos;[lto]&apos;;</span><br><span class="line"></span><br><span class="line">-- 5、[^字符集合] 除了字符集合中的内容</span><br><span class="line">SELECT * FROM cms_user WHERE username REGEXP &apos;[^lto]&apos;;</span><br><span class="line">SELECT * FROM cms_user WHERE username REGEXP &apos;[^l]&apos;;</span><br><span class="line"></span><br><span class="line">INSERT cms_user(username,password,regTime,proId)</span><br><span class="line">VALUES(&apos;lll&apos;,&apos;lll&apos;,138212349,2),</span><br><span class="line">(&apos;ttt&apos;,&apos;lll&apos;,138212349,2),</span><br><span class="line">(&apos;ooo&apos;,&apos;lll&apos;,138212349,2);</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user WHERE username REGEXP &apos;[a-k]&apos;;</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user WHERE username REGEXP &apos;[^a-m]&apos;;</span><br><span class="line"></span><br><span class="line">-- 6、| 或。</span><br><span class="line">SELECT * FROM cms_user WHERE username REGEXP &apos;ng|qu&apos;;</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user WHERE username REGEXP &apos;ng|qu|te&apos;;</span><br><span class="line"></span><br><span class="line">-- 7、*，大于等于0个前面字符。</span><br><span class="line">SELECT * FROM cms_user WHERE username REGEXP &apos;que*&apos;;</span><br><span class="line"></span><br><span class="line">-- 8、+，大于等于1个前面字符。</span><br><span class="line">SELECT * FROM cms_user WHERE username REGEXP &apos;t+&apos;;</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user WHERE username REGEXP &apos;que+&apos;;</span><br><span class="line"></span><br><span class="line">-- 9、&#123;N&#125;，字符出现N次。</span><br><span class="line">SELECT * FROM cms_user WHERE username REGEXP &apos;que&#123;2&#125;&apos;;</span><br><span class="line"></span><br><span class="line">SELECT * FROM cms_user WHERE username REGEXP &apos;que&#123;3&#125;&apos;;</span><br><span class="line"></span><br><span class="line">-- 10、&#123;M,N&#125;，字符出现的最小最大次数</span><br><span class="line">SELECT * FROM cms_user WHERE username REGEXP &apos;que&#123;1,3&#125;&apos;;</span><br></pre></td></tr></table></figure>
<h1 id="四五、mysql运算符"><a href="#四五、mysql运算符" class="headerlink" title="四五、mysql运算符"></a>四五、mysql运算符</h1><p>本节内容，练习方法如<code>SELECT 1+3;</code>。</p>
<p>1、算数。</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fozpw8bhe1j30ez05et90.jpg" width="500"></p>
<p>2、比较。</p>
<ul>
<li>结果只能为真或假。</li>
</ul>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fozpxyxr9qj30f108hq4l.jpg" width="500"></p>
<p>3、逻辑。</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fozq2ziqw7j30ez03dmxa.jpg" width="500"></p>
<p>4、运算符的优先级</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fozq3kd6ssj30f005et99.jpg" width="500"></p>
<ul>
<li><p>XOR，两个不同为真，两个相同为假。</p>
<ul>
<li>比如，1 XOR 0 = 1，1 XOR 1 = 0。</li>
</ul>
</li>
<li><p>通过()可以改变优先级。</p>
</li>
</ul>
<blockquote>
<p>NULL的大多数运算结果都为NULL，!NULL=NULL。</p>
</blockquote>
<h1 id="-3"><a href="#-3" class="headerlink" title="============================="></a>=============================</h1><h1 id="四六、四七、四八、四九、五十、函数库"><a href="#四六、四七、四八、四九、五十、函数库" class="headerlink" title="四六、四七、四八、四九、五十、函数库"></a>四六、四七、四八、四九、五十、函数库</h1><p>本节内容，练习方法如<code>SELECT FLOOR(3.14);</code>。</p>
<p>1、数学函数</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fozqbqcxbhj30ey081aaw.jpg" width="600"></p>
<p>2、字符串函数</p>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fozql10w1gj30jw08pac1.jpg" width="600"></p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fozqoy3n7aj30gh04e0t5.jpg" width="400"></p>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fozqo6yi5nj30ju08ztat.jpg" width="600"></p>
<p>3、日期时间函数</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fozqssh94gj30jz08vaby.jpg" width="500"></p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fozqun1u5rj30i505awf0.jpg" width="500"></p>
<p>4、条件判断函数</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fozqvns99jj30jx05fwfy.jpg" width="500"></p>
<p>5、系统信息函数</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fozqwihxbej30k308r40k.jpg" width="500"></p>
<p>6、加密函数</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fozqx3buedj30jz04d3z7.jpg" width="500"></p>
<p>7、其他常用函数</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fozqxu7hipj30k909y0uv.jpg" width="500"></p>
<h1 id="五一、索引的使用"><a href="#五一、索引的使用" class="headerlink" title="五一、索引的使用"></a>五一、索引的使用</h1><p>1、索引由数据库中的一列或多列组成的。作用是提高数据的查询速度。</p>
<p>2、索引的分类：</p>
<ul>
<li><p>普通索引</p>
<ul>
<li>相当于建立书签</li>
</ul>
</li>
<li><p>唯一索引</p>
<ul>
<li>UNIQUE</li>
</ul>
</li>
<li><p>全文索引</p>
<ul>
<li>只有内容全是英文的才能用</li>
</ul>
</li>
<li><p>单列索引</p>
<ul>
<li>在一个字段上创建</li>
</ul>
</li>
<li><p>多列索引</p>
<ul>
<li>在多个字段上创建</li>
</ul>
</li>
<li><p>空间索引</p>
<ul>
<li>用的少。要求字段是空间类型。</li>
</ul>
</li>
</ul>
<p>InnoDB、MyISAM ，支持闭区索引。MEMORY，支持哈希索引和闭区索引，默认使用哈希索引。</p>
<p>3、如何创建索引？</p>
<ul>
<li><p>创建表的时候创建索引，指定INDEX。</p>
</li>
<li><p>在旧表上创建索引。</p>
<ul>
<li><p>CREATE INDEX name ON 表名(字段名);</p>
</li>
<li><p>ALTER TABLE name ADD INDEX 索引名(字段名);</p>
</li>
</ul>
</li>
</ul>
<p>4、如何删除索引？</p>
<ul>
<li>DROP INDEX 索引名称 ON name</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">-- 1、INDEX。创建普通索引</span><br><span class="line">CREATE TABLE test4(</span><br><span class="line">id TINYINT UNSIGNED,</span><br><span class="line">username VARCHAR(20),</span><br><span class="line">INDEX in_id(id),</span><br><span class="line">KEY in_username(username)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">DROP INDEX in_id ON test4;</span><br><span class="line">DROP INDEX in_username ON test4;</span><br><span class="line">CREATE INDEX in_id ON test4(id);</span><br><span class="line">ALTER TABLE test4 ADD INDEX in_username(username);</span><br><span class="line"></span><br><span class="line">-- 2、UNIQUE KEY。创建唯一索引</span><br><span class="line">CREATE TABLE test5(</span><br><span class="line">id TINYINT UNSIGNED AUTO_INCREMENT KEY,</span><br><span class="line">username VARCHAR(20) NOT NULL UNIQUE,</span><br><span class="line">card CHAR(18) NOT NULL,</span><br><span class="line">UNIQUE KEY uni_card(card)</span><br><span class="line">);</span><br><span class="line">ALTER TABLE test5 DROP INDEX uni_card;</span><br><span class="line">DROP INDEX username ON test5;</span><br><span class="line">CREATE UNIQUE INDEX uni_username ON test5(username);</span><br><span class="line">ALTER TABLE test5 ADD UNIQUE INDEX uni_card(card);</span><br><span class="line"></span><br><span class="line">-- 3、FULLTEXT INDEX。创建全文索引</span><br><span class="line">CREATE TABLE test6(</span><br><span class="line">id TINYINT UNSIGNED AUTO_INCREMENT KEY,</span><br><span class="line">username VARCHAR(20) NOT NULL UNIQUE,</span><br><span class="line">userDesc VARCHAR(20) NOT NULL,</span><br><span class="line">FULLTEXT INDEX full_userDesc(userDesc)</span><br><span class="line">);</span><br><span class="line">DROP INDEX full_userDesc ON test6;</span><br><span class="line">CREATE FULLTEXT INDEX full_userDesc ON test6(userDesc);</span><br><span class="line"></span><br><span class="line">-- 4、INDEX。创建单列索引</span><br><span class="line">CREATE TABLE test7(</span><br><span class="line">id TINYINT UNSIGNED AUTO_INCREMENT KEY,</span><br><span class="line">test1 VARCHAR(20) NOT NULL,</span><br><span class="line">test2 VARCHAR(20) NOT NULL,</span><br><span class="line">test3 VARCHAR(20) NOT NULL,</span><br><span class="line">test4 VARCHAR(20) NOT NULL,</span><br><span class="line">INDEX in_test1(test1)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- 5、INDEX。创建多列索引</span><br><span class="line">CREATE TABLE test8(</span><br><span class="line">id TINYINT UNSIGNED AUTO_INCREMENT KEY,</span><br><span class="line">test1 VARCHAR(20) NOT NULL,</span><br><span class="line">test2 VARCHAR(20) NOT NULL,</span><br><span class="line">test3 VARCHAR(20) NOT NULL,</span><br><span class="line">test4 VARCHAR(20) NOT NULL,</span><br><span class="line">INDEX mul_t1_t2_t3(test1,test2,test3)</span><br><span class="line">);</span><br><span class="line">ALTER TABLE test8 DROP INDEX mul_t1_t2_t3;</span><br><span class="line">ALTER TABLE test8 ADD INDEX mul_ti_t2_t3(test1,test2,test3);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 唯一性的多列索引</span><br><span class="line">CREATE TABLE test9(</span><br><span class="line">id TINYINT UNSIGNED AUTO_INCREMENT KEY,</span><br><span class="line">test1 VARCHAR(20) NOT NULL,</span><br><span class="line">test2 VARCHAR(20) NOT NULL,</span><br><span class="line">test3 VARCHAR(20) NOT NULL,</span><br><span class="line">test4 VARCHAR(20) NOT NULL,</span><br><span class="line">UNIQUE KEY mul_t1_t2_t3(test1,test2,test3)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- 6、SPATIAL INDEX。创建空间索引</span><br><span class="line">CREATE TABLE test10(</span><br><span class="line">id TINYINT UNSIGNED AUTO_INCREMENT KEY,</span><br><span class="line">test GEOMETRY NOT NULL,</span><br><span class="line">SPATIAL INDEX spa_test(test)</span><br><span class="line">)ENGINE=MyISAM;</span><br><span class="line"></span><br><span class="line">DROP INDEX spa_test ON test10;</span><br><span class="line"></span><br><span class="line">CREATE SPATIAL INDEX spa_test ON test10(test);</span><br></pre></td></tr></table></figure>
<h1 id="五二、用工具管理数据库-PHPMyAdmin"><a href="#五二、用工具管理数据库-PHPMyAdmin" class="headerlink" title="五二、用工具管理数据库*PHPMyAdmin"></a>五二、用工具管理数据库*PHPMyAdmin</h1><p>通过命令写比较痛苦，需要记住的命令好多。通过工具提高开发效率。</p>
<p>但是，刚开始学习，还是建议大家用命令，因为如果你使用工具，那么这条命令你就记不住了。</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fozrnwxnjkj30tq0ajdj5.jpg" width="600"></p>
<p>1、通过WEB的方式。</p>
<ul>
<li>PHPMyAdmin的安装</li>
</ul>
<p>2、通过客户端的方式。</p>
<ul>
<li>SQLyog的安装</li>
</ul>
<h1 id="五三、用工具管理数据库-SQLyog"><a href="#五三、用工具管理数据库-SQLyog" class="headerlink" title="五三、用工具管理数据库*SQLyog"></a>五三、用工具管理数据库*SQLyog</h1><p>权限管理、用户管理、备份、视图存储过程，等我们学完这些，再通过命令、或web工具、或客户端工具，来看看如何实现操作。</p>
<p>还是先通过命令来管理数据库。接着再是通过这些好工具来管理。</p>

    </div>

    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="" target="_blank">by 99</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
    
        <a href="/posts/d68f77d2/" class="next-post btn btn-default">下一篇<i class="fa fa-angle-right fa-fw"></i></a>
    
</div>


    <div id="comments">
        
	
<div id="lv-container" data-id="city" data-uid="MTAyMC8zMzE1My85NzEx">
  <script type="text/javascript">
     (function(d, s) {
         var j, e = d.getElementsByTagName(s)[0];
         if (typeof LivereTower === 'function') { return; }
         j = d.createElement(s);
         j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
         j.async = true;
         e.parentNode.insertBefore(j, e);
     })(document, 'script');
  </script>
</div>


    </div>


            </main>
            
    <aside class="col-md-3 sidebar">
        
        
    <div class="widget">
        <h3 class="title">Search</h3>
        <div id="search-form">
            <div id="result-mask" class="hide"></div>
            <div class="search-area">
                
                    <input id="search-key" type="search" autocomplete="off" placeholder="搜点什么呢?">
                    <button type="button" class="search-form-submit" id="search-local">搜索</button>
                
                
            </div>
            <div id="result-wrap" class="hide">
                <div id="search-result"></div>
            </div>
            <div class="hide">
                <template id="search-tpl">
                    <div class="item">
                        <a href="/{path}" title="{title}">
                            <div class="title">{title}</div>
                            <div class="content">{content}</div>
                        </a>
                    </div>
                </template>
            </div>
        </div>
    </div>


        
        
    <div class="widget notification">
        <h3 class="title">网站公告</h3>
        <div>
            <p>你好，我是99。<br/>欢迎来到我的博客。<br/>
<br/>
<hr/>接受贡献，包括不限于提交问题与需求，修复代码。欢迎Pull Request<br/>支持主题：<a href="https://github.com/shenliyang/hexo-theme-snippet/stargazers">Star一下</a>
</p>
        </div>
    </div>

        
        
    <div class="widget">
      <h3 class="title">Social</h3> 
        <div class="content social">
            
	            <a href="https://github.com/jiujiubad?tab=repositories" rel="external nofollow" title="Github" target="_blank">
			    	<i class="github fa fa-github"></i>
			    </a>
            
	            <a href="jiujiubad@gmail.com" rel="external nofollow" title="邮箱" target="_blank">
			    	<i class="envelope-o fa fa-envelope-o"></i>
			    </a>
            
	            <a href="https://ws4.sinaimg.cn/large/006tNc79ly1fnvcxiavzgj30by0bymxg.jpg" rel="external nofollow" title="微信" target="_blank">
			    	<i class="weixin fa fa-weixin"></i>
			    </a>
            
        </div>
    </div>


        
        
    <div class="widget">
        <h3 class="title">Categories</h3>
        <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ror功能/"><i class="fa" aria-hidden="true">ror功能</i></a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ror知识点/"><i class="fa" aria-hidden="true">ror知识点</i></a><span class="category-list-count">28</span></li><li class="category-list-item"><a class="category-list-link current" href="/categories/ror系统/"><i class="fa" aria-hidden="true">ror系统</i></a><span class="category-list-count">25</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/web页面/"><i class="fa" aria-hidden="true">web页面</i></a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/"><i class="fa" aria-hidden="true">工具</i></a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/微信小程序/"><i class="fa" aria-hidden="true">微信小程序</i></a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/心得/"><i class="fa" aria-hidden="true">心得</i></a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/投资/"><i class="fa" aria-hidden="true">投资</i></a><span class="category-list-count">1</span></li></ul>
    </div>


        
        
    <div class="widget">
      <h3 class="title">Archives</h3>
        <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/"><i class="fa" aria-hidden="true">March 2018</i></a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/"><i class="fa" aria-hidden="true">February 2018</i></a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/"><i class="fa" aria-hidden="true">January 2018</i></a><span class="archive-list-count">37</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/"><i class="fa" aria-hidden="true">December 2017</i></a><span class="archive-list-count">35</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/"><i class="fa" aria-hidden="true">November 2017</i></a><span class="archive-list-count">36</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/"><i class="fa" aria-hidden="true">September 2017</i></a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/"><i class="fa" aria-hidden="true">April 2017</i></a><span class="archive-list-count">1</span></li></ul>
    </div>


        
        
  <div class="widget">
    <h3 class="title">Tag Cloud</h3>
    <div class="content tag-cloud">
        <a href="/tags/atom/" style="font-size: 13.08px;">atom</a> <a href="/tags/bug/" style="font-size: 17.69px;">bug</a> <a href="/tags/heroku/" style="font-size: 10px;">heroku</a> <a href="/tags/hexo/" style="font-size: 11.54px;">hexo</a> <a href="/tags/interview/" style="font-size: 13.85px;">interview</a> <a href="/tags/mac/" style="font-size: 11.54px;">mac</a> <a href="/tags/orid-day/" style="font-size: 10.77px;">orid-day</a> <a href="/tags/orid-month/" style="font-size: 11.54px;">orid-month</a> <a href="/tags/ror功能/" style="font-size: 13.08px;">ror功能</a> <a href="/tags/ror知识点/" style="font-size: 16.92px;">ror知识点</a> <a href="/tags/ror系统/" style="font-size: 20px;">ror系统</a> <a href="/tags/stackoverflow/" style="font-size: 10px;">stackoverflow</a> <a href="/tags/typora/" style="font-size: 10px;">typora</a> <a href="/tags/vps/" style="font-size: 16.15px;">vps</a> <a href="/tags/web页面/" style="font-size: 11.54px;">web页面</a> <a href="/tags/下载/" style="font-size: 10px;">下载</a> <a href="/tags/工具/" style="font-size: 19.23px;">工具</a> <a href="/tags/常用/" style="font-size: 13.08px;">常用</a> <a href="/tags/微信功能/" style="font-size: 12.31px;">微信功能</a> <a href="/tags/微信系统/" style="font-size: 15.38px;">微信系统</a> <a href="/tags/微信页面/" style="font-size: 10.77px;">微信页面</a> <a href="/tags/心得/" style="font-size: 18.46px;">心得</a> <a href="/tags/手机/" style="font-size: 10px;">手机</a> <a href="/tags/投资/" style="font-size: 10px;">投资</a> <a href="/tags/搬砖/" style="font-size: 10px;">搬砖</a> <a href="/tags/核聚编程/" style="font-size: 14.62px;">核聚编程</a> <a href="/tags/科学上网/" style="font-size: 13.08px;">科学上网</a> <a href="/tags/部署/" style="font-size: 12.31px;">部署</a>
    </div>
  </div>


        
        
    <div class="widget">
        <h3 class="title">Friends</h3>
        <div class="content friends-link">
        
            <a href="http://www.shenliyang.com" class="fa" target="_blank">个人博客</a>
        
        </div>
    </div>


        
    </aside>


        </div>
      </section>
    </div>
  </div>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <span>Copyright &copy; 2018
                </span> |
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a>
                </span> |
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>



	<script src="/js/search.js?rev=@@hash"></script>


<script src="/js/app.js?rev=@@hash"></script>


</body>
</html>
